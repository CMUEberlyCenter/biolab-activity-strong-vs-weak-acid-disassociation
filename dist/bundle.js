/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@cmu-eberly-center/p5.beaker/lib/beaker.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@cmu-eberly-center/p5.beaker/lib/beaker.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,A){ true?module.exports=A(__webpack_require__(/*! p5 */ "./node_modules/@cmu-eberly-center/p5/lib/p5.min.js")):undefined}(window,function(t){return function(t){var A={};function i(e){if(A[e])return A[e].exports;var o=A[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=A,i.d=function(t,A,e){i.o(t,A)||Object.defineProperty(t,A,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,A){if(1&A&&(t=i(t)),8&A)return t;if(4&A&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&A&&"string"!=typeof t)for(var o in t)i.d(e,o,function(A){return t[A]}.bind(null,o));return e},i.n=function(t){var A=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(A,"a",A),A},i.o=function(t,A){return Object.prototype.hasOwnProperty.call(t,A)},i.p="",i(i.s=9)}([,,,function(A,i){A.exports=t},function(t,A){t.exports="data:image/png;base64,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"},function(t,A){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAADgCAYAAACgoiDEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4goTDzcZYHS/MAAAAUdJREFUeNrt27EKACAIQMHq///ZtoSQZqF7Y+Ohbc6hU0TE/bawvAMECBAgQIAAAQIkQIAAAQIECBAgAQIECBAgQIAACRAgQIAAAQIECJAAAQIECBAgQIAECBAgQIAAAfqiWZ0hygQBAgSoySeNIHM3b8UAAQIECBAgAQIECBAgQIAACRAgQIAAAQIECJAAAQIECBAgQIAECBAgQIAAAQIkQIAAAQIECBAgQKpzN2+CAAEC1PmTRpC5m7digAABAgQIkAABAgQIECBAgAQIECBAgAABAgRIgAABAgQIECBAAgQIECBAgAABEiBAgAABAgQIECDVuZs3QYAAAer8SSPI3M1bMUCAAAECBEiAAAECBAgQIEACBAgQIECAAAECJECAAAECBAgQIAECBAgQIECAAAkQIECAAAECBAiQ6tzNmyBAgAA1bgNZuSGZwW2TYQAAAABJRU5ErkJggg=="},,,,function(t,A,i){"use strict";i.r(A),i.d(A,"default",function(){return c});var e=i(3),o=i(4),r=i.n(o),n=i(5),s=i.n(n);function c(t,A=100,i=100,e=0,o=0,r=null,n=null){this.p=t,this.x=e,this.y=o,this.fg_x=e+250,this.fg_y=o+30,this.all_particle_sprites=new this.p.Group,this.particles={},this.solution={},this.solution.x=null===r?e:r,this.solution.y=null===n?o:n,this.solution.width=A,this.solution.height=i,this.solution.max_x=this.solution.x+this.solution.width,this.solution.max_y=this.solution.y+this.solution.height}c.prototype.bg_image_path=r.a,c.prototype.fg_image_path=s.a,c.prototype.preload=function(t){this.background=t.loadImage(this.bg_image_path),this.foreground=t.loadImage(this.fg_image_path)},c.prototype.draw=function(){var t=this.p;t.image(this.background,this.x,this.y),e.prototype.drawSprites(this.all_particle_sprites),t.image(this.foreground,this.fg_x,this.fg_y)},c.prototype.randomPoint=function(t){if(2*t>=this.solution.width||2*t>=this.solution.height)return null;var A=this.solution.x+t,i=this.solution.y+t,e=this.solution.width-2*t,o=this.solution.height-2*t;return{x:A+Math.random()*e,y:i+Math.random()*o}},c.prototype.addParticles=function(t,A){var i=this.p,e=t.prototype.name;this.initParticleGroup(e);for(var o=0;o<A;o++){var r=t.prototype.collider_radius,n=this.randomPoint(r);if(n){var s=new t(i,n.x,n.y);this.addParticle(e,s)}}},c.prototype.addParticle=function(t,A){this.particles[t].sprites.add(A.sprite),this.all_particle_sprites.add(A.sprite)},c.prototype.removeParticles=function(t,A){var i=t.name,e=this.particles[i].sprites.size();e<A&&(A=e);for(var o=A;o>0;o--){var r=this.particles[i].sprites.get(o-1);r.particle.remove(),delete r.particle}},c.prototype.initParticleGroup=function(t){var A=this.p;this.particles[t]||(this.particles[t]={},this.particles[t].sprites=new A.Group)},c.prototype.step=function(){this.update_particles()},c.prototype.update_particles=function(){for(var t=this.solution.x,A=this.solution.max_x,i=this.solution.y,e=this.solution.max_y,o=this.all_particle_sprites,r=0;r<o.length;r++){var n=o[r],s=n.particle;this.sprite_boundary_update(n,t,i,A,e),this.sprite_resolve_collisions(n,s.reacts_with),s.update()}},c.prototype.sprite_boundary_update=function(t,A,i,e,o){t.overlapPoint(A,t.position.y)?t.velocity.x=Math.abs(t.velocity.x):t.overlapPoint(e,t.position.y)&&(t.velocity.x=-Math.abs(t.velocity.x)),t.overlapPoint(t.position.x,i)?t.velocity.y=Math.abs(t.velocity.y):t.overlapPoint(t.position.x,o)&&(t.velocity.y=-Math.abs(t.velocity.y))},c.prototype.sprite_resolve_collisions=function(t,A){var i=this.particles;for(var e in Object.keys(A)){var o=Object.keys(A)[e],r=i[o];r&&t.overlap(r.sprites,A[o])}}}])});

/***/ }),

/***/ "./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():undefined}(window,function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";function o(e,t=0,r=0){this.execute_callback("Particle","pre",this),this.p=e,this.createSprite(t,r),this.cleanups={},this.execute_callback("Particle","post",this)}r.d(t,"a",function(){return o}),o.prototype.collider_offset_x=0,o.prototype.collider_offset_y=0,o.prototype.collider_radius=1,o.prototype.image_path=null,o.prototype.max_velocity=0,o.prototype.name="Particle",o.prototype.reacts_with={},o.prototype.callbacks={},o.prototype.register_callback=function(e,t,r){null==this.callbacks[e]&&(this.callbacks[e]={}),this.callbacks[e][t]=r},o.prototype.execute_callback=function(e,t,r){var o=this.callbacks[e];o&&"function"==typeof o[t]&&o[t](r)},o.prototype.preload=function(e){this.image=e.loadImage(this.image_path)},o.prototype.createSprite=function(e=0,t=0){var r=this.p;r&&(this.sprite=r.createSprite(e,t),null!=this.image&&this.sprite.addImage("default",this.image),this.sprite.setCollider("circle",this.collider_offset_x,this.collider_offset_y,this.collider_radius),this.sprite.velocity.x=this.randomVelocity(),this.sprite.velocity.y=this.randomVelocity(),this.sprite.particle=this)},o.prototype.randomVelocity=function(){return this.max_velocity-2*Math.random()*this.max_velocity},o.prototype.remove=function(){this.execute_callback("remove","pre",this);var e=this.cleanups;for(var t in Object.keys(e)){e[Object.keys(e)[t]](this)}this.sprite.remove(),delete this.sprite,this.execute_callback("remove","post",this)},o.prototype.update=function(){this.execute_callback("update","pre",this),this.execute_callback("update","post",this)}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return p});var o=r(0),i=r(2),a=r.n(i);function p(e,t=0,r=0){o.a.call(this,e),this.createSprite(t,r),this.proton={},this.proton.particle=null,this.proton.offset_x=10,this.proton.offset_y=-10,this.proton.restore_depth=null,this.proton.release_after_range=[0,5e3],this.proton.post_release_duration=750,this.proton.release_after=null}p.prototype=new o.a,p.prototype.collider_radius=16,p.prototype.image_path=a.a,p.prototype.max_velocity=.5,p.prototype.name="ConjugateBase",p.prototype.reacts_with={Proton:function(e,t){var r=e.particle,o=t.particle;o.base.particle||r.proton.particle||(p.prototype.execute_callback("reacts_with_proton","pre",r),r.proton.release_after=Date.now()+r.proton.release_after_range[0]+r.proton.release_after_range[1]*Math.random(),r.proton.particle=o,o.base.particle=r,r.proton.restore_depth=t.depth,t.depth=e.depth+.5,o.cleanups.ConjugateBase=function(e){var t=e.base.particle;t&&t.release_proton()},p.prototype.execute_callback("reacts_with_proton","post",r))}},p.prototype.remove=function(){this.execute_callback("remove","pre",this);var e=this.cleanups;for(var t in Object.keys(e)){e[Object.keys(e)[t]](this)}this.release_proton(),this.sprite.remove(),delete this.particle,this.execute_callback("remove","post",this)},p.prototype.update=function(){this.execute_callback("update","pre",this);var e=this.proton;if(e.release_after){var t=Date.now();if(t<e.release_after){var r=e.particle.sprite,o=this.sprite;r.position.x=o.position.x+this.proton.offset_x,r.position.y=o.position.y+this.proton.offset_y}else t<e.release_after+e.post_release_duration||this.release_proton()}this.execute_callback("update","post",this)},p.prototype.release_proton=function(){this.execute_callback("release_proton","pre",this);var e=this.proton;e.release_after&&(delete e.particle.cleanups.ConjugateBase,e.particle.sprite.depth=e.restore_depth,e.restore_depth=null,e.release_after=null,e.particle.base.particle=null,e.particle=null),this.execute_callback("release_proton","post",this)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAd0QAAHdEBudPgXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOVSURBVFiFrZbPa1xVFMe/98xLmIBGGKhdKF2U+oNkIcUyINF2nYVj3AXGlSlklY0YxK5m0240IoF0phMK/gOljQjZ2jYkkDAGwYhSdKGIRCxIkWTe/XGOm/fGO6/3zbwmc+Dw7rtc7vdzzrm/FAra+vr6WWZ+T0QuK6XOAzibOAAcAjhk5l+NMffjON5YXl7+q8i8atiAVqt1SSn1KYAagGjYeGMMtNZWa73R7XZvNBqN704EsLq6Olkul78QkQ+LgKbmnIPWOnXudru3oyj6uNFoPCkM0G63p0XkHoALRYVTExHEcexDII7jR8aYuZWVlR+z4ynb0Ww2qyLy4CTiAKCU6vOk7xUAD5eWlqoDAdrt9jQRbQKonEQ8C5FpVwBsLi4uTgUB1tbWnhORO6cVH2IVEdmo1+uTTwGMjY19CeC1USmJSLAN4ML4+PhnfQCtVutSstpHIpwK5rWZ+er8/PzFHkCyzwtvtSIAzNxrZz3RvQYAqtlsvkhEf6DAIVPErLXZLdj37/VZrfVLRERzoxJPI/fdjzzTF4nIuyQil0chDgDMDOdcz/NgvP8rpJQ60YGTNRGBtbZP3IfxgVII59w0ATgzCgBfPC8Lgf5zhP+v1FOJ+x4CCZWEmSdPtfjStOe5c25oZshae5g5qQoZM8MY0+d5ECHxpP0k0loflkql86VSCUQEoqcuyL6Is/VMRfIAQtnwvr9FxphfmPkt51wPwL9O/aM0b0E9C4TvIvJDFMfxgyiKPkjFfYC86POykAoVzYYx5n50dHR0r1wu3ySiyAcA0PuGTrO8LDwDhFVKfVPa2to6mpmZeYOZp/xJQweJL5CNJuRZiAzgnZ2dna8iANBa3yCi94mIss8pvwSDyhDKQhbCazMzXweAEgBsb2//Wa1WX2bmN/2J02/RiPNSH4C4tbu7exvwbsE4jj8ioneI6HW//tkMhNbBoAUZgHiklPoknbdPJXkwPlRKVYoChNbKAIjHzrm3O53OT0EAAFhYWKiKyCaAir8L/K04KAv+fs8APBaR2b29vT1fL/gMq9frU0qpuwBeDWVgWBkCWfiZmef8yAcCAECtVnt+YmLicxG5CoAGAQzYsuycax8fHy8fHBz8G9IZ+hCt1WoXlVLXAMwlz6ihZXDOWWvtXWvt9f39/e8HzV/4JTw7O3tGRGrOuSsiMg3gHDO/kAD8Y639XUQOmPlba+3XnU7n7yLz/gfK4r22wg7QwAAAAABJRU5ErkJggg=="}])});

/***/ }),

/***/ "./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base/strong.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base/strong.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function o(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(r,i,function(e){return t[e]}.bind(null,i));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=12)}([function(t,e,o){"use strict";function r(t,e=0,o=0){this.execute_callback("Particle","pre",this),this.p=t,this.createSprite(e,o),this.cleanups={},this.execute_callback("Particle","post",this)}o.d(e,"a",function(){return r}),r.prototype.collider_offset_x=0,r.prototype.collider_offset_y=0,r.prototype.collider_radius=1,r.prototype.image_path=null,r.prototype.max_velocity=0,r.prototype.name="Particle",r.prototype.reacts_with={},r.prototype.callbacks={},r.prototype.register_callback=function(t,e,o){null==this.callbacks[t]&&(this.callbacks[t]={}),this.callbacks[t][e]=o},r.prototype.execute_callback=function(t,e,o){var r=this.callbacks[t];r&&"function"==typeof r[e]&&r[e](o)},r.prototype.preload=function(t){this.image=t.loadImage(this.image_path)},r.prototype.createSprite=function(t=0,e=0){var o=this.p;o&&(this.sprite=o.createSprite(t,e),null!=this.image&&this.sprite.addImage("default",this.image),this.sprite.setCollider("circle",this.collider_offset_x,this.collider_offset_y,this.collider_radius),this.sprite.velocity.x=this.randomVelocity(),this.sprite.velocity.y=this.randomVelocity(),this.sprite.particle=this)},r.prototype.randomVelocity=function(){return this.max_velocity-2*Math.random()*this.max_velocity},r.prototype.remove=function(){this.execute_callback("remove","pre",this);var t=this.cleanups;for(var e in Object.keys(t)){t[Object.keys(t)[e]](this)}this.sprite.remove(),delete this.sprite,this.execute_callback("remove","post",this)},r.prototype.update=function(){this.execute_callback("update","pre",this),this.execute_callback("update","post",this)}},function(t,e,o){"use strict";o.r(e),o.d(e,"default",function(){return n});var r=o(0),i=o(2),a=o.n(i);function n(t,e=0,o=0){r.a.call(this,t),this.createSprite(e,o),this.proton={},this.proton.particle=null,this.proton.offset_x=10,this.proton.offset_y=-10,this.proton.restore_depth=null,this.proton.release_after_range=[0,5e3],this.proton.post_release_duration=750,this.proton.release_after=null}n.prototype=new r.a,n.prototype.collider_radius=16,n.prototype.image_path=a.a,n.prototype.max_velocity=.5,n.prototype.name="ConjugateBase",n.prototype.reacts_with={Proton:function(t,e){var o=t.particle,r=e.particle;r.base.particle||o.proton.particle||(n.prototype.execute_callback("reacts_with_proton","pre",o),o.proton.release_after=Date.now()+o.proton.release_after_range[0]+o.proton.release_after_range[1]*Math.random(),o.proton.particle=r,r.base.particle=o,o.proton.restore_depth=e.depth,e.depth=t.depth+.5,r.cleanups.ConjugateBase=function(t){var e=t.base.particle;e&&e.release_proton()},n.prototype.execute_callback("reacts_with_proton","post",o))}},n.prototype.remove=function(){this.execute_callback("remove","pre",this);var t=this.cleanups;for(var e in Object.keys(t)){t[Object.keys(t)[e]](this)}this.release_proton(),this.sprite.remove(),delete this.particle,this.execute_callback("remove","post",this)},n.prototype.update=function(){this.execute_callback("update","pre",this);var t=this.proton;if(t.release_after){var e=Date.now();if(e<t.release_after){var o=t.particle.sprite,r=this.sprite;o.position.x=r.position.x+this.proton.offset_x,o.position.y=r.position.y+this.proton.offset_y}else e<t.release_after+t.post_release_duration||this.release_proton()}this.execute_callback("update","post",this)},n.prototype.release_proton=function(){this.execute_callback("release_proton","pre",this);var t=this.proton;t.release_after&&(delete t.particle.cleanups.ConjugateBase,t.particle.sprite.depth=t.restore_depth,t.restore_depth=null,t.release_after=null,t.particle.base.particle=null,t.particle=null),this.execute_callback("release_proton","post",this)}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAd0QAAHdEBudPgXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOVSURBVFiFrZbPa1xVFMe/98xLmIBGGKhdKF2U+oNkIcUyINF2nYVj3AXGlSlklY0YxK5m0240IoF0phMK/gOljQjZ2jYkkDAGwYhSdKGIRCxIkWTe/XGOm/fGO6/3zbwmc+Dw7rtc7vdzzrm/FAra+vr6WWZ+T0QuK6XOAzibOAAcAjhk5l+NMffjON5YXl7+q8i8atiAVqt1SSn1KYAagGjYeGMMtNZWa73R7XZvNBqN704EsLq6Olkul78QkQ+LgKbmnIPWOnXudru3oyj6uNFoPCkM0G63p0XkHoALRYVTExHEcexDII7jR8aYuZWVlR+z4ynb0Ww2qyLy4CTiAKCU6vOk7xUAD5eWlqoDAdrt9jQRbQKonEQ8C5FpVwBsLi4uTgUB1tbWnhORO6cVH2IVEdmo1+uTTwGMjY19CeC1USmJSLAN4ML4+PhnfQCtVutSstpHIpwK5rWZ+er8/PzFHkCyzwtvtSIAzNxrZz3RvQYAqtlsvkhEf6DAIVPErLXZLdj37/VZrfVLRERzoxJPI/fdjzzTF4nIuyQil0chDgDMDOdcz/NgvP8rpJQ60YGTNRGBtbZP3IfxgVII59w0ATgzCgBfPC8Lgf5zhP+v1FOJ+x4CCZWEmSdPtfjStOe5c25oZshae5g5qQoZM8MY0+d5ECHxpP0k0loflkql86VSCUQEoqcuyL6Is/VMRfIAQtnwvr9FxphfmPkt51wPwL9O/aM0b0E9C4TvIvJDFMfxgyiKPkjFfYC86POykAoVzYYx5n50dHR0r1wu3ySiyAcA0PuGTrO8LDwDhFVKfVPa2to6mpmZeYOZp/xJQweJL5CNJuRZiAzgnZ2dna8iANBa3yCi94mIss8pvwSDyhDKQhbCazMzXweAEgBsb2//Wa1WX2bmN/2J02/RiPNSH4C4tbu7exvwbsE4jj8ioneI6HW//tkMhNbBoAUZgHiklPoknbdPJXkwPlRKVYoChNbKAIjHzrm3O53OT0EAAFhYWKiKyCaAir8L/K04KAv+fs8APBaR2b29vT1fL/gMq9frU0qpuwBeDWVgWBkCWfiZmef8yAcCAECtVnt+YmLicxG5CoAGAQzYsuycax8fHy8fHBz8G9IZ+hCt1WoXlVLXAMwlz6ihZXDOWWvtXWvt9f39/e8HzV/4JTw7O3tGRGrOuSsiMg3gHDO/kAD8Y639XUQOmPlba+3XnU7n7yLz/gfK4r22wg7QwAAAAABJRU5ErkJggg=="},,,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAd0QAAHdEBudPgXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOcSURBVFiFrZZNaF1FFMd/M/cGutAID2KKhYiSppIHwoM0raDt2oU1IrhyJXXhVhRp981GKVKlSKALoTuVGBdmJdhmKQjWD5RUF4pC2ga0Vd+7987M6eJ+ZO68j9y8voHD8N69d/6/mfMxR9F0nJBZMl5EcQrFkwizwGzxdAfFDs79hutdw93b4MbhW02WVfu+0ZElIs4hnAHifd93CUjX4Lob8N8qN45+Ox7ACZnGcBF4rRFoOcSA65bmsN0rZP+8xc2Td5sDHJc2js+B+cbC1XA+ALj/wXW3yZIVbp78KXxb932/JMs4ro8nXi6pPNOAOkokWyx8tTwa4Li0ETaB1nji5fABqt8tRG0y/+XiYIC2PITjswcXHwnWQtwG81en+wEO8T5wbHJiUlj4W81jD71bB+jIEnm0T1A4tNqzszz+cWcPIOIcB0m1kfquMCnMAaVVABrkPIDiaXmUKf6kSZFpBJAGaTjMeoake0QTszIxcQTEeubvPjQbM2Ve0ChOTUacvAqWhgVMAGQ9FzlATmvGLjjhcCBZYSWI9WZbQHkmtq2Bmcnoe+KY+mlU/wVAYuc0e1fq+EPSwrIiCLP6afSJly6y0w8YfFIIpt6ceTChmb4T0kiyk0flQbVtfve7BMSbS3EXQpSitRi5q3HJDq5XfGgb7NiUTQdIrw4haQBSwgwCMeDS32Ns71d0/AwqAhXnRUr5V2opXORvGc21HWV7buhzyQi3YH6Icb3rEL2KikFFQAhQ1PEKwA0GqALQA/HNDYKw1xSd7RlS9RcqivsB/KMXqiomPsAwiMAl1Vy4TXoGZY/kKovffwrRywcDKNPJd4MHUYkPgZDkE25ffCVPQ0lWEfUSKtI5QNjRSH8c1GKhDK4wA5IhLskcKrtAbZsLW2uo+PU6QJgBYSAOc0UYhH2n8RF3Lr0B/i04Zd4kzZ4D/VQ/QHkCMiAQw1MIIGpZkYCk2zh5p1y5vs28YdwC3ao/Hgbgx0GYlgMgSHdx9ll2P/x5MADAE+vLKNkE1aql4TAARmWEVx9Id3HmeXYvf+PLDW7D5q4uovU6sNAfAyWEDzCsLlTu+AWRFX/nowEAjl15mC7vAWdB8t6xEYABMnAGJHVIuobmbW5f/neQzP6N6GOXOmh9HtwKInENoFaUyg7IgGQGMetoucCtD74btXzzTvjw6gw6OoPY0yBtxM6Be6Q4ib/B/IGzP6LSr+klX3Bv7U6TZe8DVXJ+YBXZ9bMAAAAASUVORK5CYII="},,,,function(t,e,o){"use strict";o.r(e),o.d(e,"default",function(){return n});var r=o(1),i=o(8),a=o.n(i);function n(t,e=0,o=0){r.default.call(this,t),this.createSprite(e,o),this.proton.release_after_range=[5e3,1e4]}n.prototype=new r.default,n.prototype.image_path=a.a,n.prototype.name="StrongConjugateBase"}])});

/***/ }),

/***/ "./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base/weak.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base/weak.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():undefined}(window,function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=11)}([function(e,t,r){"use strict";function o(e,t=0,r=0){this.execute_callback("Particle","pre",this),this.p=e,this.createSprite(t,r),this.cleanups={},this.execute_callback("Particle","post",this)}r.d(t,"a",function(){return o}),o.prototype.collider_offset_x=0,o.prototype.collider_offset_y=0,o.prototype.collider_radius=1,o.prototype.image_path=null,o.prototype.max_velocity=0,o.prototype.name="Particle",o.prototype.reacts_with={},o.prototype.callbacks={},o.prototype.register_callback=function(e,t,r){null==this.callbacks[e]&&(this.callbacks[e]={}),this.callbacks[e][t]=r},o.prototype.execute_callback=function(e,t,r){var o=this.callbacks[e];o&&"function"==typeof o[t]&&o[t](r)},o.prototype.preload=function(e){this.image=e.loadImage(this.image_path)},o.prototype.createSprite=function(e=0,t=0){var r=this.p;r&&(this.sprite=r.createSprite(e,t),null!=this.image&&this.sprite.addImage("default",this.image),this.sprite.setCollider("circle",this.collider_offset_x,this.collider_offset_y,this.collider_radius),this.sprite.velocity.x=this.randomVelocity(),this.sprite.velocity.y=this.randomVelocity(),this.sprite.particle=this)},o.prototype.randomVelocity=function(){return this.max_velocity-2*Math.random()*this.max_velocity},o.prototype.remove=function(){this.execute_callback("remove","pre",this);var e=this.cleanups;for(var t in Object.keys(e)){e[Object.keys(e)[t]](this)}this.sprite.remove(),delete this.sprite,this.execute_callback("remove","post",this)},o.prototype.update=function(){this.execute_callback("update","pre",this),this.execute_callback("update","post",this)}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return n});var o=r(0),i=r(2),a=r.n(i);function n(e,t=0,r=0){o.a.call(this,e),this.createSprite(t,r),this.proton={},this.proton.particle=null,this.proton.offset_x=10,this.proton.offset_y=-10,this.proton.restore_depth=null,this.proton.release_after_range=[0,5e3],this.proton.post_release_duration=750,this.proton.release_after=null}n.prototype=new o.a,n.prototype.collider_radius=16,n.prototype.image_path=a.a,n.prototype.max_velocity=.5,n.prototype.name="ConjugateBase",n.prototype.reacts_with={Proton:function(e,t){var r=e.particle,o=t.particle;o.base.particle||r.proton.particle||(n.prototype.execute_callback("reacts_with_proton","pre",r),r.proton.release_after=Date.now()+r.proton.release_after_range[0]+r.proton.release_after_range[1]*Math.random(),r.proton.particle=o,o.base.particle=r,r.proton.restore_depth=t.depth,t.depth=e.depth+.5,o.cleanups.ConjugateBase=function(e){var t=e.base.particle;t&&t.release_proton()},n.prototype.execute_callback("reacts_with_proton","post",r))}},n.prototype.remove=function(){this.execute_callback("remove","pre",this);var e=this.cleanups;for(var t in Object.keys(e)){e[Object.keys(e)[t]](this)}this.release_proton(),this.sprite.remove(),delete this.particle,this.execute_callback("remove","post",this)},n.prototype.update=function(){this.execute_callback("update","pre",this);var e=this.proton;if(e.release_after){var t=Date.now();if(t<e.release_after){var r=e.particle.sprite,o=this.sprite;r.position.x=o.position.x+this.proton.offset_x,r.position.y=o.position.y+this.proton.offset_y}else t<e.release_after+e.post_release_duration||this.release_proton()}this.execute_callback("update","post",this)},n.prototype.release_proton=function(){this.execute_callback("release_proton","pre",this);var e=this.proton;e.release_after&&(delete e.particle.cleanups.ConjugateBase,e.particle.sprite.depth=e.restore_depth,e.restore_depth=null,e.release_after=null,e.particle.base.particle=null,e.particle=null),this.execute_callback("release_proton","post",this)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAd0QAAHdEBudPgXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOVSURBVFiFrZbPa1xVFMe/98xLmIBGGKhdKF2U+oNkIcUyINF2nYVj3AXGlSlklY0YxK5m0240IoF0phMK/gOljQjZ2jYkkDAGwYhSdKGIRCxIkWTe/XGOm/fGO6/3zbwmc+Dw7rtc7vdzzrm/FAra+vr6WWZ+T0QuK6XOAzibOAAcAjhk5l+NMffjON5YXl7+q8i8atiAVqt1SSn1KYAagGjYeGMMtNZWa73R7XZvNBqN704EsLq6Olkul78QkQ+LgKbmnIPWOnXudru3oyj6uNFoPCkM0G63p0XkHoALRYVTExHEcexDII7jR8aYuZWVlR+z4ynb0Ww2qyLy4CTiAKCU6vOk7xUAD5eWlqoDAdrt9jQRbQKonEQ8C5FpVwBsLi4uTgUB1tbWnhORO6cVH2IVEdmo1+uTTwGMjY19CeC1USmJSLAN4ML4+PhnfQCtVutSstpHIpwK5rWZ+er8/PzFHkCyzwtvtSIAzNxrZz3RvQYAqtlsvkhEf6DAIVPErLXZLdj37/VZrfVLRERzoxJPI/fdjzzTF4nIuyQil0chDgDMDOdcz/NgvP8rpJQ60YGTNRGBtbZP3IfxgVII59w0ATgzCgBfPC8Lgf5zhP+v1FOJ+x4CCZWEmSdPtfjStOe5c25oZshae5g5qQoZM8MY0+d5ECHxpP0k0loflkql86VSCUQEoqcuyL6Is/VMRfIAQtnwvr9FxphfmPkt51wPwL9O/aM0b0E9C4TvIvJDFMfxgyiKPkjFfYC86POykAoVzYYx5n50dHR0r1wu3ySiyAcA0PuGTrO8LDwDhFVKfVPa2to6mpmZeYOZp/xJQweJL5CNJuRZiAzgnZ2dna8iANBa3yCi94mIss8pvwSDyhDKQhbCazMzXweAEgBsb2//Wa1WX2bmN/2J02/RiPNSH4C4tbu7exvwbsE4jj8ioneI6HW//tkMhNbBoAUZgHiklPoknbdPJXkwPlRKVYoChNbKAIjHzrm3O53OT0EAAFhYWKiKyCaAir8L/K04KAv+fs8APBaR2b29vT1fL/gMq9frU0qpuwBeDWVgWBkCWfiZmef8yAcCAECtVnt+YmLicxG5CoAGAQzYsuycax8fHy8fHBz8G9IZ+hCt1WoXlVLXAMwlz6ihZXDOWWvtXWvt9f39/e8HzV/4JTw7O3tGRGrOuSsiMg3gHDO/kAD8Y639XUQOmPlba+3XnU7n7yLz/gfK4r22wg7QwAAAAABJRU5ErkJggg=="},,,,,function(e,t){e.exports="data:image/png;base64,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"},,,,function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return n});var o=r(1),i=r(7),a=r.n(i);function n(e,t=0,r=0){o.default.call(this,e),this.createSprite(t,r),this.proton.release_after_range=[0,2e3]}n.prototype=new o.default,n.prototype.image_path=a.a,n.prototype.name="WeakConjugateBase"}])});

/***/ }),

/***/ "./node_modules/@cmu-eberly-center/p5.beaker/lib/proton.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@cmu-eberly-center/p5.beaker/lib/proton.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function o(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(i,r,function(e){return t[e]}.bind(null,r));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=10)}({0:function(t,e,o){"use strict";function i(t,e=0,o=0){this.execute_callback("Particle","pre",this),this.p=t,this.createSprite(e,o),this.cleanups={},this.execute_callback("Particle","post",this)}o.d(e,"a",function(){return i}),i.prototype.collider_offset_x=0,i.prototype.collider_offset_y=0,i.prototype.collider_radius=1,i.prototype.image_path=null,i.prototype.max_velocity=0,i.prototype.name="Particle",i.prototype.reacts_with={},i.prototype.callbacks={},i.prototype.register_callback=function(t,e,o){null==this.callbacks[t]&&(this.callbacks[t]={}),this.callbacks[t][e]=o},i.prototype.execute_callback=function(t,e,o){var i=this.callbacks[t];i&&"function"==typeof i[e]&&i[e](o)},i.prototype.preload=function(t){this.image=t.loadImage(this.image_path)},i.prototype.createSprite=function(t=0,e=0){var o=this.p;o&&(this.sprite=o.createSprite(t,e),null!=this.image&&this.sprite.addImage("default",this.image),this.sprite.setCollider("circle",this.collider_offset_x,this.collider_offset_y,this.collider_radius),this.sprite.velocity.x=this.randomVelocity(),this.sprite.velocity.y=this.randomVelocity(),this.sprite.particle=this)},i.prototype.randomVelocity=function(){return this.max_velocity-2*Math.random()*this.max_velocity},i.prototype.remove=function(){this.execute_callback("remove","pre",this);var t=this.cleanups;for(var e in Object.keys(t)){t[Object.keys(t)[e]](this)}this.sprite.remove(),delete this.sprite,this.execute_callback("remove","post",this)},i.prototype.update=function(){this.execute_callback("update","pre",this),this.execute_callback("update","post",this)}},10:function(t,e,o){"use strict";o.r(e),o.d(e,"default",function(){return a});var i=o(0),r=o(6),n=o.n(r);function a(t,e=0,o=0){this.execute_callback("Proton","pre",this),i.a.call(this,t),this.createSprite(e,o),this.base={},this.base.particle=null,this.execute_callback("Proton","post",this)}a.prototype=new i.a,a.prototype.collider_radius=6,a.prototype.image_path=n.a,a.prototype.max_velocity=3,a.prototype.name="Proton"},6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAd0QAAHdEBudPgXQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF4SURBVCiRdY/NqlJRGIbfvdZS2hkm26nitnkQ5KSfAw2SQzfRNdS5kLqEJnURDToGgaMNBiE425zjWCV1/exv/XxNMijsGT8PvG+G3yyXy3ZRFG86nc4rIcQDAExEN5vN5rNS6t14PHYnF3Vdl7vd7hufYbvd8mq1mi8WixIARFVVd4ui+NTr9Z7jDEIItNvtJ8z8sa7rO2IwGFx1u92n52QASCmBmZFSerZer69EnueX/5OJCN57hBAQQoD3/lJIKUfnZGaGtRbOOTRNAyJCCKFUKaX0rxxjhNYaWuu/Iu99UofD4VYIMZJSAgBCCCAiWGv/RMYYWGsRY7xR+/3+OqV0IaUEMyPGCO89nHMwxsAYg+PxCK018jy/zqqqut9qtb5KKR+d5oQQ0DQNrLUwxkBrDQCLsixfZAAwn88fAvgQY3x8CogIzjlYayGl/N7v919Pp9Mf2enobDa7x8xvieil934UY8y897dKqS/D4fD9ZDL5CQC/AOxjA8IL/zGVAAAAAElFTkSuQmCC"}})});

/***/ }),

/***/ "./node_modules/@cmu-eberly-center/p5.play/lib/p5.play.js":
/*!****************************************************************!*\
  !*** ./node_modules/@cmu-eberly-center/p5.play/lib/p5.play.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
p5.play
by Paolo Pedercini/molleindustria, 2015
http://molleindustria.org/
*/

(function(root, factory) {
if (true)
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! @cmu-eberly-center/p5 */ "./node_modules/@cmu-eberly-center/p5/lib/p5.min.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(p5) { (factory(p5)); }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
else {}
}(this, function(p5) {
/**
 * p5.play is a library for p5.js to facilitate the creation of games and gamelike
 * projects.
 *
 * It provides a flexible Sprite class to manage visual objects in 2D space
 * and features such as animation support, basic collision detection
 * and resolution, mouse and keyboard interactions, and a virtual camera.
 *
 * p5.play is not a box2D-derived physics engine, it doesn't use events, and it's
 * designed to be understood and possibly modified by intermediate programmers.
 *
 * See the examples folder for more info on how to use this library.
 *
 * @module p5.play
 * @submodule p5.play
 * @for p5.play
 * @main
 */

// =============================================================================
//                         initialization
// =============================================================================

// This is the new way to initialize custom p5 properties for any p5 instance.
// The goal is to migrate lazy P5 properties over to this method.
// @see https://github.com/molleindustria/p5.play/issues/46
p5.prototype.registerMethod('init', function p5PlayInit() {
  /**
   * The sketch camera automatically created at the beginning of a sketch.
   * A camera facilitates scrolling and zooming for scenes extending beyond
   * the canvas. A camera has a position, a zoom factor, and the mouse
   * coordinates relative to the view.
   *
   * In p5.js terms the camera wraps the whole drawing cycle in a
   * transformation matrix but it can be disabled anytime during the draw
   * cycle, for example to draw interface elements in an absolute position.
   *
   * @property camera
   * @type {camera}
   */
  this.camera = new Camera(this, 0, 0, 1);
  this.camera.init = false;
});

// This provides a way for us to lazily define properties that
// are global to p5 instances.
//
// Note that this isn't just an optimization: p5 currently provides no
// way for add-ons to be notified when new p5 instances are created, so
// lazily creating these properties is the *only* mechanism available
// to us. For more information, see:
//
// https://github.com/processing/p5.js/issues/1263
function defineLazyP5Property(name, getter) {
  Object.defineProperty(p5.prototype, name, {
    configurable: true,
    enumerable: true,
    get: function() {
      var context = (this instanceof p5 && !this._isGlobal) ? this : window;

      if (typeof(context._p5PlayProperties) === 'undefined') {
        context._p5PlayProperties = {};
      }
      if (!(name in context._p5PlayProperties)) {
        context._p5PlayProperties[name] = getter.call(context);
      }
      return context._p5PlayProperties[name];
    }
  });
}

// This returns a factory function, suitable for passing to
// defineLazyP5Property, that returns a subclass of the given
// constructor that is always bound to a particular p5 instance.
function boundConstructorFactory(constructor) {
  if (typeof(constructor) !== 'function')
    throw new Error('constructor must be a function');

  return function createBoundConstructor() {
    var pInst = this;

    function F() {
      var args = Array.prototype.slice.call(arguments);

      return constructor.apply(this, [pInst].concat(args));
    }
    F.prototype = constructor.prototype;

    return F;
  };
}

// This is a utility that makes it easy to define convenient aliases to
// pre-bound p5 instance methods.
//
// For example:
//
//   var pInstBind = createPInstBinder(pInst);
//
//   var createVector = pInstBind('createVector');
//   var loadImage = pInstBind('loadImage');
//
// The above will create functions createVector and loadImage, which can be
// used similar to p5 global mode--however, they're bound to specific p5
// instances, and can thus be used outside of global mode.
function createPInstBinder(pInst) {
  return function pInstBind(methodName) {
    var method = pInst[methodName];

    if (typeof(method) !== 'function')
      throw new Error('"' + methodName + '" is not a p5 method');
    return method.bind(pInst);
  };
}

// These are utility p5 functions that don't depend on p5 instance state in
// order to work properly, so we'll go ahead and make them easy to
// access without needing to bind them to a p5 instance.
var abs = p5.prototype.abs;
var radians = p5.prototype.radians;
var dist = p5.prototype.dist;
var degrees = p5.prototype.degrees;
var pow = p5.prototype.pow;
var round = p5.prototype.round;


// =============================================================================
//                         p5 additions
// =============================================================================

/**
* A Group containing all the sprites in the sketch.
*
* @property allSprites
* @type {Group}
*/

defineLazyP5Property('allSprites', function() {
  return new p5.prototype.Group();
});

p5.prototype.spriteUpdate = true;

/**
   * A Sprite is the main building block of p5.play:
   * an element able to store images or animations with a set of
   * properties such as position and visibility.
   * A Sprite can have a collider that defines the active area to detect
   * collisions or overlappings with other sprites and mouse interactions.
   *
   * Sprites created using createSprite (the preferred way) are added to the
   * allSprites group and given a depth value that puts it in front of all
   * other sprites.
   *
   * @method createSprite
   * @param {Number} x Initial x coordinate
   * @param {Number} y Initial y coordinate
   * @param {Number} width Width of the placeholder rectangle and of the
   *                       collider until an image or new collider are set
   * @param {Number} height Height of the placeholder rectangle and of the
   *                       collider until an image or new collider are set
   * @return {Object} The new sprite instance
   */

p5.prototype.createSprite = function(x, y, width, height) {
  var s = new Sprite(this, x, y, width, height);
  s.depth = this.allSprites.maxDepth()+1;
  this.allSprites.add(s);
  return s;
};


/**
   * Removes a Sprite from the sketch.
   * The removed Sprite won't be drawn or updated anymore.
   * Equivalent to Sprite.remove()
   *
   * @method removeSprite
   * @param {Object} sprite Sprite to be removed
*/
p5.prototype.removeSprite = function(sprite) {
  sprite.remove();
};

/**
* Updates all the sprites in the sketch (position, animation...)
* it's called automatically at every draw().
* It can be paused by passing a parameter true or false;
* Note: it does not render the sprites.
*
* @method updateSprites
* @param {Boolean} updating false to pause the update, true to resume
*/
p5.prototype.updateSprites = function(upd) {

  if(upd === false)
    this.spriteUpdate = false;
  if(upd === true)
    this.spriteUpdate = true;

  if(this.spriteUpdate)
  for(var i = 0; i<this.allSprites.size(); i++)
  {
    this.allSprites.get(i).update();
  }
};

/**
* Returns all the sprites in the sketch as an array
*
* @method getSprites
* @return {Array} Array of Sprites
*/
p5.prototype.getSprites = function() {

  //draw everything
  if(arguments.length===0)
  {
    return this.allSprites.toArray();
  }
  else
  {
    var arr = [];
    //for every tag
    for(var j=0; j<arguments.length; j++)
    {
      for(var i = 0; i<this.allSprites.size(); i++)
      {
        if(this.allSprites.get(i).isTagged(arguments[j]))
          arr.push(this.allSprites.get(i));
      }
    }

    return arr;
  }

};

/**
* Displays a Group of sprites.
* If no parameter is specified, draws all sprites in the
* sketch.
* The drawing order is determined by the Sprite property "depth"
*
* @method drawSprites
* @param {Group} [group] Group of Sprites to be displayed
*/
p5.prototype.drawSprites = function(group) {
  // If no group is provided, draw the allSprites group.
  group = group || this.allSprites;

  if (typeof group.draw !== 'function')
  {
    throw('Error: with drawSprites you can only draw all sprites or a group');
  }

  group.draw();
};

/**
* Displays a Sprite.
* To be typically used in the main draw function.
*
* @method drawSprite
* @param {Sprite} sprite Sprite to be displayed
*/
p5.prototype.drawSprite = function(sprite) {
  if(sprite)
  sprite.display();
};

/**
* Loads an animation.
* To be typically used in the preload() function of the sketch.
*
* @method loadAnimation
* @param {Sprite} sprite Sprite to be displayed
*/
p5.prototype.loadAnimation = function() {
  return construct(this.Animation, arguments);
};

/**
 * Loads a Sprite Sheet.
 * To be typically used in the preload() function of the sketch.
 *
 * @method loadSpriteSheet
 */
p5.prototype.loadSpriteSheet = function() {
  return construct(this.SpriteSheet, arguments);
};

/**
* Displays an animation.
*
* @method animation
* @param {Animation} anim Animation to be displayed
* @param {Number} x X coordinate
* @param {Number} y Y coordinate
*
*/
p5.prototype.animation = function(anim, x, y) {
  anim.draw(x, y);
};

//variable to detect instant presses
defineLazyP5Property('_p5play', function() {
  return {
    keyStates: {},
    mouseStates: {}
  };
});

var KEY_IS_UP = 0;
var KEY_WENT_DOWN = 1;
var KEY_IS_DOWN = 2;
var KEY_WENT_UP = 3;

/**
* Detects if a key was pressed during the last cycle.
* It can be used to trigger events once, when a key is pressed or released.
* Example: Super Mario jumping.
*
* @method keyWentDown
* @param {Number|String} key Key code or character
* @return {Boolean} True if the key was pressed
*/
p5.prototype.keyWentDown = function(key) {
  return this._isKeyInState(key, KEY_WENT_DOWN);
};


/**
* Detects if a key was released during the last cycle.
* It can be used to trigger events once, when a key is pressed or released.
* Example: Spaceship shooting.
*
* @method keyWentUp
* @param {Number|String} key Key code or character
* @return {Boolean} True if the key was released
*/
p5.prototype.keyWentUp = function(key) {
  return this._isKeyInState(key, KEY_WENT_UP);
};

/**
* Detects if a key is currently pressed
* Like p5 keyIsDown but accepts strings and codes
*
* @method keyDown
* @param {Number|String} key Key code or character
* @return {Boolean} True if the key is down
*/
p5.prototype.keyDown = function(key) {
  return this._isKeyInState(key, KEY_IS_DOWN);
};

/**
 * Detects if a key is in the given state during the last cycle.
 * Helper method encapsulating common key state logic; it may be preferable
 * to call keyDown or other methods directly.
 *
 * @private
 * @method _isKeyInState
 * @param {Number|String} key Key code or character
 * @param {Number} state Key state to check against
 * @return {Boolean} True if the key is in the given state
 */
p5.prototype._isKeyInState = function(key, state) {
  var keyCode;
  var keyStates = this._p5play.keyStates;

  if(typeof key === 'string')
  {
    keyCode = this._keyCodeFromAlias(key);
  }
  else
  {
    keyCode = key;
  }

  //if undefined start checking it
  if(keyStates[keyCode]===undefined)
  {
    if(this.keyIsDown(keyCode))
      keyStates[keyCode] = KEY_IS_DOWN;
    else
      keyStates[keyCode] = KEY_IS_UP;
  }

  return (keyStates[keyCode] === state);
};

/**
* Detects if a mouse button is currently down
* Combines mouseIsPressed and mouseButton of p5
*
* @method mouseDown
* @param {Number} [buttonCode] Mouse button constant LEFT, RIGHT or CENTER
* @return {Boolean} True if the button is down
*/
p5.prototype.mouseDown = function(buttonCode) {
  return this._isMouseButtonInState(buttonCode, KEY_IS_DOWN);
};

/**
* Detects if a mouse button is currently up
* Combines mouseIsPressed and mouseButton of p5
*
* @method mouseUp
* @param {Number} [buttonCode] Mouse button constant LEFT, RIGHT or CENTER
* @return {Boolean} True if the button is up
*/
p5.prototype.mouseUp = function(buttonCode) {
  return this._isMouseButtonInState(buttonCode, KEY_IS_UP);
};

/**
 * Detects if a mouse button was released during the last cycle.
 * It can be used to trigger events once, to be checked in the draw cycle
 *
 * @method mouseWentUp
 * @param {Number} [buttonCode] Mouse button constant LEFT, RIGHT or CENTER
 * @return {Boolean} True if the button was just released
 */
p5.prototype.mouseWentUp = function(buttonCode) {
  return this._isMouseButtonInState(buttonCode, KEY_WENT_UP);
};


/**
 * Detects if a mouse button was pressed during the last cycle.
 * It can be used to trigger events once, to be checked in the draw cycle
 *
 * @method mouseWentDown
 * @param {Number} [buttonCode] Mouse button constant LEFT, RIGHT or CENTER
 * @return {Boolean} True if the button was just pressed
 */
p5.prototype.mouseWentDown = function(buttonCode) {
  return this._isMouseButtonInState(buttonCode, KEY_WENT_DOWN);
};

/**
 * Detects if a mouse button is in the given state during the last cycle.
 * Helper method encapsulating common mouse button state logic; it may be
 * preferable to call mouseWentUp, etc, directly.
 *
 * @private
 * @method _isMouseButtonInState
 * @param {Number} [buttonCode] Mouse button constant LEFT, RIGHT or CENTER
 * @param {Number} state
 * @return {boolean} True if the button was in the given state
 */
p5.prototype._isMouseButtonInState = function(buttonCode, state) {
  var mouseStates = this._p5play.mouseStates;

  if(buttonCode === undefined)
    buttonCode = this.LEFT;

  //undefined = not tracked yet, start tracking
  if(mouseStates[buttonCode]===undefined)
  {
  if(this.mouseIsPressed && this.mouseButton === buttonCode)
    mouseStates[buttonCode] = KEY_IS_DOWN;
  else
    mouseStates[buttonCode] = KEY_IS_UP;
  }

  return (mouseStates[buttonCode] === state);
};


/**
 * An object storing all useful keys for easy access
 * Key.tab = 9
 *
 * @private
 * @property KEY
 * @type {Object}
 */
p5.prototype.KEY = {
    'BACKSPACE': 8,
    'TAB': 9,
    'ENTER': 13,
    'SHIFT': 16,
    'CTRL': 17,
    'ALT': 18,
    'PAUSE': 19,
    'CAPS_LOCK': 20,
    'ESC': 27,
    'SPACE': 32,
    ' ': 32,
    'PAGE_UP': 33,
    'PAGE_DOWN': 34,
    'END': 35,
    'HOME': 36,
    'LEFT_ARROW': 37,
    'LEFT': 37,
    'UP_ARROW': 38,
    'UP': 38,
    'RIGHT_ARROW': 39,
    'RIGHT': 39,
    'DOWN_ARROW': 40,
    'DOWN': 40,
    'INSERT': 45,
    'DELETE': 46,
    '0': 48,
    '1': 49,
    '2': 50,
    '3': 51,
    '4': 52,
    '5': 53,
    '6': 54,
    '7': 55,
    '8': 56,
    '9': 57,
    'A': 65,
    'B': 66,
    'C': 67,
    'D': 68,
    'E': 69,
    'F': 70,
    'G': 71,
    'H': 72,
    'I': 73,
    'J': 74,
    'K': 75,
    'L': 76,
    'M': 77,
    'N': 78,
    'O': 79,
    'P': 80,
    'Q': 81,
    'R': 82,
    'S': 83,
    'T': 84,
    'U': 85,
    'V': 86,
    'W': 87,
    'X': 88,
    'Y': 89,
    'Z': 90,
    '0NUMPAD': 96,
    '1NUMPAD': 97,
    '2NUMPAD': 98,
    '3NUMPAD': 99,
    '4NUMPAD': 100,
    '5NUMPAD': 101,
    '6NUMPAD': 102,
    '7NUMPAD': 103,
    '8NUMPAD': 104,
    '9NUMPAD': 105,
    'MULTIPLY': 106,
    'PLUS': 107,
    'MINUS': 109,
    'DOT': 110,
    'SLASH1': 111,
    'F1': 112,
    'F2': 113,
    'F3': 114,
    'F4': 115,
    'F5': 116,
    'F6': 117,
    'F7': 118,
    'F8': 119,
    'F9': 120,
    'F10': 121,
    'F11': 122,
    'F12': 123,
    'EQUAL': 187,
    'COMMA': 188,
    'SLASH': 191,
    'BACKSLASH': 220
};

/**
 * An object storing deprecated key aliases, which we still support but
 * should be mapped to valid aliases and generate warnings.
 *
 * @private
 * @property KEY_DEPRECATIONS
 * @type {Object}
 */
p5.prototype.KEY_DEPRECATIONS = {
  'MINUT': 'MINUS',
  'COMA': 'COMMA'
};

/**
 * Given a string key alias (as defined in the KEY property above), look up
 * and return the numeric JavaScript key code for that key.  If a deprecated
 * alias is passed (as defined in the KEY_DEPRECATIONS property) it will be
 * mapped to a valid key code, but will also generate a warning about use
 * of the deprecated alias.
 *
 * @private
 * @method _keyCodeFromAlias
 * @param {!string} alias - a case-insensitive key alias
 * @return {number|undefined} a numeric JavaScript key code, or undefined
 *          if no key code matching the given alias is found.
 */
p5.prototype._keyCodeFromAlias = function(alias) {
  alias = alias.toUpperCase();
  if (this.KEY_DEPRECATIONS[alias]) {
    this._warn('Key literal "' + alias + '" is deprecated and may be removed ' +
      'in a future version of p5.play. ' +
      'Please use "' + this.KEY_DEPRECATIONS[alias] + '" instead.');
    alias = this.KEY_DEPRECATIONS[alias];
  }
  return this.KEY[alias];
};

//pre draw: detect keyStates
p5.prototype.readPresses = function() {
  var keyStates = this._p5play.keyStates;
  var mouseStates = this._p5play.mouseStates;

  for (var key in keyStates) {
    if(this.keyIsDown(key)) //if is down
    {
      if(keyStates[key] === KEY_IS_UP)//and was up
        keyStates[key] = KEY_WENT_DOWN;
      else
        keyStates[key] = KEY_IS_DOWN; //now is simply down
    }
    else //if it's up
    {
      if(keyStates[key] === KEY_IS_DOWN)//and was up
        keyStates[key] = KEY_WENT_UP;
      else
        keyStates[key] = KEY_IS_UP; //now is simply down
    }
  }

  //mouse
  for (var btn in mouseStates) {

    if(this.mouseIsPressed && this.mouseButton === btn) //if is down
    {
      if(mouseStates[btn] === KEY_IS_UP)//and was up
        mouseStates[btn] = KEY_WENT_DOWN;
      else
        mouseStates[btn] = KEY_IS_DOWN; //now is simply down
    }
    else //if it's up
    {
      if(mouseStates[btn] === KEY_IS_DOWN)//and was up
        mouseStates[btn] = KEY_WENT_UP;
      else
        mouseStates[btn] = KEY_IS_UP; //now is simply down
    }
  }

};

/**
* Turns the quadTree on or off.
* A quadtree is a data structure used to optimize collision detection.
* It can improve performance when there is a large number of Sprites to be
* checked continuously for overlapping.
*
* p5.play will create and update a quadtree automatically.
*
* @method useQuadTree
* @param {Boolean} use Pass true to enable, false to disable
*/
p5.prototype.useQuadTree = function(use) {

  if(this.quadTree !== undefined)
  {
    if(use === undefined)
      return this.quadTree.active;
    else if(use)
      this.quadTree.active = true;
    else
      this.quadTree.active = false;
  }
  else
    return false;
};

//the actual quadTree
defineLazyP5Property('quadTree', function() {
  return new Quadtree({
    x: 0,
    y: 0,
    width: 0,
    height: 0
  }, 4);
});

/*
//framerate independent delta, doesn't really work
p5.prototype.deltaTime = 1;

var now = Date.now();
var then = Date.now();
var INTERVAL_60 = 0.0166666; //60 fps

function updateDelta() {
then = now;
now = Date.now();
deltaTime = ((now - then) / 1000)/INTERVAL_60; // seconds since last frame
}
*/

/**
   * A Sprite is the main building block of p5.play:
   * an element able to store images or animations with a set of
   * properties such as position and visibility.
   * A Sprite can have a collider that defines the active area to detect
   * collisions or overlappings with other sprites and mouse interactions.
   *
   * To create a Sprite, use
   * {{#crossLink "p5.play/createSprite:method"}}{{/crossLink}}.
   *
   * @class Sprite
   */

// For details on why these docs aren't in a YUIDoc comment block, see:
//
// https://github.com/molleindustria/p5.play/pull/67
//
// @param {Number} x Initial x coordinate
// @param {Number} y Initial y coordinate
// @param {Number} width Width of the placeholder rectangle and of the
//                       collider until an image or new collider are set
// @param {Number} height Height of the placeholder rectangle and of the
//                        collider until an image or new collider are set
function Sprite(pInst, _x, _y, _w, _h) {
  var pInstBind = createPInstBinder(pInst);

  var createVector = pInstBind('createVector');
  var color = pInstBind('color');
  var random = pInstBind('random');
  var print = pInstBind('print');
  var push = pInstBind('push');
  var pop = pInstBind('pop');
  var colorMode = pInstBind('colorMode');
  var noStroke = pInstBind('noStroke');
  var rectMode = pInstBind('rectMode');
  var ellipseMode = pInstBind('ellipseMode');
  var imageMode = pInstBind('imageMode');
  var translate = pInstBind('translate');
  var scale = pInstBind('scale');
  var rotate = pInstBind('rotate');
  var stroke = pInstBind('stroke');
  var strokeWeight = pInstBind('strokeWeight');
  var line = pInstBind('line');
  var noFill = pInstBind('noFill');
  var fill = pInstBind('fill');
  var textAlign = pInstBind('textAlign');
  var textSize = pInstBind('textSize');
  var text = pInstBind('text');
  var rect = pInstBind('rect');
  var cos = pInstBind('cos');
  var sin = pInstBind('sin');
  var atan2 = pInstBind('atan2');

  var quadTree = pInst.quadTree;
  var camera = pInst.camera;


  // These are p5 constants that we'd like easy access to.
  var RGB = p5.prototype.RGB;
  var CENTER = p5.prototype.CENTER;
  var LEFT = p5.prototype.LEFT;
  var BOTTOM = p5.prototype.BOTTOM;

  /**
  * The sprite's position of the sprite as a vector (x,y).
  * @property position
  * @type {p5.Vector}
  */
  this.position = createVector(_x, _y);

  /**
  * The sprite's position at the beginning of the last update as a vector (x,y).
  * @property previousPosition
  * @type {p5.Vector}
  */
  this.previousPosition = createVector(_x, _y);

  /*
  The sprite's position at the end of the last update as a vector (x,y).
  Note: this will differ from position whenever the position is changed
  directly by assignment.
  */
  this.newPosition = createVector(_x, _y);

  //Position displacement on the x coordinate since the last update
  this.deltaX = 0;
  this.deltaY = 0;

  /**
  * The sprite's velocity as a vector (x,y)
  * Velocity is speed broken down to its vertical and horizontal components.
  *
  * @property velocity
  * @type {p5.Vector}
  */
  this.velocity = createVector(0, 0);

  /**
  * Set a limit to the sprite's scalar speed regardless of the direction.
  * The value can only be positive. If set to -1, there's no limit.
  *
  * @property maxSpeed
  * @type {Number}
  * @default -1
  */
  this.maxSpeed = -1;

  /**
  * Friction factor, reduces the sprite's velocity.
  * The friction should be close to 0 (eg. 0.01)
  * 0: no friction
  * 1: full friction
  *
  * @property friction
  * @type {Number}
  * @default 0
  */
  this.friction = 0;

  /**
  * The sprite's current collider.
  * It can either be an Axis Aligned Bounding Box (a non-rotated rectangle)
  * or a circular collider.
  * If the sprite is checked for collision, bounce, overlapping or mouse events the
  * collider is automatically created from the width and height
  * of the sprite or from the image dimension in case of animate sprites
  *
  * You can set a custom collider with Sprite.setCollider
  *
  * @property collider
  * @type {Object}
  */
  this.collider = undefined;

  //internal use
  //"default" - no image or custom collider is specified, use the shape width / height
  //"custom" - specified with setCollider
  //"image" - no collider is set with setCollider and an image is added
  this.colliderType = 'none';

  /**
  * Object containing information about the most recent collision/overlapping
  * To be typically used in combination with Sprite.overlap or Sprite.collide
  * functions.
  * The properties are touching.left, touching.right, touching.top,
  * touching.bottom and are either true or false depending on the side of the
  * collider.
  *
  * @property touching
  * @type {Object}
  */
  this.touching = {};
  this.touching.left = false;
  this.touching.right = false;
  this.touching.top = false;
  this.touching.bottom = false;

  /**
  * The mass determines the velocity transfer when sprites bounce
  * against each other. See Sprite.bounce
  * The higher the mass the least the sprite will be affected by collisions.
  *
  * @property mass
  * @type {Number}
  * @default 1
  */
  this.mass = 1;

  /**
  * If set to true the sprite won't bounce or be displaced by collisions
  * Simulates an infinite mass or an anchored object.
  *
  * @property immovable
  * @type {Boolean}
  * @default false
  */
  this.immovable = false;

  //Coefficient of restitution - velocity lost in the bouncing
  //0 perfectly inelastic , 1 elastic, > 1 hyper elastic

  /**
  * Coefficient of restitution. The velocity lost after bouncing.
  * 1: perfectly elastic, no energy is lost
  * 0: perfectly inelastic, no bouncing
  * less than 1: inelastic, this is the most common in nature
  * greater than 1: hyper elastic, energy is increased like in a pinball bumper
  *
  * @property restitution
  * @type {Number}
  * @default 1
  */
  this.restitution = 1;

  /**
  * Rotation in degrees of the visual element (image or animation)
  * Note: this is not the movement's direction, see getDirection.
  *
  * @property rotation
  * @type {Number}
  * @default 0
  */
  Object.defineProperty(this, 'rotation', {
    enumerable: true,
    get: function() {
      return this._rotation;
    },
    set: function(value) {
      this._rotation = value;
      if (this.rotateToDirection) {
        this.setSpeed(this.getSpeed(), value);
      }
    }
  });

  /**
  * Internal rotation variable (expressed in degrees).
  * Note: external callers access this through the rotation property above.
  *
  * @private
  * @property _rotation
  * @type {Number}
  * @default 0
  */
  this._rotation = 0;

  /**
  * Rotation change in degrees per frame of thevisual element (image or animation)
  * Note: this is not the movement's direction, see getDirection.
  *
  * @property rotationSpeed
  * @type {Number}
  * @default 0
  */
  this.rotationSpeed = 0;


  /**
  * Automatically lock the rotation property of the visual element
  * (image or animation) to the sprite's movement direction and vice versa.
  *
  * @property rotateToDirection
  * @type {Boolean}
  * @default false
  */
  this.rotateToDirection = false;


  /**
  * Determines the rendering order within a group: a sprite with
  * lower depth will appear below the ones with higher depth.
  *
  * Note: drawing a group before another with drawSprites will make
  * its members appear below the second one, like in normal p5 canvas
  * drawing.
  *
  * @property depth
  * @type {Number}
  * @default One more than the greatest existing sprite depth, when calling
  *          createSprite().  When calling new Sprite() directly, depth will
  *          initialize to 0 (not recommended).
  */
  this.depth = 0;

  /**
  * Determines the sprite's scale.
  * Example: 2 will be twice the native size of the visuals,
  * 0.5 will be half. Scaling up may make images blurry.
  *
  * @property scale
  * @type {Number}
  * @default 1
  */
  this.scale = 1;

  var dirX = 1;
  var dirY = 1;

  /**
  * The sprite's visibility.
  *
  * @property visible
  * @type {Boolean}
  * @default true
  */
  this.visible = true;

  /**
  * If set to true sprite will track its mouse state.
  * the properties mouseIsPressed and mouseIsOver will be updated.
  * Note: automatically set to true if the functions
  * onMouseReleased or onMousePressed are set.
  *
  * @property mouseActive
  * @type {Boolean}
  * @default false
  */
  this.mouseActive = false;

  /**
  * True if mouse is on the sprite's collider.
  * Read only.
  *
  * @property mouseIsOver
  * @type {Boolean}
  */
  this.mouseIsOver = false;

  /**
  * True if mouse is pressed on the sprite's collider.
  * Read only.
  *
  * @property mouseIsPressed
  * @type {Boolean}
  */
  this.mouseIsPressed = false;

  /*
  * Width of the sprite's current image.
  * If no images or animations are set it's the width of the
  * placeholder rectangle.
  * Used internally to make calculations and draw the sprite.
  *
  * @private
  * @property _internalWidth
  * @type {Number}
  * @default 100
  */
  this._internalWidth = _w;

  /*
  * Height of the sprite's current image.
  * If no images or animations are set it's the height of the
  * placeholder rectangle.
  * Used internally to make calculations and draw the sprite.
  *
  * @private
  * @property _internalHeight
  * @type {Number}
  * @default 100
  */
  this._internalHeight = _h;

  /*
   * _internalWidth and _internalHeight are used for all p5.play
   * calculations, but width and height can be extended. For example,
   * you may want users to always get and set a scaled width:
      Object.defineProperty(this, 'width', {
        enumerable: true,
        configurable: true,
        get: function() {
          return this._internalWidth * this.scale;
        },
        set: function(value) {
          this._internalWidth = value / this.scale;
        }
      });
   */

  /**
  * Width of the sprite's current image.
  * If no images or animations are set it's the width of the
  * placeholder rectangle.
  *
  * @property width
  * @type {Number}
  * @default 100
  */
  Object.defineProperty(this, 'width', {
    enumerable: true,
    configurable: true,
    get: function() {
      return this._internalWidth;
    },
    set: function(value) {
      this._internalWidth = value;
    }
  });

  if(_w === undefined)
    this.width = 100;
  else
    this.width = _w;

  /**
  * Height of the sprite's current image.
  * If no images or animations are set it's the height of the
  * placeholder rectangle.
  *
  * @property height
  * @type {Number}
  * @default 100
  */
  Object.defineProperty(this, 'height', {
    enumerable: true,
    configurable: true,
    get: function() {
      return this._internalHeight;
    },
    set: function(value) {
      this._internalHeight = value;
    }
  });

  if(_h === undefined)
    this.height = 100;
  else
    this.height = _h;

  /**
  * Unscaled width of the sprite
  * If no images or animations are set it's the width of the
  * placeholder rectangle.
  *
  * @property originalWidth
  * @type {Number}
  * @default 100
  */
  this.originalWidth = this._internalWidth;

  /**
  * Unscaled height of the sprite
  * If no images or animations are set it's the height of the
  * placeholder rectangle.
  *
  * @property originalHeight
  * @type {Number}
  * @default 100
  */
  this.originalHeight = this._internalHeight;

  /**
  * True if the sprite has been removed.
  *
  * @property removed
  * @type {Boolean}
  */
  this.removed = false;

  /**
  * Cycles before self removal.
  * Set it to initiate a countdown, every draw cycle the property is
  * reduced by 1 unit. At 0 it will call a sprite.remove()
  * Disabled if set to -1.
  *
  * @property life
  * @type {Number}
  * @default -1
  */
  this.life = -1;

  /**
  * If set to true, draws an outline of the collider, the depth, and center.
  *
  * @property debug
  * @type {Boolean}
  * @default false
  */
  this.debug = false;

  /**
  * If no image or animations are set this is color of the
  * placeholder rectangle
  *
  * @property shapeColor
  * @type {color}
  */
  this.shapeColor = color(random(255), random(255), random(255));

  /**
  * Groups the sprite belongs to, including allSprites
  *
  * @property groups
  * @type {Array}
  */
  this.groups = [];

  var animations = {};

  //The current animation's label.
  var currentAnimation = '';

  /**
  * Reference to the current animation.
  *
  * @property animation
  * @type {Animation}
  */
  this.animation = undefined;

  /*
   * @private
   * Keep animation properties in sync with how the animation changes.
   */
  this._syncAnimationSizes = function() {
    //has an animation but the collider is still default
    //the animation wasn't loaded. if the animation is not a 1x1 image
    //it means it just finished loading
    if(this.colliderType === 'default' &&
      animations[currentAnimation].getWidth() !== 1 && animations[currentAnimation].getHeight() !== 1)
    {
      this.collider = this.getBoundingBox();
      this.colliderType = 'image';
      this._internalWidth = animations[currentAnimation].getWidth()*abs(this._getScaleX());
      this._internalHeight = animations[currentAnimation].getHeight()*abs(this._getScaleY());
      //quadTree.insert(this);
    }

    //update size and collider
    if(animations[currentAnimation].frameChanged || this.width === undefined || this.height === undefined)
    {
      //this.collider = this.getBoundingBox();
      this._internalWidth = animations[currentAnimation].getWidth()*abs(this._getScaleX());
      this._internalHeight = animations[currentAnimation].getHeight()*abs(this._getScaleY());
    }
  };

  /**
  * Updates the sprite.
  * Called automatically at the beginning of the draw cycle.
  *
  * @method update
  */
  this.update = function() {

    if(!this.removed)
    {
      //if there has been a change somewhere after the last update
      //the old position is the last position registered in the update
      if(this.newPosition !== this.position)
        this.previousPosition = createVector(this.newPosition.x, this.newPosition.y);
      else
        this.previousPosition = createVector(this.position.x, this.position.y);

      this.velocity.x *= 1 - this.friction;
      this.velocity.y *= 1 - this.friction;

      if(this.maxSpeed !== -1)
        this.limitSpeed(this.maxSpeed);

      if(this.rotateToDirection && this.velocity.mag() > 0)
        this._rotation = this.getDirection();

      this.rotation += this.rotationSpeed;

      this.position.x += this.velocity.x;
      this.position.y += this.velocity.y;

      this.newPosition = createVector(this.position.x, this.position.y);

      this.deltaX = this.position.x - this.previousPosition.x;
      this.deltaY = this.position.y - this.previousPosition.y;

      //if there is an animation
      if(animations[currentAnimation])
      {
        //update it
        animations[currentAnimation].update();

        this._syncAnimationSizes();
      }

      //a collider is created either manually with setCollider or
      //when I check this sprite for collisions or overlaps
      if(this.collider)
      {
        if(this.collider instanceof AABB)
        {
        //scale / rotate collider
        var t;
        if (pInst._angleMode === pInst.RADIANS) {
          t = radians(this.rotation);
        } else {
          t = this.rotation;
        }

        if(this.colliderType === 'custom')
          {
          this.collider.extents.x = this.collider.originalExtents.x * abs(this._getScaleX()) * abs(cos(t)) +
          this.collider.originalExtents.y * abs(this._getScaleY()) * abs(sin(t));

          this.collider.extents.y = this.collider.originalExtents.x * abs(this._getScaleX()) * abs(sin(t)) +
          this.collider.originalExtents.y * abs(this._getScaleY()) * abs(cos(t));
          }
        else if(this.colliderType === 'default')
          {
          this.collider.extents.x = this._internalWidth * abs(this._getScaleX()) * abs(cos(t)) +
          this._internalHeight * abs(this._getScaleY()) * abs(sin(t));
          this.collider.extents.y = this._internalWidth * abs(this._getScaleX()) * abs(sin(t)) +
          this._internalHeight * abs(this._getScaleY()) * abs(cos(t));
          }
        else if(this.colliderType === 'image')
          {
          this.collider.extents.x = this._internalWidth * abs(cos(t)) +
          this._internalHeight * abs(sin(t));

          this.collider.extents.y = this._internalWidth * abs(sin(t)) +
          this._internalHeight * abs(cos(t));
          }
        }

        if(this.collider instanceof CircleCollider)
        {
        //print(this.scale);
        this.collider.radius = this.collider.originalRadius * abs(this.scale);
        }

      }//end collider != null

      //mouse actions
      if (this.mouseActive)
      {
        //if no collider set it
          if(!this.collider)
            this.setDefaultCollider();

        this.mouseUpdate();
      }
      else
      {
        if (typeof(this.onMouseOver) === 'function' ||
            typeof(this.onMouseOut) === 'function' ||
            typeof(this.onMousePressed) === 'function' ||
            typeof(this.onMouseReleased) === 'function')
        {
          //if a mouse function is set
          //it's implied we want to have it mouse active so
          //we do this automatically
          this.mouseActive = true;

          //if no collider set it
          if(!this.collider)
            this.setDefaultCollider();

          this.mouseUpdate();
        }
      }

      //self destruction countdown
      if (this.life>0)
        this.life--;
      if (this.life === 0)
        this.remove();
    }
  };//end update

  /**
   * Creates a default collider matching the size of the
   * placeholder rectangle or the bounding box of the image.
   *
   * @method setDefaultCollider
   */
  this.setDefaultCollider = function() {

    //if has animation get the animation bounding box
    //working only for preloaded images
    if(animations[currentAnimation] && (animations[currentAnimation].getWidth() !== 1 && animations[currentAnimation].getHeight() !== 1))
    {
      this.collider = this.getBoundingBox();
      this._internalWidth = animations[currentAnimation].getWidth()*abs(this._getScaleX());
      this._internalHeight = animations[currentAnimation].getHeight()*abs(this._getScaleY());
      //quadTree.insert(this);
      this.colliderType = 'image';
      //print("IMAGE COLLIDER ADDED");
    }
    else if(animations[currentAnimation] && animations[currentAnimation].getWidth() === 1 && animations[currentAnimation].getHeight() === 1)
    {
    //animation is still loading
    //print("wait");
    }
    else //get the with and height defined at the creation
    {
      this.collider = new AABB(pInst, this.position, createVector(this._internalWidth, this._internalHeight));
      //quadTree.insert(this);
      this.colliderType = 'default';
    }

    pInst.quadTree.insert(this);
  };

  /**
   * Updates the sprite mouse states and triggers the mouse events:
   * onMouseOver, onMouseOut, onMousePressed, onMouseReleased
   *
   * @method mouseUpdate
   */
  this.mouseUpdate = function() {

    var mouseWasOver = this.mouseIsOver;
    var mouseWasPressed = this.mouseIsPressed;

    this.mouseIsOver = false;
    this.mouseIsPressed = false;

    var mousePosition;

    if(camera.active)
      mousePosition = createVector(camera.mouseX, camera.mouseY);
    else
      mousePosition = createVector(pInst.mouseX, pInst.mouseY);

      //rollover
      if(this.collider)
      {

        if (this.collider instanceof CircleCollider)
        {
          if (dist(mousePosition.x, mousePosition.y, this.collider.center.x, this.collider.center.y) < this.collider.radius)
            this.mouseIsOver = true;
        } else if (this.collider instanceof AABB)
        {
          if (mousePosition.x > this.collider.left() &&
              mousePosition.y > this.collider.top() &&
              mousePosition.x < this.collider.right() &&
              mousePosition.y < this.collider.bottom())
          {
            this.mouseIsOver = true;
          }
        }

        //global p5 var
        if(this.mouseIsOver && pInst.mouseIsPressed)
          this.mouseIsPressed = true;

        //event change - call functions
        if(!mouseWasOver && this.mouseIsOver && this.onMouseOver !== undefined)
          if(typeof(this.onMouseOver) === 'function')
            this.onMouseOver.call(this, this);
          else
            print('Warning: onMouseOver should be a function');

        if(mouseWasOver && !this.mouseIsOver && this.onMouseOut !== undefined)
          if(typeof(this.onMouseOut) === 'function')
            this.onMouseOut.call(this, this);
          else
            print('Warning: onMouseOut should be a function');

        if(!mouseWasPressed && this.mouseIsPressed && this.onMousePressed !== undefined)
          if(typeof(this.onMousePressed) === 'function')
            this.onMousePressed.call(this, this);
          else
            print('Warning: onMousePressed should be a function');

        if(mouseWasPressed && !pInst.mouseIsPressed && !this.mouseIsPressed && this.onMouseReleased !== undefined)
          if(typeof(this.onMouseReleased) === 'function')
            this.onMouseReleased.call(this, this);
          else
            print('Warning: onMouseReleased should be a function');

      }

  };

  /**
  * Sets a collider for the sprite.
  *
  * In p5.play a Collider is an invisible circle or rectangle
  * that can have any size or position relative to the sprite and which
  * will be used to detect collisions and overlapping with other sprites,
  * or the mouse cursor.
  *
  * If the sprite is checked for collision, bounce, overlapping or mouse events
  * a collider is automatically created from the width and height parameter
  * passed at the creation of the sprite or the from the image dimension in case
  * of animated sprites.
  *
  * Often the image bounding box is not appropriate as the active area for
  * collision detection so you can set a circular or rectangular sprite with
  * different dimensions and offset from the sprite's center.
  *
  * There are four ways to call this method:
  *
  * 1. setCollider("rectangle")
  * 2. setCollider("rectangle", offsetX, offsetY, width, height)
  * 3. setCollider("circle")
  * 4. setCollider("circle", offsetX, offsetY, radius)
  *
  * @method setCollider
  * @param {String} type Either "rectangle" or "circle"
  * @param {Number} offsetX Collider x position from the center of the sprite
  * @param {Number} offsetY Collider y position from the center of the sprite
  * @param {Number} width Collider width or radius
  * @param {Number} height Collider height
  * @throws {TypeError} if given invalid parameters.
  */
  this.setCollider = function(type, offsetX, offsetY, width, height) {
    if (!(type === 'rectangle' || type === 'circle')) {
      throw new TypeError('setCollider expects the first argument to be either "circle" or "rectangle"');
    } else if (type === 'circle' && arguments.length > 1 && arguments.length < 4) {
      throw new TypeError('Usage: setCollider("circle") or setCollider("circle", offsetX, offsetY, radius)');
    } else if (type === 'circle' && arguments.length > 4) {
      pInst._warn('Extra parameters to setCollider were ignored. Usage: setCollider("circle") or setCollider("circle", offsetX, offsetY, radius)');
    } else if (type === 'rectangle' && arguments.length > 1 && arguments.length < 5) {
      throw new TypeError('Usage: setCollider("rectangle") or setCollider("rectangle", offsetX, offsetY, width, height)');
    } else if (type === 'rectangle' && arguments.length > 5) {
      pInst._warn('Extra parameters to setCollider were ignored. Usage: setCollider("rectangle") or setCollider("rectangle", offsetX, offsetY, width, height)');
    }

    this.colliderType = 'custom';

    var v = createVector(offsetX, offsetY);
    if (type === 'rectangle' && arguments.length === 1) {
      this.collider = new AABB(pInst, this.position, createVector(this.width, this.height));
    } else if (type === 'rectangle' && arguments.length >= 5) {
      this.collider = new AABB(pInst, this.position, createVector(width, height), v);
    } else if (type === 'circle' && arguments.length === 1) {
      this.collider = new CircleCollider(pInst, this.position, Math.floor(Math.max(this.width, this.height) / 2));
    } else if (type === 'circle' && arguments.length >= 4) {
      this.collider = new CircleCollider(pInst, this.position, width, v);
    }

    quadTree.insert(this);
  };

  /**
   * Returns a the bounding box of the current image
   * @method getBoundingBox
   */
  this.getBoundingBox = function() {

    var w = animations[currentAnimation].getWidth()*abs(this._getScaleX());
    var h = animations[currentAnimation].getHeight()*abs(this._getScaleY());

    //if the bounding box is 1x1 the image is not loaded
    //potential issue with actual 1x1 images
    if(w === 1 && h === 1) {
      //not loaded yet
      return new AABB(pInst, this.position, createVector(w, h));
    }
    else {
      return new AABB(pInst, this.position, createVector(w, h));
    }
  };

  /**
  * Sets the sprite's horizontal mirroring.
  * If 1 the images displayed normally
  * If -1 the images are flipped horizontally
  * If no argument returns the current x mirroring
  *
  * @method mirrorX
  * @param {Number} dir Either 1 or -1
  * @return {Number} Current mirroring if no parameter is specified
  */
  this.mirrorX = function(dir) {
    if(dir === 1 || dir === -1)
      dirX = dir;
    else
      return dirX;
  };

  /**
  * Sets the sprite's vertical mirroring.
  * If 1 the images displayed normally
  * If -1 the images are flipped vertically
  * If no argument returns the current y mirroring
  *
  * @method mirrorY
  * @param {Number} dir Either 1 or -1
  * @return {Number} Current mirroring if no parameter is specified
  */
  this.mirrorY = function(dir) {
    if(dir === 1 || dir === -1)
      dirY = dir;
    else
      return dirY;
  };

  /*
   * Returns the value the sprite should be scaled in the X direction.
   * Used to calculate rendering and collisions.
   * @private
   */
  this._getScaleX = function()
  {
    return this.scale;
  };

  /*
   * Returns the value the sprite should be scaled in the Y direction.
   * Used to calculate rendering and collisions.
   * @private
   */
  this._getScaleY = function()
  {
    return this.scale;
  };

  /**
   * Manages the positioning, scale and rotation of the sprite
   * Called automatically, it should not be overridden
   * @private
   * @final
   * @method display
   */
  this.display = function()
  {
    if (this.visible && !this.removed)
    {
      push();
      colorMode(RGB);

      noStroke();
      rectMode(CENTER);
      ellipseMode(CENTER);
      imageMode(CENTER);

      translate(this.position.x, this.position.y);
      scale(this._getScaleX()*dirX, this._getScaleY()*dirY);
      if (pInst._angleMode === pInst.RADIANS) {
        rotate(radians(this.rotation));
      } else {
        rotate(this.rotation);
      }
      this.draw();
      //draw debug info
      pop();


      if(this.debug)
      {
        push();
        //draw the anchor point
        stroke(0, 255, 0);
        strokeWeight(1);
        line(this.position.x-10, this.position.y, this.position.x+10, this.position.y);
        line(this.position.x, this.position.y-10, this.position.x, this.position.y+10);
        noFill();

        //depth number
        noStroke();
        fill(0, 255, 0);
        textAlign(LEFT, BOTTOM);
        textSize(16);
        text(this.depth+'', this.position.x+4, this.position.y-2);

        noFill();
        stroke(0, 255, 0);

        //bounding box
        if(this.collider !== undefined)
        {
          this.collider.draw();
        }
        pop();
      }

    }
  };


  /**
  * Manages the visuals of the sprite.
  * It can be overridden with a custom drawing function.
  * The 0,0 point will be the center of the sprite.
  * Example:
  * sprite.draw = function() { ellipse(0,0,10,10) }
  * Will display the sprite as circle.
  *
  * @method draw
  */
  this.draw = function()
  {
    if(currentAnimation !== '' && animations)
    {
      if(animations[currentAnimation])
        animations[currentAnimation].draw(0, 0, 0);
    }
    else
    {
      noStroke();
      fill(this.shapeColor);
      rect(0, 0, this._internalWidth, this._internalHeight);
    }
  };

  /**
   * Removes the Sprite from the sketch.
   * The removed Sprite won't be drawn or updated anymore.
   *
   * @method remove
   */
  this.remove = function() {
    this.removed = true;

    quadTree.removeObject(this);

    //when removed from the "scene" also remove all the references in all the groups
    while (this.groups.length > 0) {
      this.groups[0].remove(this);
    }
  };

  /**
  * Sets the velocity vector.
  *
  * @method setVelocity
  * @param {Number} x X component
  * @param {Number} y Y component
  */
  this.setVelocity = function(x, y) {
    this.velocity.x = x;
    this.velocity.y = y;
  };

  /**
  * Calculates the scalar speed.
  *
  * @method getSpeed
  * @return {Number} Scalar speed
  */
  this.getSpeed = function() {
    return this.velocity.mag();
  };

  /**
  * Calculates the movement's direction in degrees.
  *
  * @method getDirection
  * @return {Number} Angle in degrees
  */
  this.getDirection = function() {

    var direction = atan2(this.velocity.y, this.velocity.x);

    if(isNaN(direction))
      direction = 0;

    // Unlike Math.atan2, the atan2 method above will return degrees if
    // the current p5 angleMode is DEGREES, and radians if the p5 angleMode is
    // RADIANS.  This method should always return degrees (for now).
    // See https://github.com/molleindustria/p5.play/issues/94
    if (pInst._angleMode === pInst.RADIANS) {
      direction = degrees(direction);
    }

    return direction;
  };

  /**
  * Adds the sprite to an existing group
  *
  * @method addToGroup
  * @param {Object} group
  */
  this.addToGroup = function(group) {
    if(group instanceof Array)
      group.add(this);
    else
      print('addToGroup error: '+group+' is not a group');
  };

  /**
  * Limits the scalar speed.
  *
  * @method limitSpeed
  * @param {Number} max Max speed: positive number
  */
  this.limitSpeed = function(max) {

    //update linear speed
    var speed = this.getSpeed();

    if(abs(speed)>max)
    {
      //find reduction factor
      var k = max/abs(speed);
      this.velocity.x *= k;
      this.velocity.y *= k;
    }
  };

  /**
  * Set the speed and direction of the sprite.
  * The action overwrites the current velocity.
  * If direction is not supplied, the current direction is maintained.
  * If direction is not supplied and there is no current velocity, the current
  * rotation angle used for the direction.
  *
  * @method setSpeed
  * @param {Number}  speed Scalar speed
  * @param {Number}  [angle] Direction in degrees
  */
  this.setSpeed = function(speed, angle) {
    var a;
    if (typeof angle === 'undefined') {
      if (this.velocity.x !== 0 || this.velocity.y !== 0) {
        a = pInst.atan2(this.velocity.y, this.velocity.x);
      } else {
        if (pInst._angleMode === pInst.RADIANS) {
          a = radians(this._rotation);
        } else {
          a = this._rotation;
        }
      }
    } else {
      if (pInst._angleMode === pInst.RADIANS) {
        a = radians(angle);
      } else {
        a = angle;
      }
    }
    this.velocity.x = cos(a)*speed;
    this.velocity.y = sin(a)*speed;
  };

  /**
  * Pushes the sprite in a direction defined by an angle.
  * The force is added to the current velocity.
  *
  * @method addSpeed
  * @param {Number}  speed Scalar speed to add
  * @param {Number}  angle Direction in degrees
  */
  this.addSpeed = function(speed, angle) {
    var a;
    if (pInst._angleMode === pInst.RADIANS) {
      a = radians(angle);
    } else {
      a = angle;
    }
    this.velocity.x += cos(a) * speed;
    this.velocity.y += sin(a) * speed;
  };

  /**
  * Pushes the sprite toward a point.
  * The force is added to the current velocity.
  *
  * @method attractionPoint
  * @param {Number}  magnitude Scalar speed to add
  * @param {Number}  pointX Direction x coordinate
  * @param {Number}  pointY Direction y coordinate
  */
  this.attractionPoint = function(magnitude, pointX, pointY) {
    var angle = atan2(pointY-this.position.y, pointX-this.position.x);
    this.velocity.x += cos(angle) * magnitude;
    this.velocity.y += sin(angle) * magnitude;
  };


  /**
  * Adds an image to the sprite.
  * An image will be considered a one-frame animation.
  * The image should be preloaded in the preload() function using p5 loadImage.
  * Animations require a identifying label (string) to change them.
  * The image is stored in the sprite but not necessarily displayed
  * until Sprite.changeAnimation(label) is called
  *
  * Usages:
  * - sprite.addImage(label, image);
  * - sprite.addImage(image);
  *
  * If only an image is passed no label is specified
  *
  * @method addImage
  * @param {String|p5.Image} label Label or image
  * @param {p5.Image} [img] Image
  */
  this.addImage = function()
  {
    if(typeof arguments[0] === 'string' && arguments[1] instanceof p5.Image)
      this.addAnimation(arguments[0], arguments[1]);
    else if(arguments[0] instanceof p5.Image)
      this.addAnimation('normal', arguments[0]);
    else
      throw('addImage error: allowed usages are <image> or <label>, <image>');
  };

  /**
  * Adds an animation to the sprite.
  * The animation should be preloaded in the preload() function
  * using loadAnimation.
  * Animations require a identifying label (string) to change them.
  * Animations are stored in the sprite but not necessarily displayed
  * until Sprite.changeAnimation(label) is called.
  *
  * Usage:
  * - sprite.addAnimation(label, animation);
  *
  * Alternative usages. See Animation for more information on file sequences:
  * - sprite.addAnimation(label, firstFrame, lastFrame);
  * - sprite.addAnimation(label, frame1, frame2, frame3...);
  *
  * @method addAnimation
  * @param {String} label Animation identifier
  * @param {Animation} animation The preloaded animation
  */
  this.addAnimation = function(label)
  {
    var anim;

    if(typeof label !== 'string')
    {
      print('Sprite.addAnimation error: the first argument must be a label (String)');
      return -1;
    }
    else if(arguments.length < 2)
    {
      print('addAnimation error: you must specify a label and n frame images');
      return -1;
    }
    else if(arguments[1] instanceof Animation)
    {

      var sourceAnimation = arguments[1];

      var newAnimation = sourceAnimation.clone();

      animations[label] = newAnimation;

      if(currentAnimation === '')
      {
        currentAnimation = label;
        this.animation = newAnimation;
      }

      newAnimation.isSpriteAnimation = true;

      this._internalWidth = newAnimation.getWidth()*abs(this._getScaleX());
      this._internalHeight = newAnimation.getHeight()*abs(this._getScaleY());

      return newAnimation;
    }
    else
    {
      var animFrames = [];
      for(var i=1; i<arguments.length; i++)
        animFrames.push(arguments[i]);

      anim = construct(pInst.Animation, animFrames);
      animations[label] = anim;

      if(currentAnimation === '')
      {
        currentAnimation = label;
        this.animation = anim;
      }
      anim.isSpriteAnimation = true;

      this._internalWidth = anim.getWidth()*abs(this._getScaleX());
      this._internalHeight = anim.getHeight()*abs(this._getScaleY());

      return anim;
    }

  };

  /**
  * Changes the displayed image/animation.
  * Equivalent to changeAnimation
  *
  * @method changeImage
  * @param {String} label Image/Animation identifier
  */
  this.changeImage = function(label) {
    this.changeAnimation(label);
  };

   /**
  * Returns the label of the current animation
  *
  * @method getAnimationLabel
  * @return {String} label Image/Animation identifier
  */
  this.getAnimationLabel = function() {
    return currentAnimation;
  };

  /**
  * Changes the displayed animation.
  * See Animation for more control over the sequence.
  *
  * @method changeAnimation
  * @param {String} label Animation identifier
  */
  this.changeAnimation = function(label) {
    if(!animations[label])
      print('changeAnimation error: no animation labeled '+label);
    else
    {
      currentAnimation = label;
      this.animation = animations[label];
    }
  };

  /**
  * Checks if the given point corresponds to a transparent pixel
  * in the sprite's current image. It can be used to check a point collision
  * against only the visible part of the sprite.
  *
  * @method overlapPixel
  * @param {Number} pointX x coordinate of the point to check
  * @param {Number} pointY y coordinate of the point to check
  * @return {Boolean} result True if non-transparent
  */
  this.overlapPixel = function(pointX, pointY) {
    var point = createVector(pointX, pointY);

    var img = this.animation.getFrameImage();

    //convert point to img relative position
    point.x -= this.position.x-img.width/2;
    point.y -= this.position.y-img.height/2;

    //out of the image entirely
    if(point.x<0 || point.x>img.width || point.y<0 || point.y>img.height)
      return false;
    else if(this.rotation === 0 && this.scale === 1)
    {
      //true if full opacity
      var values = img.get(point.x, point.y);
      return values[3] === 255;
    }
    else
    {
      print('Error: overlapPixel doesn\'t work with scaled or rotated sprites yet');
      //offscreen printing to be implemented bleurch
      return false;
    }
  };

  /**
  * Checks if the given point is inside the sprite's collider.
  *
  * @method overlapPoint
  * @param {Number} pointX x coordinate of the point to check
  * @param {Number} pointY y coordinate of the point to check
  * @return {Boolean} result True if inside
  */
  this.overlapPoint = function(pointX, pointY) {
    var point = createVector(pointX, pointY);

    if(!this.collider)
      this.setDefaultCollider();

    if(this.collider !== undefined)
    {
      if(this.collider instanceof AABB)
        return (point.x > this.collider.left() && point.x < this.collider.right() && point.y > this.collider.top() && point.y < this.collider.bottom());
      if(this.collider instanceof CircleCollider)
      {
        var sqRadius = this.collider.radius * this.collider.radius;
        var sqDist = pow(this.collider.center.x - point.x, 2) + pow(this.collider.center.y - point.y, 2);
        return sqDist<sqRadius;
      }
      else
        return false;
    }
    else
      return false;

  };


  /**
  * Checks if the the sprite is overlapping another sprite or a group.
  * The check is performed using the colliders. If colliders are not set
  * they will be created automatically from the image/animation bounding box.
  *
  * A callback function can be specified to perform additional operations
  * when the overlap occours.
  * If the target is a group the function will be called for each single
  * sprite overlapping. The parameter of the function are respectively the
  * current sprite and the colliding sprite.
  *
  * @example
  *     sprite.overlap(otherSprite, explosion);
  *
  *     function explosion(spriteA, spriteB) {
  *       spriteA.remove();
  *       spriteB.score++;
  *     }
  *
  * @method overlap
  * @param {Object} target Sprite or group to check against the current one
  * @param {Function} [callback] The function to be called if overlap is positive
  * @return {Boolean} True if overlapping
  */
  this.overlap = function(target, callback) {
    //if(this.collider instanceof AABB && target.collider instanceof AABB)
    return this.AABBops('overlap', target, callback);
  };

  /**
  * Checks if the the sprite is overlapping another sprite or a group.
  * If the overlap is positive the current sprite will be displace by
  * the colliding one in the closest non-overlapping position.
  *
  * The check is performed using the colliders. If colliders are not set
  * they will be created automatically from the image/animation bounding box.
  *
  * A callback function can be specified to perform additional operations
  * when the collision occours.
  * If the target is a group the function will be called for each single
  * sprite colliding. The parameter of the function are respectively the
  * current sprite and the colliding sprite.
  *
  * @example
  *     sprite.collide(otherSprite, explosion);
  *
  *     function explosion(spriteA, spriteB) {
  *       spriteA.remove();
  *       spriteB.score++;
  *     }
  *
  * @method collide
  * @param {Object} target Sprite or group to check against the current one
  * @param {Function} [callback] The function to be called if overlap is positive
  * @return {Boolean} True if overlapping
  */
  this.collide = function(target, callback) {
    //if(this.collider instanceof AABB && target.collider instanceof AABB)
    return this.AABBops('collide', target, callback);
  };

  /**
  * Checks if the the sprite is overlapping another sprite or a group.
  * If the overlap is positive the current sprite will displace
  * the colliding one to the closest non-overlapping position.
  *
  * The check is performed using the colliders. If colliders are not set
  * they will be created automatically from the image/animation bounding box.
  *
  * A callback function can be specified to perform additional operations
  * when the collision occours.
  * If the target is a group the function will be called for each single
  * sprite colliding. The parameter of the function are respectively the
  * current sprite and the colliding sprite.
  *
  * @example
  *     sprite.displace(otherSprite, explosion);
  *
  *     function explosion(spriteA, spriteB) {
  *       spriteA.remove();
  *       spriteB.score++;
  *     }
  *
  * @method displace
  * @param {Object} target Sprite or group to check against the current one
  * @param {Function} [callback] The function to be called if overlap is positive
  * @return {Boolean} True if overlapping
  */
  this.displace = function(target, callback) {
    return this.AABBops('displace', target, callback);
  };

  /**
  * Checks if the the sprite is overlapping another sprite or a group.
  * If the overlap is positive the sprites will bounce affecting each
  * other's trajectories depending on their .velocity, .mass and .restitution
  *
  * The check is performed using the colliders. If colliders are not set
  * they will be created automatically from the image/animation bounding box.
  *
  * A callback function can be specified to perform additional operations
  * when the collision occours.
  * If the target is a group the function will be called for each single
  * sprite colliding. The parameter of the function are respectively the
  * current sprite and the colliding sprite.
  *
  * @example
  *     sprite.bounce(otherSprite, explosion);
  *
  *     function explosion(spriteA, spriteB) {
  *       spriteA.remove();
  *       spriteB.score++;
  *     }
  *
  * @method bounce
  * @param {Object} target Sprite or group to check against the current one
  * @param {Function} [callback] The function to be called if overlap is positive
  * @return {Boolean} True if overlapping
  */
  this.bounce = function(target, callback) {
    return this.AABBops('bounce', target, callback);
  };

  // Internal collision detection function. Do not use directly.
  this.AABBops = function(type, target, callback) {

    this.touching.left = false;
    this.touching.right = false;
    this.touching.top = false;
    this.touching.bottom = false;

    var result = false;

    //if single sprite turn into array anyway
    var others = [];

    if(target instanceof Sprite)
      others.push(target);
    else if(target instanceof Array)
    {
      if(quadTree !== undefined && quadTree.active)
        others = quadTree.retrieveFromGroup( this, target);

      if(others.length === 0)
        others = target;

    }
    else
      throw('Error: overlap can only be checked between sprites or groups');

    for(var i=0; i<others.length; i++)
      if(this !== others[i] && !this.removed) //you can check collisions within the same group but not on itself
      {
        var displacement;
        var other = others[i];

        if(this.collider === undefined)
          this.setDefaultCollider();

        if(other.collider === undefined)
          other.setDefaultCollider();

        /*
        if(this.colliderType=="default" && animations[currentAnimation]!=null)
        {
          print("busted");
          return false;
        }*/
        if(this.collider !== undefined && other.collider !== undefined)
        {
        if(type === 'overlap') {
            var over;

            //if the other is a circle I calculate the displacement from here
            if(this.collider instanceof CircleCollider)
                over = other.collider.overlap(this.collider);
            else
                over = this.collider.overlap(other.collider);

            if(over)
            {

              result = true;

              if(callback !== undefined && typeof callback === 'function')
                callback.call(this, this, other);
            }
          }
        else if(type === 'collide' || type === 'displace' || type === 'bounce')
          {
            displacement = createVector(0, 0);

            //if the sum of the speed is more than the collider i may
            //have a tunnelling problem
            var tunnelX = abs(this.velocity.x-other.velocity.x) >= other.collider.extents.x/2 && round(this.deltaX - this.velocity.x) === 0;

            var tunnelY = abs(this.velocity.y-other.velocity.y) >= other.collider.size().y/2 && round(this.deltaY - this.velocity.y) === 0;


            if(tunnelX || tunnelY)
            {
              //instead of using the colliders I use the bounding box
              //around the previous position and current position
              //this is regardless of the collider type

              //the center is the average of the coll centers
              var c = createVector(
                (this.position.x+this.previousPosition.x)/2,
                (this.position.y+this.previousPosition.y)/2);

              //the extents are the distance between the coll centers
              //plus the extents of both
              var e = createVector(
                abs(this.position.x -this.previousPosition.x) + this.collider.extents.x,
                abs(this.position.y -this.previousPosition.y) + this.collider.extents.y);

              var bbox = new AABB(pInst, c, e, this.collider.offset);

              //bbox.draw();

              if(bbox.overlap(other.collider))
              {
                if(tunnelX) {

                  //entering from the right
                  if(this.velocity.x < 0)
                    displacement.x = other.collider.right() - this.collider.left() + 1;
                  else if(this.velocity.x > 0 )
                    displacement.x = other.collider.left() - this.collider.right() -1;
                  }

                if(tunnelY) {
                  //from top
                  if(this.velocity.y > 0)
                    displacement.y = other.collider.top() - this.collider.bottom() - 1;
                  else if(this.velocity.y < 0 )
                    displacement.y = other.collider.bottom() - this.collider.top() + 1;

                  }

              }//end overlap

            }
            else //non tunnel overlap
            {

              //if the other is a circle I calculate the displacement from here
              //and reverse it
              if(this.collider instanceof CircleCollider)
                {
                displacement = other.collider.collide(this.collider).mult(-1);
                }
              else
                displacement = this.collider.collide(other.collider);

            }

            if(displacement.x !== 0 || displacement.y !== 0)
            {
              var newVelX1, newVelY1, newVelX2, newVelY2;

              if (type === 'displace' && !other.immovable) {
                other.position.sub(displacement);
              } else if ((type === 'collide' || type === 'bounce') && !this.immovable) {
                this.position.add(displacement);
                this.previousPosition = createVector(this.position.x, this.position.y);
                this.newPosition = createVector(this.position.x, this.position.y);
              }

              if(displacement.x > 0)
                this.touching.left = true;
              if(displacement.x < 0)
                this.touching.right = true;
              if(displacement.y < 0)
                this.touching.bottom = true;
              if(displacement.y > 0)
                this.touching.top = true;

              if(type === 'bounce')
              {
                if (this.collider instanceof CircleCollider && other.collider instanceof CircleCollider) {
                  var dx1 = p5.Vector.sub(this.position, other.position);
                  var dx2 = p5.Vector.sub(other.position, this.position);
                  var magnitude = dx1.magSq();
                  var totalMass = this.mass + other.mass;
                  var m1 = 0, m2 = 0;
                  if (this.immovable) {
                    m2 = 2;
                  } else if (other.immovable) {
                    m1 = 2;
                  } else {
                    m1 = 2 * other.mass / totalMass;
                    m2 = 2 * this.mass / totalMass;
                  }
                  var newVel1 = dx1.mult(m1 * p5.Vector.sub(this.velocity, other.velocity).dot(dx1) / magnitude);
                  var newVel2 = dx2.mult(m2 * p5.Vector.sub(other.velocity, this.velocity).dot(dx2) / magnitude);

                  this.velocity.sub(newVel1.mult(this.restitution));
                  other.velocity.sub(newVel2.mult(other.restitution));
                }
                else {
                if(other.immovable)
                {
                  newVelX1 = -this.velocity.x+other.velocity.x;
                  newVelY1 = -this.velocity.y+other.velocity.y;
                }
                else
                {
                  newVelX1 = (this.velocity.x * (this.mass - other.mass) + (2 * other.mass * other.velocity.x)) / (this.mass + other.mass);
                  newVelY1 = (this.velocity.y * (this.mass - other.mass) + (2 * other.mass * other.velocity.y)) / (this.mass + other.mass);
                  newVelX2 = (other.velocity.x * (other.mass - this.mass) + (2 * this.mass * this.velocity.x)) / (this.mass + other.mass);
                  newVelY2 = (other.velocity.y * (other.mass - this.mass) + (2 * this.mass * this.velocity.y)) / (this.mass + other.mass);
                }

                //var bothCircles = (this.collider instanceof CircleCollider &&
                //                   other.collider  instanceof CircleCollider);

                //if(this.touching.left || this.touching.right || this.collider instanceof CircleCollider)

                //print(displacement);

                if(abs(displacement.x)>abs(displacement.y))
                {


                  if(!this.immovable)
                  {
                    this.velocity.x = newVelX1*this.restitution;

                  }

                  if(!other.immovable)
                    other.velocity.x = newVelX2*other.restitution;

                }
                //if(this.touching.top || this.touching.bottom || this.collider instanceof CircleCollider)
                if(abs(displacement.x)<abs(displacement.y))
                {

                  if(!this.immovable)
                    this.velocity.y = newVelY1*this.restitution;

                  if(!other.immovable)
                    other.velocity.y = newVelY2*other.restitution;
                }
                }
              }
              //else if(type == "collide")
                //this.velocity = createVector(0,0);

              if(callback !== undefined && typeof callback === 'function')
                callback.call(this, this, other);

              result = true;
            }
          }
        }//end collider exists
      }

    return result;
  };
} //end Sprite class

defineLazyP5Property('Sprite', boundConstructorFactory(Sprite));

/**
   * A camera facilitates scrolling and zooming for scenes extending beyond
   * the canvas. A camera has a position, a zoom factor, and the mouse
   * coordinates relative to the view.
   * The camera is automatically created on the first draw cycle.
   *
   * In p5.js terms the camera wraps the whole drawing cycle in a
   * transformation matrix but it can be disable anytime during the draw
   * cycle for example to draw interface elements in an absolute position.
   *
   * @class Camera
   * @constructor
   * @param {Number} x Initial x coordinate
   * @param {Number} y Initial y coordinate
   * @param {Number} zoom magnification
   **/
function Camera(pInst, x, y, zoom) {
  /**
  * Camera position. Defines the global offset of the sketch.
  *
  * @property position
  * @type {p5.Vector}
  */
  this.position = pInst.createVector(x, y);

  /**
  * Camera zoom. Defines the global scale of the sketch.
  * A scale of 1 will be the normal size. Setting it to 2 will make everything
  * twice the size. .5 will make everything half size.
  *
  * @property zoom
  * @type {Number}
  */
  this.zoom = zoom;

  /**
  * MouseX translated to the camera view.
  * Offsetting and scaling the canvas will not change the sprites' position
  * nor the mouseX and mouseY variables. Use this property to read the mouse
  * position if the camera moved or zoomed.
  *
  * @property mouseX
  * @type {Number}
  */
  this.mouseX = pInst.mouseX;

  /**
  * MouseY translated to the camera view.
  * Offsetting and scaling the canvas will not change the sprites' position
  * nor the mouseX and mouseY variables. Use this property to read the mouse
  * position if the camera moved or zoomed.
  *
  * @property mouseY
  * @type {Number}
  */
  this.mouseY = pInst.mouseY;

  /**
  * True if the camera is active.
  * Read only property. Use the methods Camera.on() and Camera.off()
  * to enable or disable the camera.
  *
  * @property active
  * @type {Boolean}
  */
  this.active = false;

  /**
  * Activates the camera.
  * The canvas will be drawn according to the camera position and scale until
  * Camera.off() is called
  *
  * @method on
  */
  this.on = function() {
    if(!this.active)
    {
      cameraPush.call(pInst);
      this.active = true;
    }
  };

  /**
  * Deactivates the camera.
  * The canvas will be drawn normally, ignoring the camera's position
  * and scale until Camera.on() is called
  *
  * @method off
  */
  this.off = function() {
    if(this.active)
    {
      cameraPop.call(pInst);
      this.active = false;
    }
  };
} //end camera class

defineLazyP5Property('Camera', boundConstructorFactory(Camera));

//called pre draw by default
function cameraPush() {
  var pInst = this;
  var camera = pInst.camera;

  //awkward but necessary in order to have the camera at the center
  //of the canvas by default
  if(!camera.init && camera.position.x === 0 && camera.position.y === 0)
    {
    camera.position.x=pInst.width/2;
    camera.position.y=pInst.height/2;
    camera.init = true;
    }

  camera.mouseX = pInst.mouseX+camera.position.x-pInst.width/2;
  camera.mouseY = pInst.mouseY+camera.position.y-pInst.height/2;

  if(!camera.active)
  {
    camera.active = true;
    pInst.push();
    pInst.scale(camera.zoom);
    pInst.translate(-camera.position.x+pInst.width/2/camera.zoom, -camera.position.y+pInst.height/2/camera.zoom);
  }
}

//called postdraw by default
function cameraPop() {
  var pInst = this;

  if(pInst.camera.active)
  {
    pInst.pop();
    pInst.camera.active = false;
  }
}




/**
   * In p5.play groups are collections of sprites with similar behavior.
   * For example a group may contain all the sprites in the background
   * or all the sprites that "kill" the player.
   *
   * Groups are "extended" arrays and inherit all their properties
   * e.g. group.length
   *
   * Since groups contain only references, a sprite can be in multiple
   * groups and deleting a group doesn't affect the sprites themselves.
   *
   * Sprite.remove() will also remove the sprite from all the groups
   * it belongs to.
   *
   * @class Group
   * @constructor
   */
function Group() {

  //basically extending the array
  var array = [];

  /**
  * Gets the member at index i.
  *
  * @method get
  * @param {Number} i The index of the object to retrieve
  */
  array.get = function(i) {
    return array[i];
  };

  /**
  * Checks if the group contains a sprite.
  *
  * @method contains
  * @param {Sprite} sprite The sprite to search
  * @return {Number} Index or -1 if not found
  */
  array.contains = function(sprite) {
    return this.indexOf(sprite)>-1;
  };

  /**
   * Same as Group.contains
   * @method indexOf
   */
  array.indexOf = function(item) {
    for (var i = 0, len = array.length; i < len; ++i) {
      if (virtEquals(item, array[i])) {
        return i;
      }
    }
    return -1;
  };

  /**
  * Adds a sprite to the group.
  *
  * @method add
  * @param {Sprite} s The sprite to be added
  */
  array.add = function(s) {
    if(!(s instanceof Sprite)) {
      throw('Error: you can only add sprites to a group');
    }

    if (-1 === this.indexOf(s)) {
      array.push(s);
      s.groups.push(this);
    }
  };

  /**
   * Same as group.length
   * @method size
   */
  array.size = function() {
    return array.length;
  };

  /**
  * Removes all the sprites in the group
  * from the scene.
  *
  * @method removeSprites
  */
  array.removeSprites = function() {
    while (array.length > 0) {
      array[0].remove();
    }
  };

  /**
  * Removes all references to the group.
  * Does not remove the actual sprites.
  *
  * @method clear
  */
  array.clear = function() {
    array.length = 0;
  };

  /**
  * Removes a sprite from the group.
  * Does not remove the actual sprite, only the affiliation (reference).
  *
  * @method remove
  * @param {Sprite} item The sprite to be removed
  * @return {Boolean} True if sprite was found and removed
  */
  array.remove = function(item) {
    if(!(item instanceof Sprite)) {
      throw('Error: you can only remove sprites from a group');
    }

    var i, removed = false;
    for (i = array.length - 1; i >= 0; i--) {
      if (array[i] === item) {
        array.splice(i, 1);
        removed = true;
      }
    }

    if (removed) {
      for (i = item.groups.length - 1; i >= 0; i--) {
        if (item.groups[i] === this) {
          item.groups.splice(i, 1);
        }
      }
    }

    return removed;
  };

  /**
   * Returns a copy of the group as standard array.
   * @method toArray
   */
  array.toArray = function() {
    return array.slice(0);
  };

  /**
  * Returns the highest depth in a group
  *
  * @method maxDepth
  * @return {Number} The depth of the sprite drawn on the top
  */
  array.maxDepth = function() {
    if (array.length === 0) {
      return 0;
    }

    return array.reduce(function(maxDepth, sprite) {
      return Math.max(maxDepth, sprite.depth);
    }, -Infinity);
  };

  /**
  * Returns the lowest depth in a group
  *
  * @method minDepth
  * @return {Number} The depth of the sprite drawn on the bottom
  */
  array.minDepth = function() {
    if (array.length === 0) {
      return 99999;
    }

    return array.reduce(function(minDepth, sprite) {
      return Math.min(minDepth, sprite.depth);
    }, Infinity);
  };

  /**
  * Draws all the sprites in the group.
  *
  * @method draw
  */
  array.draw = function() {

    //sort by depth
    this.sort(function(a, b) {
      return a.depth - b.depth;
    });

    for(var i = 0; i<this.size(); i++)
    {
      this.get(i).display();
    }
  };

  //internal use
  function virtEquals(obj, other) {
    if (obj === null || other === null) {
      return (obj === null) && (other === null);
    }
    if (typeof (obj) === 'string') {
      return obj === other;
    }
    if (typeof(obj) !== 'object') {
      return obj === other;
    }
    if (obj.equals instanceof Function) {
      return obj.equals(other);
    }
    return obj === other;
  }

  /**
   * Collide each member of group against the target using the given collision
   * type.  Return true if any collision occurred.
   * Internal use
   *
   * @private
   * @method _groupCollide
   * @param {!string} type one of 'overlap', 'collide', 'displace', 'bounce'
   * @param {Object} target Group or Sprite
   * @param {Function} [callback] on collision.
   * @return {boolean} True if any collision/overlap occurred
   */
  function _groupCollide(type, target, callback) {
    var didCollide = false;
    for(var i = 0; i<this.size(); i++)
      didCollide = this.get(i).AABBops(type, target, callback) || didCollide;
    return didCollide;
  }

  /**
  * Checks if the the group is overlapping another group or sprite.
  * The check is performed using the colliders. If colliders are not set
  * they will be created automatically from the image/animation bounding box.
  *
  * A callback function can be specified to perform additional operations
  * when the overlap occurs.
  * The function will be called for each single sprite overlapping.
  * The parameter of the function are respectively the
  * member of the current group and the other sprite passed as parameter.
  *
  * @example
  *     group.overlap(otherSprite, explosion);
  *
  *     function explosion(spriteA, spriteB) {
  *       spriteA.remove();
  *       spriteB.score++;
  *     }
  *
  * @method overlap
  * @param {Object} target Group or Sprite to check against the current one
  * @param {Function} [callback] The function to be called if overlap is positive
  * @return {Boolean} True if overlapping
  */
  array.overlap = _groupCollide.bind(array, 'overlap');


  /**
  * Checks if the the group is overlapping another group or sprite.
  * If the overlap is positive the sprites in the group will be displaced
  * by the colliding one to the closest non-overlapping positions.
  *
  * The check is performed using the colliders. If colliders are not set
  * they will be created automatically from the image/animation bounding box.
  *
  * A callback function can be specified to perform additional operations
  * when the overlap occours.
  * The function will be called for each single sprite overlapping.
  * The parameter of the function are respectively the
  * member of the current group and the other sprite passed as parameter.
  *
  * @example
  *     group.collide(otherSprite, explosion);
  *
  *     function explosion(spriteA, spriteB) {
  *       spriteA.remove();
  *       spriteB.score++;
  *     }
  *
  * @method collide
  * @param {Object} target Group or Sprite to check against the current one
  * @param {Function} [callback] The function to be called if overlap is positive
  * @return {Boolean} True if overlapping
  */
  array.collide = _groupCollide.bind(array, 'collide');

  /**
  * Checks if the the group is overlapping another group or sprite.
  * If the overlap is positive the sprites in the group will displace
  * the colliding ones to the closest non-overlapping positions.
  *
  * The check is performed using the colliders. If colliders are not set
  * they will be created automatically from the image/animation bounding box.
  *
  * A callback function can be specified to perform additional operations
  * when the overlap occurs.
  * The function will be called for each single sprite overlapping.
  * The parameter of the function are respectively the
  * member of the current group and the other sprite passed as parameter.
  *
  * @example
  *     group.displace(otherSprite, explosion);
  *
  *     function explosion(spriteA, spriteB) {
  *       spriteA.remove();
  *       spriteB.score++;
  *     }
  *
  * @method displace
  * @param {Object} target Group or Sprite to check against the current one
  * @param {Function} [callback] The function to be called if overlap is positive
  * @return {Boolean} True if overlapping
  */
  array.displace = _groupCollide.bind(array, 'displace');

  /**
  * Checks if the the group is overlapping another group or sprite.
  * If the overlap is positive the sprites will bounce affecting each
  * other's trajectories depending on their .velocity, .mass and .restitution.
  *
  * The check is performed using the colliders. If colliders are not set
  * they will be created automatically from the image/animation bounding box.
  *
  * A callback function can be specified to perform additional operations
  * when the overlap occours.
  * The function will be called for each single sprite overlapping.
  * The parameter of the function are respectively the
  * member of the current group and the other sprite passed as parameter.
  *
  * @example
  *     group.bounce(otherSprite, explosion);
  *
  *     function explosion(spriteA, spriteB) {
  *       spriteA.remove();
  *       spriteB.score++;
  *     }
  *
  * @method bounce
  * @param {Object} target Group or Sprite to check against the current one
  * @param {Function} [callback] The function to be called if overlap is positive
  * @return {Boolean} True if overlapping
  */
  array.bounce = _groupCollide.bind(array, 'bounce');

  return array;
}

p5.prototype.Group = Group;

//circle collider - used internally
function CircleCollider(pInst, _center, _radius, _offset) {
  var pInstBind = createPInstBinder(pInst);

  var createVector = pInstBind('createVector');

  var CENTER = p5.prototype.CENTER;

  this.center = _center;
  this.radius = _radius;
  this.originalRadius = _radius;

  if(_offset === undefined)
    this.offset = createVector(0, 0);
  else
    this.offset = _offset;
  this.extents = createVector(_radius*2, _radius*2);

  this.draw = function()
  {
    pInst.noFill();
    pInst.stroke(0, 255, 0);
    pInst.rectMode(CENTER);
    pInst.ellipse(this.center.x+this.offset.x, this.center.y+this.offset.y, this.radius*2, this.radius*2);
  };

  //should be called only for circle vs circle
  this.overlap = function(other)
  {
    //square dist
    var r = this.radius + other.radius;
    r *= r;
    var thisCenterX = this.center.x + this.offset.x;
    var thisCenterY = this.center.y + this.offset.y;
    var otherCenterX = other.center.x + other.offset.x;
    var otherCenterY = other.center.y + other.offset.y;
    var sqDist = pow(thisCenterX - otherCenterX, 2) + pow(thisCenterY - otherCenterY, 2);
    return r > sqDist;
  };

  //should be called only for circle vs circle
  this.collide = function(other)
  {
    if(this.overlap(other)) {
      var thisCenterX = this.center.x + this.offset.x;
      var thisCenterY = this.center.y + this.offset.y;
      var otherCenterX = other.center.x + other.offset.x;
      var otherCenterY = other.center.y + other.offset.y;
      var a = pInst.atan2(thisCenterY-otherCenterY, thisCenterX-otherCenterX);
      var radii = this.radius+other.radius;
      var intersection = abs(radii - dist(thisCenterX, thisCenterY, otherCenterX, otherCenterY));

      var displacement = createVector(pInst.cos(a)*intersection, pInst.sin(a)*intersection);

      return displacement;
    } else {
      return createVector(0, 0);
    }
  };

  this.size = function()
  {
    return createVector(this.radius*2, this.radius*2);
  };

  this.left = function()
  {
    return this.center.x+this.offset.x - this.radius;
  };

  this.right = function()
  {
    return this.center.x+this.offset.x + this.radius;
  };

  this.top = function()
  {
    return this.center.y+this.offset.y - this.radius;
  };

  this.bottom = function()
  {
    return this.center.y+this.offset.y + this.radius;
  };



}
defineLazyP5Property('CircleCollider', boundConstructorFactory(CircleCollider));

//axis aligned bounding box - extents are the half sizes - used internally
function AABB(pInst, _center, _extents, _offset) {
  var pInstBind = createPInstBinder(pInst);

  var createVector = pInstBind('createVector');

  var CENTER = p5.prototype.CENTER;
  var PI = p5.prototype.PI;

  this.center = _center;
  this.extents = _extents;
  this.originalExtents = _extents.copy();

  if(_offset === undefined)
    this.offset = createVector(0, 0);
  else
    this.offset = _offset;

  this.min = function()
  {
    return createVector(this.center.x+this.offset.x - this.extents.x, this.center.y+this.offset.y - this.extents.y);
  };

  this.max = function()
  {
    return createVector(this.center.x+this.offset.x + this.extents.x, this.center.y+this.offset.y + this.extents.y);
  };

  this.right = function()
  {
    return this.center.x+this.offset.x + this.extents.x/2;
  };

  this.left = function()
  {
    return this.center.x+this.offset.x - this.extents.x/2;
  };

  this.top = function()
  {
    return this.center.y+this.offset.y - this.extents.y/2;
  };

  this.bottom = function()
  {
    return this.center.y+this.offset.y + this.extents.y/2;
  };

  this.size = function()
  {
    return createVector(this.extents.x * 2, this.extents.y * 2);
  };

  this.rotate = function(r)
  {
    //rotate the bbox
    var t;
    if (pInst._angleMode === pInst.RADIANS) {
      t = radians(r);
    } else {
      t = r;
    }

    var w2 = this.extents.x * abs(pInst.cos(t)) + this.extents.y * abs(pInst.sin(t));
    var h2 = this.extents.x * abs(pInst.sin(t)) + this.extents.y * abs(pInst.cos(t));

    this.extents.x = w2;
    this.extents.y = h2;

  };

  this.draw = function()
  {
    //fill(col);
    pInst.noFill();
    pInst.stroke(0, 255, 0);
    pInst.rectMode(CENTER);
    pInst.rect(this.center.x+this.offset.x, this.center.y+this.offset.y, this.size().x/2, this.size().y/2);
  };

  this.overlap = function(other)
  {
    //box vs box
    if(other instanceof AABB)
    {
      var md = other.minkowskiDifference(this);

      if (md.min().x <= 0 &&
          md.max().x >= 0 &&
          md.min().y <= 0 &&
          md.max().y >= 0)
      {
        return true;
      }
      else
        return false;
    }
    //box vs circle
    else if(other instanceof CircleCollider)
    {

      //find closest point to the circle on the box
      var pt = createVector(other.center.x, other.center.y);

      //I don't know what's going o try to trace a line from centers to see
      if( other.center.x < this.left() )
        pt.x = this.left();
      else if( other.center.x > this.right())
        pt.x = this.right();

      if( other.center.y < this.top() )
        pt.y = this.top();
      else if( other.center.y > this.bottom())
        pt.y = this.bottom();

      var distance = pt.dist(other.center);

      return distance<other.radius;
    }
  };

  this.collide = function(other)
  {

    if(other instanceof AABB)
    {
      var md = other.minkowskiDifference(this);

      if (md.min().x <= 0 &&
          md.max().x >= 0 &&
          md.min().y <= 0 &&
          md.max().y >= 0)
      {
        var boundsPoint = md.closestPointOnBoundsToPoint(createVector(0, 0));

        return boundsPoint;
      }
      else
        return createVector(0, 0);
    }
    //box vs circle
    else if(other instanceof CircleCollider)
    {

      //find closest point to the circle on the box
      var pt = createVector(other.center.x, other.center.y);

      //I don't know what's going o try to trace a line from centers to see
      if( other.center.x < this.left() )
        pt.x = this.left();
      else if( other.center.x > this.right())
        pt.x = this.right();

      if( other.center.y < this.top() )
        pt.y = this.top();
      else if( other.center.y > this.bottom())
        pt.y = this.bottom();


      var distance = pt.dist(other.center);
      var a;

      if(distance<other.radius)
      {
        //reclamp point
        if(pt.x === other.center.x && pt.y === other.center.y)
        {
          var xOverlap = pt.x - this.center.x;
          var yOverlap = pt.y - this.center.y;


          if(abs(xOverlap) < abs(yOverlap))
          {
            if(xOverlap > 0 )
              pt.x = this.right();
            else
              pt.x = this.left();
          }
          else
          {
            if(yOverlap < 0 )
              pt.y = this.top();
            else
              pt.y = this.bottom();
          }

          a = pInst.atan2(other.center.y-pt.y, other.center.x-pt.x);

          //fix exceptions
          if(a === 0)
          {
            if(pt.x === this.right()) a = PI;
            if(pt.y === this.top()) a = PI/2;
            if(pt.y === this.bottom()) a = -PI/2;
          }
        }
        else
        {
          //angle bw point and center
          a = pInst.atan2(pt.y-other.center.y, pt.x-other.center.x);
          //project the normal (line between pt and center) onto the circle
        }

        var d = createVector(pt.x-other.center.x, pt.y-other.center.y);
        var displacement = createVector(pInst.cos(a)*other.radius-d.x, pInst.sin(a)*other.radius-d.y);

        //if(pt.x === other.center.x && pt.y === other.center.y)
        //displacement = displacement.mult(-1);

        return displacement;
        //return createVector(0,0);
      }
      else
        return createVector(0, 0);
    }
  };

  this.minkowskiDifference = function(other)
  {
    var topLeft = this.min().sub(other.max());
    var fullSize = this.size().add(other.size());
    return new AABB(pInst, topLeft.add(fullSize.div(2)), fullSize.div(2));
  };


  this.closestPointOnBoundsToPoint = function(point)
  {
    // test x first
    var minDist = abs(point.x - this.min().x);
    var boundsPoint = createVector(this.min().x, point.y);

    if (abs(this.max().x - point.x) < minDist)
    {
      minDist = abs(this.max().x - point.x);
      boundsPoint = createVector(this.max().x, point.y);
    }

    if (abs(this.max().y - point.y) < minDist)
    {
      minDist = abs(this.max().y - point.y);
      boundsPoint = createVector(point.x, this.max().y);
    }

    if (abs(this.min().y - point.y) < minDist)
    {
      minDist = abs(this.min.y - point.y);
      boundsPoint = createVector(point.x, this.min().y);
    }

    return boundsPoint;
  };


}//end AABB
defineLazyP5Property('AABB', boundConstructorFactory(AABB));



/**
 * An Animation object contains a series of images (p5.Image) that
 * can be displayed sequentially.
 *
 * All files must be png images. You must include the directory from the sketch root,
 * and the extension .png
 *
 * A sprite can have multiple labeled animations, see Sprite.addAnimation
 * and Sprite.changeAnimation, however an animation can be used independently.
 *
 * An animation can be created either by passing a series of file names,
 * no matter how many or by passing the first and the last file name
 * of a numbered sequence.
 * p5.play will try to detect the sequence pattern.
 *
 * For example if the given filenames are
 * "data/file0001.png" and "data/file0005.png" the images
 * "data/file0003.png" and "data/file0004.png" will be loaded as well.
 *
 * @example
 *     var sequenceAnimation;
 *     var glitch;
 *
 *     function preload() {
 *       sequenceAnimation = loadAnimation("data/walking0001.png", "data/walking0005.png");
 *       glitch = loadAnimation("data/dog.png", "data/horse.png", "data/cat.png", "data/snake.png");
 *     }
 *
 *     function setup() {
 *       createCanvas(800, 600);
 *     }
 *
 *     function draw() {
 *       background(0);
 *       animation(sequenceAnimation, 100, 100);
 *       animation(glitch, 200, 100);
 *     }
 *
 * @class Animation
 * @constructor
 * @param {String} fileName1 First file in a sequence OR first image file
 * @param {String} fileName2 Last file in a sequence OR second image file
 * @param {String} [...fileNameN] Any number of image files after the first two
 */
function Animation(pInst) {
  var frameArguments = Array.prototype.slice.call(arguments, 1);
  var i;

  var CENTER = p5.prototype.CENTER;

  /**
  * Array of frames (p5.Image)
  *
  * @property images
  * @type {Array}
  */
  this.images = [];

  var frame = 0;
  var cycles = 0;
  var targetFrame = -1;

  this.offX = 0;
  this.offY = 0;

  /**
  * Delay between frames in number of draw cycles.
  * If set to 4 the framerate of the animation would be the
  * sketch framerate divided by 4 (60fps = 15fps)
  *
  * @property frameDelay
  * @type {Number}
  * @default 4
  */
  this.frameDelay = 4;

  /**
  * True if the animation is currently playing.
  *
  * @property playing
  * @type {Boolean}
  * @default true
  */
  this.playing = true;

  /**
  * Animation visibility.
  *
  * @property visible
  * @type {Boolean}
  * @default true
  */
  this.visible = true;

  /**
  * If set to false the animation will stop after reaching the last frame
  *
  * @property looping
  * @type {Boolean}
  * @default true
  */
  this.looping = true;

  /**
  * True if frame changed during the last draw cycle
  *
  * @property frameChanged
  * @type {Boolean}
  */
  this.frameChanged = false;

  //is the collider defined manually or defined
  //by the current frame size
  this.imageCollider = false;


  //sequence mode
  if(frameArguments.length === 2 && typeof frameArguments[0] === 'string' && typeof frameArguments[1] === 'string')
  {
    var from = frameArguments[0];
    var to = frameArguments[1];

    //print("sequence mode "+from+" -> "+to);

    //make sure the extensions are fine
    var ext1 = from.substring(from.length-4, from.length);
    if(ext1 !== '.png')
    {
      pInst.print('Animation error: you need to use .png files (filename '+from+')');
      from = -1;
    }

    var ext2 = to.substring(to.length-4, to.length);
    if(ext2 !== '.png')
    {
      pInst.print('Animation error: you need to use .png files (filename '+to+')');
      to = -1;
    }

    //extensions are fine
    if(from !== -1 && to !== -1)
    {
      var digits1 = 0;
      var digits2 = 0;

      //skip extension work backwards to find the numbers
      for (i = from.length-5; i >= 0; i--) {
        if(from.charAt(i) >= '0' && from.charAt(i) <= '9')
          digits1++;
      }

      for (i = to.length-5; i >= 0; i--) {
        if(to.charAt(i) >= '0' && to.charAt(i) <= '9')
          digits2++;
      }

      var prefix1 = from.substring(0, from.length-(4+digits1));
      var prefix2 = to.substring(0, to.length-(4+digits2) );

      // Our numbers likely have leading zeroes, which means that some
      // browsers (e.g., PhantomJS) will interpret them as base 8 (octal)
      // instead of decimal. To fix this, we'll explicity tell parseInt to
      // use a base of 10 (decimal). For more details on this issue, see
      // http://stackoverflow.com/a/8763427/2422398.
      var number1 = parseInt(from.substring(from.length-(4+digits1), from.length-4), 10);
      var number2 = parseInt(to.substring(to.length-(4+digits2), to.length-4), 10);

      //swap if inverted
      if(number2<number1)
      {
        var t = number2;
        number2 = number1;
        number1 = t;
      }

      //two different frames
      if(prefix1 !== prefix2 )
      {
        //print("2 separate images");
        this.images.push(pInst.loadImage(from));
        this.images.push(pInst.loadImage(to));
      }
      //same digits: case img0001, img0002
      else
      {
        var fileName;
        if(digits1 === digits2)
        {

          //load all images
          for (i = number1; i <= number2; i++) {
            // Use nf() to number format 'i' into four digits
            fileName = prefix1 + pInst.nf(i, digits1) + '.png';
            this.images.push(pInst.loadImage(fileName));

          }

        }
        else //case: case img1, img2
        {
          //print("from "+prefix1+" "+number1 +" to "+number2);
          for (i = number1; i <= number2; i++) {
            // Use nf() to number format 'i' into four digits
            fileName = prefix1 + i + '.png';
            this.images.push(pInst.loadImage(fileName));

          }

        }
      }

    }//end no ext error

  }//end sequence mode
  // Sprite sheet mode
  else if (frameArguments.length === 1 && (frameArguments[0] instanceof SpriteSheet))
  {
    this.spriteSheet = frameArguments[0];
    this.images = this.spriteSheet.frames;
  }
  else if(frameArguments.length !== 0)//arbitrary list of images
  {
    //print("Animation arbitrary mode");
    for (i = 0; i < frameArguments.length; i++) {
      //print("loading "+fileNames[i]);
      if(frameArguments[i] instanceof p5.Image)
        this.images.push(frameArguments[i]);
      else
        this.images.push(pInst.loadImage(frameArguments[i]));
    }
  }

  /**
  * Objects are passed by reference so to have different sprites
  * using the same animation you need to clone it.
  *
  * @method clone
  * @return {Animation} A clone of the current animation
  */
  this.clone = function() {
    var myClone = new Animation(pInst); //empty
    myClone.images = [];

    if (this.spriteSheet) {
      myClone.spriteSheet = this.spriteSheet.clone();
    }
    myClone.images = this.images.slice();

    myClone.offX = this.offX;
    myClone.offY = this.offY;
    myClone.frameDelay = this.frameDelay;
    myClone.playing = this.playing;
    myClone.looping = this.looping;

    return myClone;
  };

  /**
   * Draws the animation at coordinate x and y.
   * Updates the frames automatically.
   *
   * @method draw
   * @param {Number} x x coordinate
   * @param {Number} y y coordinate
   * @param {Number} [r=0] rotation
   */
  this.draw = function(x, y, r) {
    this.xpos = x;
    this.ypos = y;
    this.rotation = r || 0;

    if (this.visible)
    {

      //only connection with the sprite class
      //if animation is used independently draw and update are the sam
      if(!this.isSpriteAnimation)
        this.update();

      //this.currentImageMode = g.imageMode;
      pInst.push();
      pInst.imageMode(CENTER);

      pInst.translate(this.xpos, this.ypos);
      if (pInst._angleMode === pInst.RADIANS) {
        pInst.rotate(radians(this.rotation));
      } else {
        pInst.rotate(this.rotation);
      }

      if(this.images[frame] !== undefined)
      {
        if (this.spriteSheet) {
          var frame_info = this.images[frame].frame;
          pInst.image(this.spriteSheet.image, frame_info.x, frame_info.y, frame_info.width,
            frame_info.height, this.offX, this.offY, frame_info.width, frame_info.height);
        } else {
          pInst.image(this.images[frame], this.offX, this.offY);
        }
      }
      else
      {
        pInst.print('Warning undefined frame '+frame);
        //this.isActive = false;
      }

      pInst.pop();
    }
  };

  //called by draw
  this.update = function() {
    cycles++;
    var previousFrame = frame;
    this.frameChanged = false;


    //go to frame
    if(this.images.length === 1)
    {
      this.playing = false;
      frame = 0;
    }

    if ( this.playing && cycles%this.frameDelay === 0)
    {
      //going to target frame up
      if(targetFrame>frame && targetFrame !== -1)
      {
        frame++;
      }
      //going to taget frame down
      else if(targetFrame<frame && targetFrame !== -1)
      {
        frame--;
      }
      else if(targetFrame === frame && targetFrame !== -1)
      {
        this.playing=false;
      }
      else if (this.looping) //advance frame
      {
        //if next frame is too high
        if (frame>=this.images.length-1)
          frame = 0;
        else
          frame++;
      } else
      {
        //if next frame is too high
        if (frame<this.images.length-1)
          frame++;
      }
    }

    if(previousFrame !== frame)
      this.frameChanged = true;

  };//end update

  /**
  * Plays the animation.
  *
  * @method play
  */
  this.play = function() {
    this.playing = true;
    targetFrame = -1;
  };

  /**
  * Stops the animation.
  *
  * @method stop
  */
  this.stop = function(){
    this.playing = false;
  };

  /**
  * Rewinds the animation to the first frame.
  *
  * @method rewind
  */
  this.rewind = function() {
    frame = 0;
  };

  /**
  * Changes the current frame.
  *
  * @method changeFrame
  * @param {Number} frame Frame number (starts from 0).
  */
  this.changeFrame = function(f) {
    if (f<this.images.length)
      frame = f;
    else
      frame = this.images.length - 1;

    targetFrame = -1;
    //this.playing = false;
  };

   /**
  * Goes to the next frame and stops.
  *
  * @method nextFrame
  */
  this.nextFrame = function() {

    if (frame<this.images.length-1)
      frame = frame+1;
    else if(this.looping)
      frame = 0;

    targetFrame = -1;
    this.playing = false;
  };

   /**
  * Goes to the previous frame and stops.
  *
  * @method previousFrame
  */
  this.previousFrame = function() {

    if (frame>0)
      frame = frame-1;
    else if(this.looping)
      frame = this.images.length-1;

    targetFrame = -1;
    this.playing = false;
  };

  /**
  * Plays the animation forward or backward toward a target frame.
  *
  * @method goToFrame
  * @param {Number} toFrame Frame number destination (starts from 0)
  */
  this.goToFrame = function(toFrame) {
    if(toFrame < 0 || toFrame >= this.images.length) {
      return;
    }

    // targetFrame gets used by the update() method to decide what frame to
    // select next.  When it's not being used it gets set to -1.
    targetFrame = toFrame;

    if(targetFrame !== frame) {
      this.playing = true;
    }
  };

  /**
  * Returns the current frame number.
  *
  * @method getFrame
  * @return {Number} Current frame (starts from 0)
  */
  this.getFrame = function() {
    return frame;
  };

  /**
  * Returns the last frame number.
  *
  * @method getLastFrame
  * @return {Number} Last frame number (starts from 0)
  */
  this.getLastFrame = function() {
    return this.images.length-1;
  };

  /**
  * Returns the current frame image as p5.Image.
  *
  * @method getFrameImage
  * @return {p5.Image} Current frame image
  */
  this.getFrameImage = function() {
    return this.images[frame];
  };

  /**
  * Returns the frame image at the specified frame number.
  *
  * @method getImageAt
  * @param {Number} frame Frame number
  * @return {p5.Image} Frame image
  */
  this.getImageAt = function(f) {
    return this.images[f];
  };

  /**
  * Returns the current frame width in pixels.
  * If there is no image loaded, returns 1.
  *
  * @method getWidth
  * @return {Number} Frame width
  */
  this.getWidth = function() {
    if (this.images[frame] instanceof p5.Image) {
      return this.images[frame].width;
    } else if (this.images[frame]) {
      // Special case: Animation-from-spritesheet treats its images array differently.
      return this.images[frame].frame.width;
    } else {
      return 1;
    }
  };

  /**
  * Returns the current frame height in pixels.
  * If there is no image loaded, returns 1.
  *
  * @method getHeight
  * @return {Number} Frame height
  */
  this.getHeight = function() {
    if (this.images[frame] instanceof p5.Image) {
      return this.images[frame].height;
    } else if (this.images[frame]) {
      // Special case: Animation-from-spritesheet treats its images array differently.
      return this.images[frame].frame.height;
    } else {
      return 1;
    }
  };

}

defineLazyP5Property('Animation', boundConstructorFactory(Animation));

/**
 * Represents a sprite sheet and all it's frames.  To be used with Animation,
 * or static drawing single frames.
 *
 *  There are two different ways to load a SpriteSheet
 *
 * 1. Given width, height that will be used for every frame and the
 *    number of frames to cycle through. The sprite sheet must have a
 *    uniform grid with consistent rows and columns.
 *
 * 2. Given an array of frame objects that define the position and
 *    dimensions of each frame.  This is Flexible because you can use
 *    sprite sheets that don't have uniform rows and columns.
 *
 * @example
 *     // Method 1 - Using width, height for each frame and number of frames
 *     explode_sprite_sheet = loadSpriteSheet('assets/explode_sprite_sheet.png', 171, 158, 11);
 *
 *     // Method 2 - Using an array of objects that define each frame
 *     var player_frames = loadJSON('assets/tiles.json');
 *     player_sprite_sheet = loadSpriteSheet('assets/player_spritesheet.png', player_frames);
 *
 * @class SpriteSheet
 * @constructor
 * @param image String image path or p5.Image object
 */
function SpriteSheet(pInst) {
  var spriteSheetArgs = Array.prototype.slice.call(arguments, 1);

  this.image = null;
  this.frames = [];
  this.frame_width = 0;
  this.frame_height = 0;
  this.num_frames = 0;

  /**
   * Generate the frames data for this sprite sheet baesd on user params
   * @private
   * @method _generateSheetFrames
   */
  this._generateSheetFrames = function() {
    var sX = 0, sY = 0;
    for (var i = 0; i < this.num_frames; i++) {
      this.frames.push(
        {
          'name': i,
          'frame': {
            'x': sX,
            'y': sY,
            'width': this.frame_width,
            'height': this.frame_height
          }
        });
      sX += this.frame_width;
      if (sX >= this.image.width) {
        sX = 0;
        sY += this.frame_height;
        if (sY >= this.image.height) {
          sY = 0;
        }
      }
    }
  };

  if (spriteSheetArgs.length === 2 && Array.isArray(spriteSheetArgs[1])) {
    this.frames = spriteSheetArgs[1];
    this.num_frames = this.frames.length;
  } else if (spriteSheetArgs.length === 4 &&
    (typeof spriteSheetArgs[1] === 'number') &&
    (typeof spriteSheetArgs[2] === 'number') &&
    (typeof spriteSheetArgs[3] === 'number')) {
    this.frame_width = spriteSheetArgs[1];
    this.frame_height = spriteSheetArgs[2];
    this.num_frames = spriteSheetArgs[3];
  }

  if(spriteSheetArgs[0] instanceof p5.Image) {
    this.image = spriteSheetArgs[0];
    if (spriteSheetArgs.length === 4) {
      this._generateSheetFrames();
    }
  } else {
    if (spriteSheetArgs.length === 2) {
      this.image = pInst.loadImage(spriteSheetArgs[0]);
    } else if (spriteSheetArgs.length === 4) {
      this.image = pInst.loadImage(spriteSheetArgs[0], this._generateSheetFrames.bind(this));
    }
  }

  /**
   * Draws a specific frame to the canvas.
   * @param frame_name  Can either be a string name, or a numeric index.
   * @param x   x position to draw the frame at
   * @param y   y position to draw the frame at
   * @param [width]   optional width to draw the frame
   * @param [height]  optional height to draw the frame
   * @method drawFrame
   */
  this.drawFrame = function(frame_name, x, y, width, height) {
    var frameToDraw;
    if (typeof frame_name === 'number') {
      frameToDraw = this.frames[frame_name].frame;
    } else {
      for (var i = 0; i < this.frames.length; i++) {
        if (this.frames[i].name === frame_name) {
          frameToDraw = this.frames[i].frame;
          break;
        }
      }
    }
    var dWidth = width || frameToDraw.width;
    var dHeight = height || frameToDraw.height;
    pInst.image(this.image, frameToDraw.x, frameToDraw.y,
      frameToDraw.width, frameToDraw.height, x, y, dWidth, dHeight);
  };

  /**
   * Objects are passed by reference so to have different sprites
   * using the same animation you need to clone it.
   *
   * @method clone
   * @return {SpriteSheet} A clone of the current SpriteSheet
   */
  this.clone = function() {
    var myClone = new SpriteSheet(pInst); //empty

    // Deep clone the frames by value not reference
    for(var i = 0; i < this.frames.length; i++) {
      var frame = this.frames[i].frame;
      var cloneFrame = {
        'name':frame.name,
        'frame': {
          'x':frame.x,
          'y':frame.y,
          'width':frame.width,
          'height':frame.height
        }
      };
      myClone.frames.push(cloneFrame);
    }

    // clone other fields
    myClone.image = this.image;
    myClone.frame_width = this.frame_width;
    myClone.frame_height = this.frame_height;
    myClone.num_frames = this.num_frames;

    return myClone;
  };
}

defineLazyP5Property('SpriteSheet', boundConstructorFactory(SpriteSheet));

//general constructor to be able to feed arguments as array
function construct(constructor, args) {
  function F() {
    return constructor.apply(this, args);
  }
  F.prototype = constructor.prototype;
  return new F();
}





/*
 * Javascript Quadtree
 * based on
 * https://github.com/timohausmann/quadtree-js/
 * Copyright  2012 Timo Hausmann
*/

function Quadtree( bounds, max_objects, max_levels, level ) {

  this.active = true;
  this.max_objects	= max_objects || 10;
  this.max_levels		= max_levels || 4;

  this.level 			= level || 0;
  this.bounds 		= bounds;

  this.objects 		= [];
  this.object_refs	= [];
  this.nodes 			= [];
}

Quadtree.prototype.updateBounds = function() {

  //find maximum area
  var objects = this.getAll();
  var x = 10000;
  var y = 10000;
  var w = -10000;
  var h = -10000;

  for( var i=0; i < objects.length; i++ )
    {
      if(objects[i].position.x < x)
        x = objects[i].position.x;
      if(objects[i].position.y < y)
        y = objects[i].position.y;
      if(objects[i].position.x > w)
        w = objects[i].position.x;
      if(objects[i].position.y > h)
        h = objects[i].position.y;
    }


  this.bounds = {
    x:x,
    y:y,
    width:w,
    height:h
  };
  //print(this.bounds);
};

/*
	 * Split the node into 4 subnodes
	 */
Quadtree.prototype.split = function() {

  var nextLevel	= this.level + 1,
      subWidth	= Math.round( this.bounds.width / 2 ),
      subHeight 	= Math.round( this.bounds.height / 2 ),
      x 			= Math.round( this.bounds.x ),
      y 			= Math.round( this.bounds.y );

  //top right node
  this.nodes[0] = new Quadtree({
    x	: x + subWidth,
    y	: y,
    width	: subWidth,
    height	: subHeight
  }, this.max_objects, this.max_levels, nextLevel);

  //top left node
  this.nodes[1] = new Quadtree({
    x	: x,
    y	: y,
    width	: subWidth,
    height	: subHeight
  }, this.max_objects, this.max_levels, nextLevel);

  //bottom left node
  this.nodes[2] = new Quadtree({
    x	: x,
    y	: y + subHeight,
    width	: subWidth,
    height	: subHeight
  }, this.max_objects, this.max_levels, nextLevel);

  //bottom right node
  this.nodes[3] = new Quadtree({
    x	: x + subWidth,
    y	: y + subHeight,
    width	: subWidth,
    height	: subHeight
  }, this.max_objects, this.max_levels, nextLevel);
};


/*
	 * Determine the quadtrant for an area in this node
	 */
Quadtree.prototype.getIndex = function( pRect ) {
  if(!pRect.collider)
    return -1;
  else
  {
    var index 				= -1,
        verticalMidpoint 	= this.bounds.x + (this.bounds.width / 2),
        horizontalMidpoint 	= this.bounds.y + (this.bounds.height / 2),

        //pRect can completely fit within the top quadrants
        topQuadrant = (pRect.collider.top() < horizontalMidpoint && pRect.collider.top() + pRect.collider.size().y < horizontalMidpoint),

        //pRect can completely fit within the bottom quadrants
        bottomQuadrant = (pRect.collider.top() > horizontalMidpoint);

    //pRect can completely fit within the left quadrants
    if( pRect.collider.left() < verticalMidpoint && pRect.collider.left() + pRect.collider.size().x < verticalMidpoint ) {
      if( topQuadrant ) {
        index = 1;
      } else if( bottomQuadrant ) {
        index = 2;
      }

      //pRect can completely fit within the right quadrants
    } else if( pRect.collider.left() > verticalMidpoint ) {
      if( topQuadrant ) {
        index = 0;
      } else if( bottomQuadrant ) {
        index = 3;
      }
    }

    return index;
  }
};


/*
	 * Insert an object into the node. If the node
	 * exceeds the capacity, it will split and add all
	 * objects to their corresponding subnodes.
	 */
Quadtree.prototype.insert = function( obj ) {
  //avoid double insertion
  if(this.objects.indexOf(obj) === -1)
  {

    var i = 0,
        index;

    //if we have subnodes ...
    if( typeof this.nodes[0] !== 'undefined' ) {
      index = this.getIndex( obj );

      if( index !== -1 ) {
        this.nodes[index].insert( obj );
        return;
      }
    }

    this.objects.push( obj );

    if( this.objects.length > this.max_objects && this.level < this.max_levels ) {

      //split if we don't already have subnodes
      if( typeof this.nodes[0] === 'undefined' ) {
        this.split();
      }

      //add all objects to there corresponding subnodes
      while( i < this.objects.length ) {

        index = this.getIndex( this.objects[i] );

        if( index !== -1 ) {
          this.nodes[index].insert( this.objects.splice(i, 1)[0] );
        } else {
          i = i + 1;
        }
      }
    }
  }
};


/*
	 * Return all objects that could collide with a given area
	 */
Quadtree.prototype.retrieve = function( pRect ) {


  var index = this.getIndex( pRect ),
      returnObjects = this.objects;

  //if we have subnodes ...
  if( typeof this.nodes[0] !== 'undefined' ) {

    //if pRect fits into a subnode ..
    if( index !== -1 ) {
      returnObjects = returnObjects.concat( this.nodes[index].retrieve( pRect ) );

      //if pRect does not fit into a subnode, check it against all subnodes
    } else {
      for( var i=0; i < this.nodes.length; i=i+1 ) {
        returnObjects = returnObjects.concat( this.nodes[i].retrieve( pRect ) );
      }
    }
  }

  return returnObjects;
};

Quadtree.prototype.retrieveFromGroup = function( pRect, group ) {

  var results = [];
  var candidates = this.retrieve(pRect);

  for(var i=0; i<candidates.length; i++)
    if(group.contains(candidates[i]))
    results.push(candidates[i]);

  return results;
};

/*
	 * Get all objects stored in the quadtree
	 */
Quadtree.prototype.getAll = function() {

  var objects = this.objects;

  for( var i=0; i < this.nodes.length; i=i+1 ) {
    objects = objects.concat( this.nodes[i].getAll() );
  }

  return objects;
};


/*
	 * Get the node in which a certain object is stored
	 */
Quadtree.prototype.getObjectNode = function( obj ) {

  var index;

  //if there are no subnodes, object must be here
  if( !this.nodes.length ) {

    return this;

  } else {

    index = this.getIndex( obj );

    //if the object does not fit into a subnode, it must be here
    if( index === -1 ) {

      return this;

      //if it fits into a subnode, continue deeper search there
    } else {
      var node = this.nodes[index].getObjectNode( obj );
      if( node ) return node;
    }
  }

  return false;
};


/*
	 * Removes a specific object from the quadtree
	 * Does not delete empty subnodes. See cleanup-function
	 */
Quadtree.prototype.removeObject = function( obj ) {

  var node = this.getObjectNode( obj ),
      index = node.objects.indexOf( obj );

  if( index === -1 ) return false;

  node.objects.splice( index, 1);
};


/*
	 * Clear the quadtree and delete all objects
	 */
Quadtree.prototype.clear = function() {

  this.objects = [];

  if( !this.nodes.length ) return;

  for( var i=0; i < this.nodes.length; i=i+1 ) {

    this.nodes[i].clear();
  }

  this.nodes = [];
};


/*
	 * Clean up the quadtree
	 * Like clear, but objects won't be deleted but re-inserted
	 */
Quadtree.prototype.cleanup = function() {

  var objects = this.getAll();

  this.clear();

  for( var i=0; i < objects.length; i++ ) {
    this.insert( objects[i] );
  }
};



function updateTree() {
  if(this.quadTree.active)
  {
    this.quadTree.updateBounds();
    this.quadTree.cleanup();
  }
}

//keyboard input
p5.prototype.registerMethod('pre', p5.prototype.readPresses);

//automatic sprite update
p5.prototype.registerMethod('pre', p5.prototype.updateSprites);

//quadtree update
p5.prototype.registerMethod('post', updateTree);

//camera push and pop
p5.prototype.registerMethod('pre', cameraPush);
p5.prototype.registerMethod('post', cameraPop);

//deltaTime
//p5.prototype.registerMethod('pre', updateDelta);

/**
 * Log a warning message to the host console, using native `console.warn`
 * if it is available but falling back on `console.log` if not.  If no
 * console is available, this method will fail silently.
 * @method _warn
 * @param {!string} message
 * @private
 */
p5.prototype._warn = function(message) {
  var console = window.console;

  if(console)
  {
    if('function' === typeof console.warn)
    {
      console.warn(message);
    }
    else if('function' === typeof console.log)
    {
      console.log('Warning: ' + message);
    }
  }
};

}));


/***/ }),

/***/ "./node_modules/@cmu-eberly-center/p5/lib/addons/p5.dom.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@cmu-eberly-center/p5/lib/addons/p5.dom.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! p5.dom.js v0.4.0 August 9, 2018 */
/**
 * <p>The web is much more than just canvas and p5.dom makes it easy to interact
 * with other HTML5 objects, including text, hyperlink, image, input, video,
 * audio, and webcam.</p>
 * <p>There is a set of creation methods, DOM manipulation methods, and
 * an extended <a href="#/p5.Element">p5.Element</a> that supports a range of HTML elements. See the
 * <a href='https://github.com/processing/p5.js/wiki/Beyond-the-canvas'>
 * beyond the canvas tutorial</a> for a full overview of how this addon works.
 *
 * <p>Methods and properties shown in black are part of the p5.js core, items in
 * blue are part of the p5.dom library. You will need to include an extra file
 * in order to access the blue functions. See the
 * <a href='http://p5js.org/libraries/#using-a-library'>using a library</a>
 * section for information on how to include this library. p5.dom comes with
 * <a href='http://p5js.org/download'>p5 complete</a> or you can download the single file
 * <a href='https://raw.githubusercontent.com/lmccart/p5.js/master/lib/addons/p5.dom.js'>
 * here</a>.</p>
 * <p>See <a href='https://github.com/processing/p5.js/wiki/Beyond-the-canvas'>tutorial: beyond the canvas</a>
 * for more info on how to use this library.</a>
 *
 * @module p5.dom
 * @submodule p5.dom
 * @for p5
 * @main
 */

(function(root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ../p5.min.js */ "./node_modules/@cmu-eberly-center/p5/lib/p5.min.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(p5) {
      factory(p5);
    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
})(this, function(p5) {
  // =============================================================================
  //                         p5 additions
  // =============================================================================

  /**
   * Searches the page for an element with the given ID, class, or tag name (using the '#' or '.'
   * prefixes to specify an ID or class respectively, and none for a tag) and returns it as
   * a <a href="#/p5.Element">p5.Element</a>. If a class or tag name is given with more than 1 element,
   * only the first element will be returned.
   * The DOM node itself can be accessed with .elt.
   * Returns null if none found. You can also specify a container to search within.
   *
   * @method select
   * @param  {String} name id, class, or tag name of element to search for
   * @param  {String|p5.Element|HTMLElement} [container] id, <a href="#/p5.Element">p5.Element</a>, or
   *                                             HTML element to search within
   * @return {p5.Element|null} <a href="#/p5.Element">p5.Element</a> containing node found
   * @example
   * <div ><code class='norender'>
   * function setup() {
   *   createCanvas(100, 100);
   *   //translates canvas 50px down
   *   select('canvas').position(100, 100);
   * }
   * </code></div>
   * <div><code class='norender'>
   * // these are all valid calls to select()
   * var a = select('#moo');
   * var b = select('#blah', '#myContainer');
   * var c, e;
   * if (b) {
   *   c = select('#foo', b);
   * }
   * var d = document.getElementById('beep');
   * if (d) {
   *   e = select('p', d);
   * }
   * [a, b, c, d, e]; // unused
   * </code></div>
   *
   */
  p5.prototype.select = function(e, p) {
    p5._validateParameters('select', arguments);
    var res = null;
    var container = getContainer(p);
    if (e[0] === '.') {
      e = e.slice(1);
      res = container.getElementsByClassName(e);
      if (res.length) {
        res = res[0];
      } else {
        res = null;
      }
    } else if (e[0] === '#') {
      e = e.slice(1);
      res = container.getElementById(e);
    } else {
      res = container.getElementsByTagName(e);
      if (res.length) {
        res = res[0];
      } else {
        res = null;
      }
    }
    if (res) {
      return this._wrapElement(res);
    } else {
      return null;
    }
  };

  /**
   * Searches the page for elements with the given class or tag name (using the '.' prefix
   * to specify a class and no prefix for a tag) and returns them as <a href="#/p5.Element">p5.Element</a>s
   * in an array.
   * The DOM node itself can be accessed with .elt.
   * Returns an empty array if none found.
   * You can also specify a container to search within.
   *
   * @method selectAll
   * @param  {String} name class or tag name of elements to search for
   * @param  {String} [container] id, <a href="#/p5.Element">p5.Element</a>, or HTML element to search within
   * @return {p5.Element[]} Array of <a href="#/p5.Element">p5.Element</a>s containing nodes found
   * @example
   * <div class='norender'><code>
   * function setup() {
   *   createButton('btn');
   *   createButton('2nd btn');
   *   createButton('3rd btn');
   *   var buttons = selectAll('button');
   *
   *   for (var i = 0; i < buttons.length; i++) {
   *     buttons[i].size(100, 100);
   *   }
   * }
   * </code></div>
   * <div class='norender'><code>
   * // these are all valid calls to selectAll()
   * var a = selectAll('.moo');
   * a = selectAll('div');
   * a = selectAll('button', '#myContainer');
   *
   * var d = select('#container');
   * a = selectAll('p', d);
   *
   * var f = document.getElementById('beep');
   * a = select('.blah', f);
   *
   * a; // unused
   * </code></div>
   *
   */
  p5.prototype.selectAll = function(e, p) {
    p5._validateParameters('selectAll', arguments);
    var arr = [];
    var res;
    var container = getContainer(p);
    if (e[0] === '.') {
      e = e.slice(1);
      res = container.getElementsByClassName(e);
    } else {
      res = container.getElementsByTagName(e);
    }
    if (res) {
      for (var j = 0; j < res.length; j++) {
        var obj = this._wrapElement(res[j]);
        arr.push(obj);
      }
    }
    return arr;
  };

  /**
   * Helper function for select and selectAll
   */
  function getContainer(p) {
    var container = document;
    if (typeof p === 'string' && p[0] === '#') {
      p = p.slice(1);
      container = document.getElementById(p) || document;
    } else if (p instanceof p5.Element) {
      container = p.elt;
    } else if (p instanceof HTMLElement) {
      container = p;
    }
    return container;
  }

  /**
   * Helper function for getElement and getElements.
   */
  p5.prototype._wrapElement = function(elt) {
    var children = Array.prototype.slice.call(elt.children);
    if (elt.tagName === 'INPUT' && elt.type === 'checkbox') {
      var converted = new p5.Element(elt, this);
      converted.checked = function() {
        if (arguments.length === 0) {
          return this.elt.checked;
        } else if (arguments[0]) {
          this.elt.checked = true;
        } else {
          this.elt.checked = false;
        }
        return this;
      };
      return converted;
    } else if (elt.tagName === 'VIDEO' || elt.tagName === 'AUDIO') {
      return new p5.MediaElement(elt, this);
    } else if (elt.tagName === 'SELECT') {
      return this.createSelect(new p5.Element(elt, this));
    } else if (
      children.length > 0 &&
      children.every(function(c) {
        return c.tagName === 'INPUT' || c.tagName === 'LABEL';
      })
    ) {
      return this.createRadio(new p5.Element(elt, this));
    } else {
      return new p5.Element(elt, this);
    }
  };

  /**
   * Removes all elements created by p5, except any canvas / graphics
   * elements created by <a href="#/p5/createCanvas">createCanvas</a> or <a href="#/p5/createGraphics">createGraphics</a>.
   * Event handlers are removed, and element is removed from the DOM.
   * @method removeElements
   * @example
   * <div class='norender'><code>
   * function setup() {
   *   createCanvas(100, 100);
   *   createDiv('this is some text');
   *   createP('this is a paragraph');
   * }
   * function mousePressed() {
   *   removeElements(); // this will remove the div and p, not canvas
   * }
   * </code></div>
   *
   */
  p5.prototype.removeElements = function(e) {
    p5._validateParameters('removeElements', arguments);
    for (var i = 0; i < this._elements.length; i++) {
      if (!(this._elements[i].elt instanceof HTMLCanvasElement)) {
        this._elements[i].remove();
      }
    }
  };

  /**
   * The .<a href="#/p5.Element/changed">changed()</a> function is called when the value of an
   * element changes.
   * This can be used to attach an element specific event listener.
   *
   * @method changed
   * @param  {Function|Boolean} fxn function to be fired when the value of
   *                                an element changes.
   *                                if `false` is passed instead, the previously
   *                                firing function will no longer fire.
   * @chainable
   * @example
   * <div><code>
   * var sel;
   *
   * function setup() {
   *   textAlign(CENTER);
   *   background(200);
   *   sel = createSelect();
   *   sel.position(10, 10);
   *   sel.option('pear');
   *   sel.option('kiwi');
   *   sel.option('grape');
   *   sel.changed(mySelectEvent);
   * }
   *
   * function mySelectEvent() {
   *   var item = sel.value();
   *   background(200);
   *   text("it's a " + item + '!', 50, 50);
   * }
   * </code></div>
   *
   * <div><code>
   * var checkbox;
   * var cnv;
   *
   * function setup() {
   *   checkbox = createCheckbox(' fill');
   *   checkbox.changed(changeFill);
   *   cnv = createCanvas(100, 100);
   *   cnv.position(0, 30);
   *   noFill();
   * }
   *
   * function draw() {
   *   background(200);
   *   ellipse(50, 50, 50, 50);
   * }
   *
   * function changeFill() {
   *   if (checkbox.checked()) {
   *     fill(0);
   *   } else {
   *     noFill();
   *   }
   * }
   * </code></div>
   *
   * @alt
   * dropdown: pear, kiwi, grape. When selected text "its a" + selection shown.
   *
   */
  p5.Element.prototype.changed = function(fxn) {
    p5.Element._adjustListener('change', fxn, this);
    return this;
  };

  /**
   * The .<a href="#/p5.Element/input">input()</a> function is called when any user input is
   * detected with an element. The input event is often used
   * to detect keystrokes in a input element, or changes on a
   * slider element. This can be used to attach an element specific
   * event listener.
   *
   * @method input
   * @param  {Function|Boolean} fxn function to be fired when any user input is
   *                                detected within the element.
   *                                if `false` is passed instead, the previously
   *                                firing function will no longer fire.
   * @chainable
   * @example
   * <div class='norender'><code>
   * // Open your console to see the output
   * function setup() {
   *   var inp = createInput('');
   *   inp.input(myInputEvent);
   * }
   *
   * function myInputEvent() {
   *   console.log('you are typing: ', this.value());
   * }
   * </code></div>
   *
   * @alt
   * no display.
   *
   */
  p5.Element.prototype.input = function(fxn) {
    p5.Element._adjustListener('input', fxn, this);
    return this;
  };

  /**
   * Helpers for create methods.
   */
  function addElement(elt, pInst, media) {
    var node = pInst._userNode ? pInst._userNode : document.body;
    node.appendChild(elt);
    var c = media
      ? new p5.MediaElement(elt, pInst)
      : new p5.Element(elt, pInst);
    pInst._elements.push(c);
    return c;
  }

  /**
   * Creates a &lt;div&gt;&lt;/div&gt; element in the DOM with given inner HTML.
   * Appends to the container node if one is specified, otherwise
   * appends to body.
   *
   * @method createDiv
   * @param  {String} [html] inner HTML for element created
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div class='norender'><code>
   * createDiv('this is some text');
   * </code></div>
   */

  /**
   * Creates a &lt;p&gt;&lt;/p&gt; element in the DOM with given inner HTML. Used
   * for paragraph length text.
   * Appends to the container node if one is specified, otherwise
   * appends to body.
   *
   * @method createP
   * @param  {String} [html] inner HTML for element created
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div class='norender'><code>
   * createP('this is some text');
   * </code></div>
   */

  /**
   * Creates a &lt;span&gt;&lt;/span&gt; element in the DOM with given inner HTML.
   * Appends to the container node if one is specified, otherwise
   * appends to body.
   *
   * @method createSpan
   * @param  {String} [html] inner HTML for element created
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div class='norender'><code>
   * createSpan('this is some text');
   * </code></div>
   */
  var tags = ['div', 'p', 'span'];
  tags.forEach(function(tag) {
    var method = 'create' + tag.charAt(0).toUpperCase() + tag.slice(1);
    p5.prototype[method] = function(html) {
      var elt = document.createElement(tag);
      elt.innerHTML = typeof html === 'undefined' ? '' : html;
      return addElement(elt, this);
    };
  });

  /**
   * Creates an &lt;img&gt; element in the DOM with given src and
   * alternate text.
   * Appends to the container node if one is specified, otherwise
   * appends to body.
   *
   * @method createImg
   * @param  {String} src src path or url for image
   * @param  {String} [alt] alternate text to be used if image does not load
   * @param  {Function} [successCallback] callback to be called once image data is loaded
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div class='norender'><code>
   * createImg('http://p5js.org/img/asterisk-01.png');
   * </code></div>
   */
  /**
   * @method createImg
   * @param  {String} src
   * @param  {Function} successCallback
   * @return {Object|p5.Element}
   */
  p5.prototype.createImg = function() {
    p5._validateParameters('createImg', arguments);
    var elt = document.createElement('img');
    elt.crossOrigin = 'Anonymous';
    var args = arguments;
    var self;
    var setAttrs = function() {
      self.width = elt.offsetWidth || elt.width;
      self.height = elt.offsetHeight || elt.height;
      if (args.length > 1 && typeof args[1] === 'function') {
        self.fn = args[1];
        self.fn();
      } else if (args.length > 1 && typeof args[2] === 'function') {
        self.fn = args[2];
        self.fn();
      }
    };
    elt.src = args[0];
    if (args.length > 1 && typeof args[1] === 'string') {
      elt.alt = args[1];
    }
    elt.onload = function() {
      setAttrs();
    };
    self = addElement(elt, this);
    return self;
  };

  /**
   * Creates an &lt;a&gt;&lt;/a&gt; element in the DOM for including a hyperlink.
   * Appends to the container node if one is specified, otherwise
   * appends to body.
   *
   * @method createA
   * @param  {String} href       url of page to link to
   * @param  {String} html       inner html of link element to display
   * @param  {String} [target]   target where new link should open,
   *                             could be _blank, _self, _parent, _top.
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div class='norender'><code>
   * createA('http://p5js.org/', 'this is a link');
   * </code></div>
   */
  p5.prototype.createA = function(href, html, target) {
    p5._validateParameters('createA', arguments);
    var elt = document.createElement('a');
    elt.href = href;
    elt.innerHTML = html;
    if (target) elt.target = target;
    return addElement(elt, this);
  };

  /** INPUT **/

  /**
   * Creates a slider &lt;input&gt;&lt;/input&gt; element in the DOM.
   * Use .size() to set the display length of the slider.
   * Appends to the container node if one is specified, otherwise
   * appends to body.
   *
   * @method createSlider
   * @param  {Number} min minimum value of the slider
   * @param  {Number} max maximum value of the slider
   * @param  {Number} [value] default value of the slider
   * @param  {Number} [step] step size for each tick of the slider (if step is set to 0, the slider will move continuously from the minimum to the maximum value)
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div><code>
   * var slider;
   * function setup() {
   *   slider = createSlider(0, 255, 100);
   *   slider.position(10, 10);
   *   slider.style('width', '80px');
   * }
   *
   * function draw() {
   *   var val = slider.value();
   *   background(val);
   * }
   * </code></div>
   *
   * <div><code>
   * var slider;
   * function setup() {
   *   colorMode(HSB);
   *   slider = createSlider(0, 360, 60, 40);
   *   slider.position(10, 10);
   *   slider.style('width', '80px');
   * }
   *
   * function draw() {
   *   var val = slider.value();
   *   background(val, 100, 100, 1);
   * }
   * </code></div>
   */
  p5.prototype.createSlider = function(min, max, value, step) {
    p5._validateParameters('createSlider', arguments);
    var elt = document.createElement('input');
    elt.type = 'range';
    elt.min = min;
    elt.max = max;
    if (step === 0) {
      elt.step = 0.000000000000000001; // smallest valid step
    } else if (step) {
      elt.step = step;
    }
    if (typeof value === 'number') elt.value = value;
    return addElement(elt, this);
  };

  /**
   * Creates a &lt;button&gt;&lt;/button&gt; element in the DOM.
   * Use .size() to set the display size of the button.
   * Use .mousePressed() to specify behavior on press.
   * Appends to the container node if one is specified, otherwise
   * appends to body.
   *
   * @method createButton
   * @param  {String} label label displayed on the button
   * @param  {String} [value] value of the button
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div class='norender'><code>
   * var button;
   * function setup() {
   *   createCanvas(100, 100);
   *   background(0);
   *   button = createButton('click me');
   *   button.position(19, 19);
   *   button.mousePressed(changeBG);
   * }
   *
   * function changeBG() {
   *   var val = random(255);
   *   background(val);
   * }
   * </code></div>
   */
  p5.prototype.createButton = function(label, value) {
    p5._validateParameters('createButton', arguments);
    var elt = document.createElement('button');
    elt.innerHTML = label;
    if (value) elt.value = value;
    return addElement(elt, this);
  };

  /**
   * Creates a checkbox &lt;input&gt;&lt;/input&gt; element in the DOM.
   * Calling .checked() on a checkbox returns if it is checked or not
   *
   * @method createCheckbox
   * @param  {String} [label] label displayed after checkbox
   * @param  {boolean} [value] value of the checkbox; checked is true, unchecked is false
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div class='norender'><code>
   * var checkbox;
   *
   * function setup() {
   *   checkbox = createCheckbox('label', false);
   *   checkbox.changed(myCheckedEvent);
   * }
   *
   * function myCheckedEvent() {
   *   if (this.checked()) {
   *     console.log('Checking!');
   *   } else {
   *     console.log('Unchecking!');
   *   }
   * }
   * </code></div>
   */
  p5.prototype.createCheckbox = function() {
    p5._validateParameters('createCheckbox', arguments);
    var elt = document.createElement('div');
    var checkbox = document.createElement('input');
    checkbox.type = 'checkbox';
    elt.appendChild(checkbox);
    //checkbox must be wrapped in p5.Element before label so that label appears after
    var self = addElement(elt, this);
    self.checked = function() {
      var cb = self.elt.getElementsByTagName('input')[0];
      if (cb) {
        if (arguments.length === 0) {
          return cb.checked;
        } else if (arguments[0]) {
          cb.checked = true;
        } else {
          cb.checked = false;
        }
      }
      return self;
    };
    this.value = function(val) {
      self.value = val;
      return this;
    };
    if (arguments[0]) {
      var ran = Math.random()
        .toString(36)
        .slice(2);
      var label = document.createElement('label');
      checkbox.setAttribute('id', ran);
      label.htmlFor = ran;
      self.value(arguments[0]);
      label.appendChild(document.createTextNode(arguments[0]));
      elt.appendChild(label);
    }
    if (arguments[1]) {
      checkbox.checked = true;
    }
    return self;
  };

  /**
   * Creates a dropdown menu &lt;select&gt;&lt;/select&gt; element in the DOM.
   * It also helps to assign select-box methods to <a href="#/p5.Element">p5.Element</a> when selecting existing select box
   * @method createSelect
   * @param {boolean} [multiple] true if dropdown should support multiple selections
   * @return {p5.Element}
   * @example
   * <div><code>
   * var sel;
   *
   * function setup() {
   *   textAlign(CENTER);
   *   background(200);
   *   sel = createSelect();
   *   sel.position(10, 10);
   *   sel.option('pear');
   *   sel.option('kiwi');
   *   sel.option('grape');
   *   sel.changed(mySelectEvent);
   * }
   *
   * function mySelectEvent() {
   *   var item = sel.value();
   *   background(200);
   *   text('It is a ' + item + '!', 50, 50);
   * }
   * </code></div>
   */
  /**
   * @method createSelect
   * @param {Object} existing DOM select element
   * @return {p5.Element}
   */

  p5.prototype.createSelect = function() {
    p5._validateParameters('createSelect', arguments);
    var elt, self;
    var arg = arguments[0];
    if (typeof arg === 'object' && arg.elt.nodeName === 'SELECT') {
      self = arg;
      elt = this.elt = arg.elt;
    } else {
      elt = document.createElement('select');
      if (arg && typeof arg === 'boolean') {
        elt.setAttribute('multiple', 'true');
      }
      self = addElement(elt, this);
    }
    self.option = function(name, value) {
      var index;
      //see if there is already an option with this name
      for (var i = 0; i < this.elt.length; i++) {
        if (this.elt[i].innerHTML === name) {
          index = i;
          break;
        }
      }
      //if there is an option with this name we will modify it
      if (index !== undefined) {
        //if the user passed in false then delete that option
        if (value === false) {
          this.elt.remove(index);
        } else {
          //otherwise if the name and value are the same then change both
          if (this.elt[index].innerHTML === this.elt[index].value) {
            this.elt[index].innerHTML = this.elt[index].value = value;
            //otherwise just change the value
          } else {
            this.elt[index].value = value;
          }
        }
      } else {
        //if it doesn't exist make it
        var opt = document.createElement('option');
        opt.innerHTML = name;
        if (arguments.length > 1) opt.value = value;
        else opt.value = name;
        elt.appendChild(opt);
      }
    };
    self.selected = function(value) {
      var arr = [],
        i;
      if (arguments.length > 0) {
        for (i = 0; i < this.elt.length; i++) {
          if (value.toString() === this.elt[i].value) {
            this.elt.selectedIndex = i;
          }
        }
        return this;
      } else {
        if (this.elt.getAttribute('multiple')) {
          for (i = 0; i < this.elt.selectedOptions.length; i++) {
            arr.push(this.elt.selectedOptions[i].value);
          }
          return arr;
        } else {
          return this.elt.value;
        }
      }
    };
    return self;
  };

  /**
   * Creates a radio button &lt;input&gt;&lt;/input&gt; element in the DOM.
   * The .option() method can be used to set options for the radio after it is
   * created. The .value() method will return the currently selected option.
   *
   * @method createRadio
   * @param  {String} [divId] the id and name of the created div and input field respectively
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div><code>
   * var radio;
   *
   * function setup() {
   *   radio = createRadio();
   *   radio.option('black');
   *   radio.option('white');
   *   radio.option('gray');
   *   radio.style('width', '60px');
   *   textAlign(CENTER);
   *   fill(255, 0, 0);
   * }
   *
   * function draw() {
   *   var val = radio.value();
   *   background(val);
   *   text(val, width / 2, height / 2);
   * }
   * </code></div>
   * <div><code>
   * var radio;
   *
   * function setup() {
   *   radio = createRadio();
   *   radio.option('apple', 1);
   *   radio.option('bread', 2);
   *   radio.option('juice', 3);
   *   radio.style('width', '60px');
   *   textAlign(CENTER);
   * }
   *
   * function draw() {
   *   background(200);
   *   var val = radio.value();
   *   if (val) {
   *     text('item cost is $' + val, width / 2, height / 2);
   *   }
   * }
   * </code></div>
   */
  p5.prototype.createRadio = function(existing_radios) {
    p5._validateParameters('createRadio', arguments);
    // do some prep by counting number of radios on page
    var radios = document.querySelectorAll('input[type=radio]');
    var count = 0;
    if (radios.length > 1) {
      var length = radios.length;
      var prev = radios[0].name;
      var current = radios[1].name;
      count = 1;
      for (var i = 1; i < length; i++) {
        current = radios[i].name;
        if (prev !== current) {
          count++;
        }
        prev = current;
      }
    } else if (radios.length === 1) {
      count = 1;
    }
    // see if we got an existing set of radios from callee
    var elt, self;
    if (typeof existing_radios === 'object') {
      // use existing elements
      self = existing_radios;
      elt = this.elt = existing_radios.elt;
    } else {
      // create a set of radio buttons
      elt = document.createElement('div');
      self = addElement(elt, this);
    }
    // setup member functions
    self._getInputChildrenArray = function() {
      return Array.prototype.slice.call(this.elt.children).filter(function(c) {
        return c.tagName === 'INPUT';
      });
    };

    var times = -1;
    self.option = function(name, value) {
      var opt = document.createElement('input');
      opt.type = 'radio';
      opt.innerHTML = name;
      if (value) opt.value = value;
      else opt.value = name;
      opt.setAttribute('name', 'defaultradio' + count);
      elt.appendChild(opt);
      if (name) {
        times++;
        var label = document.createElement('label');
        opt.setAttribute('id', 'defaultradio' + count + '-' + times);
        label.htmlFor = 'defaultradio' + count + '-' + times;
        label.appendChild(document.createTextNode(name));
        elt.appendChild(label);
      }
      return opt;
    };
    self.selected = function(value) {
      var i;
      var inputChildren = self._getInputChildrenArray();
      if (value) {
        for (i = 0; i < inputChildren.length; i++) {
          if (inputChildren[i].value === value) inputChildren[i].checked = true;
        }
        return this;
      } else {
        for (i = 0; i < inputChildren.length; i++) {
          if (inputChildren[i].checked === true) return inputChildren[i].value;
        }
      }
    };
    self.value = function(value) {
      var i;
      var inputChildren = self._getInputChildrenArray();
      if (value) {
        for (i = 0; i < inputChildren.length; i++) {
          if (inputChildren[i].value === value) inputChildren[i].checked = true;
        }
        return this;
      } else {
        for (i = 0; i < inputChildren.length; i++) {
          if (inputChildren[i].checked === true) return inputChildren[i].value;
        }
        return '';
      }
    };
    return self;
  };

  /**
   * Creates a colorPicker element in the DOM for color input.
   * The .value() method will return a hex string (#rrggbb) of the color.
   * The .color() method will return a p5.Color object with the current chosen color.
   *
   * @method createColorPicker
   * @param {String|p5.Color} [value] default color of element
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div>
   * <code>
   * var inp1, inp2;
   * function setup() {
   *   createCanvas(100, 100);
   *   background('grey');
   *   inp1 = createColorPicker('#ff0000');
   *   inp2 = createColorPicker(color('yellow'));
   *   inp1.input(setShade1);
   *   inp2.input(setShade2);
   *   setMidShade();
   * }
   *
   * function setMidShade() {
   *   // Finding a shade between the two
   *   var commonShade = lerpColor(inp1.color(), inp2.color(), 0.5);
   *   fill(commonShade);
   *   rect(20, 20, 60, 60);
   * }
   *
   * function setShade1() {
   *   setMidShade();
   *   console.log('You are choosing shade 1 to be : ', this.value());
   * }
   * function setShade2() {
   *   setMidShade();
   *   console.log('You are choosing shade 2 to be : ', this.value());
   * }
   * </code>
   * </div>
   */
  p5.prototype.createColorPicker = function(value) {
    p5._validateParameters('createColorPicker', arguments);
    var elt = document.createElement('input');
    var self;
    elt.type = 'color';
    if (value) {
      if (value instanceof p5.Color) {
        elt.value = value.toString('#rrggbb');
      } else {
        p5.prototype._colorMode = 'rgb';
        p5.prototype._colorMaxes = {
          rgb: [255, 255, 255, 255],
          hsb: [360, 100, 100, 1],
          hsl: [360, 100, 100, 1]
        };
        elt.value = p5.prototype.color(value).toString('#rrggbb');
      }
    } else {
      elt.value = '#000000';
    }
    self = addElement(elt, this);
    // Method to return a p5.Color object for the given color.
    self.color = function() {
      if (value.mode) {
        p5.prototype._colorMode = value.mode;
      }
      if (value.maxes) {
        p5.prototype._colorMaxes = value.maxes;
      }
      return p5.prototype.color(this.elt.value);
    };
    return self;
  };

  /**
   * Creates an &lt;input&gt;&lt;/input&gt; element in the DOM for text input.
   * Use .<a href="#/p5.Element/size">size()</a> to set the display length of the box.
   * Appends to the container node if one is specified, otherwise
   * appends to body.
   *
   * @method createInput
   * @param {String} [value] default value of the input box
   * @param {String} [type] type of text, ie text, password etc. Defaults to text
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div class='norender'><code>
   * function setup() {
   *   var inp = createInput('');
   *   inp.input(myInputEvent);
   * }
   *
   * function myInputEvent() {
   *   console.log('you are typing: ', this.value());
   * }
   * </code></div>
   */
  p5.prototype.createInput = function(value, type) {
    p5._validateParameters('createInput', arguments);
    var elt = document.createElement('input');
    elt.type = type ? type : 'text';
    if (value) elt.value = value;
    return addElement(elt, this);
  };

  /**
   * Creates an &lt;input&gt;&lt;/input&gt; element in the DOM of type 'file'.
   * This allows users to select local files for use in a sketch.
   *
   * @method createFileInput
   * @param  {Function} [callback] callback function for when a file loaded
   * @param  {String} [multiple] optional to allow multiple files selected
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created DOM element
   * @example
   * <div><code>
   * let input;
   * let img;
   *
   * function setup() {
   *   input = createFileInput(handleFile);
   *   input.position(0, 0);
   * }
   *
   * function draw() {
   *   background(255);
   *   if (img) {
   *     image(img, 0, 0, width, height);
   *   }
   * }
   *
   * function handleFile(file) {
   *   print(file);
   *   if (file.type === 'image') {
   *     img = createImg(file.data);
   *     img.hide();
   *   } else {
   *     img = null;
   *   }
   * }
   * </code></div>
   */
  p5.prototype.createFileInput = function(callback, multiple) {
    p5._validateParameters('createFileInput', arguments);
    // Function to handle when a file is selected
    // We're simplifying life and assuming that we always
    // want to load every selected file
    function handleFileSelect(evt) {
      // These are the files
      var files = evt.target.files;
      // Load each one and trigger a callback
      for (var i = 0; i < files.length; i++) {
        var f = files[i];
        p5.File._load(f, callback);
      }
    }
    // Is the file stuff supported?
    if (window.File && window.FileReader && window.FileList && window.Blob) {
      // Yup, we're ok and make an input file selector
      var elt = document.createElement('input');
      elt.type = 'file';

      // If we get a second argument that evaluates to true
      // then we are looking for multiple files
      if (multiple) {
        // Anything gets the job done
        elt.multiple = 'multiple';
      }

      // Now let's handle when a file was selected
      elt.addEventListener('change', handleFileSelect, false);
      return addElement(elt, this);
    } else {
      console.log(
        'The File APIs are not fully supported in this browser. Cannot create element.'
      );
    }
  };

  /** VIDEO STUFF **/

  function createMedia(pInst, type, src, callback) {
    var elt = document.createElement(type);

    // allow src to be empty
    src = src || '';
    if (typeof src === 'string') {
      src = [src];
    }
    for (var i = 0; i < src.length; i++) {
      var source = document.createElement('source');
      source.src = src[i];
      elt.appendChild(source);
    }
    if (typeof callback !== 'undefined') {
      var callbackHandler = function() {
        callback();
        elt.removeEventListener('canplaythrough', callbackHandler);
      };
      elt.addEventListener('canplaythrough', callbackHandler);
    }

    var c = addElement(elt, pInst, true);
    c.loadedmetadata = false;
    // set width and height onload metadata
    elt.addEventListener('loadedmetadata', function() {
      c.width = elt.videoWidth;
      c.height = elt.videoHeight;
      //c.elt.playbackRate = s;
      // set elt width and height if not set
      if (c.elt.width === 0) c.elt.width = elt.videoWidth;
      if (c.elt.height === 0) c.elt.height = elt.videoHeight;
      if (c.presetPlaybackRate) {
        c.elt.playbackRate = c.presetPlaybackRate;
        delete c.presetPlaybackRate;
      }
      c.loadedmetadata = true;
    });

    return c;
  }
  /**
   * Creates an HTML5 &lt;video&gt; element in the DOM for simple playback
   * of audio/video. Shown by default, can be hidden with .<a href="#/p5.Element/hide">hide()</a>
   * and drawn into canvas using video(). Appends to the container
   * node if one is specified, otherwise appends to body. The first parameter
   * can be either a single string path to a video file, or an array of string
   * paths to different formats of the same video. This is useful for ensuring
   * that your video can play across different browsers, as each supports
   * different formats. See <a href='https://developer.mozilla.org/en-US/docs/Web/HTML/Supported_media_formats'>this
   * page</a> for further information about supported formats.
   *
   * @method createVideo
   * @param  {String|String[]} src path to a video file, or array of paths for
   *                             supporting different browsers
   * @param  {Function} [callback] callback function to be called upon
   *                             'canplaythrough' event fire, that is, when the
   *                             browser can play the media, and estimates that
   *                             enough data has been loaded to play the media
   *                             up to its end without having to stop for
   *                             further buffering of content
   * @return {p5.MediaElement}   pointer to video <a href="#/p5.Element">p5.Element</a>
   * @example
   * <div><code>
   * var vid;
   * function setup() {
   *   vid = createVideo(['small.mp4', 'small.ogv', 'small.webm'], vidLoad);
   * }
   *
   * // This function is called when the video loads
   * function vidLoad() {
   *   vid.play();
   * }
   * </code></div>
   */
  p5.prototype.createVideo = function(src, callback) {
    p5._validateParameters('createVideo', arguments);
    return createMedia(this, 'video', src, callback);
  };

  /** AUDIO STUFF **/

  /**
   * Creates a hidden HTML5 &lt;audio&gt; element in the DOM for simple audio
   * playback. Appends to the container node if one is specified,
   * otherwise appends to body. The first parameter
   * can be either a single string path to a audio file, or an array of string
   * paths to different formats of the same audio. This is useful for ensuring
   * that your audio can play across different browsers, as each supports
   * different formats. See <a href='https://developer.mozilla.org/en-US/docs/Web/HTML/Supported_media_formats'>this
   * page for further information about supported formats</a>.
   *
   * @method createAudio
   * @param  {String|String[]} [src] path to an audio file, or array of paths
   *                             for supporting different browsers
   * @param  {Function} [callback] callback function to be called upon
   *                             'canplaythrough' event fire, that is, when the
   *                             browser can play the media, and estimates that
   *                             enough data has been loaded to play the media
   *                             up to its end without having to stop for
   *                             further buffering of content
   * @return {p5.MediaElement}   pointer to audio <a href="#/p5.Element">p5.Element</a>
   * @example
   * <div><code>
   * var ele;
   * function setup() {
   *   ele = createAudio('assets/beat.mp3');
   *
   *   // here we set the element to autoplay
   *   // The element will play as soon
   *   // as it is able to do so.
   *   ele.autoplay(true);
   * }
   * </code></div>
   */
  p5.prototype.createAudio = function(src, callback) {
    p5._validateParameters('createAudio', arguments);
    return createMedia(this, 'audio', src, callback);
  };

  /** CAMERA STUFF **/

  /**
   * @property {String} VIDEO
   * @final
   * @category Constants
   */
  p5.prototype.VIDEO = 'video';
  /**
   * @property {String} AUDIO
   * @final
   * @category Constants
   */
  p5.prototype.AUDIO = 'audio';

  // from: https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia
  // Older browsers might not implement mediaDevices at all, so we set an empty object first
  if (navigator.mediaDevices === undefined) {
    navigator.mediaDevices = {};
  }

  // Some browsers partially implement mediaDevices. We can't just assign an object
  // with getUserMedia as it would overwrite existing properties.
  // Here, we will just add the getUserMedia property if it's missing.
  if (navigator.mediaDevices.getUserMedia === undefined) {
    navigator.mediaDevices.getUserMedia = function(constraints) {
      // First get ahold of the legacy getUserMedia, if present
      var getUserMedia =
        navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

      // Some browsers just don't implement it - return a rejected promise with an error
      // to keep a consistent interface
      if (!getUserMedia) {
        return Promise.reject(
          new Error('getUserMedia is not implemented in this browser')
        );
      }

      // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise
      return new Promise(function(resolve, reject) {
        getUserMedia.call(navigator, constraints, resolve, reject);
      });
    };
  }

  /**
   * <p>Creates a new HTML5 &lt;video&gt; element that contains the audio/video
   * feed from a webcam. The element is separate from the canvas and is
   * displayed by default. The element can be hidden using .<a href="#/p5.Element/hide">hide()</a>. The feed
   * can be drawn onto the canvas using <a href="#/p5/image">image()</a>. The loadedmetadata property can
   * be used to detect when the element has fully loaded (see second example).</p>
   * <p>More specific properties of the feed can be passing in a Constraints object.
   * See the
   * <a href='http://w3c.github.io/mediacapture-main/getusermedia.html#media-track-constraints'> W3C
   * spec</a> for possible properties. Note that not all of these are supported
   * by all browsers.</p>
   * <p>Security note: A new browser security specification requires that getUserMedia,
   * which is behind <a href="#/p5/createCapture">createCapture()</a>, only works when you're running the code locally,
   * or on HTTPS. Learn more <a href='http://stackoverflow.com/questions/34197653/getusermedia-in-chrome-47-without-using-https'>here</a>
   * and <a href='https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia'>here</a>.</p>
   *
   * @method createCapture
   * @param  {String|Constant|Object}   type type of capture, either VIDEO or
   *                                   AUDIO if none specified, default both,
   *                                   or a Constraints object
   * @param  {Function}                 [callback] function to be called once
   *                                   stream has loaded
   * @return {p5.Element} capture video <a href="#/p5.Element">p5.Element</a>
   * @example
   * <div class='norender notest'><code>
   * var capture;
   *
   * function setup() {
   *   createCanvas(480, 480);
   *   capture = createCapture(VIDEO);
   *   capture.hide();
   * }
   *
   * function draw() {
   *   image(capture, 0, 0, width, width * capture.height / capture.width);
   *   filter(INVERT);
   * }
   * </code></div>
   * <div class='norender notest'><code>
   * function setup() {
   *   createCanvas(480, 120);
   *   var constraints = {
   *     video: {
   *       mandatory: {
   *         minWidth: 1280,
   *         minHeight: 720
   *       },
   *       optional: [{ maxFrameRate: 10 }]
   *     },
   *     audio: true
   *   };
   *   createCapture(constraints, function(stream) {
   *     console.log(stream);
   *   });
   * }
   * </code></div>
   * <code><div class='norender notest'>
   * var capture;
   *
   * function setup() {
   *   createCanvas(640, 480);
   *   capture = createCapture(VIDEO);
   * }
   * function draw() {
   *   background(0);
   *   if (capture.loadedmetadata) {
   *     var c = capture.get(0, 0, 100, 100);
   *     image(c, 0, 0);
   *   }
   * }
   */
  p5.prototype.createCapture = function() {
    p5._validateParameters('createCapture', arguments);
    var useVideo = true;
    var useAudio = true;
    var constraints;
    var cb;
    for (var i = 0; i < arguments.length; i++) {
      if (arguments[i] === p5.prototype.VIDEO) {
        useAudio = false;
      } else if (arguments[i] === p5.prototype.AUDIO) {
        useVideo = false;
      } else if (typeof arguments[i] === 'object') {
        constraints = arguments[i];
      } else if (typeof arguments[i] === 'function') {
        cb = arguments[i];
      }
    }
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
      var elt = document.createElement('video');
      // required to work in iOS 11 & up:
      elt.setAttribute('playsinline', '');

      if (!constraints) {
        constraints = { video: useVideo, audio: useAudio };
      }

      navigator.mediaDevices.getUserMedia(constraints).then(
        function(stream) {
          try {
            if ('srcObject' in elt) {
              elt.srcObject = stream;
            } else {
              elt.src = window.URL.createObjectURL(stream);
            }
          } catch (err) {
            elt.src = stream;
          }
          if (cb) {
            cb(stream);
          }
        },
        function(e) {
          console.log(e);
        }
      );
    } else {
      throw 'getUserMedia not supported in this browser';
    }
    var c = addElement(elt, this, true);
    c.loadedmetadata = false;
    // set width and height onload metadata
    elt.addEventListener('loadedmetadata', function() {
      elt.play();
      if (elt.width) {
        c.width = elt.videoWidth = elt.width;
        c.height = elt.videoHeight = elt.height;
      } else {
        c.width = c.elt.width = elt.videoWidth;
        c.height = c.elt.height = elt.videoHeight;
      }
      c.loadedmetadata = true;
    });
    return c;
  };

  /**
   * Creates element with given tag in the DOM with given content.
   * Appends to the container node if one is specified, otherwise
   * appends to body.
   *
   * @method createElement
   * @param  {String} tag tag for the new element
   * @param  {String} [content] html content to be inserted into the element
   * @return {p5.Element} pointer to <a href="#/p5.Element">p5.Element</a> holding created node
   * @example
   * <div class='norender'><code>
   * createElement('h2', 'im an h2 p5.element!');
   * </code></div>
   */
  p5.prototype.createElement = function(tag, content) {
    p5._validateParameters('createElement', arguments);
    var elt = document.createElement(tag);
    if (typeof content !== 'undefined') {
      elt.innerHTML = content;
    }
    return addElement(elt, this);
  };

  // =============================================================================
  //                         p5.Element additions
  // =============================================================================
  /**
   *
   * Adds specified class to the element.
   *
   * @for p5.Element
   * @method addClass
   * @param  {String} class name of class to add
   * @chainable
   * @example
   * <div class='norender'><code>
   * var div = createDiv('div');
   * div.addClass('myClass');
   * </code></div>
   */
  p5.Element.prototype.addClass = function(c) {
    if (this.elt.className) {
      // PEND don't add class more than once
      //var regex = new RegExp('[^a-zA-Z\d:]?'+c+'[^a-zA-Z\d:]?');
      //if (this.elt.className.search(/[^a-zA-Z\d:]?hi[^a-zA-Z\d:]?/) === -1) {
      this.elt.className = this.elt.className + ' ' + c;
      //}
    } else {
      this.elt.className = c;
    }
    return this;
  };

  /**
   *
   * Removes specified class from the element.
   *
   * @method removeClass
   * @param  {String} class name of class to remove
   * @chainable
   * @example
   * <div class='norender'><code>
   * // In this example, a class is set when the div is created
   * // and removed when mouse is pressed. This could link up
   * // with a CSS style rule to toggle style properties.
   *
   * var div;
   *
   * function setup() {
   *   div = createDiv('div');
   *   div.addClass('myClass');
   * }
   *
   * function mousePressed() {
   *   div.removeClass('myClass');
   * }
   * </code></div>
   */
  p5.Element.prototype.removeClass = function(c) {
    var regex = new RegExp('(?:^|\\s)' + c + '(?!\\S)');
    this.elt.className = this.elt.className.replace(regex, '');
    this.elt.className = this.elt.className.replace(/^\s+|\s+$/g, ''); //prettify (optional)
    return this;
  };

  /**
   *
   * Attaches the element  as a child to the parent specified.
   * Accepts either a string ID, DOM node, or <a href="#/p5.Element">p5.Element</a>.
   * If no argument is specified, an array of children DOM nodes is returned.
   *
   * @method child
   * @returns {Node[]} an array of child nodes
   * @example
   * <div class='norender'><code>
   * var div0 = createDiv('this is the parent');
   * var div1 = createDiv('this is the child');
   * div0.child(div1); // use p5.Element
   * </code></div>
   * <div class='norender'><code>
   * var div0 = createDiv('this is the parent');
   * var div1 = createDiv('this is the child');
   * div1.id('apples');
   * div0.child('apples'); // use id
   * </code></div>
   * <div class='norender notest'><code>
   * // this example assumes there is a div already on the page
   * // with id "myChildDiv"
   * var div0 = createDiv('this is the parent');
   * var elt = document.getElementById('myChildDiv');
   * div0.child(elt); // use element from page
   * </code></div>
   */
  /**
   * @method child
   * @param  {String|p5.Element} [child] the ID, DOM node, or <a href="#/p5.Element">p5.Element</a>
   *                         to add to the current element
   * @chainable
   */
  p5.Element.prototype.child = function(c) {
    if (typeof c === 'undefined') {
      return this.elt.childNodes;
    }
    if (typeof c === 'string') {
      if (c[0] === '#') {
        c = c.substring(1);
      }
      c = document.getElementById(c);
    } else if (c instanceof p5.Element) {
      c = c.elt;
    }
    this.elt.appendChild(c);
    return this;
  };

  /**
   * Centers a p5 Element either vertically, horizontally,
   * or both, relative to its parent or according to
   * the body if the Element has no parent. If no argument is passed
   * the Element is aligned both vertically and horizontally.
   *
   * @method center
   * @param  {String} [align]       passing 'vertical', 'horizontal' aligns element accordingly
   * @chainable
   *
   * @example
   * <div><code>
   * function setup() {
   *   var div = createDiv('').size(10, 10);
   *   div.style('background-color', 'orange');
   *   div.center();
   * }
   * </code></div>
   */
  p5.Element.prototype.center = function(align) {
    var style = this.elt.style.display;
    var hidden = this.elt.style.display === 'none';
    var parentHidden = this.parent().style.display === 'none';
    var pos = { x: this.elt.offsetLeft, y: this.elt.offsetTop };

    if (hidden) this.show();

    this.elt.style.display = 'block';
    this.position(0, 0);

    if (parentHidden) this.parent().style.display = 'block';

    var wOffset = Math.abs(this.parent().offsetWidth - this.elt.offsetWidth);
    var hOffset = Math.abs(this.parent().offsetHeight - this.elt.offsetHeight);
    var y = pos.y;
    var x = pos.x;

    if (align === 'both' || align === undefined) {
      this.position(wOffset / 2, hOffset / 2);
    } else if (align === 'horizontal') {
      this.position(wOffset / 2, y);
    } else if (align === 'vertical') {
      this.position(x, hOffset / 2);
    }

    this.style('display', style);

    if (hidden) this.hide();

    if (parentHidden) this.parent().style.display = 'none';

    return this;
  };

  /**
   *
   * If an argument is given, sets the inner HTML of the element,
   * replacing any existing html. If true is included as a second
   * argument, html is appended instead of replacing existing html.
   * If no arguments are given, returns
   * the inner HTML of the element.
   *
   * @for p5.Element
   * @method html
   * @returns {String} the inner HTML of the element
   * @example
   * <div class='norender'><code>
   * var div = createDiv('').size(100, 100);
   * div.html('hi');
   * </code></div>
   * <div class='norender'><code>
   * var div = createDiv('Hello ').size(100, 100);
   * div.html('World', true);
   * </code></div>
   */
  /**
   * @method html
   * @param  {String} [html] the HTML to be placed inside the element
   * @param  {boolean} [append] whether to append HTML to existing
   * @chainable
   */
  p5.Element.prototype.html = function() {
    if (arguments.length === 0) {
      return this.elt.innerHTML;
    } else if (arguments[1]) {
      this.elt.innerHTML += arguments[0];
      return this;
    } else {
      this.elt.innerHTML = arguments[0];
      return this;
    }
  };

  /**
   *
   * Sets the position of the element relative to (0, 0) of the
   * window. Essentially, sets position:absolute and left and top
   * properties of style. If no arguments given returns the x and y position
   * of the element in an object.
   *
   * @method position
   * @returns {Object} the x and y position of the element in an object
   * @example
   * <div><code class='norender'>
   * function setup() {
   *   var cnv = createCanvas(100, 100);
   *   // positions canvas 50px to the right and 100px
   *   // below upper left corner of the window
   *   cnv.position(50, 100);
   * }
   * </code></div>
   */
  /**
   * @method position
   * @param  {Number} [x] x-position relative to upper left of window
   * @param  {Number} [y] y-position relative to upper left of window
   * @chainable
   */
  p5.Element.prototype.position = function() {
    if (arguments.length === 0) {
      return { x: this.elt.offsetLeft, y: this.elt.offsetTop };
    } else {
      this.elt.style.position = 'absolute';
      this.elt.style.left = arguments[0] + 'px';
      this.elt.style.top = arguments[1] + 'px';
      this.x = arguments[0];
      this.y = arguments[1];
      return this;
    }
  };

  /* Helper method called by p5.Element.style() */
  p5.Element.prototype._translate = function() {
    this.elt.style.position = 'absolute';
    // save out initial non-translate transform styling
    var transform = '';
    if (this.elt.style.transform) {
      transform = this.elt.style.transform.replace(/translate3d\(.*\)/g, '');
      transform = transform.replace(/translate[X-Z]?\(.*\)/g, '');
    }
    if (arguments.length === 2) {
      this.elt.style.transform =
        'translate(' + arguments[0] + 'px, ' + arguments[1] + 'px)';
    } else if (arguments.length > 2) {
      this.elt.style.transform =
        'translate3d(' +
        arguments[0] +
        'px,' +
        arguments[1] +
        'px,' +
        arguments[2] +
        'px)';
      if (arguments.length === 3) {
        this.elt.parentElement.style.perspective = '1000px';
      } else {
        this.elt.parentElement.style.perspective = arguments[3] + 'px';
      }
    }
    // add any extra transform styling back on end
    this.elt.style.transform += transform;
    return this;
  };

  /* Helper method called by p5.Element.style() */
  p5.Element.prototype._rotate = function() {
    // save out initial non-rotate transform styling
    var transform = '';
    if (this.elt.style.transform) {
      transform = this.elt.style.transform.replace(/rotate3d\(.*\)/g, '');
      transform = transform.replace(/rotate[X-Z]?\(.*\)/g, '');
    }

    if (arguments.length === 1) {
      this.elt.style.transform = 'rotate(' + arguments[0] + 'deg)';
    } else if (arguments.length === 2) {
      this.elt.style.transform =
        'rotate(' + arguments[0] + 'deg, ' + arguments[1] + 'deg)';
    } else if (arguments.length === 3) {
      this.elt.style.transform = 'rotateX(' + arguments[0] + 'deg)';
      this.elt.style.transform += 'rotateY(' + arguments[1] + 'deg)';
      this.elt.style.transform += 'rotateZ(' + arguments[2] + 'deg)';
    }
    // add remaining transform back on
    this.elt.style.transform += transform;
    return this;
  };

  /**
   * Sets the given style (css) property (1st arg) of the element with the
   * given value (2nd arg). If a single argument is given, .style()
   * returns the value of the given property; however, if the single argument
   * is given in css syntax ('text-align:center'), .style() sets the css
   * appropriatly. .style() also handles 2d and 3d css transforms. If
   * the 1st arg is 'rotate', 'translate', or 'position', the following arguments
   * accept Numbers as values. ('translate', 10, 100, 50);
   *
   * @method style
   * @param  {String} property   property to be set
   * @returns {String} value of property
   * @example
   * <div><code class='norender'>
   * var myDiv = createDiv('I like pandas.');
   * myDiv.style('font-size', '18px');
   * myDiv.style('color', '#ff0000');
   * </code></div>
   * <div><code class='norender'>
   * var col = color(25, 23, 200, 50);
   * var button = createButton('button');
   * button.style('background-color', col);
   * button.position(10, 10);
   * </code></div>
   * <div><code class='norender'>
   * var myDiv = createDiv('I like lizards.');
   * myDiv.style('position', 20, 20);
   * myDiv.style('rotate', 45);
   * </code></div>
   * <div><code class='norender'>
   * var myDiv;
   * function setup() {
   *   background(200);
   *   myDiv = createDiv('I like gray.');
   *   myDiv.position(20, 20);
   * }
   *
   * function draw() {
   *   myDiv.style('font-size', mouseX + 'px');
   * }
   * </code></div>
   */
  /**
   * @method style
   * @param  {String} property
   * @param  {String|Number|p5.Color} value     value to assign to property (only String|Number for rotate/translate)
   * @param  {String|Number|p5.Color} [value2]  position can take a 2nd value
   * @param  {String|Number|p5.Color} [value3]  translate can take a 2nd & 3rd value
   * @chainable
   */
  p5.Element.prototype.style = function(prop, val) {
    var self = this;

    if (val instanceof p5.Color) {
      val =
        'rgba(' +
        val.levels[0] +
        ',' +
        val.levels[1] +
        ',' +
        val.levels[2] +
        ',' +
        val.levels[3] / 255 +
        ')';
    }

    if (typeof val === 'undefined') {
      if (prop.indexOf(':') === -1) {
        var styles = window.getComputedStyle(self.elt);
        var style = styles.getPropertyValue(prop);
        return style;
      } else {
        var attrs = prop.split(';');
        for (var i = 0; i < attrs.length; i++) {
          var parts = attrs[i].split(':');
          if (parts[0] && parts[1]) {
            this.elt.style[parts[0].trim()] = parts[1].trim();
          }
        }
      }
    } else {
      if (prop === 'rotate' || prop === 'translate' || prop === 'position') {
        var trans = Array.prototype.shift.apply(arguments);
        var f = this[trans] || this['_' + trans];
        f.apply(this, arguments);
      } else {
        this.elt.style[prop] = val;
        if (
          prop === 'width' ||
          prop === 'height' ||
          prop === 'left' ||
          prop === 'top'
        ) {
          var numVal = val.replace(/\D+/g, '');
          this[prop] = parseInt(numVal, 10); // pend: is this necessary?
        }
      }
    }
    return this;
  };

  /**
   *
   * Adds a new attribute or changes the value of an existing attribute
   * on the specified element. If no value is specified, returns the
   * value of the given attribute, or null if attribute is not set.
   *
   * @method attribute
   * @return {String} value of attribute
   *
   * @example
   * <div class='norender'><code>
   * var myDiv = createDiv('I like pandas.');
   * myDiv.attribute('align', 'center');
   * </code></div>
   */
  /**
   * @method attribute
   * @param  {String} attr       attribute to set
   * @param  {String} value      value to assign to attribute
   * @chainable
   */
  p5.Element.prototype.attribute = function(attr, value) {
    //handling for checkboxes and radios to ensure options get
    //attributes not divs
    if (
      this.elt.firstChild != null &&
      (this.elt.firstChild.type === 'checkbox' ||
        this.elt.firstChild.type === 'radio')
    ) {
      if (typeof value === 'undefined') {
        return this.elt.firstChild.getAttribute(attr);
      } else {
        for (var i = 0; i < this.elt.childNodes.length; i++) {
          this.elt.childNodes[i].setAttribute(attr, value);
        }
      }
    } else if (typeof value === 'undefined') {
      return this.elt.getAttribute(attr);
    } else {
      this.elt.setAttribute(attr, value);
      return this;
    }
  };

  /**
   *
   * Removes an attribute on the specified element.
   *
   * @method removeAttribute
   * @param  {String} attr       attribute to remove
   * @chainable
   *
   * @example
   * <div><code>
   * var button;
   * var checkbox;
   *
   * function setup() {
   *   checkbox = createCheckbox('enable', true);
   *   checkbox.changed(enableButton);
   *   button = createButton('button');
   *   button.position(10, 10);
   * }
   *
   * function enableButton() {
   *   if (this.checked()) {
   *     // Re-enable the button
   *     button.removeAttribute('disabled');
   *   } else {
   *     // Disable the button
   *     button.attribute('disabled', '');
   *   }
   * }
   * </code></div>
   */
  p5.Element.prototype.removeAttribute = function(attr) {
    if (
      this.elt.firstChild != null &&
      (this.elt.firstChild.type === 'checkbox' ||
        this.elt.firstChild.type === 'radio')
    ) {
      for (var i = 0; i < this.elt.childNodes.length; i++) {
        this.elt.childNodes[i].removeAttribute(attr);
      }
    }
    this.elt.removeAttribute(attr);
    return this;
  };

  /**
   * Either returns the value of the element if no arguments
   * given, or sets the value of the element.
   *
   * @method value
   * @return {String|Number} value of the element
   * @example
   * <div class='norender'><code>
   * // gets the value
   * var inp;
   * function setup() {
   *   inp = createInput('');
   * }
   *
   * function mousePressed() {
   *   print(inp.value());
   * }
   * </code></div>
   * <div class='norender'><code>
   * // sets the value
   * var inp;
   * function setup() {
   *   inp = createInput('myValue');
   * }
   *
   * function mousePressed() {
   *   inp.value('myValue');
   * }
   * </code></div>
   */
  /**
   * @method value
   * @param  {String|Number}     value
   * @chainable
   */
  p5.Element.prototype.value = function() {
    if (arguments.length > 0) {
      this.elt.value = arguments[0];
      return this;
    } else {
      if (this.elt.type === 'range') {
        return parseFloat(this.elt.value);
      } else return this.elt.value;
    }
  };

  /**
   *
   * Shows the current element. Essentially, setting display:block for the style.
   *
   * @method show
   * @chainable
   * @example
   * <div class='norender'><code>
   * var div = createDiv('div');
   * div.style('display', 'none');
   * div.show(); // turns display to block
   * </code></div>
   */
  p5.Element.prototype.show = function() {
    this.elt.style.display = 'block';
    return this;
  };

  /**
   * Hides the current element. Essentially, setting display:none for the style.
   *
   * @method hide
   * @chainable
   * @example
   * <div class='norender'><code>
   * var div = createDiv('this is a div');
   * div.hide();
   * </code></div>
   */
  p5.Element.prototype.hide = function() {
    this.elt.style.display = 'none';
    return this;
  };

  /**
   *
   * Sets the width and height of the element. AUTO can be used to
   * only adjust one dimension. If no arguments given returns the width and height
   * of the element in an object.
   *
   * @method size
   * @return {Object} the width and height of the element in an object
   * @example
   * <div class='norender'><code>
   * var div = createDiv('this is a div');
   * div.size(100, 100);
   * </code></div>
   */
  /**
   * @method size
   * @param  {Number|Constant} w    width of the element, either AUTO, or a number
   * @param  {Number|Constant} [h] height of the element, either AUTO, or a number
   * @chainable
   */
  p5.Element.prototype.size = function(w, h) {
    if (arguments.length === 0) {
      return { width: this.elt.offsetWidth, height: this.elt.offsetHeight };
    } else {
      var aW = w;
      var aH = h;
      var AUTO = p5.prototype.AUTO;
      if (aW !== AUTO || aH !== AUTO) {
        if (aW === AUTO) {
          aW = h * this.width / this.height;
        } else if (aH === AUTO) {
          aH = w * this.height / this.width;
        }
        // set diff for cnv vs normal div
        if (this.elt instanceof HTMLCanvasElement) {
          var j = {};
          var k = this.elt.getContext('2d');
          var prop;
          for (prop in k) {
            j[prop] = k[prop];
          }
          this.elt.setAttribute('width', aW * this._pInst._pixelDensity);
          this.elt.setAttribute('height', aH * this._pInst._pixelDensity);
          this.elt.setAttribute(
            'style',
            'width:' + aW + 'px; height:' + aH + 'px'
          );
          this._pInst.scale(
            this._pInst._pixelDensity,
            this._pInst._pixelDensity
          );
          for (prop in j) {
            this.elt.getContext('2d')[prop] = j[prop];
          }
        } else {
          this.elt.style.width = aW + 'px';
          this.elt.style.height = aH + 'px';
          this.elt.width = aW;
          this.elt.height = aH;
          this.width = aW;
          this.height = aH;
        }

        this.width = this.elt.offsetWidth;
        this.height = this.elt.offsetHeight;

        if (this._pInst && this._pInst._curElement) {
          // main canvas associated with p5 instance
          if (this._pInst._curElement.elt === this.elt) {
            this._pInst._setProperty('width', this.elt.offsetWidth);
            this._pInst._setProperty('height', this.elt.offsetHeight);
          }
        }
      }
      return this;
    }
  };

  /**
   * Removes the element and deregisters all listeners.
   * @method remove
   * @example
   * <div class='norender'><code>
   * var myDiv = createDiv('this is some text');
   * myDiv.remove();
   * </code></div>
   */
  p5.Element.prototype.remove = function() {
    // deregister events
    for (var ev in this._events) {
      this.elt.removeEventListener(ev, this._events[ev]);
    }
    if (this.elt.parentNode) {
      this.elt.parentNode.removeChild(this.elt);
    }
    delete this;
  };

  /**
   * Registers a callback that gets called every time a file that is
   * dropped on the element has been loaded.
   * p5 will load every dropped file into memory and pass it as a p5.File object to the callback.
   * Multiple files dropped at the same time will result in multiple calls to the callback.
   *
   * You can optionally pass a second callback which will be registered to the raw
   * <a href="https://developer.mozilla.org/en-US/docs/Web/Events/drop">drop</a> event.
   * The callback will thus be provided the original
   * <a href="https://developer.mozilla.org/en-US/docs/Web/API/DragEvent">DragEvent</a>.
   * Dropping multiple files at the same time will trigger the second callback once per drop,
   * whereas the first callback will trigger for each loaded file.
   *
   * @method drop
   * @param  {Function} callback  callback to receive loaded file.
   * @param  {Function} [fxn]     callback triggered when files are dropped.
   * @chainable
   * @example
   * <div><code>
   * function setup() {
   *   var c = createCanvas(100, 100);
   *   background(200);
   *   textAlign(CENTER);
   *   text('drop file', width / 2, height / 2);
   *   c.drop(gotFile);
   * }
   *
   * function gotFile(file) {
   *   background(200);
   *   text('received file:', width / 2, height / 2);
   *   text(file.name, width / 2, height / 2 + 50);
   * }
   * </code></div>
   *
   * <div><code>
   * var img;
   *
   * function setup() {
   *   var c = createCanvas(100, 100);
   *   background(200);
   *   textAlign(CENTER);
   *   text('drop image', width / 2, height / 2);
   *   c.drop(gotFile);
   * }
   *
   * function draw() {
   *   if (img) {
   *     image(img, 0, 0, width, height);
   *   }
   * }
   *
   * function gotFile(file) {
   *   img = createImg(file.data).hide();
   * }
   * </code></div>
   *
   * @alt
   * Canvas turns into whatever image is dragged/dropped onto it.
   */
  p5.Element.prototype.drop = function(callback, fxn) {
    // Is the file stuff supported?
    if (window.File && window.FileReader && window.FileList && window.Blob) {
      if (!this._dragDisabled) {
        this._dragDisabled = true;

        var preventDefault = function(evt) {
          evt.preventDefault();
        };

        // If you want to be able to drop you've got to turn off
        // a lot of default behavior.
        // avoid `attachListener` here, since it overrides other handlers.
        this.elt.addEventListener('dragover', preventDefault);

        // If this is a drag area we need to turn off the default behavior
        this.elt.addEventListener('dragleave', preventDefault);
      }

      // Attach the second argument as a callback that receives the raw drop event
      if (typeof fxn !== 'undefined') {
        p5.Element._attachListener('drop', fxn, this);
      }

      // Deal with the files
      p5.Element._attachListener(
        'drop',
        function(evt) {
          evt.preventDefault();

          // A FileList
          var files = evt.dataTransfer.files;

          // Load each one and trigger the callback
          for (var i = 0; i < files.length; i++) {
            var f = files[i];
            p5.File._load(f, callback);
          }
        },
        this
      );
    } else {
      console.log('The File APIs are not fully supported in this browser.');
    }

    return this;
  };

  // =============================================================================
  //                         p5.MediaElement additions
  // =============================================================================

  /**
   * Extends <a href="#/p5.Element">p5.Element</a> to handle audio and video. In addition to the methods
   * of <a href="#/p5.Element">p5.Element</a>, it also contains methods for controlling media. It is not
   * called directly, but <a href="#/p5.MediaElement">p5.MediaElement</a>s are created by calling <a href="#/p5/createVideo">createVideo</a>,
   * <a href="#/p5/createAudio">createAudio</a>, and <a href="#/p5/createCapture">createCapture</a>.
   *
   * @class p5.MediaElement
   * @constructor
   * @param {String} elt DOM node that is wrapped
   */
  p5.MediaElement = function(elt, pInst) {
    p5.Element.call(this, elt, pInst);

    var self = this;
    this.elt.crossOrigin = 'anonymous';

    this._prevTime = 0;
    this._cueIDCounter = 0;
    this._cues = [];
    this._pixelDensity = 1;
    this._modified = false;
    this._pixelsDirty = true;
    this._pixelsTime = -1; // the time at which we last updated 'pixels'

    /**
     * Path to the media element source.
     *
     * @property src
     * @return {String} src
     * @example
     * <div><code>
     * var ele;
     *
     * function setup() {
     *   background(250);
     *
     *   //p5.MediaElement objects are usually created
     *   //by calling the createAudio(), createVideo(),
     *   //and createCapture() functions.
     *
     *   //In this example we create
     *   //a new p5.MediaElement via createAudio().
     *   ele = createAudio('assets/beat.mp3');
     *
     *   //We'll set up our example so that
     *   //when you click on the text,
     *   //an alert box displays the MediaElement's
     *   //src field.
     *   textAlign(CENTER);
     *   text('Click Me!', width / 2, height / 2);
     * }
     *
     * function mouseClicked() {
     *   //here we test if the mouse is over the
     *   //canvas element when it's clicked
     *   if (mouseX >= 0 && mouseX <= width && mouseY >= 0 && mouseY <= height) {
     *     //Show our p5.MediaElement's src field
     *     alert(ele.src);
     *   }
     * }
     * </code></div>
     */
    Object.defineProperty(self, 'src', {
      get: function() {
        var firstChildSrc = self.elt.children[0].src;
        var srcVal = self.elt.src === window.location.href ? '' : self.elt.src;
        var ret =
          firstChildSrc === window.location.href ? srcVal : firstChildSrc;
        return ret;
      },
      set: function(newValue) {
        for (var i = 0; i < self.elt.children.length; i++) {
          self.elt.removeChild(self.elt.children[i]);
        }
        var source = document.createElement('source');
        source.src = newValue;
        elt.appendChild(source);
        self.elt.src = newValue;
        self.modified = true;
      }
    });

    // private _onended callback, set by the method: onended(callback)
    self._onended = function() {};
    self.elt.onended = function() {
      self._onended(self);
    };
  };
  p5.MediaElement.prototype = Object.create(p5.Element.prototype);

  /**
   * Play an HTML5 media element.
   *
   * @method play
   * @chainable
   * @example
   * <div><code>
   * var ele;
   *
   * function setup() {
   *   //p5.MediaElement objects are usually created
   *   //by calling the createAudio(), createVideo(),
   *   //and createCapture() functions.
   *
   *   //In this example we create
   *   //a new p5.MediaElement via createAudio().
   *   ele = createAudio('assets/beat.mp3');
   *
   *   background(250);
   *   textAlign(CENTER);
   *   text('Click to Play!', width / 2, height / 2);
   * }
   *
   * function mouseClicked() {
   *   //here we test if the mouse is over the
   *   //canvas element when it's clicked
   *   if (mouseX >= 0 && mouseX <= width && mouseY >= 0 && mouseY <= height) {
   *     //Here we call the play() function on
   *     //the p5.MediaElement we created above.
   *     //This will start the audio sample.
   *     ele.play();
   *
   *     background(200);
   *     text('You clicked Play!', width / 2, height / 2);
   *   }
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.play = function() {
    if (this.elt.currentTime === this.elt.duration) {
      this.elt.currentTime = 0;
    }
    var promise;
    if (this.elt.readyState > 1) {
      promise = this.elt.play();
    } else {
      // in Chrome, playback cannot resume after being stopped and must reload
      this.elt.load();
      promise = this.elt.play();
    }
    if (promise && promise.catch) {
      promise.catch(function(e) {
        console.log(
          'WARN: Element play method raised an error asynchronously',
          e
        );
      });
    }
    return this;
  };

  /**
   * Stops an HTML5 media element (sets current time to zero).
   *
   * @method stop
   * @chainable
   * @example
   * <div><code>
   * //This example both starts
   * //and stops a sound sample
   * //when the user clicks the canvas
   *
   * //We will store the p5.MediaElement
   * //object in here
   * var ele;
   *
   * //while our audio is playing,
   * //this will be set to true
   * var sampleIsPlaying = false;
   *
   * function setup() {
   *   //Here we create a p5.MediaElement object
   *   //using the createAudio() function.
   *   ele = createAudio('assets/beat.mp3');
   *   background(200);
   *   textAlign(CENTER);
   *   text('Click to play!', width / 2, height / 2);
   * }
   *
   * function mouseClicked() {
   *   //here we test if the mouse is over the
   *   //canvas element when it's clicked
   *   if (mouseX >= 0 && mouseX <= width && mouseY >= 0 && mouseY <= height) {
   *     background(200);
   *
   *     if (sampleIsPlaying) {
   *       //if the sample is currently playing
   *       //calling the stop() function on
   *       //our p5.MediaElement will stop
   *       //it and reset its current
   *       //time to 0 (i.e. it will start
   *       //at the beginning the next time
   *       //you play it)
   *       ele.stop();
   *
   *       sampleIsPlaying = false;
   *       text('Click to play!', width / 2, height / 2);
   *     } else {
   *       //loop our sound element until we
   *       //call ele.stop() on it.
   *       ele.loop();
   *
   *       sampleIsPlaying = true;
   *       text('Click to stop!', width / 2, height / 2);
   *     }
   *   }
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.stop = function() {
    this.elt.pause();
    this.elt.currentTime = 0;
    return this;
  };

  /**
   * Pauses an HTML5 media element.
   *
   * @method pause
   * @chainable
   * @example
   * <div><code>
   * //This example both starts
   * //and pauses a sound sample
   * //when the user clicks the canvas
   *
   * //We will store the p5.MediaElement
   * //object in here
   * var ele;
   *
   * //while our audio is playing,
   * //this will be set to true
   * var sampleIsPlaying = false;
   *
   * function setup() {
   *   //Here we create a p5.MediaElement object
   *   //using the createAudio() function.
   *   ele = createAudio('assets/lucky_dragons.mp3');
   *   background(200);
   *   textAlign(CENTER);
   *   text('Click to play!', width / 2, height / 2);
   * }
   *
   * function mouseClicked() {
   *   //here we test if the mouse is over the
   *   //canvas element when it's clicked
   *   if (mouseX >= 0 && mouseX <= width && mouseY >= 0 && mouseY <= height) {
   *     background(200);
   *
   *     if (sampleIsPlaying) {
   *       //Calling pause() on our
   *       //p5.MediaElement will stop it
   *       //playing, but when we call the
   *       //loop() or play() functions
   *       //the sample will start from
   *       //where we paused it.
   *       ele.pause();
   *
   *       sampleIsPlaying = false;
   *       text('Click to resume!', width / 2, height / 2);
   *     } else {
   *       //loop our sound element until we
   *       //call ele.pause() on it.
   *       ele.loop();
   *
   *       sampleIsPlaying = true;
   *       text('Click to pause!', width / 2, height / 2);
   *     }
   *   }
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.pause = function() {
    this.elt.pause();
    return this;
  };

  /**
   * Set 'loop' to true for an HTML5 media element, and starts playing.
   *
   * @method loop
   * @chainable
   * @example
   * <div><code>
   * //Clicking the canvas will loop
   * //the audio sample until the user
   * //clicks again to stop it
   *
   * //We will store the p5.MediaElement
   * //object in here
   * var ele;
   *
   * //while our audio is playing,
   * //this will be set to true
   * var sampleIsLooping = false;
   *
   * function setup() {
   *   //Here we create a p5.MediaElement object
   *   //using the createAudio() function.
   *   ele = createAudio('assets/lucky_dragons.mp3');
   *   background(200);
   *   textAlign(CENTER);
   *   text('Click to loop!', width / 2, height / 2);
   * }
   *
   * function mouseClicked() {
   *   //here we test if the mouse is over the
   *   //canvas element when it's clicked
   *   if (mouseX >= 0 && mouseX <= width && mouseY >= 0 && mouseY <= height) {
   *     background(200);
   *
   *     if (!sampleIsLooping) {
   *       //loop our sound element until we
   *       //call ele.stop() on it.
   *       ele.loop();
   *
   *       sampleIsLooping = true;
   *       text('Click to stop!', width / 2, height / 2);
   *     } else {
   *       ele.stop();
   *
   *       sampleIsLooping = false;
   *       text('Click to loop!', width / 2, height / 2);
   *     }
   *   }
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.loop = function() {
    this.elt.setAttribute('loop', true);
    this.play();
    return this;
  };
  /**
   * Set 'loop' to false for an HTML5 media element. Element will stop
   * when it reaches the end.
   *
   * @method noLoop
   * @chainable
   * @example
   * <div><code>
   * //This example both starts
   * //and stops loop of sound sample
   * //when the user clicks the canvas
   *
   * //We will store the p5.MediaElement
   * //object in here
   * var ele;
   * //while our audio is playing,
   * //this will be set to true
   * var sampleIsPlaying = false;
   *
   * function setup() {
   *   //Here we create a p5.MediaElement object
   *   //using the createAudio() function.
   *   ele = createAudio('assets/beat.mp3');
   *   background(200);
   *   textAlign(CENTER);
   *   text('Click to play!', width / 2, height / 2);
   * }
   *
   * function mouseClicked() {
   *   //here we test if the mouse is over the
   *   //canvas element when it's clicked
   *   if (mouseX >= 0 && mouseX <= width && mouseY >= 0 && mouseY <= height) {
   *     background(200);
   *
   *     if (sampleIsPlaying) {
   *       ele.noLoop();
   *       text('No more Loops!', width / 2, height / 2);
   *     } else {
   *       ele.loop();
   *       sampleIsPlaying = true;
   *       text('Click to stop looping!', width / 2, height / 2);
   *     }
   *   }
   * }
   * </code></div>
   *
   */
  p5.MediaElement.prototype.noLoop = function() {
    this.elt.setAttribute('loop', false);
    return this;
  };

  /**
   * Set HTML5 media element to autoplay or not.
   *
   * @method autoplay
   * @param {Boolean} autoplay whether the element should autoplay
   * @chainable
   */
  p5.MediaElement.prototype.autoplay = function(val) {
    this.elt.setAttribute('autoplay', val);
    return this;
  };

  /**
   * Sets volume for this HTML5 media element. If no argument is given,
   * returns the current volume.
   *
   * @method volume
   * @return {Number} current volume
   *
   * @example
   * <div><code>
   * var ele;
   * function setup() {
   *   // p5.MediaElement objects are usually created
   *   // by calling the createAudio(), createVideo(),
   *   // and createCapture() functions.
   *   // In this example we create
   *   // a new p5.MediaElement via createAudio().
   *   ele = createAudio('assets/lucky_dragons.mp3');
   *   background(250);
   *   textAlign(CENTER);
   *   text('Click to Play!', width / 2, height / 2);
   * }
   * function mouseClicked() {
   *   // Here we call the volume() function
   *   // on the sound element to set its volume
   *   // Volume must be between 0.0 and 1.0
   *   ele.volume(0.2);
   *   ele.play();
   *   background(200);
   *   text('You clicked Play!', width / 2, height / 2);
   * }
   * </code></div>
   * <div><code>
   * var audio;
   * var counter = 0;
   *
   * function loaded() {
   *   audio.play();
   * }
   *
   * function setup() {
   *   audio = createAudio('assets/lucky_dragons.mp3', loaded);
   *   textAlign(CENTER);
   * }
   *
   * function draw() {
   *   if (counter === 0) {
   *     background(0, 255, 0);
   *     text('volume(0.9)', width / 2, height / 2);
   *   } else if (counter === 1) {
   *     background(255, 255, 0);
   *     text('volume(0.5)', width / 2, height / 2);
   *   } else if (counter === 2) {
   *     background(255, 0, 0);
   *     text('volume(0.1)', width / 2, height / 2);
   *   }
   * }
   *
   * function mousePressed() {
   *   counter++;
   *   if (counter === 0) {
   *     audio.volume(0.9);
   *   } else if (counter === 1) {
   *     audio.volume(0.5);
   *   } else if (counter === 2) {
   *     audio.volume(0.1);
   *   } else {
   *     counter = 0;
   *     audio.volume(0.9);
   *   }
   * }
   * </code>
   * </div>
   */
  /**
   * @method volume
   * @param {Number}            val volume between 0.0 and 1.0
   * @chainable
   */
  p5.MediaElement.prototype.volume = function(val) {
    if (typeof val === 'undefined') {
      return this.elt.volume;
    } else {
      this.elt.volume = val;
    }
  };

  /**
   * If no arguments are given, returns the current playback speed of the
   * element. The speed parameter sets the speed where 2.0 will play the
   * element twice as fast, 0.5 will play at half the speed, and -1 will play
   * the element in normal speed in reverse.(Note that not all browsers support
   * backward playback and even if they do, playback might not be smooth.)
   *
   * @method speed
   * @return {Number} current playback speed of the element
   *
   * @example
   * <div class='norender notest'><code>
   * //Clicking the canvas will loop
   * //the audio sample until the user
   * //clicks again to stop it
   *
   * //We will store the p5.MediaElement
   * //object in here
   * var ele;
   * var button;
   *
   * function setup() {
   *   createCanvas(710, 400);
   *   //Here we create a p5.MediaElement object
   *   //using the createAudio() function.
   *   ele = createAudio('assets/beat.mp3');
   *   ele.loop();
   *   background(200);
   *
   *   button = createButton('2x speed');
   *   button.position(100, 68);
   *   button.mousePressed(twice_speed);
   *
   *   button = createButton('half speed');
   *   button.position(200, 68);
   *   button.mousePressed(half_speed);
   *
   *   button = createButton('reverse play');
   *   button.position(300, 68);
   *   button.mousePressed(reverse_speed);
   *
   *   button = createButton('STOP');
   *   button.position(400, 68);
   *   button.mousePressed(stop_song);
   *
   *   button = createButton('PLAY!');
   *   button.position(500, 68);
   *   button.mousePressed(play_speed);
   * }
   *
   * function twice_speed() {
   *   ele.speed(2);
   * }
   *
   * function half_speed() {
   *   ele.speed(0.5);
   * }
   *
   * function reverse_speed() {
   *   ele.speed(-1);
   * }
   *
   * function stop_song() {
   *   ele.stop();
   * }
   *
   * function play_speed() {
   *   ele.play();
   * }
   * </code></div>
   */
  /**
   * @method speed
   * @param {Number} speed  speed multiplier for element playback
   * @chainable
   */
  p5.MediaElement.prototype.speed = function(val) {
    if (typeof val === 'undefined') {
      return this.presetPlaybackRate || this.elt.playbackRate;
    } else {
      if (this.loadedmetadata) {
        this.elt.playbackRate = val;
      } else {
        this.presetPlaybackRate = val;
      }
    }
  };

  /**
   * If no arguments are given, returns the current time of the element.
   * If an argument is given the current time of the element is set to it.
   *
   * @method time
   * @return {Number} current time (in seconds)
   *
   * @example
   * <div><code>
   * var ele;
   * var beginning = true;
   * function setup() {
   *   //p5.MediaElement objects are usually created
   *   //by calling the createAudio(), createVideo(),
   *   //and createCapture() functions.
   *
   *   //In this example we create
   *   //a new p5.MediaElement via createAudio().
   *   ele = createAudio('assets/lucky_dragons.mp3');
   *   background(250);
   *   textAlign(CENTER);
   *   text('start at beginning', width / 2, height / 2);
   * }
   *
   * // this function fires with click anywhere
   * function mousePressed() {
   *   if (beginning === true) {
   *     // here we start the sound at the beginning
   *     // time(0) is not necessary here
   *     // as this produces the same result as
   *     // play()
   *     ele.play().time(0);
   *     background(200);
   *     text('jump 2 sec in', width / 2, height / 2);
   *     beginning = false;
   *   } else {
   *     // here we jump 2 seconds into the sound
   *     ele.play().time(2);
   *     background(250);
   *     text('start at beginning', width / 2, height / 2);
   *     beginning = true;
   *   }
   * }
   * </code></div>
   */
  /**
   * @method time
   * @param {Number} time time to jump to (in seconds)
   * @chainable
   */
  p5.MediaElement.prototype.time = function(val) {
    if (typeof val === 'undefined') {
      return this.elt.currentTime;
    } else {
      this.elt.currentTime = val;
      return this;
    }
  };

  /**
   * Returns the duration of the HTML5 media element.
   *
   * @method duration
   * @return {Number} duration
   *
   * @example
   * <div><code>
   * var ele;
   * function setup() {
   *   //p5.MediaElement objects are usually created
   *   //by calling the createAudio(), createVideo(),
   *   //and createCapture() functions.
   *   //In this example we create
   *   //a new p5.MediaElement via createAudio().
   *   ele = createAudio('assets/doorbell.mp3');
   *   background(250);
   *   textAlign(CENTER);
   *   text('Click to know the duration!', 10, 25, 70, 80);
   * }
   * function mouseClicked() {
   *   ele.play();
   *   background(200);
   *   //ele.duration dislpays the duration
   *   text(ele.duration() + ' seconds', width / 2, height / 2);
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.duration = function() {
    return this.elt.duration;
  };
  p5.MediaElement.prototype.pixels = [];
  p5.MediaElement.prototype._ensureCanvas = function() {
    if (!this.canvas) this.loadPixels();
  };
  p5.MediaElement.prototype.loadPixels = function() {
    if (!this.canvas) {
      this.canvas = document.createElement('canvas');
      this.drawingContext = this.canvas.getContext('2d');
    }
    if (this.loadedmetadata) {
      // wait for metadata for w/h
      if (this.canvas.width !== this.elt.width) {
        this.canvas.width = this.elt.width;
        this.canvas.height = this.elt.height;
        this.width = this.canvas.width;
        this.height = this.canvas.height;
        this._pixelsDirty = true;
      }

      var currentTime = this.elt.currentTime;
      if (this._pixelsDirty || this._pixelsTime !== currentTime) {
        // only update the pixels array if it's dirty, or
        // if the video time has changed.
        this._pixelsTime = currentTime;
        this._pixelsDirty = true;

        this.drawingContext.drawImage(
          this.elt,
          0,
          0,
          this.canvas.width,
          this.canvas.height
        );
        p5.Renderer2D.prototype.loadPixels.call(this);
      }
    }
    this.setModified(true);
    return this;
  };
  p5.MediaElement.prototype.updatePixels = function(x, y, w, h) {
    if (this.loadedmetadata) {
      // wait for metadata
      this._ensureCanvas();
      p5.Renderer2D.prototype.updatePixels.call(this, x, y, w, h);
    }
    this.setModified(true);
    return this;
  };
  p5.MediaElement.prototype.get = function(x, y, w, h) {
    if (this.loadedmetadata) {
      // wait for metadata
      var currentTime = this.elt.currentTime;
      if (this._pixelsTime !== currentTime) {
        this.loadPixels();
      } else {
        this._ensureCanvas();
      }

      return p5.Renderer2D.prototype.get.call(this, x, y, w, h);
    } else if (typeof x === 'undefined') {
      return new p5.Image(1, 1);
    } else if (w > 1) {
      return new p5.Image(x, y, w, h);
    } else {
      return [0, 0, 0, 255];
    }
  };
  p5.MediaElement.prototype.set = function(x, y, imgOrCol) {
    if (this.loadedmetadata) {
      // wait for metadata
      this._ensureCanvas();
      p5.Renderer2D.prototype.set.call(this, x, y, imgOrCol);
      this.setModified(true);
    }
  };
  p5.MediaElement.prototype.copy = function() {
    this._ensureCanvas();
    p5.Renderer2D.prototype.copy.apply(this, arguments);
  };
  p5.MediaElement.prototype.mask = function() {
    this.loadPixels();
    this.setModified(true);
    p5.Image.prototype.mask.apply(this, arguments);
  };
  /**
   * helper method for web GL mode to figure out if the element
   * has been modified and might need to be re-uploaded to texture
   * memory between frames.
   * @method isModified
   * @private
   * @return {boolean} a boolean indicating whether or not the
   * image has been updated or modified since last texture upload.
   */
  p5.MediaElement.prototype.isModified = function() {
    return this._modified;
  };
  /**
   * helper method for web GL mode to indicate that an element has been
   * changed or unchanged since last upload. gl texture upload will
   * set this value to false after uploading the texture; or might set
   * it to true if metadata has become available but there is no actual
   * texture data available yet..
   * @method setModified
   * @param {boolean} val sets whether or not the element has been
   * modified.
   * @private
   */
  p5.MediaElement.prototype.setModified = function(value) {
    this._modified = value;
  };
  /**
   * Schedule an event to be called when the audio or video
   * element reaches the end. If the element is looping,
   * this will not be called. The element is passed in
   * as the argument to the onended callback.
   *
   * @method  onended
   * @param  {Function} callback function to call when the
   *                             soundfile has ended. The
   *                             media element will be passed
   *                             in as the argument to the
   *                             callback.
   * @chainable
   * @example
   * <div><code>
   * function setup() {
   *   var audioEl = createAudio('assets/beat.mp3');
   *   audioEl.showControls();
   *   audioEl.onended(sayDone);
   * }
   *
   * function sayDone(elt) {
   *   alert('done playing ' + elt.src);
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.onended = function(callback) {
    this._onended = callback;
    return this;
  };

  /*** CONNECT TO WEB AUDIO API / p5.sound.js ***/

  /**
   * Send the audio output of this element to a specified audioNode or
   * p5.sound object. If no element is provided, connects to p5's master
   * output. That connection is established when this method is first called.
   * All connections are removed by the .disconnect() method.
   *
   * This method is meant to be used with the p5.sound.js addon library.
   *
   * @method  connect
   * @param  {AudioNode|Object} audioNode AudioNode from the Web Audio API,
   * or an object from the p5.sound library
   */
  p5.MediaElement.prototype.connect = function(obj) {
    var audioContext, masterOutput;

    // if p5.sound exists, same audio context
    if (typeof p5.prototype.getAudioContext === 'function') {
      audioContext = p5.prototype.getAudioContext();
      masterOutput = p5.soundOut.input;
    } else {
      try {
        audioContext = obj.context;
        masterOutput = audioContext.destination;
      } catch (e) {
        throw 'connect() is meant to be used with Web Audio API or p5.sound.js';
      }
    }

    // create a Web Audio MediaElementAudioSourceNode if none already exists
    if (!this.audioSourceNode) {
      this.audioSourceNode = audioContext.createMediaElementSource(this.elt);

      // connect to master output when this method is first called
      this.audioSourceNode.connect(masterOutput);
    }

    // connect to object if provided
    if (obj) {
      if (obj.input) {
        this.audioSourceNode.connect(obj.input);
      } else {
        this.audioSourceNode.connect(obj);
      }
    } else {
      // otherwise connect to master output of p5.sound / AudioContext
      this.audioSourceNode.connect(masterOutput);
    }
  };

  /**
   * Disconnect all Web Audio routing, including to master output.
   * This is useful if you want to re-route the output through
   * audio effects, for example.
   *
   * @method  disconnect
   */
  p5.MediaElement.prototype.disconnect = function() {
    if (this.audioSourceNode) {
      this.audioSourceNode.disconnect();
    } else {
      throw 'nothing to disconnect';
    }
  };

  /*** SHOW / HIDE CONTROLS ***/

  /**
   * Show the default MediaElement controls, as determined by the web browser.
   *
   * @method  showControls
   * @example
   * <div><code>
   * var ele;
   * function setup() {
   *   //p5.MediaElement objects are usually created
   *   //by calling the createAudio(), createVideo(),
   *   //and createCapture() functions.
   *   //In this example we create
   *   //a new p5.MediaElement via createAudio()
   *   ele = createAudio('assets/lucky_dragons.mp3');
   *   background(200);
   *   textAlign(CENTER);
   *   text('Click to Show Controls!', 10, 25, 70, 80);
   * }
   * function mousePressed() {
   *   ele.showControls();
   *   background(200);
   *   text('Controls Shown', width / 2, height / 2);
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.showControls = function() {
    // must set style for the element to show on the page
    this.elt.style['text-align'] = 'inherit';
    this.elt.controls = true;
  };

  /**
   * Hide the default mediaElement controls.
   * @method hideControls
   * @example
   * <div><code>
   * var ele;
   * function setup() {
   *   //p5.MediaElement objects are usually created
   *   //by calling the createAudio(), createVideo(),
   *   //and createCapture() functions.
   *   //In this example we create
   *   //a new p5.MediaElement via createAudio()
   *   ele = createAudio('assets/lucky_dragons.mp3');
   *   ele.showControls();
   *   background(200);
   *   textAlign(CENTER);
   *   text('Click to hide Controls!', 10, 25, 70, 80);
   * }
   * function mousePressed() {
   *   ele.hideControls();
   *   background(200);
   *   text('Controls hidden', width / 2, height / 2);
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.hideControls = function() {
    this.elt.controls = false;
  };

  /*** SCHEDULE EVENTS ***/

  // Cue inspired by JavaScript setTimeout, and the
  // Tone.js Transport Timeline Event, MIT License Yotam Mann 2015 tonejs.org
  var Cue = function(callback, time, id, val) {
    this.callback = callback;
    this.time = time;
    this.id = id;
    this.val = val;
  };

  /**
   * Schedule events to trigger every time a MediaElement
   * (audio/video) reaches a playback cue point.
   *
   * Accepts a callback function, a time (in seconds) at which to trigger
   * the callback, and an optional parameter for the callback.
   *
   * Time will be passed as the first parameter to the callback function,
   * and param will be the second parameter.
   *
   *
   * @method  addCue
   * @param {Number}   time     Time in seconds, relative to this media
   *                             element's playback. For example, to trigger
   *                             an event every time playback reaches two
   *                             seconds, pass in the number 2. This will be
   *                             passed as the first parameter to
   *                             the callback function.
   * @param {Function} callback Name of a function that will be
   *                             called at the given time. The callback will
   *                             receive time and (optionally) param as its
   *                             two parameters.
   * @param {Object} [value]    An object to be passed as the
   *                             second parameter to the
   *                             callback function.
   * @return {Number} id ID of this cue,
   *                     useful for removeCue(id)
   * @example
   * <div><code>
   * //
   * //
   * function setup() {
   *   noCanvas();
   *
   *   var audioEl = createAudio('assets/beat.mp3');
   *   audioEl.showControls();
   *
   *   // schedule three calls to changeBackground
   *   audioEl.addCue(0.5, changeBackground, color(255, 0, 0));
   *   audioEl.addCue(1.0, changeBackground, color(0, 255, 0));
   *   audioEl.addCue(2.5, changeBackground, color(0, 0, 255));
   *   audioEl.addCue(3.0, changeBackground, color(0, 255, 255));
   *   audioEl.addCue(4.2, changeBackground, color(255, 255, 0));
   *   audioEl.addCue(5.0, changeBackground, color(255, 255, 0));
   * }
   *
   * function changeBackground(val) {
   *   background(val);
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.addCue = function(time, callback, val) {
    var id = this._cueIDCounter++;

    var cue = new Cue(callback, time, id, val);
    this._cues.push(cue);

    if (!this.elt.ontimeupdate) {
      this.elt.ontimeupdate = this._onTimeUpdate.bind(this);
    }

    return id;
  };

  /**
   * Remove a callback based on its ID. The ID is returned by the
   * addCue method.
   * @method removeCue
   * @param  {Number} id ID of the cue, as returned by addCue
   * @example
   * <div><code>
   * var audioEl, id1, id2;
   * function setup() {
   *   background(255, 255, 255);
   *   audioEl = createAudio('assets/beat.mp3');
   *   audioEl.showControls();
   *   // schedule five calls to changeBackground
   *   id1 = audioEl.addCue(0.5, changeBackground, color(255, 0, 0));
   *   audioEl.addCue(1.0, changeBackground, color(0, 255, 0));
   *   audioEl.addCue(2.5, changeBackground, color(0, 0, 255));
   *   audioEl.addCue(3.0, changeBackground, color(0, 255, 255));
   *   id2 = audioEl.addCue(4.2, changeBackground, color(255, 255, 0));
   *   text('Click to remove first and last Cue!', 10, 25, 70, 80);
   * }
   * function mousePressed() {
   *   audioEl.removeCue(id1);
   *   audioEl.removeCue(id2);
   * }
   * function changeBackground(val) {
   *   background(val);
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.removeCue = function(id) {
    for (var i = 0; i < this._cues.length; i++) {
      if (this._cues[i].id === id) {
        console.log(id);
        this._cues.splice(i, 1);
      }
    }

    if (this._cues.length === 0) {
      this.elt.ontimeupdate = null;
    }
  };

  /**
   * Remove all of the callbacks that had originally been scheduled
   * via the addCue method.
   * @method  clearCues
   * @param  {Number} id ID of the cue, as returned by addCue
   * @example
   * <div><code>
   * var audioEl;
   * function setup() {
   *   background(255, 255, 255);
   *   audioEl = createAudio('assets/beat.mp3');
   *   //Show the default MediaElement controls, as determined by the web browser
   *   audioEl.showControls();
   *   // schedule calls to changeBackground
   *   background(200);
   *   text('Click to change Cue!', 10, 25, 70, 80);
   *   audioEl.addCue(0.5, changeBackground, color(255, 0, 0));
   *   audioEl.addCue(1.0, changeBackground, color(0, 255, 0));
   *   audioEl.addCue(2.5, changeBackground, color(0, 0, 255));
   *   audioEl.addCue(3.0, changeBackground, color(0, 255, 255));
   *   audioEl.addCue(4.2, changeBackground, color(255, 255, 0));
   * }
   * function mousePressed() {
   *   // here we clear the scheduled callbacks
   *   audioEl.clearCues();
   *   // then we add some more callbacks
   *   audioEl.addCue(1, changeBackground, color(2, 2, 2));
   *   audioEl.addCue(3, changeBackground, color(255, 255, 0));
   * }
   * function changeBackground(val) {
   *   background(val);
   * }
   * </code></div>
   */
  p5.MediaElement.prototype.clearCues = function() {
    this._cues = [];
    this.elt.ontimeupdate = null;
  };

  // private method that checks for cues to be fired if events
  // have been scheduled using addCue(callback, time).
  p5.MediaElement.prototype._onTimeUpdate = function() {
    var playbackTime = this.time();

    for (var i = 0; i < this._cues.length; i++) {
      var callbackTime = this._cues[i].time;
      var val = this._cues[i].val;

      if (this._prevTime < callbackTime && callbackTime <= playbackTime) {
        // pass the scheduled callbackTime as parameter to the callback
        this._cues[i].callback(val);
      }
    }

    this._prevTime = playbackTime;
  };

  /**
   * Base class for a file.
   * Used for Element.drop and createFileInput.
   *
   * @class p5.File
   * @constructor
   * @param {File} file File that is wrapped
   */
  p5.File = function(file, pInst) {
    /**
     * Underlying File object. All normal File methods can be called on this.
     *
     * @property file
     */
    this.file = file;

    this._pInst = pInst;

    // Splitting out the file type into two components
    // This makes determining if image or text etc simpler
    var typeList = file.type.split('/');
    /**
     * File type (image, text, etc.)
     *
     * @property type
     */
    this.type = typeList[0];
    /**
     * File subtype (usually the file extension jpg, png, xml, etc.)
     *
     * @property subtype
     */
    this.subtype = typeList[1];
    /**
     * File name
     *
     * @property name
     */
    this.name = file.name;
    /**
     * File size
     *
     * @property size
     */
    this.size = file.size;

    /**
     * URL string containing image data.
     *
     * @property data
     */
    this.data = undefined;
  };

  p5.File._createLoader = function(theFile, callback) {
    var reader = new FileReader();
    reader.onload = function(e) {
      var p5file = new p5.File(theFile);
      p5file.data = e.target.result;
      callback(p5file);
    };
    return reader;
  };

  p5.File._load = function(f, callback) {
    // Text or data?
    // This should likely be improved
    if (/^text\//.test(f.type)) {
      p5.File._createLoader(f, callback).readAsText(f);
    } else if (!/^(video|audio)\//.test(f.type)) {
      p5.File._createLoader(f, callback).readAsDataURL(f);
    } else {
      var file = new p5.File(f);
      file.data = URL.createObjectURL(f);
      callback(file);
    }
  };
});


/***/ }),

/***/ "./node_modules/@cmu-eberly-center/p5/lib/p5.min.js":
/*!**********************************************************!*\
  !*** ./node_modules/@cmu-eberly-center/p5/lib/p5.min.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var require;var require;/*! p5.js v0.7.3 January 20, 2019 */

!function(e){if(true)module.exports=e();else {}}(function(){return function o(a,s,h){function l(t,e){if(!s[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return require(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var n=s[t]={exports:{}};a[t][0].call(n.exports,function(e){return l(a[t][1][e]||e)},n,n.exports,o,a,s,h)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<h.length;e++)l(h[e]);return l}({1:[function(e,t,r){"use strict";r.byteLength=function(e){var t=d(e),r=t[0],i=t[1];return 3*(r+i)/4-i},r.toByteArray=function(e){for(var t,r=d(e),i=r[0],n=r[1],o=new p((l=i,u=n,3*(l+u)/4-u)),a=0,s=0<n?i-4:i,h=0;h<s;h+=4)t=c[e.charCodeAt(h)]<<18|c[e.charCodeAt(h+1)]<<12|c[e.charCodeAt(h+2)]<<6|c[e.charCodeAt(h+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;var l,u;2===n&&(t=c[e.charCodeAt(h)]<<2|c[e.charCodeAt(h+1)]>>4,o[a++]=255&t);1===n&&(t=c[e.charCodeAt(h)]<<10|c[e.charCodeAt(h+1)]<<4|c[e.charCodeAt(h+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t);return o},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,n=[],o=0,a=r-i;o<a;o+=16383)n.push(h(e,o,a<o+16383?a:o+16383));1===i?(t=e[r-1],n.push(s[t>>2]+s[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],n.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return n.join("")};for(var s=[],c=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=i.length;n<o;++n)s[n]=i[n],c[i.charCodeAt(n)]=n;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,r){for(var i,n,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(s[(n=i)>>18&63]+s[n>>12&63]+s[n>>6&63]+s[63&n]);return o.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],2:[function(e,t,r){},{}],3:[function(e,t,r){"use strict";var i=e("base64-js"),o=e("ieee754");r.Buffer=c,r.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},r.INSPECT_MAX_BYTES=50;var n=2147483647;function a(e){if(n<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=c.prototype,t}function c(e,t,r){if("number"!=typeof e)return s(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}function s(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),i=a(r),n=i.write(e,t);n!==r&&(i=i.slice(0,n));return i}(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return i.__proto__=c.prototype,i}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return c.from(i,t,r);var n=function(e){if(c.isBuffer(e)){var t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||B(e.length)?a(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return h(e),a(e<0?0:0|p(e))}function u(e){for(var t=e.length<0?0:0|p(e.length),r=a(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}function p(e){if(n<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=2<arguments.length&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return A(e).length;default:if(n)return i?-1:D(e).length;t=(""+t).toLowerCase(),n=!0}}function f(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function m(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),B(r=+r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,i,n){var o,a=1,s=e.length,h=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s/=a=2,h/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var u=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===h)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(s<r+h&&(r=s-h),o=r;0<=o;o--){for(var c=!0,p=0;p<h;p++)if(l(e,o+p)!==l(t,p)){c=!1;break}if(c)return o}return-1}function g(e,t,r,i){r=Number(r)||0;var n=e.length-r;i?n<(i=Number(i))&&(i=n):i=n;var o=t.length;o/2<i&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(B(s))return a;e[r+a]=s}return a}function y(e,t,r,i){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function b(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function _(e,t,r){r=Math.min(e.length,r);for(var i=[],n=t;n<r;){var o,a,s,h,l=e[n],u=null,c=239<l?4:223<l?3:191<l?2:1;if(n+c<=r)switch(c){case 1:l<128&&(u=l);break;case 2:128==(192&(o=e[n+1]))&&127<(h=(31&l)<<6|63&o)&&(u=h);break;case 3:o=e[n+1],a=e[n+2],128==(192&o)&&128==(192&a)&&2047<(h=(15&l)<<12|(63&o)<<6|63&a)&&(h<55296||57343<h)&&(u=h);break;case 4:o=e[n+1],a=e[n+2],s=e[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(h=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)&&h<1114112&&(u=h)}null===u?(u=65533,c=1):65535<u&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),n+=c}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=x));return r}(i)}r.kMaxLength=n,(c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(e,t,r){return s(e,t,r)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(e,t,r){return n=t,o=r,h(i=e),i<=0?a(i):void 0!==n?"string"==typeof o?a(i).fill(n,o):a(i).fill(n):a(i);var i,n,o},c.allocUnsafe=function(e){return l(e)},c.allocUnsafeSlow=function(e){return l(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(O(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),O(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,n=0,o=Math.min(r,i);n<o;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;var i=c.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var o=e[r];if(O(o,Uint8Array)&&(o=c.from(o)),!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):function(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return _(this,t,r);case"ascii":return w(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return b(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,i,n){if(O(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(n<=i&&r<=t)return 0;if(n<=i)return-1;if(r<=t)return 1;if(this===e)return 0;for(var o=(n>>>=0)-(i>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),h=this.slice(i,n),l=e.slice(t,r),u=0;u<s;++u)if(h[u]!==l[u]){o=h[u],a=l[u];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-t;if((void 0===r||n<r)&&(r=n),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o,a,s,h,l,u,c,p,d,f=!1;;)switch(i){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return p=t,d=r,U(D(e,(c=this).length-p),c,p,d);case"ascii":return y(this,e,t,r);case"latin1":case"binary":return y(this,e,t,r);case"base64":return h=this,l=t,u=r,U(A(e),h,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=t,s=r,U(function(e,t){for(var r,i,n,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(e,(o=this).length-a),o,a,s);default:if(f)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),f=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function w(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function S(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function T(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||i<r)&&(r=i);for(var n="",o=t;o<r;++o)n+=I(e[o]);return n}function M(e,t,r){for(var i=e.slice(t,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function E(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,i,n,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n<t||t<o)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function R(e,t,r,i,n,o){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,i,n){return t=+t,r>>>=0,n||R(e,0,r,4),o.write(e,t,r,i,23,4),r+4}function P(e,t,r,i,n){return t=+t,r>>>=0,n||R(e,0,r,8),o.write(e,t,r,i,52,8),r+8}c.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return i.__proto__=c.prototype,i},c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i},c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var i=this[e+--t],n=1;0<t&&(n*=256);)i+=this[e+--t]*n;return i},c.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return(n*=128)<=i&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||E(e,t,this.length);for(var i=t,n=1,o=this[e+--i];0<i&&(n*=256);)o+=this[e+--i]*n;return(n*=128)<=o&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,i){(e=+e,t>>>=0,r>>>=0,i)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,i){(e=+e,t>>>=0,r>>>=0,i)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[t+n]=255&e;0<=--n&&(o*=256);)this[t+n]=e/o&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,i){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),0<i&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,i);else if(this===e&&r<t&&t<i)for(var o=n-1;0<=o;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),t);return n},c.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var n=e.charCodeAt(0);("utf8"===i&&n<128||"latin1"===i)&&(e=n)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=c.isBuffer(e)?e:c.from(e,i),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var k=/[^+/0-9A-Za-z-_]/g;function I(e){return e<16?"0"+e.toString(16):e.toString(16)}function D(e,t){var r;t=t||1/0;for(var i=e.length,n=null,o=[],a=0;a<i;++a){if(55295<(r=e.charCodeAt(a))&&r<57344){if(!n){if(56319<r){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===i){-1<(t-=3)&&o.push(239,191,189);continue}n=r;continue}if(r<56320){-1<(t-=3)&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&-1<(t-=3)&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function A(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,i){for(var n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function B(e){return e!=e}},{"base64-js":1,ieee754:7}],4:[function(j,r,i){(function(z,H){var e,t;e=this,t=function(){"use strict";function l(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,t=void 0,n=void 0,s=function(e,t){p[i]=e,p[i+1]=t,2===(i+=2)&&(n?n(d):y())};var e="undefined"!=typeof window?window:void 0,o=e||{},a=o.MutationObserver||o.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==z&&"[object process]"==={}.toString.call(z),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var e=setTimeout;return function(){return e(d,1)}}var p=new Array(1e3);function d(){for(var e=0;e<i;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}i=0}var f,m,v,g,y=void 0;function b(e,t){var r=arguments,i=this,n=new this.constructor(w);void 0===n[x]&&G(n);var o,a=i._state;return a?(o=r[a-1],s(function(){return B(a,n,o,i._result)})):D(i,n,e,t),n}function _(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return L(t,e),t}y=h?function(){return z.nextTick(d)}:a?(m=0,v=new a(d),g=document.createTextNode(""),v.observe(g,{characterData:!0}),function(){g.data=m=++m%2}):u?((f=new MessageChannel).port1.onmessage=d,function(){return f.port2.postMessage(0)}):void 0===e&&"function"==typeof j?function(){try{var e=j("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(d)}:c()}catch(e){return c()}}():c();var x=Math.random().toString(36).substring(16);function w(){}var S=void 0,T=1,M=2,E=new U;function C(e){try{return e.then}catch(e){return E.error=e,E}}function R(e,t,r){var i,n,o,a;t.constructor===e.constructor&&r===b&&t.constructor.resolve===_?(o=e,(a=t)._state===T?k(o,a._result):a._state===M?I(o,a._result):D(a,void 0,function(e){return L(o,e)},function(e){return I(o,e)})):r===E?(I(e,E.error),E.error=null):void 0===r?k(e,t):l(r)?(i=t,n=r,s(function(t){var r=!1,e=function(e,t,r,i){try{e.call(t,r,i)}catch(e){return e}}(n,i,function(e){r||(r=!0,i!==e?L(t,e):k(t,e))},function(e){r||(r=!0,I(t,e))},t._label);!r&&e&&(r=!0,I(t,e))},e)):k(e,t)}function L(e,t){var r,i;e===t?I(e,new TypeError("You cannot resolve a promise with itself")):(i=typeof(r=t),null===r||"object"!==i&&"function"!==i?k(e,t):R(e,t,C(t)))}function P(e){e._onerror&&e._onerror(e._result),A(e)}function k(e,t){e._state===S&&(e._result=t,e._state=T,0!==e._subscribers.length&&s(A,e))}function I(e,t){e._state===S&&(e._state=M,e._result=t,s(P,e))}function D(e,t,r,i){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+T]=r,n[o+M]=i,0===o&&e._state&&s(A,e)}function A(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var i=void 0,n=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],n=t[a+r],i?B(r,i,n,o):n(o);e._subscribers.length=0}}function U(){this.error=null}var O=new U;function B(e,t,r,i){var n=l(r),o=void 0,a=void 0,s=void 0,h=void 0;if(n){if((o=function(e,t){try{return e(t)}catch(e){return O.error=e,O}}(r,i))===O?(h=!0,a=o.error,o.error=null):s=!0,t===o)return void I(t,new TypeError("A promises callback cannot return that same promise."))}else o=i,s=!0;t._state!==S||(n&&s?L(t,o):h?I(t,a):e===T?k(t,o):e===M&&I(t,o))}var F=0;function G(e){e[x]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}function N(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[x]||G(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&k(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}function V(e){this[x]=F++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof V?function(t,e){try{e(function(e){L(t,e)},function(e){I(t,e)})}catch(e){I(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return N.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},N.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,i=r.resolve;if(i===_){var n=C(t);if(n===b&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof n)this._remaining--,this._result[e]=t;else if(r===V){var o=new r(w);R(o,t,n),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},N.prototype._settledAt=function(e,t,r){var i=this.promise;i._state===S&&(this._remaining--,e===M?I(i,r):this._result[t]=r),0===this._remaining&&k(i,this._result)},N.prototype._willSettleAt=function(e,t){var r=this;D(e,void 0,function(e){return r._settledAt(T,t,e)},function(e){return r._settledAt(M,t,e)})},V.all=function(e){return new N(this,e).promise},V.race=function(n){var o=this;return r(n)?new o(function(e,t){for(var r=n.length,i=0;i<r;i++)o.resolve(n[i]).then(e,t)}):new o(function(e,t){return t(new TypeError("You must pass an array to race."))})},V.resolve=_,V.reject=function(e){var t=new this(w);return I(t,e),t},V._setScheduler=function(e){n=e},V._setAsap=function(e){s=e},V._asap=s,V.prototype={constructor:V,then:b,catch:function(e){return this.then(null,e)}},V.polyfill=function(){var e=void 0;if(void 0!==H)e=H;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=V},V.Promise=V},"object"==typeof i&&void 0!==r?r.exports=t():e.ES6Promise=t()}).call(this,j("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:10}],5:[function(e,i,n){!function(e,t){if(void 0!==n&&void 0!==i)t(n,i);else{var r={exports:{}};t(r.exports,r),e.fetchJsonp=r.exports}}(this,function(e,t){"use strict";var r=5e3,i="callback";function c(t){try{delete window[t]}catch(e){window[t]=void 0}}function p(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(o){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o,h=a.timeout||r,l=a.jsonpCallback||i,u=void 0;return new Promise(function(t,e){var r=a.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),i=l+"_"+r;window[r]=function(e){t({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),p(i),c(r)},s+=-1===s.indexOf("?")?"?":"&";var n=document.createElement("script");n.setAttribute("src",""+s+l+"="+r),a.charset&&n.setAttribute("charset",a.charset),n.id=i,document.getElementsByTagName("head")[0].appendChild(n),u=setTimeout(function(){e(new Error("JSONP request to "+o+" timed out")),c(r),p(i),window[r]=function(){c(r)}},h),n.onerror=function(){e(new Error("JSONP request to "+o+" failed")),c(r),p(i),u&&clearTimeout(u)}})}})},{}],6:[function(e,t,r){var i=i||function(s){"use strict";if(!(void 0===s||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=s.document,h=function(){return s.URL||s.webkitURL||s},l=e.createElementNS("http://www.w3.org/1999/xhtml","a"),u="download"in l,c=/constructor/i.test(s.HTMLElement)||s.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent),d=function(e){(s.setImmediate||s.setTimeout)(function(){throw e},0)},f=function(e){setTimeout(function(){"string"==typeof e?h().revokeObjectURL(e):e.remove()},4e4)},m=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},i=function(e,r,t){t||(e=m(e));var i,n=this,o="application/octet-stream"===e.type,a=function(){!function(e,t,r){for(var i=(t=[].concat(t)).length;i--;){var n=e["on"+t[i]];if("function"==typeof n)try{n.call(e,r||e)}catch(e){d(e)}}}(n,"writestart progress write writeend".split(" "))};if(n.readyState=n.INIT,u)return i=h().createObjectURL(e),void setTimeout(function(){var e,t;l.href=i,l.download=r,e=l,t=new MouseEvent("click"),e.dispatchEvent(t),a(),f(i),n.readyState=n.DONE});!function(){if((p||o&&c)&&s.FileReader){var t=new FileReader;return t.onloadend=function(){var e=p?t.result:t.result.replace(/^data:[^;]*;/,"data:attachment/file;");s.open(e,"_blank")||(s.location.href=e),e=void 0,n.readyState=n.DONE,a()},t.readAsDataURL(e),n.readyState=n.INIT}i||(i=h().createObjectURL(e)),o?s.location.href=i:s.open(i,"_blank")||(s.location.href=i);n.readyState=n.DONE,a(),f(i)}()},t=i.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=m(e)),navigator.msSaveOrOpenBlob(e,t)}:(t.abort=function(){},t.readyState=t.INIT=0,t.WRITING=1,t.DONE=2,t.error=t.onwritestart=t.onprogress=t.onwrite=t.onabort=t.onerror=t.onwriteend=null,function(e,t,r){return new i(e,t||e.name||"download",r)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports&&(t.exports.saveAs=i)},{}],7:[function(e,t,r){r.read=function(e,t,r,i,n){var o,a,s=8*n-i-1,h=(1<<s)-1,l=h>>1,u=-7,c=r?n-1:0,p=r?-1:1,d=e[t+c];for(c+=p,o=d&(1<<-u)-1,d>>=-u,u+=s;0<u;o=256*o+e[t+c],c+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;0<u;a=256*a+e[t+c],c+=p,u-=8);if(0===o)o=1-l;else{if(o===h)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),o-=l}return(d?-1:1)*a*Math.pow(2,o-i)},r.write=function(e,t,r,i,n,o){var a,s,h,l=8*o-n-1,u=(1<<l)-1,c=u>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-a))<1&&(a--,h*=2),2<=(t+=1<=a+c?p/h:p*Math.pow(2,1-c))*h&&(a++,h/=2),u<=a+c?(s=0,a=u):1<=a+c?(s=(t*h-1)*Math.pow(2,n),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,n),a=0));8<=n;e[r+d]=255&s,d+=f,s/=256,n-=8);for(a=a<<n|s,l+=n;0<l;e[r+d]=255&a,d+=f,a/=256,l-=8);e[r+d-f]|=128*m}},{}],8:[function(e,t,r){"use strict";var i;function v(e,t){return e.b===t.b&&e.a===t.a}function g(e,t){return e.b<t.b||e.b===t.b&&e.a<=t.a}function y(e,t,r){var i=t.b-e.b,n=r.b-t.b;return 0<i+n?i<n?t.a-e.a+i/(i+n)*(e.a-r.a):t.a-r.a+n/(i+n)*(r.a-e.a):0}function b(e,t,r){var i=t.b-e.b,n=r.b-t.b;return 0<i+n?(t.a-r.a)*i+(t.a-e.a)*n:0}function _(e,t){return e.a<t.a||e.a===t.a&&e.b<=t.b}function x(e,t,r){var i=t.a-e.a,n=r.a-t.a;return 0<i+n?i<n?t.b-e.b+i/(i+n)*(e.b-r.b):t.b-r.b+n/(i+n)*(r.b-e.b):0}function w(e,t,r){var i=t.a-e.a,n=r.a-t.a;return 0<i+n?(t.b-r.b)*i+(t.b-e.b)*n:0}function S(e,t,r,i){return(e=e<0?0:e)<=(r=r<0?0:r)?0===r?(t+i)/2:t+e/(e+r)*(i-t):i+r/(e+r)*(t-i)}function a(e){var t=o(e.b);return n(t,e.c),n(t.b,e.c),s(t,e.a),t}function T(e,t){var r=!1,i=!1;e!==t&&(t.a!==e.a&&(i=!0,m(t.a,e.a)),t.d!==e.d&&(r=!0,h(t.d,e.d)),d(t,e),i||(n(t,e.a),e.a.c=e),r||(s(t,e.d),e.d.a=e))}function c(e){var t=e.b,r=!1;e.d!==e.b.d&&(r=!0,h(e.d,e.b.d)),e.c===e?m(e.a,null):(e.b.d.a=K(e),e.a.c=e.c,d(e,K(e)),r||s(e,e.d)),t.c===t?(m(t.a,null),h(t.d,null)):(e.d.a=K(t),t.a.c=t.c,d(t,K(t))),f(e)}function M(e){var t=o(e),r=t.b;return d(t,e.e),t.a=e.b.a,n(r,t.a),t.d=r.d=e.d,t=t.b,d(e.b,K(e.b)),d(e.b,t),e.b.a=t.a,t.b.a.c=t.b,t.b.d=e.b.d,t.f=e.f,t.b.f=e.b.f,t}function p(e,t){var r=!1,i=o(e),n=i.b;return t.d!==e.d&&(r=!0,h(t.d,e.d)),d(i,e.e),d(n,t),i.a=e.b.a,n.a=t.a,i.d=n.d=e.d,e.d.a=n,r||s(i,e.d),i}function o(e){var t=new J,r=new J,i=e.b.h;return(((r.h=i).b.h=t).h=e).b.h=r,t.b=r,((t.c=t).e=r).b=t,(r.c=r).e=t}function d(e,t){var r=e.c,i=t.c;r.b.e=t,(i.b.e=e).c=i,t.c=r}function n(e,t){var r=t.f,i=new ee(t,r);for(r.e=i,r=(t.f=i).c=e;r.a=i,(r=r.c)!==e;);}function s(e,t){var r=t.d,i=new Q(t,r);for(r.b=i,(t.d=i).a=e,i.c=t.c,r=e;r.d=i,(r=r.e)!==e;);}function f(e){var t=e.h;e=e.b.h,(t.b.h=e).b.h=t}function m(e,t){for(var r=e.c,i=r;i.a=t,(i=i.c)!==r;);r=e.f,((i=e.e).f=r).e=i}function h(e,t){for(var r=e.a,i=r;i.d=t,(i=i.e)!==r;);r=e.d,((i=e.b).d=r).b=i}function E(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])&&(t=2),t}var C=4e150;function R(e,t){e.f+=t.f,e.b.f+=t.b.f}function l(e,t,r){return e=e.a,t=t.a,r=r.a,t.b.a===e?r.b.a===e?g(t.a,r.a)?b(r.b.a,t.a,r.a)<=0:0<=b(t.b.a,r.a,t.a):b(r.b.a,e,r.a)<=0:r.b.a===e?0<=b(t.b.a,e,t.a):(t=y(t.b.a,e,t.a),(e=y(r.b.a,e,r.a))<=t)}function L(e){e.a.i=null;var t=e.e;t.a.c=t.c,t.c.a=t.a,e.e=null}function u(e,t){c(e.a),e.c=!1,(e.a=t).i=e}function P(e){for(var t=e.a.a;(e=pe(e)).a.a===t;);return e.c&&(u(e,t=p(ce(e).a.b,e.a.e)),e=pe(e)),e}function k(e,t,r){var i=new ue;return i.a=r,i.e=W(e.f,t.e,i),r.i=i}function I(e,t){switch(e.s){case 100130:return 0!=(1&t);case 100131:return 0!==t;case 100132:return 0<t;case 100133:return t<0;case 100134:return 2<=t||t<=-2}return!1}function D(e){var t=e.a,r=t.d;r.c=e.d,r.a=t,L(e)}function A(e,t,r){for(t=(e=t).a;e!==r;){e.c=!1;var i=ce(e),n=i.a;if(n.a!==t.a){if(!i.c){D(e);break}u(i,n=p(t.c.b,n.b))}t.c!==n&&(T(K(n),n),T(t,n)),D(e),t=i.a,e=i}return t}function U(e,t,r,i,n,o){for(var a=!0;k(e,t,r.b),(r=r.c)!==i;);for(null===n&&(n=ce(t).a.b.c);(r=(i=ce(t)).a.b).a===n.a;)r.c!==n&&(T(K(r),r),T(K(n),r)),i.f=t.f-r.f,i.d=I(e,i.f),t.b=!0,!a&&G(e,t)&&(R(r,n),L(t),c(n)),a=!1,t=i,n=r;t.b=!0,o&&V(e,t)}function O(e,t,r,i,n){var o=[t.g[0],t.g[1],t.g[2]];t.d=null,t.d=e.o&&e.o(o,r,i,e.c)||null,null===t.d&&(n?e.n||(Z(e,100156),e.n=!0):t.d=r[0])}function B(e,t,r){var i=[null,null,null,null];i[0]=t.a.d,i[1]=r.a.d,O(e,t.a,i,[.5,.5,0,0],!1),T(t,r)}function F(e,t,r,i,n){var o=Math.abs(t.b-e.b)+Math.abs(t.a-e.a),a=Math.abs(r.b-e.b)+Math.abs(r.a-e.a),s=n+1;i[n]=.5*a/(o+a),i[s]=.5*o/(o+a),e.g[0]+=i[n]*t.g[0]+i[s]*r.g[0],e.g[1]+=i[n]*t.g[1]+i[s]*r.g[1],e.g[2]+=i[n]*t.g[2]+i[s]*r.g[2]}function G(e,t){var r=ce(t),i=t.a,n=r.a;if(g(i.a,n.a)){if(0<b(n.b.a,i.a,n.a))return!1;if(v(i.a,n.a)){if(i.a!==n.a){r=e.e;var o=i.a.h;if(0<=o){var a=(r=r.b).d,s=r.e,h=r.c,l=h[o];a[l]=a[r.a],(h[a[l]]=l)<=--r.a&&(l<=1?he(r,l):g(s[a[l>>1]],s[a[l]])?he(r,l):le(r,l)),s[o]=null,h[o]=r.b,r.b=o}else for(r.c[-(o+1)]=null;0<r.a&&null===r.c[r.d[r.a-1]];)--r.a;B(e,K(n),i)}}else M(n.b),T(i,K(n)),t.b=r.b=!0}else{if(b(i.b.a,n.a,i.a)<0)return!1;pe(t).b=t.b=!0,M(i.b),T(K(n),i)}return!0}function N(e,t){var r=ce(t),i=t.a,n=r.a,o=i.a,a=n.a,s=i.b.a,h=n.b.a,l=new ee;if(b(s,e.a,o),b(h,e.a,a),o===a||Math.min(o.a,s.a)>Math.max(a.a,h.a))return!1;if(g(o,a)){if(0<b(h,o,a))return!1}else if(b(s,a,o)<0)return!1;var u,c,p=s,d=o,f=h,m=a;if(g(p,d)||(u=p,p=d,d=u),g(f,m)||(u=f,f=m,m=u),g(p,f)||(u=p,p=f,f=u,u=d,d=m,m=u),g(f,d)?g(d,m)?((u=y(p,f,d))+(c=y(f,d,m))<0&&(u=-u,c=-c),l.b=S(u,f.b,c,d.b)):((u=b(p,f,d))+(c=-b(p,m,d))<0&&(u=-u,c=-c),l.b=S(u,f.b,c,m.b)):l.b=(f.b+d.b)/2,_(p,d)||(u=p,p=d,d=u),_(f,m)||(u=f,f=m,m=u),_(p,f)||(u=p,p=f,f=u,u=d,d=m,m=u),_(f,d)?_(d,m)?((u=x(p,f,d))+(c=x(f,d,m))<0&&(u=-u,c=-c),l.a=S(u,f.a,c,d.a)):((u=w(p,f,d))+(c=-w(p,m,d))<0&&(u=-u,c=-c),l.a=S(u,f.a,c,m.a)):l.a=(f.a+d.a)/2,g(l,e.a)&&(l.b=e.a.b,l.a=e.a.a),g(p=g(o,a)?o:a,l)&&(l.b=p.b,l.a=p.a),v(l,o)||v(l,a))return G(e,t),!1;if(!v(s,e.a)&&0<=b(s,e.a,l)||!v(h,e.a)&&b(h,e.a,l)<=0){if(h===e.a)return M(i.b),T(n.b,i),i=ce(t=P(t)).a,A(e,ce(t),r),U(e,t,K(i),i,i,!0),!0;if(s!==e.a)return 0<=b(s,e.a,l)&&(pe(t).b=t.b=!0,M(i.b),i.a.b=e.a.b,i.a.a=e.a.a),b(h,e.a,l)<=0&&(t.b=r.b=!0,M(n.b),n.a.b=e.a.b,n.a.a=e.a.a),!1;for(M(n.b),T(i.e,K(n)),a=(o=r=t).a.b.a;(o=pe(o)).a.b.a===a;);return o=ce(t=o).a.b.c,r.a=K(n),U(e,t,(n=A(e,r,null)).c,i.b.c,o,!0),!0}return M(i.b),M(n.b),T(K(n),i),i.a.b=l.b,i.a.a=l.a,i.a.h=re(e.e,i.a),i=i.a,n=[0,0,0,0],l=[o.d,s.d,a.d,h.d],i.g[0]=i.g[1]=i.g[2]=0,F(i,o,s,n,0),F(i,a,h,n,2),O(e,i,l,n,!0),pe(t).b=t.b=r.b=!0,!1}function V(e,t){for(var r=ce(t);;){for(;r.b;)r=ce(t=r);if(!t.b&&(null===(t=pe(r=t))||!t.b))break;t.b=!1;var i,n=t.a,o=r.a;if(i=n.b.a!==o.b.a)e:{var a=ce(i=t),s=i.a,h=a.a,l=void 0;if(g(s.b.a,h.b.a)){if(b(s.b.a,h.b.a,s.a)<0){i=!1;break e}pe(i).b=i.b=!0,l=M(s),T(h.b,l),l.d.c=i.d}else{if(0<b(h.b.a,s.b.a,h.a)){i=!1;break e}i.b=a.b=!0,l=M(h),T(s.e,h.b),l.b.d.c=i.d}i=!0}if(i&&(r.c?(L(r),c(o),o=(r=ce(t)).a):t.c&&(L(t),c(n),n=(t=pe(r)).a)),n.a!==o.a)if(n.b.a===o.b.a||t.c||r.c||n.b.a!==e.a&&o.b.a!==e.a)G(e,t);else if(N(e,t))break;n.a===o.a&&n.b.a===o.b.a&&(R(o,n),L(t),c(n),t=pe(r))}}function z(e,t){for(var r=(e.a=t).c;null===r.i;)if((r=r.c)===t.c){r=e;var i=t;(a=new ue).a=i.c.b;for(var n=(h=r.f).a;null!==(n=n.a).b&&!h.c(h.b,a,n.b););var o=ce(h=n.b),a=h.a;n=o.a;if(0===b(a.b.a,i,a.a))v((a=h.a).a,i)||v(a.b.a,i)||(M(a.b),h.c&&(c(a.c),h.c=!1),T(i.c,a),z(r,i));else{var s=g(n.b.a,a.b.a)?h:o;o=void 0;h.d||s.c?(o=s===h?p(i.c.b,a.e):p(n.b.c.b,i.c).b,s.c?u(s,o):((h=k(a=r,h,o)).f=pe(h).f+h.a.f,h.d=I(a,h.f)),z(r,i)):U(r,h,i.c,i.c,null,!0)}return}if(h=(a=ce(r=P(r.i))).a,(a=A(e,a,null)).c===h){a=(h=a).c,n=ce(r),o=r.a,s=n.a;var h,l=!1;o.b.a!==s.b.a&&N(e,r),v(o.a,e.a)&&(T(K(a),o),a=ce(r=P(r)).a,A(e,ce(r),n),l=!0),v(s.a,e.a)&&(T(h,K(s)),h=A(e,n,null),l=!0),l?U(e,r,h.c,a,a,!0):(i=g(s.a,o.a)?K(s):o,U(e,r,i=p(h.c.b,i),i.c,i.c,!1),i.b.i.c=!0,V(e,r))}else U(e,r,a.c,h,h,!0)}function H(e,t){var r=new ue,i=a(e.b);i.a.b=C,i.a.a=t,i.b.a.b=-C,i.b.a.a=t,e.a=i.b.a,r.a=i,r.f=0,r.d=!1,r.c=!1,r.h=!0,r.b=!1,i=W(i=e.f,i.a,r),r.e=i}function j(e){this.a=new X,this.b=e,this.c=l}function W(e,t,r){for(;null!==(t=t.c).b&&!e.c(e.b,t.b,r););return e=new X(r,t.a,t),t.a.c=e,t.a=e}function X(e,t,r){this.b=e||null,this.a=t||this,this.c=r||this}function q(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Y(e,t){if(e.d!==t)for(;e.d!==t;)if(e.d<t)switch(e.d){case 0:Z(e,100151),e.u(null);break;case 1:Z(e,100152),e.t()}else switch(e.d){case 2:Z(e,100154),e.v();break;case 1:Z(e,100153),e.w()}}function Z(e,t){e.p&&e.p(t,e.c)}function Q(e,t){this.b=e||this,this.d=t||this,this.a=null,this.c=!1}function J(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function K(e){return e.b.e}function $(){this.c=new ee,this.a=new Q,this.b=new J,this.d=new J,this.b.b=this.d,this.d.b=this.b}function ee(e,t){this.e=e||this,this.f=t||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function te(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new ne}function re(e,t){if(e.e){var r,i=e.b,n=++i.a;return 2*n>i.f&&(i.f*=2,i.c=oe(i.c,i.f+1)),0===i.b?r=n:(r=i.b,i.b=i.c[i.b]),i.e[r]=t,i.c[r]=n,i.d[n]=r,i.h&&le(i,n),r}return i=e.a++,e.c[i]=t,-(i+1)}function ie(e){if(0===e.a)return se(e.b);var t=e.c[e.d[e.a-1]];if(0!==e.b.a&&g(ae(e.b),t))return se(e.b);for(;--e.a,0<e.a&&null===e.c[e.d[e.a-1]];);return t}function ne(){this.d=oe([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function oe(e,t){for(var r=Array(t),i=0;i<e.length;i++)r[i]=e[i];for(;i<t;i++)r[i]=0;return r}function ae(e){return e.e[e.d[1]]}function se(e){var t=e.d,r=e.e,i=e.c,n=t[1],o=r[n];return 0<e.a&&(t[1]=t[e.a],i[t[1]]=1,r[n]=null,i[n]=e.b,e.b=n,0<--e.a&&he(e,1)),o}function he(e,t){for(var r=e.d,i=e.e,n=e.c,o=t,a=r[o];;){var s=o<<1;s<e.a&&g(i[r[s+1]],i[r[s]])&&(s+=1);var h=r[s];if(s>e.a||g(i[a],i[h])){n[r[o]=a]=o;break}n[r[o]=h]=o,o=s}}function le(e,t){for(var r=e.d,i=e.e,n=e.c,o=t,a=r[o];;){var s=o>>1,h=r[s];if(0===s||g(i[h],i[a])){n[r[o]=a]=o;break}n[r[o]=h]=o,o=s}}function ue(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ce(e){return e.e.c.b}function pe(e){return e.e.a.b}(i=q.prototype).x=function(){Y(this,0)},i.B=function(e,t){switch(e){case 100142:return;case 100140:switch(t){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=t)}break;case 100141:return void(this.m=!!t);default:return void Z(this,100900)}Z(this,100901)},i.y=function(e){switch(e){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Z(this,100900)}return!1},i.A=function(e,t,r){this.j[0]=e,this.j[1]=t,this.j[2]=r},i.z=function(e,t){var r=t||null;switch(e){case 100100:case 100106:this.h=r;break;case 100104:case 100110:this.l=r;break;case 100101:case 100107:this.k=r;break;case 100102:case 100108:this.i=r;break;case 100103:case 100109:this.p=r;break;case 100105:case 100111:this.o=r;break;case 100112:this.r=r;break;default:Z(this,100900)}},i.C=function(e,t){var r=!1,i=[0,0,0];Y(this,2);for(var n=0;n<3;++n){var o=e[n];o<-1e150&&(o=-1e150,r=!0),1e150<o&&(o=1e150,r=!0),i[n]=o}r&&Z(this,100155),null===(r=this.q)?T(r=a(this.b),r.b):(M(r),r=r.e),r.a.d=t,r.a.g[0]=i[0],r.a.g[1]=i[1],r.a.g[2]=i[2],r.f=1,r.b.f=-1,this.q=r},i.u=function(e){Y(this,0),this.d=1,this.b=new $,this.c=e},i.t=function(){Y(this,1),this.d=2,this.q=null},i.v=function(){Y(this,2),this.d=1},i.w=function(){Y(this,1),this.d=0;var e,t,r=!1,i=[h=this.j[0],n=this.j[1],a=this.j[2]];if(0===h&&0===n&&0===a){for(var n=[-2e150,-2e150,-2e150],o=[2e150,2e150,2e150],a=[],s=[],h=(r=this.b.c).e;h!==r;h=h.e)for(var l=0;l<3;++l){var u=h.g[l];u<o[l]&&(o[l]=u,s[l]=h),u>n[l]&&(n[l]=u,a[l]=h)}if(h=0,n[1]-o[1]>n[0]-o[0]&&(h=1),n[2]-o[2]>n[h]-o[h]&&(h=2),o[h]>=n[h])i[0]=0,i[1]=0,i[2]=1;else{for(n=0,o=s[h],a=a[h],s=[0,0,0],o=[o.g[0]-a.g[0],o.g[1]-a.g[1],o.g[2]-a.g[2]],l=[0,0,0],h=r.e;h!==r;h=h.e)l[0]=h.g[0]-a.g[0],l[1]=h.g[1]-a.g[1],l[2]=h.g[2]-a.g[2],s[0]=o[1]*l[2]-o[2]*l[1],s[1]=o[2]*l[0]-o[0]*l[2],s[2]=o[0]*l[1]-o[1]*l[0],n<(u=s[0]*s[0]+s[1]*s[1]+s[2]*s[2])&&(n=u,i[0]=s[0],i[1]=s[1],i[2]=s[2]);n<=0&&(i[0]=i[1]=i[2]=0,i[E(o)]=1)}r=!0}for(s=E(i),h=this.b.c,n=(s+1)%3,a=(s+2)%3,s=0<i[s]?1:-1,i=h.e;i!==h;i=i.e)i.b=i.g[n],i.a=s*i.g[a];if(r){for(i=0,h=(r=this.b.a).b;h!==r;h=h.b)if(!((n=h.a).f<=0))for(;i+=(n.a.b-n.b.a.b)*(n.a.a+n.b.a.a),(n=n.e)!==h.a;);if(i<0)for(r=(i=this.b.c).e;r!==i;r=r.e)r.a=-r.a}for(this.n=!1,h=(i=this.b.b).h;h!==i;h=r)r=h.h,n=h.e,v(h.a,h.b.a)&&h.e.e!==h&&(B(this,n,h),c(h),n=(h=n).e),n.e===h&&(n!==h&&(n!==r&&n!==r.b||(r=r.h),c(n)),h!==r&&h!==r.b||(r=r.h),c(h));for(this.e=i=new te,h=(r=this.b.c).e;h!==r;h=h.e)h.h=re(i,h);for(function(e){e.d=[];for(var t=0;t<e.a;t++)e.d[t]=t;e.d.sort((r=e.c,function(e,t){return g(r[e],r[t])?1:-1})),e.e=!0,function(e){for(var t=e.a;1<=t;--t)he(e,t);e.h=!0}(e.b);var r}(i),this.f=new j(this),H(this,-C),H(this,C);null!==(i=ie(this.e));){for(;;){e:if(h=this.e,0===h.a)r=ae(h.b);else if(r=h.c[h.d[h.a-1]],0!==h.b.a&&(h=ae(h.b),g(h,r))){r=h;break e}if(null===r||!v(r,i))break;r=ie(this.e),B(this,i.c,r.c)}z(this,i)}for(this.a=this.f.a.a.b.a.a,i=0;null!==(r=this.f.a.a.b);)r.h||++i,L(r);for(this.f=null,(i=this.e).b=null,i.d=null,this.e=i.c=null,h=(i=this.b).a.b;h!==i.a;h=r)r=h.b,(h=h.a).e.e===h&&(R(h.c,h),c(h));if(!this.n){if(i=this.b,this.m)for(h=i.b.h;h!==i.b;h=r)r=h.h,h.b.d.c!==h.d.c?h.f=h.d.c?1:-1:c(h);else for(h=i.a.b;h!==i.a;h=r)if(r=h.b,h.c){for(h=h.a;g(h.b.a,h.a);h=h.c.b);for(;g(h.a,h.b.a);h=h.e);for(n=h.c.b,a=void 0;h.e!==n;)if(g(h.b.a,n.a)){for(;n.e!==h&&(g((t=n.e).b.a,t.a)||b(n.a,n.b.a,n.e.b.a)<=0);)n=(a=p(n.e,n)).b;n=n.c.b}else{for(;n.e!==h&&(g((e=h.c.b).a,e.b.a)||0<=b(h.b.a,h.a,h.c.b.a));)h=(a=p(h,h.c.b)).b;h=h.e}for(;n.e.e!==h;)n=(a=p(n.e,n)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(r=(i=this.b).a.b;r!==i.a;r=r.b)if(r.c){for(this.h&&this.h(2,this.c),h=r.a;this.k&&this.k(h.a.d,this.c),(h=h.e)!==r.a;);this.i&&this.i(this.c)}}else{for(i=this.b,r=!!this.l,h=!1,n=-1,a=i.a.d;a!==i.a;a=a.d)if(a.c)for(h||(this.h&&this.h(4,this.c),h=!0),s=a.a;r&&(n!==(o=s.b.d.c?0:1)&&(n=o,this.l&&this.l(!!n,this.c))),this.k&&this.k(s.a.d,this.c),(s=s.e)!==a.a;);h&&this.i&&this.i(this.c)}if(this.r){for(h=(i=this.b).a.b;h!==i.a;h=r)if(r=h.b,!h.c){for(a=(n=h.a).e,s=void 0;a=(s=a).e,(s.d=null)===s.b.d&&(s.c===s?m(s.a,null):(s.a.c=s.c,d(s,K(s))),(o=s.b).c===o?m(o.a,null):(o.a.c=o.c,d(o,K(o))),f(s)),s!==n;);n=h.d,((h=h.b).d=n).b=h}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:q,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},q.prototype.gluDeleteTess=q.prototype.x,q.prototype.gluTessProperty=q.prototype.B,q.prototype.gluGetTessProperty=q.prototype.y,q.prototype.gluTessNormal=q.prototype.A,q.prototype.gluTessCallback=q.prototype.z,q.prototype.gluTessVertex=q.prototype.C,q.prototype.gluTessBeginPolygon=q.prototype.u,q.prototype.gluTessBeginContour=q.prototype.t,q.prototype.gluTessEndContour=q.prototype.v,q.prototype.gluTessEndPolygon=q.prototype.w,void 0!==t&&(t.exports=this.libtess)},{}],9:[function(Vr,t,r){(function(Nr){var e;e=this,function(M){"use strict";var e,t;String.prototype.codePointAt||(e=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}(),t=function(e){if(null==this)throw TypeError();var t=String(this),r=t.length,i=e?Number(e):0;if(i!=i&&(i=0),!(i<0||r<=i)){var n,o=t.charCodeAt(i);return 55296<=o&&o<=56319&&i+1<r&&56320<=(n=t.charCodeAt(i+1))&&n<=57343?1024*(o-55296)+n-56320+65536:o}},e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t);var h=0,o=-3;function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new r,this.dtree=new r}var s=new r,l=new r,u=new Uint8Array(30),c=new Uint16Array(30),p=new Uint8Array(30),d=new Uint16Array(30),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m=new r,v=new Uint8Array(320);function i(e,t,r,i){var n,o;for(n=0;n<r;++n)e[n]=0;for(n=0;n<30-r;++n)e[n+r]=n/r|0;for(o=i,n=0;n<30;++n)t[n]=o,o+=1<<e[n]}var g=new Uint16Array(16);function y(e,t,r,i){var n,o;for(n=0;n<16;++n)e.table[n]=0;for(n=0;n<i;++n)e.table[t[r+n]]++;for(n=o=e.table[0]=0;n<16;++n)g[n]=o,o+=e.table[n];for(n=0;n<i;++n)t[r+n]&&(e.trans[g[t[r+n]]++]=n)}function b(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function _(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var i=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,i+r}function x(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;for(var r=0,i=0,n=0,o=e.tag;i=2*i+(1&o),o>>>=1,++n,r+=t.table[n],0<=(i-=t.table[n]););return e.tag=o,e.bitcount-=n,t.trans[r+i]}function w(e,t,r){var i,n,o,a,s,h;for(i=_(e,5,257),n=_(e,5,1),o=_(e,4,4),a=0;a<19;++a)v[a]=0;for(a=0;a<o;++a){var l=_(e,3,0);v[f[a]]=l}for(y(m,v,0,19),s=0;s<i+n;){var u=x(e,m);switch(u){case 16:var c=v[s-1];for(h=_(e,2,3);h;--h)v[s++]=c;break;case 17:for(h=_(e,3,3);h;--h)v[s++]=0;break;case 18:for(h=_(e,7,11);h;--h)v[s++]=0;break;default:v[s++]=u}}y(t,v,0,i),y(r,v,i,n)}function S(e,t,r){for(;;){var i,n,o,a,s=x(e,t);if(256===s)return h;if(s<256)e.dest[e.destLen++]=s;else for(i=_(e,u[s-=257],c[s]),n=x(e,r),a=o=e.destLen-_(e,p[n],d[n]);a<o+i;++a)e.dest[e.destLen++]=e.dest[a]}}function T(e){for(var t,r;8<e.bitcount;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return o;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,h}!function(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}(s,l),i(u,c,4,3),i(p,d,2,1),u[28]=0,c[28]=258;var n=function(e,t){var r,i,n=new a(e,t);do{switch(r=b(n),_(n,2,0)){case 0:i=T(n);break;case 1:i=S(n,s,l);break;case 2:w(n,n.ltree,n.dtree),i=S(n,n.ltree,n.dtree);break;default:i=o}if(i!==h)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?"function"==typeof n.dest.slice?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest};function E(e,t,r,i,n){return Math.pow(1-n,3)*e+3*Math.pow(1-n,2)*n*t+3*(1-n)*Math.pow(n,2)*r+Math.pow(n,3)*i}function C(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function U(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function R(e){throw new Error(e)}function L(e,t){e||R(t)}C.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},C.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},C.prototype.addX=function(e){this.addPoint(e,null)},C.prototype.addY=function(e){this.addPoint(null,e)},C.prototype.addBezier=function(e,t,r,i,n,o,a,s){var h=this,l=[e,t],u=[r,i],c=[n,o],p=[a,s];this.addPoint(e,t),this.addPoint(a,s);for(var d=0;d<=1;d++){var f=6*l[d]-12*u[d]+6*c[d],m=-3*l[d]+9*u[d]-9*c[d]+3*p[d],v=3*u[d]-3*l[d];if(0!==m){var g=Math.pow(f,2)-4*v*m;if(!(g<0)){var y=(-f+Math.sqrt(g))/(2*m);0<y&&y<1&&(0===d&&h.addX(E(l[d],u[d],c[d],p[d],y)),1===d&&h.addY(E(l[d],u[d],c[d],p[d],y)));var b=(-f-Math.sqrt(g))/(2*m);0<b&&b<1&&(0===d&&h.addX(E(l[d],u[d],c[d],p[d],b)),1===d&&h.addY(E(l[d],u[d],c[d],p[d],b)))}}else{if(0===f)continue;var _=-v/f;0<_&&_<1&&(0===d&&h.addX(E(l[d],u[d],c[d],p[d],_)),1===d&&h.addY(E(l[d],u[d],c[d],p[d],_)))}}},C.prototype.addQuad=function(e,t,r,i,n,o){var a=e+2/3*(r-e),s=t+2/3*(i-t),h=a+1/3*(n-e),l=s+1/3*(o-t);this.addBezier(e,t,a,s,h,l,n,o)},U.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},U.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},U.prototype.curveTo=U.prototype.bezierCurveTo=function(e,t,r,i,n,o){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:i,x:n,y:o})},U.prototype.quadTo=U.prototype.quadraticCurveTo=function(e,t,r,i){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:i})},U.prototype.close=U.prototype.closePath=function(){this.commands.push({type:"Z"})},U.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof C){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},U.prototype.getBoundingBox=function(){for(var e=new C,t=0,r=0,i=0,n=0,o=0;o<this.commands.length;o++){var a=this.commands[o];switch(a.type){case"M":e.addPoint(a.x,a.y),t=i=a.x,r=n=a.y;break;case"L":e.addPoint(a.x,a.y),i=a.x,n=a.y;break;case"Q":e.addQuad(i,n,a.x1,a.y1,a.x,a.y),i=a.x,n=a.y;break;case"C":e.addBezier(i,n,a.x1,a.y1,a.x2,a.y2,a.x,a.y),i=a.x,n=a.y;break;case"Z":i=t,n=r;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},U.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},U.prototype.toPathData=function(o){function e(){for(var e,t=arguments,r="",i=0;i<arguments.length;i+=1){var n=t[i];0<=n&&0<i&&(r+=" "),r+=(e=n,Math.round(e)===e?""+Math.round(e):e.toFixed(o))}return r}o=void 0!==o?o:2;for(var t="",r=0;r<this.commands.length;r+=1){var i=this.commands[r];"M"===i.type?t+="M"+e(i.x,i.y):"L"===i.type?t+="L"+e(i.x,i.y):"C"===i.type?t+="C"+e(i.x1,i.y1,i.x2,i.y2,i.x,i.y):"Q"===i.type?t+="Q"+e(i.x1,i.y1,i.x,i.y):"Z"===i.type&&(t+="Z")}return t},U.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},U.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};var P={fail:R,argument:L,assert:L},k=2147483648,I={},D={},A={};function O(e){return function(){return e}}D.BYTE=function(e){return P.argument(0<=e&&e<=255,"Byte value should be between 0 and 255."),[e]},A.BYTE=O(1),D.CHAR=function(e){return[e.charCodeAt(0)]},A.CHAR=O(1),D.CHARARRAY=function(e){for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t},A.CHARARRAY=function(e){return e.length},D.USHORT=function(e){return[e>>8&255,255&e]},A.USHORT=O(2),D.SHORT=function(e){return 32768<=e&&(e=-(65536-e)),[e>>8&255,255&e]},A.SHORT=O(2),D.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},A.UINT24=O(3),D.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},A.ULONG=O(4),D.LONG=function(e){return k<=e&&(e=-(2*k-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},A.LONG=O(4),D.FIXED=D.ULONG,A.FIXED=A.ULONG,D.FWORD=D.SHORT,A.FWORD=A.SHORT,D.UFWORD=D.USHORT,A.UFWORD=A.USHORT,D.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},A.LONGDATETIME=O(8),D.TAG=function(e){return P.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},A.TAG=O(4),D.Card8=D.BYTE,A.Card8=A.BYTE,D.Card16=D.USHORT,A.Card16=A.USHORT,D.OffSize=D.BYTE,A.OffSize=A.BYTE,D.SID=D.USHORT,A.SID=A.USHORT,D.NUMBER=function(e){return-107<=e&&e<=107?[e+139]:108<=e&&e<=1131?[247+((e-=108)>>8),255&e]:-1131<=e&&e<=-108?[251+((e=-e-108)>>8),255&e]:-32768<=e&&e<=32767?D.NUMBER16(e):D.NUMBER32(e)},A.NUMBER=function(e){return D.NUMBER(e).length},D.NUMBER16=function(e){return[28,e>>8&255,255&e]},A.NUMBER16=O(3),D.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},A.NUMBER32=O(5),D.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var i=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*i)/i).toString()}for(var n="",o=0,a=t.length;o<a;o+=1){var s=t[o];n+="e"===s?"-"===t[++o]?"c":"b":"."===s?"a":"-"===s?"e":s}for(var h=[30],l=0,u=(n+=1&n.length?"f":"ff").length;l<u;l+=2)h.push(parseInt(n.substr(l,2),16));return h},A.REAL=function(e){return D.REAL(e).length},D.NAME=D.CHARARRAY,A.NAME=A.CHARARRAY,D.STRING=D.CHARARRAY,A.STRING=A.CHARARRAY,I.UTF8=function(e,t,r){for(var i=[],n=r,o=0;o<n;o++,t+=1)i[o]=e.getUint8(t);return String.fromCharCode.apply(null,i)},I.UTF16=function(e,t,r){for(var i=[],n=r/2,o=0;o<n;o++,t+=2)i[o]=e.getUint16(t);return String.fromCharCode.apply(null,i)},D.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var i=e.charCodeAt(r);t[t.length]=i>>8&255,t[t.length]=255&i}return t},A.UTF16=function(e){return 2*e.length};var B={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};I.MACSTRING=function(e,t,r,i){var n=B[i];if(void 0!==n){for(var o="",a=0;a<r;a++){var s=e.getUint8(t+a);o+=s<=127?String.fromCharCode(s):n[127&s]}return o}};var F,G="function"==typeof WeakMap&&new WeakMap;function N(e){return-128<=e&&e<=127}function V(e,t,r){for(var i=0,n=e.length;t<n&&i<64&&0===e[t];)++t,++i;return r.push(128|i-1),t}function z(e,t,r){for(var i=0,n=e.length,o=t;o<n&&i<64;){var a=e[o];if(!N(a))break;if(0===a&&o+1<n&&0===e[o+1])break;++o,++i}r.push(i-1);for(var s=t;s<o;++s)r.push(e[s]+256&255);return o}function H(e,t,r){for(var i=0,n=e.length,o=t;o<n&&i<64;){var a=e[o];if(0===a)break;if(N(a)&&o+1<n&&N(e[o+1]))break;++o,++i}r.push(64|i-1);for(var s=t;s<o;++s){var h=e[s];r.push(h+65536>>8&255,h+256&255)}return o}D.MACSTRING=function(e,t){var r=function(e){if(!F)for(var t in F={},B)F[t]=new String(t);var r=F[e];if(void 0!==r){if(G){var i=G.get(r);if(void 0!==i)return i}var n=B[e];if(void 0!==n){for(var o={},a=0;a<n.length;a++)o[n.charCodeAt(a)]=a+128;return G&&G.set(r,o),o}}}(t);if(void 0!==r){for(var i=[],n=0;n<e.length;n++){var o=e.charCodeAt(n);if(128<=o&&void 0===(o=r[o]))return;i[n]=o}return i}},A.MACSTRING=function(e,t){var r=D.MACSTRING(e,t);return void 0!==r?r.length:0},D.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var i=e[t];t=0===i?V(e,t,r):-128<=i&&i<=127?z(e,t,r):H(e,t,r)}return r},D.INDEX=function(e){for(var t=1,r=[t],i=[],n=0;n<e.length;n+=1){var o=D.OBJECT(e[n]);Array.prototype.push.apply(i,o),t+=o.length,r.push(t)}if(0===i.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,h=[void 0,D.BYTE,D.USHORT,D.UINT24,D.ULONG][s],l=0;l<r.length;l+=1){var u=h(r[l]);Array.prototype.push.apply(a,u)}return Array.prototype.concat(D.Card16(e.length),D.OffSize(s),a,i)},A.INDEX=function(e){return D.INDEX(e).length},D.DICT=function(e){for(var t=[],r=Object.keys(e),i=r.length,n=0;n<i;n+=1){var o=parseInt(r[n],0),a=e[o];t=(t=t.concat(D.OPERAND(a.value,a.type))).concat(D.OPERATOR(o))}return t},A.DICT=function(e){return D.DICT(e).length},D.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},D.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var i=0;i<t.length;i+=1)P.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(D.OPERAND(e[i],t[i]));else if("SID"===t)r=r.concat(D.NUMBER(e));else if("offset"===t)r=r.concat(D.NUMBER32(e));else if("number"===t)r=r.concat(D.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);r=r.concat(D.REAL(e))}return r},D.OP=D.BYTE,A.OP=A.BYTE;var j="function"==typeof WeakMap&&new WeakMap;function W(e,t,r){for(var i=0;i<t.length;i+=1){var n=t[i];this[n.name]=n.value}if(this.tableName=e,this.fields=t,r)for(var o=Object.keys(r),a=0;a<o.length;a+=1){var s=o[a],h=r[s];void 0!==this[s]&&(this[s]=h)}}function X(e,t,r){void 0===r&&(r=t.length);var i=new Array(t.length+1);i[0]={name:e+"Count",type:"USHORT",value:r};for(var n=0;n<t.length;n++)i[n+1]={name:e+n,type:"USHORT",value:t[n]};return i}function q(e,t,r){var i=t.length,n=new Array(i+1);n[0]={name:e+"Count",type:"USHORT",value:i};for(var o=0;o<i;o++)n[o+1]={name:e+o,type:"TABLE",value:r(t[o],o)};return n}function Y(e,t,r){var i=t.length,n=[];n[0]={name:e+"Count",type:"USHORT",value:i};for(var o=0;o<i;o++)n=n.concat(r(t[o],o));return n}function Z(e){1===e.format?W.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(X("glyph",e.glyphs))):P.assert(!1,"Can't create coverage table format 2 yet.")}function Q(e){W.call(this,"scriptListTable",Y("scriptRecord",e,function(e,t){var r=e.script,i=r.defaultLangSys;return P.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new W("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new W("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(X("featureIndex",i.featureIndexes)))}].concat(Y("langSys",r.langSysRecords,function(e,t){var r=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new W("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(X("featureIndex",r.featureIndexes)))}]})))}]}))}function J(e){W.call(this,"featureListTable",Y("featureRecord",e,function(e,t){var r=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new W("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(X("lookupListIndex",r.lookupListIndexes)))}]}))}function K(e,r){W.call(this,"lookupListTable",q("lookup",e,function(e){var t=r[e.lookupType];return P.assert(!!t,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new W("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(q("subtable",e.subtables,t)))}))}D.CHARSTRING=function(e){if(j){var t=j.get(e);if(void 0!==t)return t}for(var r=[],i=e.length,n=0;n<i;n+=1){var o=e[n];r=r.concat(D[o.type](o.value))}return j&&j.set(e,r),r},A.CHARSTRING=function(e){return D.CHARSTRING(e).length},D.OBJECT=function(e){var t=D[e.type];return P.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},A.OBJECT=function(e){var t=A[e.type];return P.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},D.TABLE=function(e){for(var t=[],r=e.fields.length,i=[],n=[],o=0;o<r;o+=1){var a=e.fields[o],s=D[a.type];P.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")");var h=e[a.name];void 0===h&&(h=a.value);var l=s(h);"TABLE"===a.type?(n.push(t.length),t=t.concat([0,0]),i.push(l)):t=t.concat(l)}for(var u=0;u<i.length;u+=1){var c=n[u],p=t.length;P.argument(p<65536,"Table "+e.tableName+" too big."),t[c]=p>>8,t[c+1]=255&p,t=t.concat(i[u])}return t},A.TABLE=function(e){for(var t=0,r=e.fields.length,i=0;i<r;i+=1){var n=e.fields[i],o=A[n.type];P.argument(void 0!==o,"No sizeOf function for field type "+n.type+" ("+n.name+")");var a=e[n.name];void 0===a&&(a=n.value),t+=o(a),"TABLE"===n.type&&(t+=2)}return t},D.RECORD=D.TABLE,A.RECORD=A.TABLE,D.LITERAL=function(e){return e},A.LITERAL=function(e){return e.length},W.prototype.encode=function(){return D.TABLE(this)},W.prototype.sizeOf=function(){return A.TABLE(this)};var $={Table:W,Record:W,Coverage:(Z.prototype=Object.create(W.prototype)).constructor=Z,ScriptList:(Q.prototype=Object.create(W.prototype)).constructor=Q,FeatureList:(J.prototype=Object.create(W.prototype)).constructor=J,LookupList:(K.prototype=Object.create(W.prototype)).constructor=K,ushortList:X,tableList:q,recordList:Y};function ee(e,t){return e.getUint8(t)}function te(e,t){return e.getUint16(t,!1)}function re(e,t){return e.getUint32(t,!1)}function ie(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var ne={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function oe(e,t){this.data=e,this.offset=t,this.relativeOffset=0}oe.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},oe.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},oe.prototype.parseCard8=oe.prototype.parseByte,oe.prototype.parseCard16=oe.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},oe.prototype.parseSID=oe.prototype.parseUShort,oe.prototype.parseOffset16=oe.prototype.parseUShort,oe.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},oe.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},oe.prototype.parseOffset32=oe.prototype.parseULong=function(){var e=re(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},oe.prototype.parseFixed=function(){var e=ie(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},oe.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,i="";this.relativeOffset+=e;for(var n=0;n<e;n++)i+=String.fromCharCode(t.getUint8(r+n));return i},oe.prototype.parseTag=function(){return this.parseString(4)},oe.prototype.parseLongDateTime=function(){var e=re(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},oe.prototype.parseVersion=function(e){var t=te(this.data,this.offset+this.relativeOffset),r=te(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+r/e/10},oe.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=ne[e]*t},oe.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=r.getUint32(i),i+=4;return this.relativeOffset+=4*e,t},oe.prototype.parseOffset16List=oe.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=r.getUint16(i),i+=2;return this.relativeOffset+=2*e,t},oe.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=r.getInt16(i),i+=2;return this.relativeOffset+=2*e,t},oe.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,i=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=r.getUint8(i++);return this.relativeOffset+=e,t},oe.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),i=0;i<e;i++)r[i]=t.call(this);return r},oe.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),i=0;i<e;i++)r[i]=t.call(this);return r},oe.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),i=Object.keys(t),n=0;n<e;n++){for(var o={},a=0;a<i.length;a++){var s=i[a],h=t[s];o[s]=h.call(this)}r[n]=o}return r},oe.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),i=Object.keys(t),n=0;n<e;n++){for(var o={},a=0;a<i.length;a++){var s=i[a],h=t[s];o[s]=h.call(this)}r[n]=o}return r},oe.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),r={},i=0;i<t.length;i++){var n=t[i],o=e[n];r[n]=o.call(this)}return r},oe.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},oe.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),i=0;i<t;i++)r[i]=this.parseValueRecord(e);return r},oe.prototype.parsePointer=function(e){var t=this.parseOffset16();if(0<t)return new oe(this.data,this.offset+t).parseStruct(e)},oe.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(0<t)return new oe(this.data,this.offset+t).parseStruct(e)},oe.prototype.parseListOfLists=function(e){for(var t=this,r=this.parseOffset16List(),i=r.length,n=this.relativeOffset,o=new Array(i),a=0;a<i;a++){var s=r[a];if(0!==s)if(t.relativeOffset=s,e){for(var h=t.parseOffset16List(),l=new Array(h.length),u=0;u<h.length;u++)t.relativeOffset=s+h[u],l[u]=e.call(t);o[a]=l}else o[a]=t.parseUShortList();else o[a]=void 0}return this.relativeOffset=n,o},oe.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(r)};if(2!==t)throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.");for(var i=new Array(r),n=0;n<r;n++)i[n]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}},oe.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:oe.uShort,end:oe.uShort,classId:oe.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},oe.list=function(e,t){return function(){return this.parseList(e,t)}},oe.list32=function(e,t){return function(){return this.parseList32(e,t)}},oe.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},oe.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},oe.pointer=function(e){return function(){return this.parsePointer(e)}},oe.pointer32=function(e){return function(){return this.parsePointer32(e)}},oe.tag=oe.prototype.parseTag,oe.byte=oe.prototype.parseByte,oe.uShort=oe.offset16=oe.prototype.parseUShort,oe.uShortList=oe.prototype.parseUShortList,oe.uLong=oe.offset32=oe.prototype.parseULong,oe.uLongList=oe.prototype.parseULongList,oe.struct=oe.prototype.parseStruct,oe.coverage=oe.prototype.parseCoverage,oe.classDef=oe.prototype.parseClassDef;var ae={reserved:oe.uShort,reqFeatureIndex:oe.uShort,featureIndexes:oe.uShortList};oe.prototype.parseScriptList=function(){return this.parsePointer(oe.recordList({tag:oe.tag,script:oe.pointer({defaultLangSys:oe.pointer(ae),langSysRecords:oe.recordList({tag:oe.tag,langSys:oe.pointer(ae)})})}))||[]},oe.prototype.parseFeatureList=function(){return this.parsePointer(oe.recordList({tag:oe.tag,feature:oe.pointer({featureParams:oe.offset16,lookupListIndexes:oe.uShortList})}))||[]},oe.prototype.parseLookupList=function(i){return this.parsePointer(oe.list(oe.pointer(function(){var e=this.parseUShort();P.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var t=this.parseUShort(),r=16&t;return{lookupType:e,lookupFlag:t,subtables:this.parseList(oe.pointer(i[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]},oe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();return P.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:oe.offset32,featureTableSubstitutionOffset:oe.offset32})})||[]};var se={getByte:ee,getCard8:ee,getUShort:te,getCard16:te,getShort:function(e,t){return e.getInt16(t,!1)},getULong:re,getFixed:ie,getTag:function(e,t){for(var r="",i=t;i<t+4;i+=1)r+=String.fromCharCode(e.getInt8(i));return r},getOffset:function(e,t,r){for(var i=0,n=0;n<r;n+=1)i<<=8,i+=e.getUint8(t+n);return i},getBytes:function(e,t,r){for(var i=[],n=t;n<r;n+=1)i.push(e.getUint8(n));return i},bytesToString:function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t},Parser:oe};var he={parse:function(e,t){var r={};r.version=se.getUShort(e,t),P.argument(0===r.version,"cmap table version should be 0."),r.numTables=se.getUShort(e,t+2);for(var i=-1,n=r.numTables-1;0<=n;n-=1){var o=se.getUShort(e,t+4+8*n),a=se.getUShort(e,t+4+8*n+2);if(3===o&&(0===a||1===a||10===a)||0===o&&(0===a||1===a||2===a||3===a||4===a)){i=se.getULong(e,t+4+8*n+4);break}}if(-1===i)throw new Error("No valid cmap sub-tables found.");var s=new se.Parser(e,t+i);if(r.format=s.parseUShort(),12===r.format)!function(e,t){var r;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var i=0;i<r;i+=1)for(var n=t.parseULong(),o=t.parseULong(),a=t.parseULong(),s=n;s<=o;s+=1)e.glyphIndexMap[s]=a,a++}(r,s);else{if(4!==r.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");!function(e,t,r,i,n){var o;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var a=new se.Parser(r,i+n+14),s=new se.Parser(r,i+n+16+2*o),h=new se.Parser(r,i+n+16+4*o),l=new se.Parser(r,i+n+16+6*o),u=i+n+16+8*o,c=0;c<o-1;c+=1)for(var p=void 0,d=a.parseUShort(),f=s.parseUShort(),m=h.parseShort(),v=l.parseUShort(),g=f;g<=d;g+=1)0!==v?(u=l.offset+l.relativeOffset-2,u+=v,u+=2*(g-f),0!==(p=se.getUShort(r,u))&&(p=p+m&65535)):p=g+m&65535,e.glyphIndexMap[g]=p}(r,s,e,t,i)}return r},make:function(e){var t,r=!0;for(t=e.length-1;0<t;t-=1)if(65535<e.get(t).unicode){console.log("Adding CMAP format 12 (needed!)"),r=!1;break}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:r?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:r?12:20}];r||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var n,o,a,s=new $.Table("cmap",i);for(s.segments=[],t=0;t<e.length;t+=1){for(var h=e.get(t),l=0;l<h.unicodes.length;l+=1)n=s,o=h.unicodes[l],a=t,n.segments.push({end:o,start:o,delta:-(o-a),offset:0,glyphIndex:a});s.segments=s.segments.sort(function(e,t){return e.start-t.start})}s.segments.push({end:65535,start:65535,delta:1,offset:0});var u=s.segments.length,c=0,p=[],d=[],f=[],m=[],v=[],g=[];for(t=0;t<u;t+=1){var y=s.segments[t];y.end<=65535&&y.start<=65535?(p=p.concat({name:"end_"+t,type:"USHORT",value:y.end}),d=d.concat({name:"start_"+t,type:"USHORT",value:y.start}),f=f.concat({name:"idDelta_"+t,type:"SHORT",value:y.delta}),m=m.concat({name:"idRangeOffset_"+t,type:"USHORT",value:y.offset}),void 0!==y.glyphId&&(v=v.concat({name:"glyph_"+t,type:"USHORT",value:y.glyphId}))):c+=1,r||void 0===y.glyphIndex||(g=(g=(g=g.concat({name:"cmap12Start_"+t,type:"ULONG",value:y.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:y.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:y.glyphIndex}))}if(s.segCountX2=2*(u-c),s.searchRange=2*Math.pow(2,Math.floor(Math.log(u-c)/Math.log(2))),s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(p),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(d),s.fields=s.fields.concat(f),s.fields=s.fields.concat(m),s.fields=s.fields.concat(v),s.cmap4Length=14+2*p.length+2+2*d.length+2*f.length+2*m.length+2*v.length,!r){var b=16+4*g.length;s.cmap12Offset=20+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:b},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:g.length/3}]),s.fields=s.fields.concat(g)}return s}},le=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ue=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ce=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],pe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function de(e){this.font=e}function fe(e){this.cmap=e}function me(e,t){this.encoding=e,this.charset=t}function ve(e){switch(e.version){case 1:this.names=pe.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<pe.length?this.names[t]=pe[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-pe.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=pe[r+e.glyphNameIndex[r]];break;case 3:default:this.names=[]}}de.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r)for(var i=0;i<r.length;i+=1)for(var n=r.get(i),o=0;o<n.unicodes.length;o+=1)if(n.unicodes[o]===t)return i;return null},fe.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},me.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)},ve.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},ve.prototype.glyphIndexToName=function(e){return this.names[e]};var ge={line:function(e,t,r,i,n){e.beginPath(),e.moveTo(t,r),e.lineTo(i,n),e.stroke()}};function ye(e){this.bindConstructorValues(e)}function be(t,e,r){Object.defineProperty(t,e,{get:function(){return t.path,t[r]},set:function(e){t[r]=e},enumerable:!0,configurable:!0})}function _e(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++)this.glyphs[r]=t[r];this.length=t&&t.length||0}ye.prototype.bindConstructorValues=function(e){var t,r;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path,r=t||new U,{configurable:!0,get:function(){return"function"==typeof r&&(r=r()),r},set:function(e){r=e}}))},ye.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},ye.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ye.prototype.getPath=function(e,t,r,i,n){var o,a;e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72,i||(i={});var s=i.xScale,h=i.yScale;if(i.hinting&&n&&n.hinting&&(a=this.path&&n.hinting.exec(this,r)),a)o=n.hinting.getCommands(a),e=Math.round(e),t=Math.round(t),s=h=1;else{o=this.path.commands;var l=1/this.path.unitsPerEm*r;void 0===s&&(s=l),void 0===h&&(h=l)}for(var u=new U,c=0;c<o.length;c+=1){var p=o[c];"M"===p.type?u.moveTo(e+p.x*s,t+-p.y*h):"L"===p.type?u.lineTo(e+p.x*s,t+-p.y*h):"Q"===p.type?u.quadraticCurveTo(e+p.x1*s,t+-p.y1*h,e+p.x*s,t+-p.y*h):"C"===p.type?u.curveTo(e+p.x1*s,t+-p.y1*h,e+p.x2*s,t+-p.y2*h,e+p.x*s,t+-p.y*h):"Z"===p.type&&u.closePath()}return u},ye.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var i=this.points[r];t.push(i),i.lastPointOfContour&&(e.push(t),t=[])}return P.argument(0===t.length,"There are still points left in the current contour."),e},ye.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],i=0;i<e.length;i+=1){var n=e[i];"Z"!==n.type&&(t.push(n.x),r.push(n.y)),"Q"!==n.type&&"C"!==n.type||(t.push(n.x1),r.push(n.y1)),"C"===n.type&&(t.push(n.x2),r.push(n.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},ye.prototype.draw=function(e,t,r,i,n){this.getPath(t,r,i,n).draw(e)},ye.prototype.drawPoints=function(a,e,t,r){function i(e,t,r,i){var n=2*Math.PI;a.beginPath();for(var o=0;o<e.length;o+=1)a.moveTo(t+e[o].x*i,r+e[o].y*i),a.arc(t+e[o].x*i,r+e[o].y*i,2,0,n,!1);a.closePath(),a.fill()}e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:24;for(var n=1/this.path.unitsPerEm*r,o=[],s=[],h=this.path,l=0;l<h.commands.length;l+=1){var u=h.commands[l];void 0!==u.x&&o.push({x:u.x,y:-u.y}),void 0!==u.x1&&s.push({x:u.x1,y:-u.y1}),void 0!==u.x2&&s.push({x:u.x2,y:-u.y2})}a.fillStyle="blue",i(o,e,t,n),a.fillStyle="red",i(s,e,t,n)},ye.prototype.drawMetrics=function(e,t,r,i){var n;t=void 0!==t?t:0,r=void 0!==r?r:0,i=void 0!==i?i:24,n=1/this.path.unitsPerEm*i,e.lineWidth=1,e.strokeStyle="black",ge.line(e,t,-1e4,t,1e4),ge.line(e,-1e4,r,1e4,r);var o=this.xMin||0,a=this.yMin||0,s=this.xMax||0,h=this.yMax||0,l=this.advanceWidth||0;e.strokeStyle="blue",ge.line(e,t+o*n,-1e4,t+o*n,1e4),ge.line(e,t+s*n,-1e4,t+s*n,1e4),ge.line(e,-1e4,r+-a*n,1e4,r+-a*n),ge.line(e,-1e4,r+-h*n,1e4,r+-h*n),e.strokeStyle="green",ge.line(e,t+l*n,-1e4,t+l*n,1e4)},_e.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},_e.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var xe={GlyphSet:_e,glyphLoader:function(e,t){return new ye({index:t,font:e})},ttfGlyphLoader:function(r,e,i,n,o,a){return function(){var t=new ye({index:e,font:r});return t.path=function(){i(t,n,o);var e=a(r.glyphs,t);return e.unitsPerEm=r.unitsPerEm,e},be(t,"xMin","_xMin"),be(t,"xMax","_xMax"),be(t,"yMin","_yMin"),be(t,"yMax","_yMax"),t}},cffGlyphLoader:function(r,e,i,n){return function(){var t=new ye({index:e,font:r});return t.path=function(){var e=i(r,t,n);return e.unitsPerEm=r.unitsPerEm,e},t}}};function we(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!we(e[r],t[r]))return!1;return!0}return!1}function Se(e){return e.length<1240?107:e.length<33900?1131:32768}function Te(e,t,r){var i,n,o=[],a=[],s=se.getCard16(e,t);if(0!==s){var h=se.getByte(e,t+2);i=t+(s+1)*h+2;for(var l=t+3,u=0;u<s+1;u+=1)o.push(se.getOffset(e,l,h)),l+=h;n=i+o[s]}else n=t+2;for(var c=0;c<o.length-1;c+=1){var p=se.getBytes(e,i+o[c],i+o[c+1]);r&&(p=r(p)),a.push(p)}return{objects:a,startOffset:t,endOffset:n}}function Me(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=e.parseByte(),n=i>>4,o=15&i;if(15===n)break;if(t+=r[n],15===o)break;t+=r[o]}return parseFloat(t)}(e);if(32<=t&&t<=246)return t-139;if(247<=t&&t<=250)return 256*(t-247)+e.parseByte()+108;if(251<=t&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Ee(e,t,r){t=void 0!==t?t:0;var i=new se.Parser(e,t),n=[],o=[];for(r=void 0!==r?r:e.length;i.relativeOffset<r;){var a=i.parseByte();a<=21?(12===a&&(a=1200+i.parseByte()),n.push([a,o]),o=[]):o.push(Me(i,a))}return function(e){for(var t={},r=0;r<e.length;r+=1){var i=e[r][0],n=e[r][1],o=void 0;if(o=1===n.length?n[0]:n,t.hasOwnProperty(i)&&!isNaN(t[i]))throw new Error("Object "+t+" already has key "+i);t[i]=o}return t}(n)}function Ce(e,t){return t=t<=390?le[t]:e[t-391]}function Re(e,t,r){for(var i,n={},o=0;o<t.length;o+=1){var a=t[o];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var h=0;h<a.type.length;h++)void 0===(i=void 0!==e[a.op]?e[a.op][h]:void 0)&&(i=void 0!==a.value&&void 0!==a.value[h]?a.value[h]:null),"SID"===a.type[h]&&(i=Ce(r,i)),s[h]=i;n[a.name]=s}else void 0===(i=e[a.op])&&(i=void 0!==a.value?a.value:null),"SID"===a.type&&(i=Ce(r,i)),n[a.name]=i}return n}var Le=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Pe=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ke(e,t,r,i){return Re(Ee(e,t,r),Pe,i)}function Ie(e,t,r,i){for(var n,o,a=[],s=0;s<r.length;s+=1){var h=new DataView(new Uint8Array(r[s]).buffer),l=(o=i,Re(Ee(n=h,0,n.byteLength),Le,o));l._subrs=[],l._subrsBias=0;var u=l.private[0],c=l.private[1];if(0!==u&&0!==c){var p=ke(e,c+t,u,i);if(l._defaultWidthX=p.defaultWidthX,l._nominalWidthX=p.nominalWidthX,0!==p.subrs){var d=Te(e,c+p.subrs+t);l._subrs=d.objects,l._subrsBias=Se(l._subrs)}l._privateDict=p}a.push(l)}return a}function De(v,g,e){var y,b,_,x,w,S,t,T,M=new U,E=[],C=0,R=!1,L=!1,P=0,k=0;if(v.isCIDFont){var r=v.tables.cff.topDict._fdSelect[g.index],i=v.tables.cff.topDict._fdArray[r];w=i._subrs,S=i._subrsBias,t=i._defaultWidthX,T=i._nominalWidthX}else w=v.tables.cff.topDict._subrs,S=v.tables.cff.topDict._subrsBias,t=v.tables.cff.topDict._defaultWidthX,T=v.tables.cff.topDict._nominalWidthX;var I=t;function D(e,t){L&&M.closePath(),M.moveTo(e,t),L=!0}function A(){E.length%2!=0&&!R&&(I=E.shift()+T),C+=E.length>>1,E.length=0,R=!0}return function e(t){for(var r,i,n,o,a,s,h,l,u,c,p,d,f=0;f<t.length;){var m=t[f];switch(f+=1,m){case 1:case 3:A();break;case 4:1<E.length&&!R&&(I=E.shift()+T,R=!0),k+=E.pop(),D(P,k);break;case 5:for(;0<E.length;)P+=E.shift(),k+=E.shift(),M.lineTo(P,k);break;case 6:for(;0<E.length&&(P+=E.shift(),M.lineTo(P,k),0!==E.length);)k+=E.shift(),M.lineTo(P,k);break;case 7:for(;0<E.length&&(k+=E.shift(),M.lineTo(P,k),0!==E.length);)P+=E.shift(),M.lineTo(P,k);break;case 8:for(;0<E.length;)y=P+E.shift(),b=k+E.shift(),_=y+E.shift(),x=b+E.shift(),P=_+E.shift(),k=x+E.shift(),M.curveTo(y,b,_,x,P,k);break;case 10:a=E.pop()+S,(s=w[a])&&e(s);break;case 11:return;case 12:switch(m=t[f],f+=1,m){case 35:y=P+E.shift(),b=k+E.shift(),_=y+E.shift(),x=b+E.shift(),h=_+E.shift(),l=x+E.shift(),u=h+E.shift(),c=l+E.shift(),p=u+E.shift(),d=c+E.shift(),P=p+E.shift(),k=d+E.shift(),E.shift(),M.curveTo(y,b,_,x,h,l),M.curveTo(u,c,p,d,P,k);break;case 34:y=P+E.shift(),b=k,_=y+E.shift(),x=b+E.shift(),h=_+E.shift(),l=x,u=h+E.shift(),c=x,p=u+E.shift(),d=k,P=p+E.shift(),M.curveTo(y,b,_,x,h,l),M.curveTo(u,c,p,d,P,k);break;case 36:y=P+E.shift(),b=k+E.shift(),_=y+E.shift(),x=b+E.shift(),h=_+E.shift(),l=x,u=h+E.shift(),c=x,p=u+E.shift(),d=c+E.shift(),P=p+E.shift(),M.curveTo(y,b,_,x,h,l),M.curveTo(u,c,p,d,P,k);break;case 37:y=P+E.shift(),b=k+E.shift(),_=y+E.shift(),x=b+E.shift(),h=_+E.shift(),l=x+E.shift(),u=h+E.shift(),c=l+E.shift(),p=u+E.shift(),d=c+E.shift(),Math.abs(p-P)>Math.abs(d-k)?P=p+E.shift():k=d+E.shift(),M.curveTo(y,b,_,x,h,l),M.curveTo(u,c,p,d,P,k);break;default:console.log("Glyph "+g.index+": unknown operator 1200"+m),E.length=0}break;case 14:0<E.length&&!R&&(I=E.shift()+T,R=!0),L&&(M.closePath(),L=!1);break;case 18:A();break;case 19:case 20:A(),f+=C+7>>3;break;case 21:2<E.length&&!R&&(I=E.shift()+T,R=!0),k+=E.pop(),D(P+=E.pop(),k);break;case 22:1<E.length&&!R&&(I=E.shift()+T,R=!0),D(P+=E.pop(),k);break;case 23:A();break;case 24:for(;2<E.length;)y=P+E.shift(),b=k+E.shift(),_=y+E.shift(),x=b+E.shift(),P=_+E.shift(),k=x+E.shift(),M.curveTo(y,b,_,x,P,k);P+=E.shift(),k+=E.shift(),M.lineTo(P,k);break;case 25:for(;6<E.length;)P+=E.shift(),k+=E.shift(),M.lineTo(P,k);y=P+E.shift(),b=k+E.shift(),_=y+E.shift(),x=b+E.shift(),P=_+E.shift(),k=x+E.shift(),M.curveTo(y,b,_,x,P,k);break;case 26:for(E.length%2&&(P+=E.shift());0<E.length;)y=P,b=k+E.shift(),_=y+E.shift(),x=b+E.shift(),P=_,k=x+E.shift(),M.curveTo(y,b,_,x,P,k);break;case 27:for(E.length%2&&(k+=E.shift());0<E.length;)y=P+E.shift(),b=k,_=y+E.shift(),x=b+E.shift(),P=_+E.shift(),k=x,M.curveTo(y,b,_,x,P,k);break;case 28:r=t[f],i=t[f+1],E.push((r<<24|i<<16)>>16),f+=2;break;case 29:a=E.pop()+v.gsubrsBias,(s=v.gsubrs[a])&&e(s);break;case 30:for(;0<E.length&&(y=P,b=k+E.shift(),_=y+E.shift(),x=b+E.shift(),P=_+E.shift(),k=x+(1===E.length?E.shift():0),M.curveTo(y,b,_,x,P,k),0!==E.length);)y=P+E.shift(),b=k,_=y+E.shift(),x=b+E.shift(),k=x+E.shift(),P=_+(1===E.length?E.shift():0),M.curveTo(y,b,_,x,P,k);break;case 31:for(;0<E.length&&(y=P+E.shift(),b=k,_=y+E.shift(),x=b+E.shift(),k=x+E.shift(),P=_+(1===E.length?E.shift():0),M.curveTo(y,b,_,x,P,k),0!==E.length);)y=P,b=k+E.shift(),_=y+E.shift(),x=b+E.shift(),P=_+E.shift(),k=x+(1===E.length?E.shift():0),M.curveTo(y,b,_,x,P,k);break;default:m<32?console.log("Glyph "+g.index+": unknown operator "+m):m<247?E.push(m-139):m<251?(r=t[f],f+=1,E.push(256*(m-247)+r+108)):m<255?(r=t[f],f+=1,E.push(256*-(m-251)-r-108)):(r=t[f],i=t[f+1],n=t[f+2],o=t[f+3],f+=4,E.push((r<<24|i<<16|n<<8|o)/65536))}}}(e),g.advanceWidth=I,M}function Ae(e,t){var r,i=le.indexOf(e);return 0<=i&&(r=i),0<=(i=t.indexOf(e))?r=i+le.length:(r=le.length+t.length,t.push(e)),r}function Ue(e,t,r){for(var i={},n=0;n<e.length;n+=1){var o=e[n],a=t[o.name];void 0===a||we(a,o.value)||("SID"===o.type&&(a=Ae(a,r)),i[o.op]={name:o.name,type:o.type,value:a})}return i}function Oe(e,t){var r=new $.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=Ue(Le,e,t),r}function Be(e){var t=new $.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Fe(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var i=0,n=0,o=0;o<r.commands.length;o+=1){var a=void 0,s=void 0,h=r.commands[o];if("Q"===h.type){h={type:"C",x:h.x,y:h.y,x1:1/3*i+2/3*h.x1,y1:1/3*n+2/3*h.y1,x2:1/3*h.x+2/3*h.x1,y2:1/3*h.y+2/3*h.y1}}if("M"===h.type)a=Math.round(h.x-i),s=Math.round(h.y-n),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(h.x),n=Math.round(h.y);else if("L"===h.type)a=Math.round(h.x-i),s=Math.round(h.y-n),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),i=Math.round(h.x),n=Math.round(h.y);else if("C"===h.type){var l=Math.round(h.x1-i),u=Math.round(h.y1-n),c=Math.round(h.x2-h.x1),p=Math.round(h.y2-h.y1);a=Math.round(h.x-h.x2),s=Math.round(h.y-h.y2),t.push({name:"dx1",type:"NUMBER",value:l}),t.push({name:"dy1",type:"NUMBER",value:u}),t.push({name:"dx2",type:"NUMBER",value:c}),t.push({name:"dy2",type:"NUMBER",value:p}),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(h.x),n=Math.round(h.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var Ge={parse:function(e,t,r){r.tables.cff={};var i,n,o,a=Te(e,Te(e,(i=e,n=t,(o={}).formatMajor=se.getCard8(i,n),o.formatMinor=se.getCard8(i,n+1),o.size=se.getCard8(i,n+2),o.offsetSize=se.getCard8(i,n+3),o.startOffset=n,o.endOffset=n+4,o).endOffset,se.bytesToString).endOffset),s=Te(e,a.endOffset,se.bytesToString),h=Te(e,s.endOffset);r.gsubrs=h.objects,r.gsubrsBias=Se(r.gsubrs);var l=Ie(e,t,a.objects,s.objects);if(1!==l.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+l.length);var u=l[0];if((r.tables.cff.topDict=u)._privateDict&&(r.defaultWidthX=u._privateDict.defaultWidthX,r.nominalWidthX=u._privateDict.nominalWidthX),void 0!==u.ros[0]&&void 0!==u.ros[1]&&(r.isCIDFont=!0),r.isCIDFont){var c=u.fdArray,p=u.fdSelect;if(0===c||0===p)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var d=Ie(e,t,Te(e,c+=t).objects,s.objects);u._fdArray=d,p+=t,u._fdSelect=function(e,t,r,i){var n,o=[],a=new se.Parser(e,t),s=a.parseCard8();if(0===s)for(var h=0;h<r;h++){if(i<=(n=a.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+n+" (FD count "+i+")");o.push(n)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);var l,u=a.parseCard16(),c=a.parseCard16();if(0!==c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var p=0;p<u;p++){if(n=a.parseCard8(),l=a.parseCard16(),i<=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+n+" (FD count "+i+")");if(r<l)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+l);for(;c<l;c++)o.push(n);c=l}if(l!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+l)}return o}(e,p,r.numGlyphs,d.length)}var f=t+u.private[1],m=ke(e,f,u.private[0],s.objects);if(r.defaultWidthX=m.defaultWidthX,r.nominalWidthX=m.nominalWidthX,0!==m.subrs){var v=Te(e,f+m.subrs);r.subrs=v.objects,r.subrsBias=Se(r.subrs)}else r.subrs=[],r.subrsBias=0;var g=Te(e,t+u.charStrings);r.nGlyphs=g.objects.length;var y=function(e,t,r,i){var n,o,a=new se.Parser(e,t);r-=1;var s=[".notdef"],h=a.parseCard8();if(0===h)for(var l=0;l<r;l+=1)n=a.parseSID(),s.push(Ce(i,n));else if(1===h)for(;s.length<=r;){n=a.parseSID(),o=a.parseCard8();for(var u=0;u<=o;u+=1)s.push(Ce(i,n)),n+=1}else{if(2!==h)throw new Error("Unknown charset format "+h);for(;s.length<=r;){n=a.parseSID(),o=a.parseCard16();for(var c=0;c<=o;c+=1)s.push(Ce(i,n)),n+=1}}return s}(e,t+u.charset,r.nGlyphs,s.objects);0===u.encoding?r.cffEncoding=new me(ue,y):1===u.encoding?r.cffEncoding=new me(ce,y):r.cffEncoding=function(e,t,r){var i,n={},o=new se.Parser(e,t),a=o.parseCard8();if(0===a)for(var s=o.parseCard8(),h=0;h<s;h+=1)n[i=o.parseCard8()]=h;else{if(1!==a)throw new Error("Unknown encoding format "+a);var l=o.parseCard8();i=1;for(var u=0;u<l;u+=1)for(var c=o.parseCard8(),p=o.parseCard8(),d=c;d<=c+p;d+=1)n[d]=i,i+=1}return new me(n,r)}(e,t+u.encoding,y),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new xe.GlyphSet(r);for(var b=0;b<r.nGlyphs;b+=1){var _=g.objects[b];r.glyphs.push(b,xe.cffGlyphLoader(r,b,De,_))}},make:function(e,t){for(var r,i=new $.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),n=1/t.unitsPerEm,o={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},a=[],s=1;s<e.length;s+=1)r=e.get(s),a.push(r.name);var h=[];i.header=new $.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),i.nameIndex=function(e){var t=new $.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}([t.postScriptName]);var l,u,c,p=Oe(o,h);i.topDictIndex=Be(p),i.globalSubrIndex=new $.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),i.charsets=function(e,t){for(var r=new $.Record("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<e.length;i+=1){var n=Ae(e[i],t);r.fields.push({name:"glyph_"+i,type:"SID",value:n})}return r}(a,h),i.charStringsIndex=function(e){for(var t=new $.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var i=e.get(r),n=Fe(i);t.charStrings.push({name:i.name,type:"CHARSTRING",value:n})}return t}(e),i.privateDict=(l={},u=h,(c=new $.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ue(Pe,l,u),c),i.stringIndex=function(e){var t=new $.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}(h);var d=i.header.sizeOf()+i.nameIndex.sizeOf()+i.topDictIndex.sizeOf()+i.stringIndex.sizeOf()+i.globalSubrIndex.sizeOf();return o.charset=d,o.encoding=0,o.charStrings=o.charset+i.charsets.sizeOf(),o.private[1]=o.charStrings+i.charStringsIndex.sizeOf(),p=Oe(o,h),i.topDictIndex=Be(p),i}};var Ne={parse:function(e,t){var r={},i=new se.Parser(e,t);return r.version=i.parseVersion(),r.fontRevision=Math.round(1e3*i.parseFixed())/1e3,r.checkSumAdjustment=i.parseULong(),r.magicNumber=i.parseULong(),P.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=i.parseUShort(),r.unitsPerEm=i.parseUShort(),r.created=i.parseLongDateTime(),r.modified=i.parseLongDateTime(),r.xMin=i.parseShort(),r.yMin=i.parseShort(),r.xMax=i.parseShort(),r.yMax=i.parseShort(),r.macStyle=i.parseUShort(),r.lowestRecPPEM=i.parseUShort(),r.fontDirectionHint=i.parseShort(),r.indexToLocFormat=i.parseShort(),r.glyphDataFormat=i.parseShort(),r},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new $.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}};var Ve={parse:function(e,t){var r={},i=new se.Parser(e,t);return r.version=i.parseVersion(),r.ascender=i.parseShort(),r.descender=i.parseShort(),r.lineGap=i.parseShort(),r.advanceWidthMax=i.parseUShort(),r.minLeftSideBearing=i.parseShort(),r.minRightSideBearing=i.parseShort(),r.xMaxExtent=i.parseShort(),r.caretSlopeRise=i.parseShort(),r.caretSlopeRun=i.parseShort(),r.caretOffset=i.parseShort(),i.relativeOffset+=8,r.metricDataFormat=i.parseShort(),r.numberOfHMetrics=i.parseUShort(),r},make:function(e){return new $.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}};var ze={parse:function(e,t,r,i,n){for(var o,a,s=new se.Parser(e,t),h=0;h<i;h+=1){h<r&&(o=s.parseUShort(),a=s.parseShort());var l=n.get(h);l.advanceWidth=o,l.leftSideBearing=a}},make:function(e){for(var t=new $.Table("hmtx",[]),r=0;r<e.length;r+=1){var i=e.get(r),n=i.advanceWidth||0,o=i.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:n}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:o})}return t}};var He={make:function(e){for(var t=new $.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",i=12+4*e.length,n=0;n<e.length;++n){var o=r.indexOf(e[n]);o<0&&(o=r.length,r+=e[n]),t.fields.push({name:"offset "+n,type:"USHORT",value:i+o}),t.fields.push({name:"length "+n,type:"USHORT",value:e[n].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t},parse:function(e,t){var r=new se.Parser(e,t),i=r.parseULong();P.argument(1===i,"Unsupported ltag table version."),r.skip("uLong",1);for(var n=r.parseULong(),o=[],a=0;a<n;a++){for(var s="",h=t+r.parseUShort(),l=r.parseUShort(),u=h;u<h+l;++u)s+=String.fromCharCode(e.getInt8(u));o.push(s)}return o}};var je={parse:function(e,t){var r={},i=new se.Parser(e,t);return r.version=i.parseVersion(),r.numGlyphs=i.parseUShort(),1===r.version&&(r.maxPoints=i.parseUShort(),r.maxContours=i.parseUShort(),r.maxCompositePoints=i.parseUShort(),r.maxCompositeContours=i.parseUShort(),r.maxZones=i.parseUShort(),r.maxTwilightPoints=i.parseUShort(),r.maxStorage=i.parseUShort(),r.maxFunctionDefs=i.parseUShort(),r.maxInstructionDefs=i.parseUShort(),r.maxStackElements=i.parseUShort(),r.maxSizeOfInstructions=i.parseUShort(),r.maxComponentElements=i.parseUShort(),r.maxComponentDepth=i.parseUShort()),r},make:function(e){return new $.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},We=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Xe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},qe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ye={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Ze(e,t,r){switch(e){case 0:if(65535===t)return"und";if(r)return r[t];break;case 1:return Xe[t];case 3:return Ye[t]}}var Qe="utf-16",Je={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ke={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function $e(e,t,r){switch(e){case 0:return Qe;case 1:return Ke[r]||Je[t];case 3:if(1===t||10===t)return Qe}}function et(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function tt(e,t,r,i,n,o){return new $.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:n},{name:"offset",type:"USHORT",value:o}])}function rt(e,t){var r=function(e,t){var r=e.length,i=t.length-r+1;e:for(var n=0;n<i;n++)for(;n<i;n++){for(var o=0;o<r;o++)if(t[n+o]!==e[o])continue e;return n}return-1}(e,t);if(r<0){r=t.length;for(var i=0,n=e.length;i<n;++i)t.push(e[i])}return r}var it={parse:function(e,t,r){for(var i={},n=new se.Parser(e,t),o=n.parseUShort(),a=n.parseUShort(),s=n.offset+n.parseUShort(),h=0;h<a;h++){var l=n.parseUShort(),u=n.parseUShort(),c=n.parseUShort(),p=n.parseUShort(),d=We[p]||p,f=n.parseUShort(),m=n.parseUShort(),v=Ze(l,c,r),g=$e(l,u,c);if(void 0!==g&&void 0!==v){var y=void 0;if(y=g===Qe?I.UTF16(e,s+m,f):I.MACSTRING(e,s+m,f,g)){var b=i[d];void 0===b&&(b=i[d]={}),b[v]=y}}}return 1===o&&n.parseUShort(),i},make:function(e,t){var r,i=[],n={},o=et(We);for(var a in e){var s=o[a];if(void 0===s&&(s=a),r=parseInt(s),isNaN(r))throw new Error('Name table entry "'+a+'" does not exist, see nameTableNames for complete list.');n[r]=e[a],i.push(r)}for(var h=et(Xe),l=et(Ye),u=[],c=[],p=0;p<i.length;p++){var d=n[r=i[p]];for(var f in d){var m=d[f],v=1,g=h[f],y=qe[g],b=$e(v,y,g),_=D.MACSTRING(m,b);void 0===_&&(v=0,(g=t.indexOf(f))<0&&(g=t.length,t.push(f)),y=4,_=D.UTF16(m));var x=rt(_,c);u.push(tt(v,y,g,r,_.length,x));var w=l[f];if(void 0!==w){var S=D.UTF16(m),T=rt(S,c);u.push(tt(3,1,w,r,S.length,T))}}}u.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});for(var M=new $.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+12*u.length}]),E=0;E<u.length;E++)M.fields.push({name:"record_"+E,type:"RECORD",value:u[E]});return M.fields.push({name:"strings",type:"LITERAL",value:c}),M}},nt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var ot={parse:function(e,t){var r={},i=new se.Parser(e,t);r.version=i.parseUShort(),r.xAvgCharWidth=i.parseShort(),r.usWeightClass=i.parseUShort(),r.usWidthClass=i.parseUShort(),r.fsType=i.parseUShort(),r.ySubscriptXSize=i.parseShort(),r.ySubscriptYSize=i.parseShort(),r.ySubscriptXOffset=i.parseShort(),r.ySubscriptYOffset=i.parseShort(),r.ySuperscriptXSize=i.parseShort(),r.ySuperscriptYSize=i.parseShort(),r.ySuperscriptXOffset=i.parseShort(),r.ySuperscriptYOffset=i.parseShort(),r.yStrikeoutSize=i.parseShort(),r.yStrikeoutPosition=i.parseShort(),r.sFamilyClass=i.parseShort(),r.panose=[];for(var n=0;n<10;n++)r.panose[n]=i.parseByte();return r.ulUnicodeRange1=i.parseULong(),r.ulUnicodeRange2=i.parseULong(),r.ulUnicodeRange3=i.parseULong(),r.ulUnicodeRange4=i.parseULong(),r.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),r.fsSelection=i.parseUShort(),r.usFirstCharIndex=i.parseUShort(),r.usLastCharIndex=i.parseUShort(),r.sTypoAscender=i.parseShort(),r.sTypoDescender=i.parseShort(),r.sTypoLineGap=i.parseShort(),r.usWinAscent=i.parseUShort(),r.usWinDescent=i.parseUShort(),1<=r.version&&(r.ulCodePageRange1=i.parseULong(),r.ulCodePageRange2=i.parseULong()),2<=r.version&&(r.sxHeight=i.parseShort(),r.sCapHeight=i.parseShort(),r.usDefaultChar=i.parseUShort(),r.usBreakChar=i.parseUShort(),r.usMaxContent=i.parseUShort()),r},make:function(e){return new $.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:nt,getUnicodeRange:function(e){for(var t=0;t<nt.length;t+=1){var r=nt[t];if(e>=r.begin&&e<r.end)return t}return-1}};var at={parse:function(e,t){var r={},i=new se.Parser(e,t);switch(r.version=i.parseVersion(),r.italicAngle=i.parseFixed(),r.underlinePosition=i.parseShort(),r.underlineThickness=i.parseShort(),r.isFixedPitch=i.parseULong(),r.minMemType42=i.parseULong(),r.maxMemType42=i.parseULong(),r.minMemType1=i.parseULong(),r.maxMemType1=i.parseULong(),r.version){case 1:r.names=pe.slice();break;case 2:r.numberOfGlyphs=i.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var n=0;n<r.numberOfGlyphs;n++)r.glyphNameIndex[n]=i.parseUShort();r.names=[];for(var o=0;o<r.numberOfGlyphs;o++)if(r.glyphNameIndex[o]>=pe.length){var a=i.parseChar();r.names.push(i.parseString(a))}break;case 2.5:r.numberOfGlyphs=i.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var s=0;s<r.numberOfGlyphs;s++)r.offset[s]=i.parseChar()}return r},make:function(){return new $.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},st=new Array(9);st[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(oe.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(oe.coverage),substitute:this.parseOffset16List()}:void P.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},st[2]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(oe.coverage),sequences:this.parseListOfLists()}},st[3]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(oe.coverage),alternateSets:this.parseListOfLists()}},st[4]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(oe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var ht={sequenceIndex:oe.uShort,lookupListIndex:oe.uShort};st[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(oe.coverage),ruleSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ht)}})};if(2===t)return{substFormat:t,coverage:this.parsePointer(oe.coverage),classDef:this.parsePointer(oe.classDef),classSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ht)}})};if(3===t){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:t,coverages:this.parseList(r,oe.pointer(oe.coverage)),lookupRecords:this.parseRecordList(i,ht)}}P.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},st[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(oe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ht)}})}:2===t?{substFormat:2,coverage:this.parsePointer(oe.coverage),backtrackClassDef:this.parsePointer(oe.classDef),inputClassDef:this.parsePointer(oe.classDef),lookaheadClassDef:this.parsePointer(oe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ht)}})}:3===t?{substFormat:3,backtrackCoverage:this.parseList(oe.pointer(oe.coverage)),inputCoverage:this.parseList(oe.pointer(oe.coverage)),lookaheadCoverage:this.parseList(oe.pointer(oe.coverage)),lookupRecords:this.parseRecordList(ht)}:void P.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},st[7]=function(){var e=this.parseUShort();P.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),r=new oe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:st[t].call(r)}},st[8]=function(){var e=this.parseUShort();return P.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(oe.coverage),backtrackCoverage:this.parseList(oe.pointer(oe.coverage)),lookaheadCoverage:this.parseList(oe.pointer(oe.coverage)),substitutes:this.parseUShortList()}};var lt=new Array(9);lt[1]=function(e){return 1===e.substFormat?new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.ushortList("substitute",e.substitute)))},lt[3]=function(e){return P.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("altSet",e.alternateSets,function(e){return new $.Table("alternateSetTable",$.ushortList("alternate",e))})))},lt[4]=function(e){return P.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("ligSet",e.ligatureSets,function(e){return new $.Table("ligatureSetTable",$.tableList("ligature",e,function(e){return new $.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat($.ushortList("component",e.components,e.components.length+1)))}))})))};var ut={parse:function(e,t){var r=new oe(e,t=t||0),i=r.parseVersion(1);return P.argument(1===i||1.1===i,"Unsupported GSUB table version."),1===i?{version:i,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(st)}:{version:i,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(st),variations:r.parseFeatureVariationsList()}},make:function(e){return new $.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new $.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new $.LookupList(e.lookups,lt)}])}};var ct={parse:function(e,t){var r=new se.Parser(e,t),i=r.parseULong();P.argument(1===i,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var n=r.parseULong(),o={},a=0;a<n;a++){var s=r.parseTag(),h=r.parseULong(),l=r.parseULong(),u=I.UTF8(e,t+h,l);o[s]=u}return o},make:function(e){var t=Object.keys(e).length,r="",i=16+12*t,n=new $.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var a=r.length;r+=e[o],n.fields.push({name:"tag "+o,type:"TAG",value:o}),n.fields.push({name:"offset "+o,type:"ULONG",value:i+a}),n.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return n.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),n}};function pt(e){return Math.log(e)/Math.log(2)|0}function dt(e){for(;e.length%4!=0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32)}function ft(e,t,r,i){return new $.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==i?i:0}])}function mt(e){var t=new $.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,pt(t.numTables));t.searchRange=16*r,t.entrySelector=pt(r),t.rangeShift=16*t.numTables-t.searchRange;for(var i=[],n=[],o=t.sizeOf()+ft().sizeOf()*t.numTables;o%4!=0;)o+=1,n.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var s=e[a];P.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid.");var h=s.sizeOf(),l=ft(s.tableName,dt(s.encode()),o,h);for(i.push({name:l.tag+" Table Record",type:"RECORD",value:l}),n.push({name:s.tableName+" table",type:"RECORD",value:s}),o+=h,P.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,n.push({name:"padding",type:"BYTE",value:0})}return i.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(i),t.fields=t.fields.concat(n),t}function vt(e,t,r){for(var i=0;i<t.length;i+=1){var n=e.charToGlyphIndex(t[i]);if(0<n)return e.glyphs.get(n).getMetrics()}return r}var gt={make:mt,fontToTable:function(e){for(var t,r=[],i=[],n=[],o=[],a=[],s=[],h=[],l=0,u=0,c=0,p=0,d=0,f=0;f<e.glyphs.length;f+=1){var m=e.glyphs.get(f),v=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+f+"): advanceWidth is not a number.");(v<t||void 0===t)&&0<v&&(t=v),l<v&&(l=v);var g=ot.getUnicodeRange(v);if(g<32)u|=1<<g;else if(g<64)c|=1<<g-32;else if(g<96)p|=1<<g-64;else{if(!(g<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");d|=1<<g-96}if(".notdef"!==m.name){var y=m.getMetrics();r.push(y.xMin),i.push(y.yMin),n.push(y.xMax),o.push(y.yMax),s.push(y.leftSideBearing),h.push(y.rightSideBearing),a.push(m.advanceWidth)}}var b={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,i),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:function(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,h)};b.ascender=e.ascender,b.descender=e.descender;var _=Ne.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),x=Ve.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),w=je.make(e.glyphs.length),S=ot.make({xAvgCharWidth:Math.round(b.advanceWidthAvg),usWeightClass:e.tables.os2.usWeightClass,usWidthClass:e.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:l,ulUnicodeRange1:u,ulUnicodeRange2:c,ulUnicodeRange3:p,ulUnicodeRange4:d,fsSelection:e.tables.os2.fsSelection,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:vt(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:vt(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),T=ze.make(e.glyphs),M=he.make(e.glyphs),E=e.getEnglishName("fontFamily"),C=e.getEnglishName("fontSubfamily"),R=E+" "+C,L=e.getEnglishName("postScriptName");L||(L=E.replace(/\s/g,"")+"-"+C);var P={};for(var k in e.names)P[k]=e.names[k];P.uniqueID||(P.uniqueID={en:e.getEnglishName("manufacturer")+":"+R}),P.postScriptName||(P.postScriptName={en:L}),P.preferredFamily||(P.preferredFamily=e.names.fontFamily),P.preferredSubfamily||(P.preferredSubfamily=e.names.fontSubfamily);var I=[],D=it.make(P,I),A=0<I.length?He.make(I):void 0,U=at.make(),O=Ge.make(e.glyphs,{version:e.getEnglishName("version"),fullName:R,familyName:E,weightName:C,postScriptName:L,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),B=e.metas&&0<Object.keys(e.metas).length?ct.make(e.metas):void 0,F=[_,x,w,S,D,M,U,O,T];A&&F.push(A),e.tables.gsub&&F.push(ut.make(e.tables.gsub)),B&&F.push(B);for(var G=mt(F),N=dt(G.encode()),V=G.fields,z=!1,H=0;H<V.length;H+=1)if("head table"===V[H].name){V[H].value.checkSumAdjustment=2981146554-N,z=!0;break}if(!z)throw new Error("Could not find head table with checkSum to adjust.");return G},computeCheckSum:dt};function yt(e,t){for(var r=0,i=e.length-1;r<=i;){var n=r+i>>>1,o=e[n].tag;if(o===t)return n;o<t?r=n+1:i=n-1}return-r-1}function bt(e,t){for(var r=0,i=e.length-1;r<=i;){var n=r+i>>>1,o=e[n];if(o===t)return n;o<t?r=n+1:i=n-1}return-r-1}function _t(e,t){for(var r,i=0,n=e.length-1;i<=n;){var o=i+n>>>1,a=(r=e[o]).start;if(a===t)return r;a<t?i=o+1:n=o-1}if(0<i)return t>(r=e[i-1]).end?0:r}function xt(e,t){this.font=e,this.tableName=t}function wt(e){xt.call(this,e,"gpos")}function St(e){xt.call(this,e,"gsub")}function Tt(e,t){var r=e.length;if(r!==t.length)return!1;for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function Mt(e,t,r){for(var i=e.subtables,n=0;n<i.length;n++){var o=i[n];if(o.substFormat===t)return o}if(r)return i.push(r),r}function Et(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0;i<e.length;++i)r[i]=e[i];return t}function Ct(e,t){if(!e)throw t}function Rt(e,t,r,i,n){var o;return o=0<(t&i)?(o=e.parseByte(),0==(t&n)&&(o=-o),r+o):0<(t&n)?r:r+e.parseShort()}function Lt(e,t,r){var i,n,o=new se.Parser(t,r);if(e.numberOfContours=o.parseShort(),e._xMin=o.parseShort(),e._yMin=o.parseShort(),e._xMax=o.parseShort(),e._yMax=o.parseShort(),0<e.numberOfContours){for(var a=e.endPointIndices=[],s=0;s<e.numberOfContours;s+=1)a.push(o.parseUShort());e.instructionLength=o.parseUShort(),e.instructions=[];for(var h=0;h<e.instructionLength;h+=1)e.instructions.push(o.parseByte());var l=a[a.length-1]+1;i=[];for(var u=0;u<l;u+=1)if(n=o.parseByte(),i.push(n),0<(8&n))for(var c=o.parseByte(),p=0;p<c;p+=1)i.push(n),u+=1;if(P.argument(i.length===l,"Bad flags."),0<a.length){var d,f=[];if(0<l){for(var m=0;m<l;m+=1)n=i[m],(d={}).onCurve=!!(1&n),d.lastPointOfContour=0<=a.indexOf(m),f.push(d);for(var v=0,g=0;g<l;g+=1)n=i[g],(d=f[g]).x=Rt(o,n,v,2,16),v=d.x;for(var y=0,b=0;b<l;b+=1)n=i[b],(d=f[b]).y=Rt(o,n,y,4,32),y=d.y}e.points=f}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var _=!0;_;){i=o.parseUShort();var x={glyphIndex:o.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&i)?0<(2&i)?(x.dx=o.parseShort(),x.dy=o.parseShort()):x.matchedPoints=[o.parseUShort(),o.parseUShort()]:0<(2&i)?(x.dx=o.parseChar(),x.dy=o.parseChar()):x.matchedPoints=[o.parseByte(),o.parseByte()],0<(8&i)?x.xScale=x.yScale=o.parseF2Dot14():0<(64&i)?(x.xScale=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()):0<(128&i)&&(x.xScale=o.parseF2Dot14(),x.scale01=o.parseF2Dot14(),x.scale10=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()),e.components.push(x),_=!!(32&i)}if(256&i){e.instructionLength=o.parseUShort(),e.instructions=[];for(var w=0;w<e.instructionLength;w+=1)e.instructions.push(o.parseByte())}}}function Pt(e,t){for(var r=[],i=0;i<e.length;i+=1){var n=e[i],o={x:t.xScale*n.x+t.scale01*n.y+t.dx,y:t.scale10*n.x+t.yScale*n.y+t.dy,onCurve:n.onCurve,lastPointOfContour:n.lastPointOfContour};r.push(o)}return r}function kt(e){var t=new U;if(!e)return t;for(var r=function(e){for(var t=[],r=[],i=0;i<e.length;i+=1){var n=e[i];r.push(n),n.lastPointOfContour&&(t.push(r),r=[])}return P.argument(0===r.length,"There are still points left in the current contour."),t}(e),i=0;i<r.length;++i){var n=r[i],o=null,a=n[n.length-1],s=n[0];if(a.onCurve)t.moveTo(a.x,a.y);else if(s.onCurve)t.moveTo(s.x,s.y);else{var h={x:.5*(a.x+s.x),y:.5*(a.y+s.y)};t.moveTo(h.x,h.y)}for(var l=0;l<n.length;++l)if(o=a,a=s,s=n[(l+1)%n.length],a.onCurve)t.lineTo(a.x,a.y);else{var u=s;o.onCurve||{x:.5*(a.x+o.x),y:.5*(a.y+o.y)},s.onCurve||(u={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),t.quadraticCurveTo(a.x,a.y,u.x,u.y)}t.closePath()}return t}function It(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var i=t.components[r],n=e.get(i.glyphIndex);if(n.getPath(),n.points){var o=void 0;if(void 0===i.matchedPoints)o=Pt(n.points,i);else{if(i.matchedPoints[0]>t.points.length-1||i.matchedPoints[1]>n.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[i.matchedPoints[0]],s=n.points[i.matchedPoints[1]],h={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0};s=Pt([s],h)[0],h.dx=a.x-s.x,h.dy=a.y-s.y,o=Pt(n.points,h)}t.points=t.points.concat(o)}}return kt(t.points)}(wt.prototype=xt.prototype={searchTag:yt,binSearch:bt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var i=e.scripts[r].tag;if("DFLT"===i)return i;"latn"===i&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){e=e||"DFLT";var i=r.scripts,n=yt(r.scripts,e);if(0<=n)return i[n].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return i.splice(-1-n,0,o),o.script}}},getLangSysTable:function(e,t,r){var i=this.getScriptTable(e,r);if(i){if(!t||"dflt"===t||"DFLT"===t)return i.defaultLangSys;var n=yt(i.langSysRecords,t);if(0<=n)return i.langSysRecords[n].langSys;if(r){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return i.langSysRecords.splice(-1-n,0,o),o.langSys}}},getFeatureTable:function(e,t,r,i){var n=this.getLangSysTable(e,t,i);if(n){for(var o,a=n.featureIndexes,s=this.font.tables[this.tableName].features,h=0;h<a.length;h++)if((o=s[a[h]]).tag===r)return o.feature;if(i){var l=s.length;return P.assert(0===l||r>=s[l-1].tag,"Features must be added in alphabetical order."),o={tag:r,feature:{params:0,lookupListIndexes:[]}},s.push(o),a.push(l),o.feature}}},getLookupTables:function(e,t,r,i,n){var o=this.getFeatureTable(e,t,r,n),a=[];if(o){for(var s,h=o.lookupListIndexes,l=this.font.tables[this.tableName].lookups,u=0;u<h.length;u++)(s=l[h[u]]).lookupType===i&&a.push(s);if(0===a.length&&n){s={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0};var c=l.length;return l.push(s),h.push(c),[s]}}return a},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=_t(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=bt(e.glyphs,t);return 0<=r?r:-1;case 2:var i=_t(e.ranges,t);return i?i.index+t-i.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],r=e.ranges,i=0;i<r.length;i++)for(var n=r[i],o=n.start,a=n.end,s=o;s<=a;s++)t.push(s);return t}}).init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},wt.prototype.getKerningValue=function(e,t,r){for(var i=0;i<e.length;i++)for(var n=e[i].subtables,o=0;o<n.length;o++){var a=n[o],s=this.getCoverageIndex(a.coverage,t);if(!(s<0))switch(a.posFormat){case 1:for(var h=a.pairSets[s],l=0;l<h.length;l++){var u=h[l];if(u.secondGlyph===r)return u.value1&&u.value1.xAdvance||0}break;case 2:var c=this.getGlyphClass(a.classDef1,t),p=this.getGlyphClass(a.classDef2,r),d=a.classRecords[c][p];return d.value1&&d.value1.xAdvance||0}}return 0},wt.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},(St.prototype=xt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},St.prototype.getSingle=function(e,t,r){for(var i=[],n=this.getLookupTables(t,r,e,1),o=0;o<n.length;o++)for(var a=n[o].subtables,s=0;s<a.length;s++){var h=a[s],l=this.expandCoverage(h.coverage),u=void 0;if(1===h.substFormat){var c=h.deltaGlyphId;for(u=0;u<l.length;u++){var p=l[u];i.push({sub:p,by:p+c})}}else{var d=h.substitute;for(u=0;u<l.length;u++)i.push({sub:l[u],by:d[u]})}}return i},St.prototype.getAlternates=function(e,t,r){for(var i=[],n=this.getLookupTables(t,r,e,3),o=0;o<n.length;o++)for(var a=n[o].subtables,s=0;s<a.length;s++)for(var h=a[s],l=this.expandCoverage(h.coverage),u=h.alternateSets,c=0;c<l.length;c++)i.push({sub:l[c],by:u[c]});return i},St.prototype.getLigatures=function(e,t,r){for(var i=[],n=this.getLookupTables(t,r,e,4),o=0;o<n.length;o++)for(var a=n[o].subtables,s=0;s<a.length;s++)for(var h=a[s],l=this.expandCoverage(h.coverage),u=h.ligatureSets,c=0;c<l.length;c++)for(var p=l[c],d=u[c],f=0;f<d.length;f++){var m=d[f];i.push({sub:[p].concat(m.components),by:m.ligGlyph})}return i},St.prototype.addSingle=function(e,t,r,i){var n=Mt(this.getLookupTables(r,i,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});P.assert(1===n.coverage.format,"Ligature: unable to modify coverage table format "+n.coverage.format);var o=t.sub,a=this.binSearch(n.coverage.glyphs,o);a<0&&(a=-1-a,n.coverage.glyphs.splice(a,0,o),n.substitute.splice(a,0,0)),n.substitute[a]=t.by},St.prototype.addAlternate=function(e,t,r,i){var n=Mt(this.getLookupTables(r,i,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});P.assert(1===n.coverage.format,"Ligature: unable to modify coverage table format "+n.coverage.format);var o=t.sub,a=this.binSearch(n.coverage.glyphs,o);a<0&&(a=-1-a,n.coverage.glyphs.splice(a,0,o),n.alternateSets.splice(a,0,0)),n.alternateSets[a]=t.by},St.prototype.addLigature=function(e,t,r,i){var n=this.getLookupTables(r,i,e,4,!0)[0],o=n.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},n.subtables[0]=o),P.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var a=t.sub[0],s=t.sub.slice(1),h={ligGlyph:t.by,components:s},l=this.binSearch(o.coverage.glyphs,a);if(0<=l){for(var u=o.ligatureSets[l],c=0;c<u.length;c++)if(Tt(u[c].components,s))return;u.push(h)}else l=-1-l,o.coverage.glyphs.splice(l,0,a),o.ligatureSets.splice(l,0,[h])},St.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r)}},St.prototype.add=function(e,t,r,i){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,i);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,r,i):this.addAlternate(e,t,r,i);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,i)}};var Dt,At,Ut,Ot,Bt={getPath:kt,parse:function(e,t,r,i){for(var n=new xe.GlyphSet(i),o=0;o<r.length-1;o+=1){var a=r[o];a!==r[o+1]?n.push(o,xe.ttfGlyphLoader(i,o,Lt,e,t+a,It)):n.push(o,xe.glyphLoader(i,o))}return n}};function Ft(e){this.font=e,this.getCommands=function(e){return Bt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Gt(e){return e}function Nt(e){return Math.sign(e)*Math.round(Math.abs(e))}function Vt(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function zt(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Ht(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function jt(e){return Math.sign(e)*Math.floor(Math.abs(e))}var Wt=function(e){var t=this.srPeriod,r=this.srPhase,i=1;return e<0&&(e=-e,i=-1),e+=this.srThreshold-r,e=Math.trunc(e/t)*t,(e+=r)<0?r*i:e*i},Xt={x:1,y:0,axis:"x",distance:function(e,t,r,i){return(r?e.xo:e.x)-(i?t.xo:t.x)},interpolate:function(e,t,r,i){var n,o,a,s,h,l,u;if(!i||i===this)return n=e.xo-t.xo,o=e.xo-r.xo,h=t.x-t.xo,l=r.x-r.xo,0===(u=(a=Math.abs(n))+(s=Math.abs(o)))?void(e.x=e.xo+(h+l)/2):void(e.x=e.xo+(h*s+l*a)/u);n=i.distance(e,t,!0,!0),o=i.distance(e,r,!0,!0),h=i.distance(t,t,!1,!0),l=i.distance(r,r,!1,!0),0!==(u=(a=Math.abs(n))+(s=Math.abs(o)))?Xt.setRelative(e,e,(h*s+l*a)/u,i,!0):Xt.setRelative(e,e,(h+l)/2,i,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,i,n){if(i&&i!==this){var o=n?t.xo:t.x,a=n?t.yo:t.y,s=o+r*i.x,h=a+r*i.y;e.x=s+(e.y-h)/i.normalSlope}else e.x=(n?t.xo:t.x)+r},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},qt={x:0,y:1,axis:"y",distance:function(e,t,r,i){return(r?e.yo:e.y)-(i?t.yo:t.y)},interpolate:function(e,t,r,i){var n,o,a,s,h,l,u;if(!i||i===this)return n=e.yo-t.yo,o=e.yo-r.yo,h=t.y-t.yo,l=r.y-r.yo,0===(u=(a=Math.abs(n))+(s=Math.abs(o)))?void(e.y=e.yo+(h+l)/2):void(e.y=e.yo+(h*s+l*a)/u);n=i.distance(e,t,!0,!0),o=i.distance(e,r,!0,!0),h=i.distance(t,t,!1,!0),l=i.distance(r,r,!1,!0),0!==(u=(a=Math.abs(n))+(s=Math.abs(o)))?qt.setRelative(e,e,(h*s+l*a)/u,i,!0):qt.setRelative(e,e,(h+l)/2,i,!0)},normalSlope:0,setRelative:function(e,t,r,i,n){if(i&&i!==this){var o=n?t.xo:t.x,a=n?t.yo:t.y,s=o+r*i.x,h=a+r*i.y;e.y=h+i.normalSlope*(e.x-s)}else e.y=(n?t.yo:t.y)+r},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Yt(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Zt(e,t){var r=Math.sqrt(e*e+t*t);return t/=r,1===(e/=r)&&0===t?Xt:0===e&&1===t?qt:new Yt(e,t)}function Qt(e,t,r,i){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=r,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Xt),Object.freeze(qt),Yt.prototype.distance=function(e,t,r,i){return this.x*Xt.distance(e,t,r,i)+this.y*qt.distance(e,t,r,i)},Yt.prototype.interpolate=function(e,t,r,i){var n,o,a,s,h,l,u;a=i.distance(e,t,!0,!0),s=i.distance(e,r,!0,!0),n=i.distance(t,t,!1,!0),o=i.distance(r,r,!1,!0),0!==(u=(h=Math.abs(a))+(l=Math.abs(s)))?this.setRelative(e,e,(n*l+o*h)/u,i,!0):this.setRelative(e,e,(n+o)/2,i,!0)},Yt.prototype.setRelative=function(e,t,r,i,n){i=i||this;var o=n?t.xo:t.x,a=n?t.yo:t.y,s=o+r*i.x,h=a+r*i.y,l=i.normalSlope,u=this.slope,c=e.x,p=e.y;e.x=(u*c-l*s+h-p)/(u-l),e.y=u*(e.x-c)+p},Yt.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Qt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Qt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Jt=Object.freeze(new Qt(0,0)),Kt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function $t(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Xt,this.round=Nt}}function er(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new Qt(0,0)}function tr(e,t){var r,i=e.prog,n=e.ip,o=1;do{if(88===(r=i[++n]))o++;else if(89===r)o--;else if(64===r)n+=i[n+1]+1;else if(65===r)n+=2*i[n+1]+1;else if(176<=r&&r<=183)n+=r-176+1;else if(184<=r&&r<=191)n+=2*(r-184+1);else if(t&&1===o&&27===r)break}while(0<o);e.ip=n}function rr(e,t){M.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function ir(e,t){M.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function nr(e,t){M.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function or(e,t){var r,i,n=t.stack,o=n.pop(),a=n.pop(),s=t.z2[o],h=t.z1[a];M.DEBUG&&console.log("SPVTL["+e+"]",o,a),i=e?(r=s.y-h.y,h.x-s.x):(r=h.x-s.x,h.y-s.y),t.pv=t.dpv=Zt(r,i)}function ar(e,t){var r,i,n=t.stack,o=n.pop(),a=n.pop(),s=t.z2[o],h=t.z1[a];M.DEBUG&&console.log("SFVTL["+e+"]",o,a),i=e?(r=s.y-h.y,h.x-s.x):(r=h.x-s.x,h.y-s.y),t.fv=Zt(r,i)}function sr(e){M.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function hr(e,t){var r=t.stack.pop(),i=t.z0[r],n=t.fv,o=t.pv;M.DEBUG&&console.log(t.step,"MDAP["+e+"]",r);var a=o.distance(i,Jt);e&&(a=t.round(a)),n.setRelative(i,Jt,a,o),n.touch(i),t.rp0=t.rp1=r}function lr(e,t){var r,i,n,o=t.z2,a=o.length-2;M.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var s=0;s<a;s++)r=o[s],e.touched(r)||(i=r.prevTouched(e))!==r&&(i===(n=r.nextTouched(e))&&e.setRelative(r,r,e.distance(i,i,!1,!0),e,!0),e.interpolate(r,i,n,e))}function ur(e,t){for(var r=t.stack,i=e?t.rp1:t.rp2,n=(e?t.z0:t.z1)[i],o=t.fv,a=t.pv,s=t.loop,h=t.z2;s--;){var l=r.pop(),u=h[l],c=a.distance(n,n,!1,!0);o.setRelative(u,u,c,a),o.touch(u),M.DEBUG&&console.log(t.step,(1<t.loop?"loop "+(t.loop-s)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",l)}t.loop=1}function cr(e,t){var r=t.stack,i=e?t.rp1:t.rp2,n=(e?t.z0:t.z1)[i],o=t.fv,a=t.pv,s=r.pop(),h=t.z2[t.contours[s]],l=h;M.DEBUG&&console.log(t.step,"SHC["+e+"]",s);for(var u=a.distance(n,n,!1,!0);l!==n&&o.setRelative(l,l,u,a),(l=l.nextPointOnContour)!==h;);}function pr(e,t){var r,i,n=t.stack,o=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[o],s=t.fv,h=t.pv,l=n.pop();switch(M.DEBUG&&console.log(t.step,"SHZ["+e+"]",l),l){case 0:r=t.tZone;break;case 1:r=t.gZone;break;default:throw new Error("Invalid zone")}for(var u=h.distance(a,a,!1,!0),c=r.length-2,p=0;p<c;p++)i=r[p],s.setRelative(i,i,u,h)}function dr(e,t){var r=t.stack,i=r.pop()/64,n=r.pop(),o=t.z1[n],a=t.z0[t.rp0],s=t.fv,h=t.pv;s.setRelative(o,a,i,h),s.touch(o),M.DEBUG&&console.log(t.step,"MSIRP["+e+"]",i,n),t.rp1=t.rp0,t.rp2=n,e&&(t.rp0=n)}function fr(e,t){var r=t.stack,i=r.pop(),n=r.pop(),o=t.z0[n],a=t.fv,s=t.pv,h=t.cvt[i];M.DEBUG&&console.log(t.step,"MIAP["+e+"]",i,"(",h,")",n);var l=s.distance(o,Jt);e&&(Math.abs(l-h)<t.cvCutIn&&(l=h),l=t.round(l)),a.setRelative(o,Jt,l,s),0===t.zp0&&(o.xo=o.x,o.yo=o.y),a.touch(o),t.rp0=t.rp1=n}function mr(e,t){var r=t.stack,i=r.pop(),n=t.z2[i];M.DEBUG&&console.log(t.step,"GC["+e+"]",i),r.push(64*t.dpv.distance(n,Jt,e,!1))}function vr(e,t){var r=t.stack,i=r.pop(),n=r.pop(),o=t.z1[i],a=t.z0[n],s=t.dpv.distance(a,o,e,e);M.DEBUG&&console.log(t.step,"MD["+e+"]",i,n,"->",s),t.stack.push(Math.round(64*s))}function gr(e,t){var r=t.stack,i=r.pop(),n=t.fv,o=t.pv,a=t.ppem,s=t.deltaBase+16*(e-1),h=t.deltaShift,l=t.z0;M.DEBUG&&console.log(t.step,"DELTAP["+e+"]",i,r);for(var u=0;u<i;u++){var c=r.pop(),p=r.pop();if(s+((240&p)>>4)===a){var d=(15&p)-8;0<=d&&d++,M.DEBUG&&console.log(t.step,"DELTAPFIX",c,"by",d*h);var f=l[c];n.setRelative(f,f,d*h,o)}}}function yr(e,t){var r=t.stack,i=r.pop();M.DEBUG&&console.log(t.step,"ROUND[]"),r.push(64*t.round(i/64))}function br(e,t){var r=t.stack,i=r.pop(),n=t.ppem,o=t.deltaBase+16*(e-1),a=t.deltaShift;M.DEBUG&&console.log(t.step,"DELTAC["+e+"]",i,r);for(var s=0;s<i;s++){var h=r.pop(),l=r.pop();if(o+((240&l)>>4)===n){var u=(15&l)-8;0<=u&&u++;var c=u*a;M.DEBUG&&console.log(t.step,"DELTACFIX",h,"by",c),t.cvt[h]+=c}}}function _r(e,t){var r,i,n=t.stack,o=n.pop(),a=n.pop(),s=t.z2[o],h=t.z1[a];M.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",o,a),i=e?(r=s.y-h.y,h.x-s.x):(r=h.x-s.x,h.y-s.y),t.dpv=Zt(r,i)}function xr(e,t){var r=t.stack,i=t.prog,n=t.ip;M.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)r.push(i[++n]);t.ip=n}function wr(e,t){var r=t.ip,i=t.prog,n=t.stack;M.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var a=i[++r]<<8|i[++r];32768&a&&(a=-(1+(65535^a))),n.push(a)}t.ip=r}function Sr(e,t,r,i,n,o){var a,s,h,l,u=o.stack,c=e&&u.pop(),p=u.pop(),d=o.rp0,f=o.z0[d],m=o.z1[p],v=o.minDis,g=o.fv,y=o.dpv;h=0<=(s=a=y.distance(m,f,!0,!0))?1:-1,s=Math.abs(s),e&&(l=o.cvt[c],i&&Math.abs(s-l)<o.cvCutIn&&(s=l)),r&&s<v&&(s=v),i&&(s=o.round(s)),g.setRelative(m,f,h*s,y),g.touch(m),M.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(i?"R":"_")+(0===n?"Gr":1===n?"Bl":2===n?"Wh":"")+"]",e?c+"("+o.cvt[c]+","+l+")":"",p,"(d =",a,"->",h*s,")"),o.rp1=o.rp0,o.rp2=p,t&&(o.rp0=p)}Ft.prototype.exec=function(e,t){if("number"!=typeof t)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var r=this.font,i=this._prepState;if(!i||i.ppem!==t){var n=this._fpgmState;if(!n){$t.prototype=Kt,(n=this._fpgmState=new $t("fpgm",r.tables.fpgm)).funcs=[],n.font=r,M.DEBUG&&(console.log("---EXEC FPGM---"),n.step=-1);try{At(n)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}$t.prototype=n,(i=this._prepState=new $t("prep",r.tables.prep)).ppem=t;var o=r.tables.cvt;if(o)for(var a=i.cvt=new Array(o.length),s=t/r.unitsPerEm,h=0;h<o.length;h++)a[h]=o[h]*s;else i.cvt=[];M.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{At(i)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(1<this._errorState))try{return Ut(e,i)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Ut=function(e,t){var r,i,n,o=t.ppem/t.font.unitsPerEm,a=o,s=e.components;if($t.prototype=t,s){var h=t.font;i=[],r=[];for(var l=0;l<s.length;l++){var u=s[l],c=h.glyphs.get(u.glyphIndex);n=new $t("glyf",c.instructions),M.DEBUG&&(console.log("---EXEC COMP "+l+"---"),n.step=-1),Ot(c,n,o,a);for(var p=Math.round(u.dx*o),d=Math.round(u.dy*a),f=n.gZone,m=n.contours,v=0;v<f.length;v++){var g=f[v];g.xTouched=g.yTouched=!1,g.xo=g.x=g.x+p,g.yo=g.y=g.y+d}var y=i.length;i.push.apply(i,f);for(var b=0;b<m.length;b++)r.push(m[b]+y)}e.instructions&&!n.inhibitGridFit&&((n=new $t("glyf",e.instructions)).gZone=n.z0=n.z1=n.z2=i,n.contours=r,i.push(new Qt(0,0),new Qt(Math.round(e.advanceWidth*o),0)),M.DEBUG&&(console.log("---EXEC COMPOSITE---"),n.step=-1),At(n),i.length-=2)}else n=new $t("glyf",e.instructions),M.DEBUG&&(console.log("---EXEC GLYPH---"),n.step=-1),Ot(e,n,o,a),i=n.gZone;return i},Ot=function(e,t,r,i){for(var n,o,a,s=e.points||[],h=s.length,l=t.gZone=t.z0=t.z1=t.z2=[],u=t.contours=[],c=0;c<h;c++)n=s[c],l[c]=new Qt(n.x*r,n.y*i,n.lastPointOfContour,n.onCurve);for(var p=0;p<h;p++)n=l[p],o||(o=n,u.push(p)),n.lastPointOfContour?((n.nextPointOnContour=o).prevPointOnContour=n,o=void 0):(a=l[p+1],(n.nextPointOnContour=a).prevPointOnContour=n);if(!t.inhibitGridFit){if(M.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var d=0;d<h;d++)console.log(d,l[d].x,l[d].y)}if(l.push(new Qt(0,0),new Qt(Math.round(e.advanceWidth*r),0)),At(t),l.length-=2,M.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var f=0;f<h;f++)console.log(f,l[f].x,l[f].y)}}},At=function(e){var t=e.prog;if(t){var r,i=t.length;for(e.ip=0;e.ip<i;e.ip++){if(M.DEBUG&&e.step++,!(r=Dt[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));r(e)}}},Dt=[rr.bind(void 0,qt),rr.bind(void 0,Xt),ir.bind(void 0,qt),ir.bind(void 0,Xt),nr.bind(void 0,qt),nr.bind(void 0,Xt),or.bind(void 0,0),or.bind(void 0,1),ar.bind(void 0,0),ar.bind(void 0,1),function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"SPVFS[]",r,i),e.pv=e.dpv=Zt(i,r)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"SPVFS[]",r,i),e.fv=Zt(i,r)},function(e){var t=e.stack,r=e.pv;M.DEBUG&&console.log(e.step,"GPV[]"),t.push(16384*r.x),t.push(16384*r.y)},function(e){var t=e.stack,r=e.fv;M.DEBUG&&console.log(e.step,"GFV[]"),t.push(16384*r.x),t.push(16384*r.y)},function(e){e.fv=e.pv,M.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var t=e.stack,r=t.pop(),i=t.pop(),n=t.pop(),o=t.pop(),a=t.pop(),s=e.z0,h=e.z1,l=s[r],u=s[i],c=h[n],p=h[o],d=e.z2[a];M.DEBUG&&console.log("ISECT[], ",r,i,n,o,a);var f=l.x,m=l.y,v=u.x,g=u.y,y=c.x,b=c.y,_=p.x,x=p.y,w=(f-v)*(b-x)-(m-g)*(y-_),S=f*g-m*v,T=y*x-b*_;d.x=(S*(y-_)-T*(f-v))/w,d.y=(S*(b-x)-T*(m-g))/w},function(e){e.rp0=e.stack.pop(),M.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),M.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),M.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var t=e.stack.pop();switch(M.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t){case 0:e.tZone||er(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(M.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t){case 0:e.tZone||er(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(M.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t){case 0:e.tZone||er(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(M.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||er(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),M.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){M.DEBUG&&console.log(e.step,"RTG[]"),e.round=Nt},function(e){M.DEBUG&&console.log(e.step,"RTHG[]"),e.round=zt},function(e){var t=e.stack.pop();M.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){M.DEBUG&&console.log(e.step,"ELSE[]"),tr(e,!1)},function(e){var t=e.stack.pop();M.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){var t=e.stack.pop();M.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;M.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},sr,function(e){M.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"SWAP[]"),t.push(r),t.push(i)},function(e){var t=e.stack;M.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"CINDEX[]",r),t.push(t[t.length-r])},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])},void 0,void 0,void 0,function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"LOOPCALL[]",r,i);var n=e.ip,o=e.prog;e.prog=e.funcs[r];for(var a=0;a<i;a++)At(e),M.DEBUG&&console.log(++e.step,a+1<i?"next loopcall":"done loopcall",a);e.ip=n,e.prog=o},function(e){var t=e.stack.pop();M.DEBUG&&console.log(e.step,"CALL[]",t);var r=e.ip,i=e.prog;e.prog=e.funcs[t],At(e),e.ip=r,e.prog=i,M.DEBUG&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,r=e.prog,i=e.ip,n=t.pop(),o=i;for(M.DEBUG&&console.log(e.step,"FDEF[]",n);45!==r[++i];);e.ip=i,e.funcs[n]=r.slice(o+1,i)},void 0,hr.bind(void 0,0),hr.bind(void 0,1),lr.bind(void 0,qt),lr.bind(void 0,Xt),ur.bind(void 0,0),ur.bind(void 0,1),cr.bind(void 0,0),cr.bind(void 0,1),pr.bind(void 0,0),pr.bind(void 0,1),function(e){for(var t=e.stack,r=e.loop,i=e.fv,n=t.pop()/64,o=e.z2;r--;){var a=t.pop(),s=o[a];M.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",a,n),i.setRelative(s,s,n),i.touch(s)}e.loop=1},function(e){for(var t=e.stack,r=e.rp1,i=e.rp2,n=e.loop,o=e.z0[r],a=e.z1[i],s=e.fv,h=e.dpv,l=e.z2;n--;){var u=t.pop(),c=l[u];M.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-n)+": ":"")+"IP[]",u,r,"<->",i),s.interpolate(c,o,a,h),s.touch(c)}e.loop=1},dr.bind(void 0,0),dr.bind(void 0,1),function(e){for(var t=e.stack,r=e.rp0,i=e.z0[r],n=e.loop,o=e.fv,a=e.pv,s=e.z1;n--;){var h=t.pop(),l=s[h];M.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-n)+": ":"")+"ALIGNRP[]",h),o.setRelative(l,i,0,a),o.touch(l)}e.loop=1},function(e){M.DEBUG&&console.log(e.step,"RTDG[]"),e.round=Vt},fr.bind(void 0,0),fr.bind(void 0,1),function(e){var t=e.prog,r=e.ip,i=e.stack,n=t[++r];M.DEBUG&&console.log(e.step,"NPUSHB[]",n);for(var o=0;o<n;o++)i.push(t[++r]);e.ip=r},function(e){var t=e.ip,r=e.prog,i=e.stack,n=r[++t];M.DEBUG&&console.log(e.step,"NPUSHW[]",n);for(var o=0;o<n;o++){var a=r[++t]<<8|r[++t];32768&a&&(a=-(1+(65535^a))),i.push(a)}e.ip=t},function(e){var t=e.stack,r=e.store;r||(r=e.store=[]);var i=t.pop(),n=t.pop();M.DEBUG&&console.log(e.step,"WS",i,n),r[n]=i},function(e){var t=e.stack,r=e.store,i=t.pop();M.DEBUG&&console.log(e.step,"RS",i);var n=r&&r[i]||0;t.push(n)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"WCVTP",r,i),e.cvt[i]=r/64},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"RCVT",r),t.push(64*e.cvt[r])},mr.bind(void 0,0),mr.bind(void 0,1),void 0,vr.bind(void 0,0),vr.bind(void 0,1),function(e){M.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){M.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"LT[]",r,i),t.push(i<r?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"LTEQ[]",r,i),t.push(i<=r?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"GT[]",r,i),t.push(r<i?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"GTEQ[]",r,i),t.push(r<=i?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"EQ[]",r,i),t.push(r===i?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"NEQ[]",r,i),t.push(r!==i?1:0)},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)},function(e){var t=e.stack.pop();M.DEBUG&&console.log(e.step,"IF[]",t),t||(tr(e,!0),M.DEBUG&&console.log(e.step,"EIF[]"))},function(e){M.DEBUG&&console.log(e.step,"EIF[]")},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"AND[]",r,i),t.push(r&&i?1:0)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"OR[]",r,i),t.push(r||i?1:0)},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"NOT[]",r),t.push(r?0:1)},gr.bind(void 0,1),function(e){var t=e.stack.pop();M.DEBUG&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){var t=e.stack.pop();M.DEBUG&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"ADD[]",r,i),t.push(i+r)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"SUB[]",r,i),t.push(i-r)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"DIV[]",r,i),t.push(64*i/r)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"MUL[]",r,i),t.push(i*r/64)},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"ABS[]",r),t.push(Math.abs(r))},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"NEG[]",r),t.push(-r)},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"FLOOR[]",r),t.push(64*Math.floor(r/64))},function(e){var t=e.stack,r=t.pop();M.DEBUG&&console.log(e.step,"CEILING[]",r),t.push(64*Math.ceil(r/64))},yr.bind(void 0,0),yr.bind(void 0,1),yr.bind(void 0,2),yr.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"WCVTF[]",r,i),e.cvt[i]=r*e.ppem/e.font.unitsPerEm},gr.bind(void 0,2),gr.bind(void 0,3),br.bind(void 0,1),br.bind(void 0,2),br.bind(void 0,3),function(e){var t,r=e.stack.pop();switch(M.DEBUG&&console.log(e.step,"SROUND[]",r),e.round=Wt,192&r){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*t},function(e){var t,r=e.stack.pop();switch(M.DEBUG&&console.log(e.step,"S45ROUND[]",r),e.round=Wt,192&r){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*t},void 0,void 0,function(e){M.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Gt},void 0,function(e){M.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Ht},function(e){M.DEBUG&&console.log(e.step,"RDTG[]"),e.round=jt},sr,sr,void 0,void 0,void 0,void 0,void 0,function(e){var t=e.stack.pop();M.DEBUG&&console.log(e.step,"SCANCTRL[]",t)},_r.bind(void 0,0),_r.bind(void 0,1),function(e){var t=e.stack,r=t.pop(),i=0;M.DEBUG&&console.log(e.step,"GETINFO[]",r),1&r&&(i=35),32&r&&(i|=4096),t.push(i)},void 0,function(e){var t=e.stack,r=t.pop(),i=t.pop(),n=t.pop();M.DEBUG&&console.log(e.step,"ROLL[]"),t.push(i),t.push(r),t.push(n)},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"MAX[]",r,i),t.push(Math.max(i,r))},function(e){var t=e.stack,r=t.pop(),i=t.pop();M.DEBUG&&console.log(e.step,"MIN[]",r,i),t.push(Math.min(i,r))},function(e){var t=e.stack.pop();M.DEBUG&&console.log(e.step,"SCANTYPE[]",t)},function(e){var t=e.stack.pop(),r=e.stack.pop();switch(M.DEBUG&&console.log(e.step,"INSTCTRL[]",t,r),t){case 1:return void(e.inhibitGridFit=!!r);case 2:return void(e.ignoreCvt=!!r);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,xr.bind(void 0,1),xr.bind(void 0,2),xr.bind(void 0,3),xr.bind(void 0,4),xr.bind(void 0,5),xr.bind(void 0,6),xr.bind(void 0,7),xr.bind(void 0,8),wr.bind(void 0,1),wr.bind(void 0,2),wr.bind(void 0,3),wr.bind(void 0,4),wr.bind(void 0,5),wr.bind(void 0,6),wr.bind(void 0,7),wr.bind(void 0,8),Sr.bind(void 0,0,0,0,0,0),Sr.bind(void 0,0,0,0,0,1),Sr.bind(void 0,0,0,0,0,2),Sr.bind(void 0,0,0,0,0,3),Sr.bind(void 0,0,0,0,1,0),Sr.bind(void 0,0,0,0,1,1),Sr.bind(void 0,0,0,0,1,2),Sr.bind(void 0,0,0,0,1,3),Sr.bind(void 0,0,0,1,0,0),Sr.bind(void 0,0,0,1,0,1),Sr.bind(void 0,0,0,1,0,2),Sr.bind(void 0,0,0,1,0,3),Sr.bind(void 0,0,0,1,1,0),Sr.bind(void 0,0,0,1,1,1),Sr.bind(void 0,0,0,1,1,2),Sr.bind(void 0,0,0,1,1,3),Sr.bind(void 0,0,1,0,0,0),Sr.bind(void 0,0,1,0,0,1),Sr.bind(void 0,0,1,0,0,2),Sr.bind(void 0,0,1,0,0,3),Sr.bind(void 0,0,1,0,1,0),Sr.bind(void 0,0,1,0,1,1),Sr.bind(void 0,0,1,0,1,2),Sr.bind(void 0,0,1,0,1,3),Sr.bind(void 0,0,1,1,0,0),Sr.bind(void 0,0,1,1,0,1),Sr.bind(void 0,0,1,1,0,2),Sr.bind(void 0,0,1,1,0,3),Sr.bind(void 0,0,1,1,1,0),Sr.bind(void 0,0,1,1,1,1),Sr.bind(void 0,0,1,1,1,2),Sr.bind(void 0,0,1,1,1,3),Sr.bind(void 0,1,0,0,0,0),Sr.bind(void 0,1,0,0,0,1),Sr.bind(void 0,1,0,0,0,2),Sr.bind(void 0,1,0,0,0,3),Sr.bind(void 0,1,0,0,1,0),Sr.bind(void 0,1,0,0,1,1),Sr.bind(void 0,1,0,0,1,2),Sr.bind(void 0,1,0,0,1,3),Sr.bind(void 0,1,0,1,0,0),Sr.bind(void 0,1,0,1,0,1),Sr.bind(void 0,1,0,1,0,2),Sr.bind(void 0,1,0,1,0,3),Sr.bind(void 0,1,0,1,1,0),Sr.bind(void 0,1,0,1,1,1),Sr.bind(void 0,1,0,1,1,2),Sr.bind(void 0,1,0,1,1,3),Sr.bind(void 0,1,1,0,0,0),Sr.bind(void 0,1,1,0,0,1),Sr.bind(void 0,1,1,0,0,2),Sr.bind(void 0,1,1,0,0,3),Sr.bind(void 0,1,1,0,1,0),Sr.bind(void 0,1,1,0,1,1),Sr.bind(void 0,1,1,0,1,2),Sr.bind(void 0,1,1,0,1,3),Sr.bind(void 0,1,1,1,0,0),Sr.bind(void 0,1,1,1,0,1),Sr.bind(void 0,1,1,1,0,2),Sr.bind(void 0,1,1,1,0,3),Sr.bind(void 0,1,1,1,1,0),Sr.bind(void 0,1,1,1,1,1),Sr.bind(void 0,1,1,1,1,2),Sr.bind(void 0,1,1,1,1,3)];var Tr=Array.from||function(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Mr(e){(e=e||{}).empty||(Ct(e.familyName,"When creating a new Font object, familyName is required."),Ct(e.styleName,"When creating a new Font object, styleName is required."),Ct(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ct(e.ascender,"When creating a new Font object, ascender is required."),Ct(e.descender,"When creating a new Font object, descender is required."),Ct(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables={os2:{usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new xe.GlyphSet(this,e.glyphs||[]),this.encoding=new de(this),this.position=new wt(this),this.substitution=new St(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new Ft(this):void 0}})}function Er(e,t){var r=JSON.stringify(e),i=256;for(var n in t){var o=parseInt(n);if(o&&!(o<256)){if(JSON.stringify(t[n])===r)return o;i<=o&&(i=o+1)}}return t[i]=e,i}function Cr(e,t,r,i){for(var n=[{name:"nameID_"+e,type:"USHORT",value:Er(t.name,i)},{name:"flags_"+e,type:"USHORT",value:0}],o=0;o<r.length;++o){var a=r[o].tag;n.push({name:"axis_"+e+" "+a,type:"FIXED",value:t.coordinates[a]<<16})}return n}function Rr(e,t,r,i){var n={},o=new se.Parser(e,t);n.name=i[o.parseUShort()]||{},o.skip("uShort",1),n.coordinates={};for(var a=0;a<r.length;++a)n.coordinates[r[a].tag]=o.parseFixed();return n}Mr.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},Mr.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},Mr.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},Mr.prototype.stringToGlyphs=function(e,t){t=t||this.defaultRenderOptions;for(var r=Tr(e),i=[],n=0;n<r.length;n+=1){var o=r[n];i.push(this.charToGlyphIndex(o))}var a=i.length;if(t.features){var s=t.script||this.substitution.getDefaultScriptName(),h=[];t.features.liga&&(h=h.concat(this.substitution.getFeature("liga",s,t.language))),t.features.rlig&&(h=h.concat(this.substitution.getFeature("rlig",s,t.language)));for(var l=0;l<a;l+=1)for(var u=0;u<h.length;u++){for(var c=h[u],p=c.sub,d=p.length,f=0;f<d&&p[f]===i[l+f];)f++;f===d&&(i.splice(l,d,c.by),a=a-d+1)}}for(var m=new Array(a),v=this.glyphs.get(0),g=0;g<a;g+=1)m[g]=this.glyphs.get(i[g])||v;return m},Mr.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},Mr.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},Mr.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},Mr.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0},Mr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Mr.prototype.forEachGlyph=function(e,t,r,i,n,o){t=void 0!==t?t:0,r=void 0!==r?r:0,i=void 0!==i?i:72,n=n||this.defaultRenderOptions;var a,s=1/this.unitsPerEm*i,h=this.stringToGlyphs(e,n);if(n.kerning){var l=n.script||this.position.getDefaultScriptName();a=this.position.getKerningTables(l,n.language)}for(var u=0;u<h.length;u+=1){var c=h[u];if(o.call(this,c,t,r,i,n),c.advanceWidth&&(t+=c.advanceWidth*s),n.kerning&&u<h.length-1)t+=(a?this.position.getKerningValue(a,c.index,h[u+1].index):this.getKerningValue(c,h[u+1]))*s;n.letterSpacing?t+=n.letterSpacing*i:n.tracking&&(t+=n.tracking/1e3*i)}return t},Mr.prototype.getPath=function(e,t,r,i,o){var a=new U;return this.forEachGlyph(e,t,r,i,o,function(e,t,r,i){var n=e.getPath(t,r,i,o,this);a.extend(n)}),a},Mr.prototype.getPaths=function(e,t,r,i,o){var a=[];return this.forEachGlyph(e,t,r,i,o,function(e,t,r,i){var n=e.getPath(t,r,i,o,this);a.push(n)}),a},Mr.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,function(){})},Mr.prototype.draw=function(e,t,r,i,n,o){this.getPath(t,r,i,n,o).draw(e)},Mr.prototype.drawPoints=function(n,e,t,r,i,o){this.forEachGlyph(e,t,r,i,o,function(e,t,r,i){e.drawPoints(n,t,r,i)})},Mr.prototype.drawMetrics=function(n,e,t,r,i,o){this.forEachGlyph(e,t,r,i,o,function(e,t,r,i){e.drawMetrics(n,t,r,i)})},Mr.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},Mr.prototype.validate=function(){var r=this;function e(e){var t=r.getEnglishName(e);t&&t.trim().length}e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),e("version"),this.unitsPerEm},Mr.prototype.toTables=function(){return gt.fontToTable(this)},Mr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Mr.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0;i<e.length;i++)r[i]=e[i];return t},Mr.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+r+".otf";var n=this.toArrayBuffer();if("undefined"!=typeof window)window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,n.byteLength,function(e){e.root.getFile(t,{create:!0},function(i){i.createWriter(function(e){var t=new DataView(n),r=new Blob([t],{type:"font/opentype"});e.write(r),e.addEventListener("writeend",function(){location.href=i.toURL()},!1)})})},function(e){throw new Error(e.name+": "+e.message)});else{var i=Vr("fs"),o=function(e){for(var t=new Nr(e.byteLength),r=new Uint8Array(e),i=0;i<t.length;++i)t[i]=r[i];return t}(n);i.writeFileSync(t,o)}},Mr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Mr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Mr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Lr={make:function(e,t){var r,i,n,o,a=new $.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);a.offsetToData=a.sizeOf();for(var s=0;s<e.axes.length;s++)a.fields=a.fields.concat((r=s,i=e.axes[s],n=t,o=Er(i.name,n),[{name:"tag_"+r,type:"TAG",value:i.tag},{name:"minValue_"+r,type:"FIXED",value:i.minValue<<16},{name:"defaultValue_"+r,type:"FIXED",value:i.defaultValue<<16},{name:"maxValue_"+r,type:"FIXED",value:i.maxValue<<16},{name:"flags_"+r,type:"USHORT",value:0},{name:"nameID_"+r,type:"USHORT",value:o}]));for(var h=0;h<e.instances.length;h++)a.fields=a.fields.concat(Cr(h,e.instances[h],e.axes,t));return a},parse:function(e,t,r){var i=new se.Parser(e,t),n=i.parseULong();P.argument(65536===n,"Unsupported fvar table version.");var o=i.parseOffset16();i.skip("uShort",1);for(var a,s,h,l,u,c=i.parseUShort(),p=i.parseUShort(),d=i.parseUShort(),f=i.parseUShort(),m=[],v=0;v<c;v++)m.push((a=e,s=t+o+v*p,h=r,u=l=void 0,l={},u=new se.Parser(a,s),l.tag=u.parseTag(),l.minValue=u.parseFixed(),l.defaultValue=u.parseFixed(),l.maxValue=u.parseFixed(),u.skip("uShort",1),l.name=h[u.parseUShort()]||{},l));for(var g=[],y=t+o+c*p,b=0;b<d;b++)g.push(Rr(e,y+b*f,m,r));return{axes:m,instances:g}}},Pr=new Array(10);Pr[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(oe.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(oe.coverage),values:this.parseValueRecordList()}:void P.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Pr[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();P.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(oe.coverage),i=this.parseUShort(),n=this.parseUShort();if(1===t)return{posFormat:t,coverage:r,valueFormat1:i,valueFormat2:n,pairSets:this.parseList(oe.pointer(oe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(n)}})))};if(2===t){var o=this.parsePointer(oe.classDef),a=this.parsePointer(oe.classDef),s=this.parseUShort(),h=this.parseUShort();return{posFormat:t,coverage:r,valueFormat1:i,valueFormat2:n,classDef1:o,classDef2:a,class1Count:s,class2Count:h,classRecords:this.parseList(s,oe.list(h,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(n)}}))}}},Pr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Pr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Pr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Pr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Pr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Pr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Pr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var kr=new Array(10);var Ir={parse:function(e,t){var r=new oe(e,t=t||0),i=r.parseVersion(1);return P.argument(1===i||1.1===i,"Unsupported GPOS table version "+i),1===i?{version:i,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Pr)}:{version:i,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Pr),variations:r.parseFeatureVariationsList()}},make:function(e){return new $.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new $.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new $.LookupList(e.lookups,kr)}])}};var Dr={parse:function(e,t){var r=new se.Parser(e,t),i=r.parseUShort();if(0===i)return function(e){var t={};e.skip("uShort");var r=e.parseUShort();P.argument(0===r,"Unsupported kern sub-table version."),e.skip("uShort",2);var i=e.parseUShort();e.skip("uShort",3);for(var n=0;n<i;n+=1){var o=e.parseUShort(),a=e.parseUShort(),s=e.parseShort();t[o+","+a]=s}return t}(r);if(1===i)return function(e){var t={};e.skip("uShort"),1<e.parseULong()&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var r=255&e.parseUShort();if(e.skip("uShort"),0===r){var i=e.parseUShort();e.skip("uShort",3);for(var n=0;n<i;n+=1){var o=e.parseUShort(),a=e.parseUShort(),s=e.parseShort();t[o+","+a]=s}}return t}(r);throw new Error("Unsupported kern table version ("+i+").")}};var Ar={parse:function(e,t,r,i){for(var n=new se.Parser(e,t),o=i?n.parseUShort:n.parseULong,a=[],s=0;s<r+1;s+=1){var h=o.call(n);i&&(h*=2),a.push(h)}return a}};function Ur(e,r){Vr("fs").readFile(e,function(e,t){if(e)return r(e.message);r(null,Et(t))})}function Or(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return r.response?t(null,r.response):t("Font could not be loaded: "+r.statusText)},r.onerror=function(){t("Font could not be loaded")},r.send()}function Br(e,t){for(var r=[],i=12,n=0;n<t;n+=1){var o=se.getTag(e,i),a=se.getULong(e,i+4),s=se.getULong(e,i+8),h=se.getULong(e,i+12);r.push({tag:o,checksum:a,offset:s,length:h,compression:!1}),i+=16}return r}function Fr(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),i=new Uint8Array(t.length);if(n(r,i),i.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(i.buffer,0),offset:0}}function Gr(e){var t,r,i,n,o,a,s,h,l,u,c,p,d,f,m=new Mr({empty:!0}),v=new DataView(e,0),g=[],y=se.getTag(v,0);if(y===String.fromCharCode(0,1,0,0)||"true"===y||"typ1"===y)m.outlinesFormat="truetype",g=Br(v,i=se.getUShort(v,4));else if("OTTO"===y)m.outlinesFormat="cff",g=Br(v,i=se.getUShort(v,4));else{if("wOFF"!==y)throw new Error("Unsupported OpenType signature "+y);var b=se.getTag(v,4);if(b===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if("OTTO"!==b)throw new Error("Unsupported OpenType flavor "+y);m.outlinesFormat="cff"}g=function(e,t){for(var r=[],i=44,n=0;n<t;n+=1){var o=se.getTag(e,i),a=se.getULong(e,i+4),s=se.getULong(e,i+8),h=se.getULong(e,i+12),l=void 0;l=s<h&&"WOFF",r.push({tag:o,offset:a,compression:l,compressedLength:s,length:h}),i+=20}return r}(v,i=se.getUShort(v,12))}for(var _=0;_<i;_+=1){var x=g[_],w=void 0;switch(x.tag){case"cmap":w=Fr(v,x),m.tables.cmap=he.parse(w.data,w.offset),m.encoding=new fe(m.tables.cmap);break;case"cvt ":w=Fr(v,x),f=new se.Parser(w.data,w.offset),m.tables.cvt=f.parseShortList(x.length/2);break;case"fvar":o=x;break;case"fpgm":w=Fr(v,x),f=new se.Parser(w.data,w.offset),m.tables.fpgm=f.parseByteList(x.length);break;case"head":w=Fr(v,x),m.tables.head=Ne.parse(w.data,w.offset),m.unitsPerEm=m.tables.head.unitsPerEm,t=m.tables.head.indexToLocFormat;break;case"hhea":w=Fr(v,x),m.tables.hhea=Ve.parse(w.data,w.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":l=x;break;case"ltag":w=Fr(v,x),r=He.parse(w.data,w.offset);break;case"maxp":w=Fr(v,x),m.tables.maxp=je.parse(w.data,w.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":p=x;break;case"OS/2":w=Fr(v,x),m.tables.os2=ot.parse(w.data,w.offset);break;case"post":w=Fr(v,x),m.tables.post=at.parse(w.data,w.offset),m.glyphNames=new ve(m.tables.post);break;case"prep":w=Fr(v,x),f=new se.Parser(w.data,w.offset),m.tables.prep=f.parseByteList(x.length);break;case"glyf":a=x;break;case"loca":c=x;break;case"CFF ":n=x;break;case"kern":u=x;break;case"GPOS":s=x;break;case"GSUB":h=x;break;case"meta":d=x}}var S=Fr(v,p);if(m.tables.name=it.parse(S.data,S.offset,r),m.names=m.tables.name,a&&c){var T=0===t,M=Fr(v,c),E=Ar.parse(M.data,M.offset,m.numGlyphs,T),C=Fr(v,a);m.glyphs=Bt.parse(C.data,C.offset,E,m)}else{if(!n)throw new Error("Font doesn't contain TrueType or CFF outlines.");var R=Fr(v,n);Ge.parse(R.data,R.offset,m)}var L=Fr(v,l);if(ze.parse(L.data,L.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs),function(e){for(var t,r=e.tables.cmap.glyphIndexMap,i=Object.keys(r),n=0;n<i.length;n+=1){var o=i[n],a=r[o];(t=e.glyphs.get(a)).addUnicode(parseInt(o))}for(var s=0;s<e.glyphs.length;s+=1)t=e.glyphs.get(s),e.cffEncoding?e.isCIDFont?t.name="gid"+s:t.name=e.cffEncoding.charset[s]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(s))}(m),u){var P=Fr(v,u);m.kerningPairs=Dr.parse(P.data,P.offset)}else m.kerningPairs={};if(s){var k=Fr(v,s);m.tables.gpos=Ir.parse(k.data,k.offset),m.position.init()}if(h){var I=Fr(v,h);m.tables.gsub=ut.parse(I.data,I.offset)}if(o){var D=Fr(v,o);m.tables.fvar=Lr.parse(D.data,D.offset,m.names)}if(d){var A=Fr(v,d);m.tables.meta=ct.parse(A.data,A.offset),m.metas=m.tables.meta}return m}M.Font=Mr,M.Glyph=ye,M.Path=U,M.BoundingBox=C,M._parse=se,M.parse=Gr,M.load=function(e,i){("undefined"==typeof window?Ur:Or)(e,function(e,t){if(e)return i(e);var r;try{r=Gr(t)}catch(e){return i(e,null)}return i(null,r)})},M.loadSync=function(e){return Gr(Et(Vr("fs").readFileSync(e)))},Object.defineProperty(M,"__esModule",{value:!0})}("object"==typeof r&&void 0!==t?r:e.opentype={})}).call(this,Vr("buffer").Buffer)},{buffer:3,fs:2}],10:[function(e,t,r){var i,n,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function h(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,u=[],c=!1,p=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&f())}function f(){if(!c){var e=h(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||c||h(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],11:[function(e,t,r){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,n="ArrayBuffer"in e;if(n)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},h=ArrayBuffer.isView||function(e){return e&&-1<o.indexOf(Object.prototype.toString.call(e))};f.prototype.append=function(e,t){e=c(e),t=p(t);var r=this.map[e];this.map[e]=r?r+","+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=p(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),d(r)},f.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),d(t)},f.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),d(r)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var u=[301,302,303,307,308];w.redirect=function(e,t){if(-1===u.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.Headers=f,e.Request=_,e.Response=w,e.fetch=function(r,n){return new Promise(function(i,e){var t=new _(r,n),o=new XMLHttpRequest;o.onload=function(){var e,n,t={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",n=new f,e.split(/\r?\n/).forEach(function(e){var t=e.split(":"),r=t.shift().trim();if(r){var i=t.join(":").trim();n.append(r,i)}}),n)};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var r="response"in o?o.response:o.responseText;i(new w(r,t))},o.onerror=function(){e(new TypeError("Network request failed"))},o.ontimeout=function(){e(new TypeError("Network request failed"))},o.open(t.method,t.url,!0),"include"===t.credentials&&(o.withCredentials=!0),"responseType"in o&&a&&(o.responseType="blob"),t.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0}function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function g(e){var t=new FileReader,r=v(t);return t.readAsArrayBuffer(e),r}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(a&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(n&&a&&s(e))this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!n||!ArrayBuffer.prototype.isPrototypeOf(e)&&!h(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,r,i=m(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=v(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var r,i,n=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(r=t.method||this.method||"GET",i=r.toUpperCase(),-1<l.indexOf(i)?i:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function x(e){var n=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),r=t.shift().replace(/\+/g," "),i=t.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(i))}}),n}function w(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},{}],12:[function(e,t,r){"use strict";var i=e("./core/main");e("./core/constants"),e("./core/environment"),e("./core/error_helpers"),e("./core/helpers"),e("./core/legacy"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),t.exports=i},{"./color/color_conversion":13,"./color/creating_reading":14,"./color/p5.Color":15,"./color/setting":16,"./core/constants":17,"./core/environment":18,"./core/error_helpers":19,"./core/helpers":20,"./core/init":21,"./core/legacy":22,"./core/main":23,"./core/p5.Element":24,"./core/p5.Graphics":25,"./core/p5.Renderer":26,"./core/p5.Renderer2D":27,"./core/rendering":28,"./core/shape/2d_primitives":29,"./core/shape/attributes":30,"./core/shape/curves":31,"./core/shape/vertex":32,"./core/shim":33,"./core/structure":34,"./core/transform":35,"./data/p5.TypedDict":36,"./events/acceleration":37,"./events/keyboard":38,"./events/mouse":39,"./events/touch":40,"./image/filters":41,"./image/image":42,"./image/loading_displaying":43,"./image/p5.Image":44,"./image/pixels":45,"./io/files":46,"./io/p5.Table":47,"./io/p5.TableRow":48,"./io/p5.XML":49,"./math/calculation":50,"./math/math":51,"./math/noise":52,"./math/p5.Vector":53,"./math/random":54,"./math/trigonometry":55,"./typography/attributes":56,"./typography/loading_displaying":57,"./typography/p5.Font":58,"./utilities/array_functions":59,"./utilities/conversion":60,"./utilities/string_functions":61,"./utilities/time_date":62,"./webgl/3d_primitives":63,"./webgl/interaction":64,"./webgl/light":65,"./webgl/loading":66,"./webgl/material":67,"./webgl/p5.Camera":68,"./webgl/p5.Geometry":69,"./webgl/p5.Matrix":70,"./webgl/p5.RendererGL":73,"./webgl/p5.RendererGL.Immediate":71,"./webgl/p5.RendererGL.Retained":72,"./webgl/p5.Shader":74,"./webgl/p5.Texture":75,"./webgl/text":76}],13:[function(e,t,r){"use strict";var i=e("../core/main");i.ColorConversion={},i.ColorConversion._hsbaToHSLA=function(e){var t=e[0],r=e[1],i=e[2],n=(2-r)*i/2;return 0!==n&&(1===n?r=0:n<.5?r/=2-r:r=r*i/(2-2*n)),[t,r,n,e[3]]},i.ColorConversion._hsbaToRGBA=function(e){var t=6*e[0],r=e[1],i=e[2],n=[];if(0===r)n=[i,i,i,e[3]];else{var o,a,s,h=Math.floor(t),l=i*(1-r),u=i*(1-r*(t-h)),c=i*(1-r*(1+h-t));s=1===h?(o=u,a=i,l):2===h?(o=l,a=i,c):3===h?(o=l,a=u,i):4===h?(o=c,a=l,i):5===h?(o=i,a=l,u):(o=i,a=c,l),n=[o,a,s,e[3]]}return n},i.ColorConversion._hslaToHSBA=function(e){var t,r=e[0],i=e[1],n=e[2];return[r,i=2*((t=n<.5?(1+i)*n:n+i-n*i)-n)/t,t,e[3]]},i.ColorConversion._hslaToRGBA=function(e){var t=6*e[0],r=e[1],i=e[2],n=[];if(0===r)n=[i,i,i,e[3]];else{var o,a=2*i-(o=i<.5?(1+r)*i:i+r-i*r),s=function(e,t,r){return e<0?e+=6:6<=e&&(e-=6),e<1?t+(r-t)*e:e<3?r:e<4?t+(r-t)*(4-e):t};n=[s(t+2,a,o),s(t,a,o),s(t-2,a,o),e[3]]}return n},i.ColorConversion._rgbaToHSBA=function(e){var t,r,i=e[0],n=e[1],o=e[2],a=Math.max(i,n,o),s=a-Math.min(i,n,o);return 0===s?r=t=0:(r=s/a,i===a?t=(n-o)/s:n===a?t=2+(o-i)/s:o===a&&(t=4+(i-n)/s),t<0?t+=6:6<=t&&(t-=6)),[t/6,r,a,e[3]]},i.ColorConversion._rgbaToHSLA=function(e){var t,r,i=e[0],n=e[1],o=e[2],a=Math.max(i,n,o),s=Math.min(i,n,o),h=a+s,l=a-s;return 0===l?r=t=0:(r=h<1?l/h:l/(2-h),i===a?t=(n-o)/l:n===a?t=2+(o-i)/l:o===a&&(t=4+(i-n)/l),t<0?t+=6:6<=t&&(t-=6)),[t/6,r,h/2,e[3]]},t.exports=i.ColorConversion},{"../core/main":23}],14:[function(e,t,r){"use strict";var c=e("../core/main"),p=e("../core/constants");e("./p5.Color"),e("../core/error_helpers"),c.prototype.alpha=function(e){return c._validateParameters("alpha",arguments),this.color(e)._getAlpha()},c.prototype.blue=function(e){return c._validateParameters("blue",arguments),this.color(e)._getBlue()},c.prototype.brightness=function(e){return c._validateParameters("brightness",arguments),this.color(e)._getBrightness()},c.prototype.color=function(){if(c._validateParameters("color",arguments),arguments[0]instanceof c.Color)return arguments[0];var e=arguments[0]instanceof Array?arguments[0]:arguments;return new c.Color(this,e)},c.prototype.green=function(e){return c._validateParameters("green",arguments),this.color(e)._getGreen()},c.prototype.hue=function(e){return c._validateParameters("hue",arguments),this.color(e)._getHue()},c.prototype.lerpColor=function(e,t,r){c._validateParameters("lerpColor",arguments);var i,n,o,a,s,h,l=this._colorMode,u=this._colorMaxes;if(l===p.RGB)s=e.levels.map(function(e){return e/255}),h=t.levels.map(function(e){return e/255});else if(l===p.HSB)e._getBrightness(),t._getBrightness(),s=e.hsba,h=t.hsba;else{if(l!==p.HSL)throw new Error(l+"cannot be used for interpolation.");e._getLightness(),t._getLightness(),s=e.hsla,h=t.hsla}return r=Math.max(Math.min(r,1),0),void 0===this.lerp&&(this.lerp=function(e,t,r){return r*(t-e)+e}),i=this.lerp(s[0],h[0],r),n=this.lerp(s[1],h[1],r),o=this.lerp(s[2],h[2],r),a=this.lerp(s[3],h[3],r),i*=u[l][0],n*=u[l][1],o*=u[l][2],a*=u[l][3],this.color(i,n,o,a)},c.prototype.lightness=function(e){return c._validateParameters("lightness",arguments),this.color(e)._getLightness()},c.prototype.red=function(e){return c._validateParameters("red",arguments),this.color(e)._getRed()},c.prototype.saturation=function(e){return c._validateParameters("saturation",arguments),this.color(e)._getSaturation()},t.exports=c},{"../core/constants":17,"../core/error_helpers":19,"../core/main":23,"./p5.Color":15}],15:[function(e,t,r){"use strict";var c=e("../core/main"),p=e("../core/constants"),d=e("./color_conversion");c.Color=function(e,t){if(this._storeModeAndMaxes(e._colorMode,e._colorMaxes),this.mode!==p.RGB&&this.mode!==p.HSL&&this.mode!==p.HSB)throw new Error(this.mode+" is an invalid colorMode.");return this._array=c.Color._parseInputs.apply(this,t),this._calculateLevels(),this},c.Color.prototype.toString=function(e){this.hsba||(this.hsba=d._rgbaToHSBA(this._array)),this.hsla||(this.hsla=d._rgbaToHSLA(this._array));var t=this.levels,r=this._array,i=r[3];switch(e){case"#rrggbb":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16));case"#rrggbbaa":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16),t[3]<16?"0".concat(t[2].toString(16)):t[3].toString(16));case"#rgb":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16),Math.round(15*r[3]).toString(16));case"rgb":return"rgb(".concat(t[0],", ",t[1],", ",t[2],")");case"rgb%":return"rgb(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%, ",(100*r[3]).toPrecision(3),"%)");case"hsb":case"hsv":return"hsb(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],")");case"hsb%":case"hsv%":return"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return"hsba(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],", ",i,")");case"hsba%":case"hsva%":return"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*i).toPrecision(3),"%)");case"hsl":return"hsl(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],")");case"hsl%":return"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return"hsla(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],", ",i,")");case"hsla%":return"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*i).toPrecision(3),"%)");case"rgba":default:return"rgba("+t[0]+","+t[1]+","+t[2]+","+i+")"}},c.Color.prototype.setRed=function(e){this._array[0]=e/this.maxes[p.RGB][0],this._calculateLevels()},c.Color.prototype.setGreen=function(e){this._array[1]=e/this.maxes[p.RGB][1],this._calculateLevels()},c.Color.prototype.setBlue=function(e){this._array[2]=e/this.maxes[p.RGB][2],this._calculateLevels()},c.Color.prototype.setAlpha=function(e){this._array[3]=e/this.maxes[this.mode][3],this._calculateLevels()},c.Color.prototype._calculateLevels=function(){for(var e=this._array,t=this.levels=new Array(e.length),r=e.length-1;0<=r;--r)t[r]=Math.round(255*e[r])},c.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},c.Color.prototype._storeModeAndMaxes=function(e,t){this.mode=e,this.maxes=t},c.Color.prototype._getMode=function(){return this.mode},c.Color.prototype._getMaxes=function(){return this.maxes},c.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[p.RGB][2]},c.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=d._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[p.HSB][2]},c.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[p.RGB][1]},c.Color.prototype._getHue=function(){return this.mode===p.HSB?(this.hsba||(this.hsba=d._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[p.HSB][0]):(this.hsla||(this.hsla=d._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[p.HSL][0])},c.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=d._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[p.HSL][2]},c.Color.prototype._getRed=function(){return this._array[0]*this.maxes[p.RGB][0]},c.Color.prototype._getSaturation=function(){return this.mode===p.HSB?(this.hsba||(this.hsba=d._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[p.HSB][1]):(this.hsla||(this.hsla=d._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[p.HSL][1])};var f={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i=/\s*/,n=/(\d{1,3})/,o=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,a=new RegExp(o.source+"%"),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",n.source,",",n.source,",",n.source,"\\)$"].join(i.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",a.source,",",a.source,",",a.source,"\\)$"].join(i.source),"i"),RGBA:new RegExp(["^rgba\\(",n.source,",",n.source,",",n.source,",",o.source,"\\)$"].join(i.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",a.source,",",a.source,",",a.source,",",o.source,"\\)$"].join(i.source),"i"),HSL:new RegExp(["^hsl\\(",n.source,",",a.source,",",a.source,"\\)$"].join(i.source),"i"),HSLA:new RegExp(["^hsla\\(",n.source,",",a.source,",",a.source,",",o.source,"\\)$"].join(i.source),"i"),HSB:new RegExp(["^hsb\\(",n.source,",",a.source,",",a.source,"\\)$"].join(i.source),"i"),HSBA:new RegExp(["^hsba\\(",n.source,",",a.source,",",a.source,",",o.source,"\\)$"].join(i.source),"i")};c.Color._parseInputs=function(e,t,r,i){var n,o=arguments.length,a=this.mode,s=this.maxes[a],h=[];if(3<=o){for(h[0]=e/s[0],h[1]=t/s[1],h[2]=r/s[2],h[3]="number"==typeof i?i/s[3]:1,n=h.length-1;0<=n;--n){var l=h[n];l<0?h[n]=0:1<l&&(h[n]=1)}return a===p.HSL?d._hslaToRGBA(h):a===p.HSB?d._hsbaToRGBA(h):h}if(1===o&&"string"==typeof e){var u=e.trim().toLowerCase();if(f[u])return c.Color._parseInputs.call(this,f[u]);if(m.HEX3.test(u))return(h=m.HEX3.exec(u).slice(1).map(function(e){return parseInt(e+e,16)/255}))[3]=1,h;if(m.HEX6.test(u))return(h=m.HEX6.exec(u).slice(1).map(function(e){return parseInt(e,16)/255}))[3]=1,h;if(m.HEX4.test(u))return h=m.HEX4.exec(u).slice(1).map(function(e){return parseInt(e+e,16)/255});if(m.HEX8.test(u))return h=m.HEX8.exec(u).slice(1).map(function(e){return parseInt(e,16)/255});if(m.RGB.test(u))return(h=m.RGB.exec(u).slice(1).map(function(e){return e/255}))[3]=1,h;if(m.RGB_PERCENT.test(u))return(h=m.RGB_PERCENT.exec(u).slice(1).map(function(e){return parseFloat(e)/100}))[3]=1,h;if(m.RGBA.test(u))return h=m.RGBA.exec(u).slice(1).map(function(e,t){return 3===t?parseFloat(e):e/255});if(m.RGBA_PERCENT.test(u))return h=m.RGBA_PERCENT.exec(u).slice(1).map(function(e,t){return 3===t?parseFloat(e):parseFloat(e)/100});if(m.HSL.test(u)?(h=m.HSL.exec(u).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100}))[3]=1:m.HSLA.test(u)&&(h=m.HSLA.exec(u).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100})),(h=h.map(function(e){return Math.max(Math.min(e,1),0)})).length)return d._hslaToRGBA(h);if(m.HSB.test(u)?(h=m.HSB.exec(u).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100}))[3]=1:m.HSBA.test(u)&&(h=m.HSBA.exec(u).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100})),h.length){for(n=h.length-1;0<=n;--n)h[n]=Math.max(Math.min(h[n],1),0);return d._hsbaToRGBA(h)}h=[1,1,1,1]}else{if(1!==o&&2!==o||"number"!=typeof e)throw new Error(arguments+"is not a valid color representation.");h[0]=e/s[2],h[1]=e/s[2],h[2]=e/s[2],h[3]="number"==typeof t?t/s[3]:1,h=h.map(function(e){return Math.max(Math.min(e,1),0)})}return h},t.exports=c.Color},{"../core/constants":17,"../core/main":23,"./color_conversion":13}],16:[function(e,t,r){"use strict";var a=e("../core/main"),s=e("../core/constants");e("./p5.Color"),a.prototype.background=function(){return arguments[0]instanceof a.Image?this.image(arguments[0],0,0,this.width,this.height):this._renderer.background.apply(this._renderer,arguments),this},a.prototype.clear=function(){return this._renderer.clear(),this},a.prototype.colorMode=function(e,t,r,i,n){if(a._validateParameters("colorMode",arguments),e===s.RGB||e===s.HSB||e===s.HSL){this._colorMode=e;var o=this._colorMaxes[e];2===arguments.length?(o[0]=t,o[1]=t,o[2]=t,o[3]=t):4===arguments.length?(o[0]=t,o[1]=r,o[2]=i):5===arguments.length&&(o[0]=t,o[1]=r,o[2]=i,o[3]=n)}return this},a.prototype.fill=function(){return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),this._renderer.fill.apply(this._renderer,arguments),this},a.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},a.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},a.prototype.stroke=function(){return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),this._renderer.stroke.apply(this._renderer,arguments),this},t.exports=a},{"../core/constants":17,"../core/main":23,"./p5.Color":15}],17:[function(e,t,r){"use strict";var i=Math.PI;t.exports={P2D:"p2d",WEBGL:"webgl",ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:i/2,PI:i,QUARTER_PI:i/4,TAU:2*i,TWO_PI:2*i,DEGREES:"degrees",RADIANS:"radians",DEG_TO_RAD:i/180,RAD_TO_DEG:180/i,CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",TOP:"top",BOTTOM:"bottom",BASELINE:"alphabetic",POINTS:0,LINES:1,LINE_STRIP:3,LINE_LOOP:2,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",HSL:"hsl",AUTO:"auto",ALT:18,BACKSPACE:8,CONTROL:17,DELETE:46,DOWN_ARROW:40,ENTER:13,ESCAPE:27,LEFT_ARROW:37,OPTION:18,RETURN:13,RIGHT_ARROW:39,SHIFT:16,TAB:9,UP_ARROW:38,BLEND:"source-over",ADD:"lighter",DARKEST:"darken",LIGHTEST:"lighten",DIFFERENCE:"difference",EXCLUSION:"exclusion",MULTIPLY:"multiply",SCREEN:"screen",REPLACE:"copy",OVERLAY:"overlay",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DODGE:"color-dodge",BURN:"color-burn",THRESHOLD:"threshold",GRAY:"gray",OPAQUE:"opaque",INVERT:"invert",POSTERIZE:"posterize",DILATE:"dilate",ERODE:"erode",BLUR:"blur",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",BOLDITALIC:"bold italic",_DEFAULT_TEXT_FILL:"#000000",_DEFAULT_LEADMULT:1.25,_CTX_MIDDLE:"middle",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve",STROKE:"stroke",FILL:"fill",TEXTURE:"texture",IMMEDIATE:"immediate",IMAGE:"image",NEAREST:"nearest",REPEAT:"repeat",CLAMP:"clamp",MIRROR:"mirror",LANDSCAPE:"landscape",PORTRAIT:"portrait",_DEFAULT_STROKE:"#000000",_DEFAULT_FILL:"#FFFFFF",GRID:"grid",AXES:"axes"}},{}],18:[function(e,t,r){"use strict";var i=e("./main"),n=e("./constants"),a=[n.ARROW,n.CROSS,n.HAND,n.MOVE,n.TEXT,n.WAIT];i.prototype._frameRate=0,i.prototype._lastFrameTime=window.performance.now(),i.prototype._targetFrameRate=60;var o=window.print;function s(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}i.prototype.print=function(){arguments.length?console.log.apply(console,arguments):o()},i.prototype.frameCount=0,i.prototype.focused=document.hasFocus(),i.prototype.cursor=function(e,t,r){var i="auto",n=this._curElement.elt;if(-1<a.indexOf(e))i=e;else if("string"==typeof e){var o="";t&&r&&"number"==typeof t&&"number"==typeof r&&(o=t+" "+r),i="http://"===e.substring(0,7)||"https://"===e.substring(0,8)?"url("+e+") "+o+", auto":/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(e)?"url("+e+") "+o+", auto":e}n.style.cursor=i},i.prototype.frameRate=function(e){return i._validateParameters("frameRate",arguments),"number"!=typeof e||e<0?this._frameRate:(this._setProperty("_targetFrameRate",e),this)},i.prototype.getFrameRate=function(){return this.frameRate()},i.prototype.setFrameRate=function(e){return this.frameRate(e)},i.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},i.prototype.displayWidth=screen.width,i.prototype.displayHeight=screen.height,i.prototype.windowWidth=s(),i.prototype.windowHeight=h(),i.prototype._onresize=function(e){this._setProperty("windowWidth",s()),this._setProperty("windowHeight",h());var t,r=this._isGlobal?window:this;"function"==typeof r.windowResized&&(void 0===(t=r.windowResized(e))||t||e.preventDefault())},i.prototype.width=0,i.prototype.height=0,i.prototype.fullscreen=function(e){if(i._validateParameters("fullscreen",arguments),void 0===e)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e?function(e){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},i.prototype.pixelDensity=function(e){var t;return i._validateParameters("pixelDensity",arguments),"number"==typeof e?(e!==this._pixelDensity&&(this._pixelDensity=e,this._pixelsDirty=!0),(t=this).resizeCanvas(this.width,this.height,!0)):t=this._pixelDensity,t},i.prototype.displayDensity=function(){return window.devicePixelRatio},i.prototype.getURL=function(){return location.href},i.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(e){return""!==e})},i.prototype.getURLParams=function(){for(var e,t=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,r={};null!=(e=t.exec(location.search));)e.index===t.lastIndex&&t.lastIndex++,r[e[1]]=e[2];return r},t.exports=i},{"./constants":17,"./main":23}],19:[function(n,e,t){"use strict";var o=n("./main");n("./constants");o._validateParameters=o._friendlyFileLoadError=o._friendlyError=function(){};var a=null,r=function(t,r){var i,e;r||(r=console.log.bind(console)),a||(i={},(a=[].concat((e=function(r){return Object.getOwnPropertyNames(r).filter(function(e){return"_"!==e[0]&&!(e in i)&&(i[e]=!0)}).map(function(e){var t;return t="function"==typeof r[e]?"function":e===e.toUpperCase()?"constant":"variable",{name:e,type:t}})})(o.prototype),e(n("./constants")))).sort(function(e,t){return t.name.length-e.name.length})),a.some(function(e){if(t.message&&null!==t.message.match("\\W?"+e.name+"\\W"))return r("Did you just try to use p5.js's "+e.name+("function"===e.type?"() ":" ")+e.type+"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),!0})};o.prototype._helpForMisusedAtTopLevelCode=r,"complete"!==document.readyState&&(window.addEventListener("error",r,!1),window.addEventListener("load",function(){window.removeEventListener("error",r,!1)})),e.exports=o},{"../../docs/reference/data.json":void 0,"./constants":17,"./main":23}],20:[function(e,t,r){"use strict";var o=e("./constants");t.exports={modeAdjust:function(e,t,r,i,n){return n===o.CORNER?{x:e,y:t,w:r,h:i}:n===o.CORNERS?{x:e,y:t,w:r-e,h:i-t}:n===o.RADIUS?{x:e-r,y:t-i,w:2*r,h:2*i}:n===o.CENTER?{x:e-.5*r,y:t-.5*i,w:r,h:i}:void 0}}},{"./constants":17}],21:[function(e,t,r){"use strict";var i=e("../core/main"),n=function(){window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!i.instance&&new i};"complete"===document.readyState?n():window.addEventListener("load",n,!1)},{"../core/main":23}],22:[function(e,t,r){"use strict";var i=e("./main");i.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},i.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.exports=i},{"./main":23}],23:[function(e,t,r){"use strict";e("./shim");var i=e("./constants"),m=function(e,t,r){"boolean"==typeof t&&void 0===r&&(r=t,t=void 0),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=t,this._curElement=null,this._elements=[],this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};for(var i=Object.getOwnPropertyNames(m.prototype._registeredMethods),n=0;n<i.length;n++){var o=i[n];this._registeredMethods[o]=m.prototype._registeredMethods[o].slice()}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode));var e=(this._isGlobal?window:this).preload;if(e){var t=document.getElementById(this._loadingScreenId);if(!t)(t=document.createElement("div")).innerHTML="Loading...",t.style.position="absolute",t.id=this._loadingScreenId,(this._userNode||document.body).appendChild(t);var r=this._preloadMethods;for(var i in r){r[i]=r[i]||m;var n=r[i];n!==m.prototype&&n!==m||(this._isGlobal&&(window[i]=this._wrapPreload(this,i)),n=this),this._registeredPreloadMethods[i]=n[i],n[i]=this._wrapPreload(n,i)}e(),this._runIfPreloadsAreDone()}else this._setup(),this._draw()}.bind(this),this._runIfPreloadsAreDone=function(){var e=this._isGlobal?window:this;if(0===e._preloadCount){var t=document.getElementById(e._loadingScreenId);t&&t.parentNode.removeChild(t),e._setup(),e._draw()}},this._decrementPreload=function(){var e=this._isGlobal?window:this;"function"==typeof e.preload&&(e._setProperty("_preloadCount",e._preloadCount-1),e._runIfPreloadsAreDone())},this._wrapPreload=function(e,t){return function(){return this._incrementPreload(),this._registeredPreloadMethods[t].apply(e,arguments)}.bind(this)},this._incrementPreload=function(){var e=this._isGlobal?window:this;e._setProperty("_preloadCount",e._preloadCount+1)},this._setup=function(){this.createCanvas(this._defaultCanvasSize.width,this._defaultCanvasSize.height,"p2d");var e=this._isGlobal?window:this;if("function"==typeof e.preload)for(var t in this._preloadMethods)e[t]=this._preloadMethods[t][t],e[t]&&this&&(e[t]=e[t].bind(this));"function"==typeof e.setup&&e.setup();for(var r=document.getElementsByTagName("canvas"),i=0;i<r.length;i++){var n=r[i];"true"===n.dataset.hidden&&(n.style.visibility="",delete n.dataset.hidden)}this._setupDone=!0}.bind(this),this._draw=function(){var e=window.performance.now(),t=e-this._lastFrameTime,r=1e3/this._targetFrameRate;(!this._loop||r-5<=t)&&(this.redraw(),this._frameRate=1e3/(e-this._lastFrameTime),this._lastFrameTime=e,void 0!==this._updateMouseCoords&&this._updateMouseCoords()),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw))}.bind(this),this._setProperty=function(e,t){this[e]=t,this._isGlobal&&(window[e]=t)}.bind(this),this.remove=function(){var e=document.getElementById(this._loadingScreenId);if(e&&(e.parentNode.removeChild(e),this._incrementPreload()),this._curElement){for(var t in this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._events)window.removeEventListener(t,this._events[t]);for(var r=0;r<this._elements.length;r++){var i=this._elements[r];for(var n in i.elt.parentNode&&i.elt.parentNode.removeChild(i.elt),i._events)i.elt.removeEventListener(n,i._events[n])}var o=this;this._registeredMethods.remove.forEach(function(e){void 0!==e&&e.call(o)})}if(this._isGlobal){for(var a in m.prototype)try{delete window[a]}catch(e){window[a]=void 0}for(var s in this)if(this.hasOwnProperty(s))try{delete window[s]}catch(e){window[s]=void 0}m.instance=null}}.bind(this),this._registeredMethods.init.forEach(function(e){void 0!==e&&e.call(this)},this);var a=this._createFriendlyGlobalFunctionBinder();if(e)e(this);else{for(var s in this._isGlobal=!0,m.instance=this,m.prototype)if("function"==typeof m.prototype[s]){var h=s.substring(2);this._events.hasOwnProperty(h)||(Math.hasOwnProperty(s)&&Math[s]===m.prototype[s]?a(s,m.prototype[s]):a(s,m.prototype[s].bind(this)))}else a(s,m.prototype[s]);for(var l in this)this.hasOwnProperty(l)&&a(l,this[l])}for(var u in this._events){var c=this["_on"+u];if(c){var p=c.bind(this);window.addEventListener(u,p,{passive:!1}),this._events[u]=p}}var d=function(){this._setProperty("focused",!0)}.bind(this),f=function(){this._setProperty("focused",!1)}.bind(this);window.addEventListener("focus",d),window.addEventListener("blur",f),this.registerMethod("remove",function(){window.removeEventListener("focus",d),window.removeEventListener("blur",f)}),r?this._start():"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)};for(var n in m.prototype._initializeInstanceVariables=function(){this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=i.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._pixelsDirty=!0},m.instance=null,m.disableFriendlyErrors=!1,i)m.prototype[n]=i[n];m.prototype._preloadMethods={loadJSON:m.prototype,loadImage:m.prototype,loadStrings:m.prototype,loadXML:m.prototype,loadBytes:m.prototype,loadTable:m.prototype,loadFont:m.prototype,loadModel:m.prototype,loadShader:m.prototype},m.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},m.prototype._registeredPreloadMethods={},m.prototype.registerPreloadMethod=function(e,t){m.prototype._preloadMethods.hasOwnProperty(e)||(m.prototype._preloadMethods[e]=t)},m.prototype.registerMethod=function(e,t){var r=this||m.prototype;r._registeredMethods.hasOwnProperty(e)||(r._registeredMethods[e]=[]),r._registeredMethods[e].push(t)},m.prototype._createFriendlyGlobalFunctionBinder=function(e){var r=(e=e||{}).globalObject||window;e.log||console.log.bind(console);return function(e,t){m.disableFriendlyErrors,r[e]=t}},t.exports=m},{"./constants":17,"./shim":33}],24:[function(e,t,r){"use strict";var o=e("./main");o.Element=function(e,t){this.elt=e,this._pInst=t,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},o.Element.prototype.parent=function(e){return void 0===e?this.elt.parentNode:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof o.Element&&(e=e.elt),e.appendChild(this.elt),this)},o.Element.prototype.id=function(e){return void 0===e?this.elt.id:(this.elt.id=e,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},o.Element.prototype.class=function(e){return void 0===e?this.elt.className:(this.elt.className=e,this)},o.Element.prototype.mousePressed=function(t){return o.Element._adjustListener("mousedown",function(e){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(e),t.call(this)},this),this},o.Element.prototype.doubleClicked=function(e){return o.Element._adjustListener("dblclick",e,this),this},o.Element.prototype.mouseWheel=function(e){return o.Element._adjustListener("wheel",e,this),this},o.Element.prototype.mouseReleased=function(e){return o.Element._adjustListener("mouseup",e,this),this},o.Element.prototype.mouseClicked=function(e){return o.Element._adjustListener("click",e,this),this},o.Element.prototype.mouseMoved=function(e){return o.Element._adjustListener("mousemove",e,this),this},o.Element.prototype.mouseOver=function(e){return o.Element._adjustListener("mouseover",e,this),this},o.Element.prototype.mouseOut=function(e){return o.Element._adjustListener("mouseout",e,this),this},o.Element.prototype.touchStarted=function(e){return o.Element._adjustListener("touchstart",e,this),this},o.Element.prototype.touchMoved=function(e){return o.Element._adjustListener("touchmove",e,this),this},o.Element.prototype.touchEnded=function(e){return o.Element._adjustListener("touchend",e,this),this},o.Element.prototype.dragOver=function(e){return o.Element._adjustListener("dragover",e,this),this},o.Element.prototype.dragLeave=function(e){return o.Element._adjustListener("dragleave",e,this),this},o.Element.prototype.drop=function(n,e){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;var t=function(e){e.preventDefault()};this.elt.addEventListener("dragover",t),this.elt.addEventListener("dragleave",t)}void 0!==e&&o.Element._attachListener("drop",e,this),o.Element._attachListener("drop",function(e){e.preventDefault();for(var t=e.dataTransfer.files,r=0;r<t.length;r++){var i=t[r];o.File._load(i,n)}},this)}else console.log("The File APIs are not fully supported in this browser.");return this},o.Element._adjustListener=function(e,t,r){return!1===t?o.Element._detachListener(e,r):o.Element._attachListener(e,t,r),this},o.Element._attachListener=function(e,t,r){r._events[e]&&o.Element._detachListener(e,r);var i=t.bind(r);r.elt.addEventListener(e,i,!1),r._events[e]=i},o.Element._detachListener=function(e,t){var r=t._events[e];t.elt.removeEventListener(e,r,!1),t._events[e]=null},o.Element.prototype._setProperty=function(e,t){this[e]=t},t.exports=o.Element},{"./main":23}],25:[function(e,t,r){"use strict";var s=e("./main"),h=e("./constants");s.Graphics=function(e,t,r,i){var n=r||h.P2D;this.canvas=document.createElement("canvas");var o=i._userNode||document.body;for(var a in o.appendChild(this.canvas),s.Element.call(this,this.canvas,i,!1),s.prototype)this[a]||("function"==typeof s.prototype[a]?this[a]=s.prototype[a].bind(this):this[a]=s.prototype[a]);return s.prototype._initializeInstanceVariables.apply(this),this.width=e,this.height=t,this._pixelDensity=i._pixelDensity,n===h.WEBGL?this._renderer=new s.RendererGL(this.canvas,this,!1):this._renderer=new s.Renderer2D(this.canvas,this,!1),i._elements.push(this),this._renderer.resize(e,t),this._renderer._applyDefaults(),this},s.Graphics.prototype=Object.create(s.Element.prototype),s.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var e=this._pInst._elements.indexOf(this);for(var t in-1!==e&&this._pInst._elements.splice(e,1),this._events)this.elt.removeEventListener(t,this._events[t])},t.exports=s.Graphics},{"./constants":17,"./main":23}],26:[function(e,t,r){"use strict";var i=e("./main"),y=e("../core/constants");function s(e){var t=0,r=0;if(e.offsetParent)for(;t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;);else t+=e.offsetLeft,r+=e.offsetTop;return[t,r]}i.Renderer=function(e,t,r){i.Element.call(this,e,t),this.canvas=e,r?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=y.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=y.LEFT,this._textBaseline=y.BASELINE,this._rectMode=y.CORNER,this._ellipseMode=y.CENTER,this._curveTightness=0,this._imageMode=y.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1},i.Renderer.prototype=Object.create(i.Element.prototype),i.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle}}},i.Renderer.prototype.pop=function(e){e.properties&&Object.assign(this,e.properties)},i.Renderer.prototype.resize=function(e,t){this.width=e,this.height=t,this.elt.width=e*this._pInst._pixelDensity,this.elt.height=t*this._pInst._pixelDensity,this.elt.style.width=e+"px",this.elt.style.height=t+"px",this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},i.Renderer.prototype.textLeading=function(e){return"number"==typeof e?(this._setProperty("_textLeading",e),this._pInst):this._textLeading},i.Renderer.prototype.textSize=function(e){return"number"==typeof e?(this._setProperty("_textSize",e),this._setProperty("_textLeading",e*y._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},i.Renderer.prototype.textStyle=function(e){return e?(e!==y.NORMAL&&e!==y.ITALIC&&e!==y.BOLD&&e!==y.BOLDITALIC||this._setProperty("_textStyle",e),this._applyTextProperties()):this._textStyle},i.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},i.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},i.Renderer.prototype.textAlign=function(e,t){return void 0!==e?(this._setProperty("_textAlign",e),void 0!==t&&this._setProperty("_textBaseline",t),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},i.Renderer.prototype.text=function(e,t,r,i,n){var o,a,s,h,l,u,c,p,d=this._pInst,f=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==e){if("string"!=typeof e&&(e=e.toString()),o=(e=e.replace(/(\t)/g,"  ")).split("\n"),void 0!==i){for(s=p=0;s<o.length;s++)for(l="",c=o[s].split(" "),a=0;a<c.length;a++)u=l+c[a]+" ",i<this.textWidth(u)?(l=c[a]+" ",p+=d.textLeading()):l=u;switch(this._rectMode===y.CENTER&&(t-=i/2,r-=n/2),this._textAlign){case y.CENTER:t+=i/2;break;case y.RIGHT:t+=i}var m=!1;if(void 0!==n){switch(this._textBaseline){case y.BOTTOM:r+=n-p;break;case y.CENTER:r+=(n-p)/2;break;case y.BASELINE:m=!0,this._textBaseline=y.TOP}f=r+n-d.textAscent()}for(s=0;s<o.length;s++){for(l="",c=o[s].split(" "),a=0;a<c.length;a++)u=l+c[a]+" ",i<this.textWidth(u)&&0<l.length?(this._renderText(d,l,t,r,f),l=c[a]+" ",r+=d.textLeading()):l=u;this._renderText(d,l,t,r,f),r+=d.textLeading(),m&&(this._textBaseline=y.BASELINE)}}else{var v=0,g=d.textAlign().vertical;for(g===y.CENTER?v=(o.length-1)*d.textLeading()/2:g===y.BOTTOM&&(v=(o.length-1)*d.textLeading()),h=0;h<o.length;h++)this._renderText(d,o[h],t,r-v,f),r+=d.textLeading()}return d}},i.Renderer.prototype._applyDefaults=function(){return this},i.Renderer.prototype._isOpenType=function(e){return"object"==typeof(e=e||this._textFont)&&e.font&&e.font.supported},i.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var e=document.createElement("span");e.style.fontFamily=this._textFont,e.style.fontSize=this._textSize+"px",e.innerHTML="ABCjgq|";var t=document.createElement("div");t.style.display="inline-block",t.style.width="1px",t.style.height="0px";var r=document.createElement("div");r.appendChild(e),r.appendChild(t),r.style.height="0px",r.style.overflow="hidden",document.body.appendChild(r),t.style.verticalAlign="baseline";var i=s(t),n=s(e),o=i[1]-n[1];t.style.verticalAlign="bottom",i=s(t),n=s(e);var a=i[1]-n[1]-o;return document.body.removeChild(r),this._setProperty("_textAscent",o),this._setProperty("_textDescent",a),this},t.exports=i.Renderer},{"../core/constants":17,"./main":23}],27:[function(e,t,r){"use strict";var m=e("./main"),f=e("./constants"),c=e("../image/filters");e("./p5.Renderer");var v="rgba(0,0,0,0)";m.Renderer2D=function(e,t,r){return m.Renderer.call(this,e,t,r),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},m.Renderer2D.prototype=Object.create(m.Renderer.prototype),m.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._setFill(f._DEFAULT_FILL),this._setStroke(f._DEFAULT_STROKE),this.drawingContext.lineCap=f.ROUND,this.drawingContext.font="normal 12px sans-serif"},m.Renderer2D.prototype.resize=function(e,t){m.Renderer.prototype.resize.call(this,e,t),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},m.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),arguments[0]instanceof m.Image)this._pInst.image(arguments[0],0,0,this.width,this.height);else{var e=this._getFill(),t=this._pInst.color.apply(this._pInst,arguments).toString();this._setFill(t),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(e)}this.drawingContext.restore(),this._pInst._pixelsDirty=!0},m.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore(),this._pInst._pixelsDirty=!0},m.Renderer2D.prototype.fill=function(){var e=this._pInst.color.apply(this._pInst,arguments);this._setFill(e.toString())},m.Renderer2D.prototype.stroke=function(){var e=this._pInst.color.apply(this._pInst,arguments);this._setStroke(e.toString())},m.Renderer2D.prototype.image=function(e,t,r,i,n,o,a,s,h){var l;try{this._tint&&(m.MediaElement&&e instanceof m.MediaElement&&e.loadPixels(),e.canvas&&(l=this._getTintedImageCanvas(e))),l||(l=e.canvas||e.elt);var u=1;e.width&&0<e.width&&(u=l.width/e.width),this.drawingContext.drawImage(l,u*t,u*r,u*i,u*n,o,a,s,h)}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e}this._pInst._pixelsDirty=!0},m.Renderer2D.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=c._toPixels(e.canvas),r=document.createElement("canvas");r.width=e.canvas.width,r.height=e.canvas.height;for(var i=r.getContext("2d"),n=i.createImageData(e.canvas.width,e.canvas.height),o=n.data,a=0;a<t.length;a+=4){var s=t[a],h=t[a+1],l=t[a+2],u=t[a+3];o[a]=s*this._tint[0]/255,o[a+1]=h*this._tint[1]/255,o[a+2]=l*this._tint[2]/255,o[a+3]=u*this._tint[3]/255}return i.putImageData(n,0,0),r},m.Renderer2D.prototype.blendMode=function(e){this.drawingContext.globalCompositeOperation=e},m.Renderer2D.prototype.blend=function(){var e=this.drawingContext.globalCompositeOperation,t=arguments[arguments.length-1],r=Array.prototype.slice.call(arguments,0,arguments.length-1);this.drawingContext.globalCompositeOperation=t,this._pInst?this._pInst.copy.apply(this._pInst,r):this.copy.apply(this,r),this.drawingContext.globalCompositeOperation=e},m.Renderer2D.prototype.copy=function(){var e,t,r,i,n,o,a,s,h;if(9===arguments.length)e=arguments[0],t=arguments[1],r=arguments[2],i=arguments[3],n=arguments[4],o=arguments[5],a=arguments[6],s=arguments[7],h=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");e=this._pInst,t=arguments[0],r=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],a=arguments[5],s=arguments[6],h=arguments[7]}m.Renderer2D._copyHelper(this,e,t,r,i,n,o,a,s,h),this._pInst._pixelsDirty=!0},m.Renderer2D._copyHelper=function(e,t,r,i,n,o,a,s,h,l){t.loadPixels();var u=t.canvas.width/t.width;e.drawingContext.drawImage(t.canvas,u*r,u*i,u*n,u*o,a,s,h,l)},m.Renderer2D.prototype.get=function(e,t,r,i){var n,o,a=this._pInst||this,s=a._pixelDensity,h=e*s,l=t*s;if(1===r&&1===i)return o=a._pixelsDirty?(n=this.drawingContext.getImageData(h,l,1,1).data,0):(n=a.pixels,4*(h+l*this.width*s)),[n[o+0],n[o+1],n[o+2],n[o+3]];var u=Math.min(r,a.width),c=Math.min(i,a.height),p=u*s,d=c*s,f=new m.Image(u,c);return f.canvas.getContext("2d").drawImage(this.canvas,h,l,p,d,0,0,u,c),f},m.Renderer2D.prototype.loadPixels=function(){var e=this._pInst||this;if(e._pixelsDirty){e._pixelsDirty=!1;var t=e._pixelDensity,r=this.width*t,i=this.height*t,n=this.drawingContext.getImageData(0,0,r,i);e._setProperty("imageData",n),e._setProperty("pixels",n.data)}},m.Renderer2D.prototype.set=function(e,t,r){e=Math.floor(e),t=Math.floor(t);var i=this._pInst||this;if(r instanceof m.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(i._pixelDensity,i._pixelDensity),this.drawingContext.drawImage(r.canvas,e,t),this.drawingContext.restore(),i._pixelsDirty=!0;else{var n=0,o=0,a=0,s=0,h=4*(t*i._pixelDensity*(this.width*i._pixelDensity)+e*i._pixelDensity);if(i.imageData&&!i._pixelsDirty||i.loadPixels.call(i),"number"==typeof r)h<i.pixels.length&&(a=o=n=r,s=255);else if(r instanceof Array){if(r.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");h<i.pixels.length&&(n=r[0],o=r[1],a=r[2],s=r[3])}else r instanceof m.Color&&h<i.pixels.length&&(n=r.levels[0],o=r.levels[1],a=r.levels[2],s=r.levels[3]);for(var l=0;l<i._pixelDensity;l++)for(var u=0;u<i._pixelDensity;u++)h=4*((t*i._pixelDensity+u)*this.width*i._pixelDensity+(e*i._pixelDensity+l)),i.pixels[h]=n,i.pixels[h+1]=o,i.pixels[h+2]=a,i.pixels[h+3]=s}},m.Renderer2D.prototype.updatePixels=function(e,t,r,i){var n=this._pInst||this,o=n._pixelDensity;void 0===e&&void 0===t&&void 0===r&&void 0===i&&(t=e=0,r=this.width,i=this.height),r*=o,i*=o,this.drawingContext.putImageData(n.imageData,e,t,0,0,r,i),0===e&&0===t&&r===this.width&&i===this.height||(n._pixelsDirty=!0)},m.Renderer2D.prototype._acuteArcToBezier=function(e,t){var r=t/2,i=Math.cos(r),n=Math.sin(r),o=1/Math.tan(r),a=e+r,s=Math.cos(a),h=Math.sin(a),l=(4-i)/3,u=n+(i-l)*o;return{ax:Math.cos(e),ay:Math.sin(e),bx:l*s+u*h,by:l*h-u*s,cx:l*s-u*h,cy:l*h+u*s,dx:Math.cos(e+t),dy:Math.sin(e+t)}},m.Renderer2D.prototype.arc=function(r,i,e,t,n,o,a){var s=this.drawingContext,h=e/2,l=t/2,u=0,c=[];for(r+=h,i+=l;1e-5<o-n;)u=Math.min(o-n,f.HALF_PI),c.push(this._acuteArcToBezier(n,u)),n+=u;return this._doFill&&(s.beginPath(),c.forEach(function(e,t){0===t&&s.moveTo(r+e.ax*h,i+e.ay*l),s.bezierCurveTo(r+e.bx*h,i+e.by*l,r+e.cx*h,i+e.cy*l,r+e.dx*h,i+e.dy*l)}),a!==f.PIE&&null!=a||s.lineTo(r,i),s.closePath(),s.fill()),this._doStroke&&(s.beginPath(),c.forEach(function(e,t){0===t&&s.moveTo(r+e.ax*h,i+e.ay*l),s.bezierCurveTo(r+e.bx*h,i+e.by*l,r+e.cx*h,i+e.cy*l,r+e.dx*h,i+e.dy*l)}),a===f.PIE?(s.lineTo(r,i),s.closePath()):a===f.CHORD&&s.closePath(),s.stroke()),this},m.Renderer2D.prototype.ellipse=function(e){var t=this.drawingContext,r=this._doFill,i=this._doStroke,n=e[0],o=e[1],a=e[2],s=e[3];if(r&&!i){if(this._getFill()===v)return this}else if(!r&&i&&this._getStroke()===v)return this;var h=a/2*.5522847498,l=s/2*.5522847498,u=n+a,c=o+s,p=n+a/2,d=o+s/2;t.beginPath(),t.moveTo(n,d),t.bezierCurveTo(n,d-l,p-h,o,p,o),t.bezierCurveTo(p+h,o,u,d-l,u,d),t.bezierCurveTo(u,d+l,p+h,c,p,c),t.bezierCurveTo(p-h,c,n,d+l,n,d),t.closePath(),r&&t.fill(),i&&t.stroke()},m.Renderer2D.prototype.line=function(e,t,r,i){var n=this.drawingContext;return this._doStroke&&(this._getStroke()===v||(n.lineWidth%2==1&&n.translate(.5,.5),n.beginPath(),n.moveTo(e,t),n.lineTo(r,i),n.stroke(),n.lineWidth%2==1&&n.translate(-.5,-.5))),this},m.Renderer2D.prototype.point=function(e,t){var r=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===v)return this;var i=this._getStroke(),n=this._getFill();e=Math.round(e),t=Math.round(t),this._setFill(i),1<r.lineWidth?(r.beginPath(),r.arc(e,t,r.lineWidth/2,0,f.TWO_PI,!1),r.fill()):r.fillRect(e,t,1,1),this._setFill(n)},m.Renderer2D.prototype.quad=function(e,t,r,i,n,o,a,s){var h=this.drawingContext,l=this._doFill,u=this._doStroke;if(l&&!u){if(this._getFill()===v)return this}else if(!l&&u&&this._getStroke()===v)return this;return h.beginPath(),h.moveTo(e,t),h.lineTo(r,i),h.lineTo(n,o),h.lineTo(a,s),h.closePath(),l&&h.fill(),u&&h.stroke(),this},m.Renderer2D.prototype.rect=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],a=e[5],s=e[6],h=e[7],l=this.drawingContext,u=this._doFill,c=this._doStroke;if(u&&!c){if(this._getFill()===v)return this}else if(!u&&c&&this._getStroke()===v)return this;if(this._doStroke&&l.lineWidth%2==1&&l.translate(.5,.5),l.beginPath(),void 0===o)l.rect(t,r,i,n);else{void 0===a&&(a=o),void 0===s&&(s=a),void 0===h&&(h=s);var p=i/2,d=n/2;i<2*o&&(o=p),n<2*o&&(o=d),i<2*a&&(a=p),n<2*a&&(a=d),i<2*s&&(s=p),n<2*s&&(s=d),i<2*h&&(h=p),n<2*h&&(h=d),l.beginPath(),l.moveTo(t+o,r),l.arcTo(t+i,r,t+i,r+n,a),l.arcTo(t+i,r+n,t,r+n,s),l.arcTo(t,r+n,t,r,h),l.arcTo(t,r,t+i,r,o),l.closePath()}return this._doFill&&l.fill(),this._doStroke&&l.stroke(),this._doStroke&&l.lineWidth%2==1&&l.translate(-.5,-.5),this},m.Renderer2D.prototype.triangle=function(e){var t=this.drawingContext,r=this._doFill,i=this._doStroke,n=e[0],o=e[1],a=e[2],s=e[3],h=e[4],l=e[5];if(r&&!i){if(this._getFill()===v)return this}else if(!r&&i&&this._getStroke()===v)return this;t.beginPath(),t.moveTo(n,o),t.lineTo(a,s),t.lineTo(h,l),t.closePath(),r&&t.fill(),i&&t.stroke()},m.Renderer2D.prototype.endShape=function(e,t,r,i,n,o,a){if(0===t.length)return this;if(!this._doStroke&&!this._doFill)return this;var s,h,l,u=e===f.CLOSE;u&&!o&&t.push(t[0]);var c=t.length;if(!r||a!==f.POLYGON&&null!==a)if(!i||a!==f.POLYGON&&null!==a)if(!n||a!==f.POLYGON&&null!==a)if(a===f.POINTS)for(h=0;h<c;h++)s=t[h],this._doStroke&&this._pInst.stroke(s[6]),this._pInst.point(s[0],s[1]);else if(a===f.LINES)for(h=0;h+1<c;h+=2)s=t[h],this._doStroke&&this._pInst.stroke(t[h+1][6]),this._pInst.line(s[0],s[1],t[h+1][0],t[h+1][1]);else if(a===f.TRIANGLES)for(h=0;h+2<c;h+=3)s=t[h],this.drawingContext.beginPath(),this.drawingContext.moveTo(s[0],s[1]),this.drawingContext.lineTo(t[h+1][0],t[h+1][1]),this.drawingContext.lineTo(t[h+2][0],t[h+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(t[h+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(t[h+2][6]),this.drawingContext.stroke());else if(a===f.TRIANGLE_STRIP)for(h=0;h+1<c;h++)s=t[h],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[h+1][0],t[h+1][1]),this.drawingContext.lineTo(s[0],s[1]),this._doStroke&&this._pInst.stroke(t[h+1][6]),this._doFill&&this._pInst.fill(t[h+1][5]),h+2<c&&(this.drawingContext.lineTo(t[h+2][0],t[h+2][1]),this._doStroke&&this._pInst.stroke(t[h+2][6]),this._doFill&&this._pInst.fill(t[h+2][5])),this._doFillStrokeClose(u);else if(a===f.TRIANGLE_FAN){if(2<c){for(this.drawingContext.beginPath(),h=2;h<c;h++)s=t[h],this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[h-1][0],t[h-1][1]),this.drawingContext.lineTo(s[0],s[1]),this.drawingContext.lineTo(t[0][0],t[0][1]),h<c-1&&(this._doFill&&s[5]!==t[h+1][5]||this._doStroke&&s[6]!==t[h+1][6])&&(this._doFill&&(this._pInst.fill(s[5]),this.drawingContext.fill(),this._pInst.fill(t[h+1][5])),this._doStroke&&(this._pInst.stroke(s[6]),this.drawingContext.stroke(),this._pInst.stroke(t[h+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(u)}}else if(a===f.QUADS)for(h=0;h+3<c;h+=4){for(s=t[h],this.drawingContext.beginPath(),this.drawingContext.moveTo(s[0],s[1]),l=1;l<4;l++)this.drawingContext.lineTo(t[h+l][0],t[h+l][1]);this.drawingContext.lineTo(s[0],s[1]),this._doFill&&this._pInst.fill(t[h+3][5]),this._doStroke&&this._pInst.stroke(t[h+3][6]),this._doFillStrokeClose(u)}else if(a===f.QUAD_STRIP){if(3<c)for(h=0;h+1<c;h+=2)s=t[h],this.drawingContext.beginPath(),h+3<c?(this.drawingContext.moveTo(t[h+2][0],t[h+2][1]),this.drawingContext.lineTo(s[0],s[1]),this.drawingContext.lineTo(t[h+1][0],t[h+1][1]),this.drawingContext.lineTo(t[h+3][0],t[h+3][1]),this._doFill&&this._pInst.fill(t[h+3][5]),this._doStroke&&this._pInst.stroke(t[h+3][6])):(this.drawingContext.moveTo(s[0],s[1]),this.drawingContext.lineTo(t[h+1][0],t[h+1][1])),this._doFillStrokeClose(u)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),h=1;h<c;h++)(s=t[h]).isVert&&(s.moveTo?this.drawingContext.moveTo(s[0],s[1]):this.drawingContext.lineTo(s[0],s[1]));this._doFillStrokeClose(u)}else{for(this.drawingContext.beginPath(),h=0;h<c;h++)t[h].isVert?t[h].moveTo?this.drawingContext.moveTo([0],t[h][1]):this.drawingContext.lineTo(t[h][0],t[h][1]):this.drawingContext.quadraticCurveTo(t[h][0],t[h][1],t[h][2],t[h][3]);this._doFillStrokeClose(u)}else{for(this.drawingContext.beginPath(),h=0;h<c;h++)t[h].isVert?t[h].moveTo?this.drawingContext.moveTo(t[h][0],t[h][1]):this.drawingContext.lineTo(t[h][0],t[h][1]):this.drawingContext.bezierCurveTo(t[h][0],t[h][1],t[h][2],t[h][3],t[h][4],t[h][5]);this._doFillStrokeClose(u)}else if(3<c){var p=[],d=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[1][0],t[1][1]),h=1;h+2<c;h++)s=t[h],p[0]=[s[0],s[1]],p[1]=[s[0]+(d*t[h+1][0]-d*t[h-1][0])/6,s[1]+(d*t[h+1][1]-d*t[h-1][1])/6],p[2]=[t[h+1][0]+(d*t[h][0]-d*t[h+2][0])/6,t[h+1][1]+(d*t[h][1]-d*t[h+2][1])/6],p[3]=[t[h+1][0],t[h+1][1]],this.drawingContext.bezierCurveTo(p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]);u&&this.drawingContext.lineTo(t[h+1][0],t[h+1][1]),this._doFillStrokeClose(u)}return o=n=i=r=!1,u&&t.pop(),this._pInst._pixelsDirty=!0,this},m.Renderer2D.prototype.noSmooth=function(){return"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},m.Renderer2D.prototype.smooth=function(){return"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},m.Renderer2D.prototype.strokeCap=function(e){return e!==f.ROUND&&e!==f.SQUARE&&e!==f.PROJECT||(this.drawingContext.lineCap=e),this},m.Renderer2D.prototype.strokeJoin=function(e){return e!==f.ROUND&&e!==f.BEVEL&&e!==f.MITER||(this.drawingContext.lineJoin=e),this},m.Renderer2D.prototype.strokeWeight=function(e){return this.drawingContext.lineWidth=void 0===e||0===e?1e-4:e,this},m.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},m.Renderer2D.prototype._setFill=function(e){e!==this._cachedFillStyle&&(this.drawingContext.fillStyle=e,this._cachedFillStyle=e)},m.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},m.Renderer2D.prototype._setStroke=function(e){e!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=e,this._cachedStrokeStyle=e)},m.Renderer2D.prototype.bezier=function(e,t,r,i,n,o,a,s){return this._pInst.beginShape(),this._pInst.vertex(e,t),this._pInst.bezierVertex(r,i,n,o,a,s),this._pInst.endShape(),this},m.Renderer2D.prototype.curve=function(e,t,r,i,n,o,a,s){return this._pInst.beginShape(),this._pInst.curveVertex(e,t),this._pInst.curveVertex(r,i),this._pInst.curveVertex(n,o),this._pInst.curveVertex(a,s),this._pInst.endShape(),this},m.Renderer2D.prototype._doFillStrokeClose=function(e){e&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke(),this._pInst._pixelsDirty=!0},m.Renderer2D.prototype.applyMatrix=function(e,t,r,i,n,o){this.drawingContext.transform(e,t,r,i,n,o)},m.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},m.Renderer2D.prototype.rotate=function(e){this.drawingContext.rotate(e)},m.Renderer2D.prototype.scale=function(e,t){return this.drawingContext.scale(e,t),this},m.Renderer2D.prototype.shearX=function(e){return this.drawingContext.transform(1,0,Math.tan(e),1,0,0),this},m.Renderer2D.prototype.shearY=function(e){return this.drawingContext.transform(1,Math.tan(e),0,1,0,0),this},m.Renderer2D.prototype.translate=function(e,t){return e instanceof m.Vector&&(t=e.y,e=e.x),this.drawingContext.translate(e,t),this},m.Renderer2D.prototype.text=function(e,t,r,i,n){var o;void 0!==i&&void 0!==n&&this.drawingContext.textBaseline===f.BASELINE&&(o=!0,this.drawingContext.textBaseline=f.TOP);var a=m.Renderer.prototype.text.apply(this,arguments);return o&&(this.drawingContext.textBaseline=f.BASELINE),a},m.Renderer2D.prototype._renderText=function(e,t,r,i,n){if(!(n<=i))return e.push(),this._isOpenType()?this._textFont._renderPath(t,r,i,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(t,r,i),this._doFill&&(this._fillSet||this._setFill(f._DEFAULT_TEXT_FILL),this.drawingContext.fillText(t,r,i))),e.pop(),this._pInst._pixelsDirty=!0,e},m.Renderer2D.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):this.drawingContext.measureText(e).width},m.Renderer2D.prototype._applyTextProperties=function(){var e,t=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),e=this._textFont,this._isOpenType()&&(e=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font=(this._textStyle||"normal")+" "+(this._textSize||12)+"px "+(e||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===f.CENTER?this.drawingContext.textBaseline=f._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,t},m.Renderer2D.prototype.push=function(){return this.drawingContext.save(),m.Renderer.prototype.push.apply(this)},m.Renderer2D.prototype.pop=function(e){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,m.Renderer.prototype.pop.call(this,e)},t.exports=m.Renderer2D},{"../image/filters":41,"./constants":17,"./main":23,"./p5.Renderer":26}],28:[function(e,t,r){"use strict";var s=e("./main"),h=e("./constants");e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var l="defaultCanvas0";s.prototype.createCanvas=function(e,t,r){s._validateParameters("createCanvas",arguments);var i,n=r||h.P2D;if(n===h.WEBGL){if(i=document.getElementById(l)){i.parentNode.removeChild(i);var o=this._renderer;this._elements=this._elements.filter(function(e){return e!==o})}(i=document.createElement("canvas")).id=l,i.classList.add("p5Canvas")}else if(this._defaultGraphicsCreated)i=this.canvas;else{i=document.createElement("canvas");for(var a=0;document.getElementById("defaultCanvas"+a);)a++;l="defaultCanvas"+a,i.id=l,i.classList.add("p5Canvas")}return this._setupDone||(i.dataset.hidden=!0,i.style.visibility="hidden"),this._userNode?this._userNode.appendChild(i):document.body.appendChild(i),n===h.WEBGL?(this._setProperty("_renderer",new s.RendererGL(i,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new s.Renderer2D(i,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(e,t),this._renderer._applyDefaults(),this._renderer},s.prototype.resizeCanvas=function(e,t,r){if(s._validateParameters("resizeCanvas",arguments),this._renderer){var i={};for(var n in this.drawingContext){var o=this.drawingContext[n];"object"!=typeof o&&"function"!=typeof o&&(i[n]=o)}for(var a in this._renderer.resize(e,t),this.width=e,this.height=t,i)try{this.drawingContext[a]=i[a]}catch(e){}r||this.redraw()}},s.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},s.prototype.createGraphics=function(e,t,r){return s._validateParameters("createGraphics",arguments),new s.Graphics(e,t,r,this)},s.prototype.blendMode=function(e){if(s._validateParameters("blendMode",arguments),e!==h.BLEND&&e!==h.DARKEST&&e!==h.LIGHTEST&&e!==h.DIFFERENCE&&e!==h.MULTIPLY&&e!==h.EXCLUSION&&e!==h.SCREEN&&e!==h.REPLACE&&e!==h.OVERLAY&&e!==h.HARD_LIGHT&&e!==h.SOFT_LIGHT&&e!==h.DODGE&&e!==h.BURN&&e!==h.ADD&&e!==h.NORMAL)throw new Error("Mode "+e+" not recognized.");this._renderer.blendMode(e)},t.exports=s},{"../webgl/p5.RendererGL":73,"./constants":17,"./main":23,"./p5.Graphics":25,"./p5.Renderer2D":27}],29:[function(e,t,r){"use strict";var l=e("../main"),u=e("../constants"),c=e("../helpers");e("../error_helpers"),l.prototype.arc=function(e,t,r,i,n,o,a,s){if(l._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;for(n=this._toRadians(n),o=this._toRadians(o);n<0;)n+=u.TWO_PI;for(;o<0;)o+=u.TWO_PI;void 0!==n&&void 0!==o&&(o.toFixed(10)===n.toFixed(10)||Math.abs(o-n)===u.TWO_PI?(n%=u.TWO_PI,o%=u.TWO_PI,n+=u.TWO_PI):Math.abs(o-n)>u.TWO_PI&&(n%=u.TWO_PI,o%=u.TWO_PI,o+=u.TWO_PI)),n<=u.HALF_PI?n=Math.atan(r/i*Math.tan(n)):n>u.HALF_PI&&n<=3*u.HALF_PI&&(n=Math.atan(r/i*Math.tan(n))+u.PI),o<=u.HALF_PI?o=Math.atan(r/i*Math.tan(o)):o>u.HALF_PI&&o<=3*u.HALF_PI&&(o=Math.atan(r/i*Math.tan(o))+u.PI),o<n&&(o+=u.TWO_PI),r=Math.abs(r),i=Math.abs(i);var h=c.modeAdjust(e,t,r,i,this._renderer._ellipseMode);return this._renderer.arc(h.x,h.y,h.w,h.h,n,o,a,s),this},l.prototype.ellipse=function(e,t,r,i,n){if(l._validateParameters("ellipse",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;r<0&&(r=Math.abs(r)),void 0===i?i=r:i<0&&(i=Math.abs(i));var o=c.modeAdjust(e,t,r,i,this._renderer._ellipseMode);return this._renderer.ellipse([o.x,o.y,o.w,o.h,n]),this},l.prototype.circle=function(){var e=Array.prototype.slice.call(arguments,0,2);e.push(2*arguments[2]),e.push(2*arguments[2]),this.ellipse.apply(this,e)},l.prototype.line=function(){return l._validateParameters("line",arguments),this._renderer._doStroke&&this._renderer.line.apply(this._renderer,arguments),this},l.prototype.point=function(){return l._validateParameters("point",arguments),this._renderer._doStroke&&this._renderer.point.apply(this._renderer,arguments),this},l.prototype.quad=function(){return l._validateParameters("quad",arguments),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.quad.apply(this._renderer,arguments),this},l.prototype.rect=function(){if(l._validateParameters("rect",arguments),this._renderer._doStroke||this._renderer._doFill){for(var e=c.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),t=[e.x,e.y,e.w,e.h],r=4;r<arguments.length;r++)t[r]=arguments[r];this._renderer.rect(t)}return this},l.prototype.square=function(){var e=Array.prototype.slice.call(arguments,0,3);e.push(arguments[2]),e=e.concat(Array.prototype.slice.call(arguments,4)),this.rect.apply(this,e)},l.prototype.triangle=function(){return l._validateParameters("triangle",arguments),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(arguments),this},t.exports=l},{"../constants":17,"../error_helpers":19,"../helpers":20,"../main":23}],30:[function(e,t,r){"use strict";var i=e("../main"),n=e("../constants");i.prototype.ellipseMode=function(e){return i._validateParameters("ellipseMode",arguments),e!==n.CORNER&&e!==n.CORNERS&&e!==n.RADIUS&&e!==n.CENTER||(this._renderer._ellipseMode=e),this},i.prototype.noSmooth=function(){return this._renderer.noSmooth(),this},i.prototype.rectMode=function(e){return i._validateParameters("rectMode",arguments),e!==n.CORNER&&e!==n.CORNERS&&e!==n.RADIUS&&e!==n.CENTER||(this._renderer._rectMode=e),this},i.prototype.smooth=function(){return this._renderer.smooth(),this},i.prototype.strokeCap=function(e){return i._validateParameters("strokeCap",arguments),e!==n.ROUND&&e!==n.SQUARE&&e!==n.PROJECT||this._renderer.strokeCap(e),this},i.prototype.strokeJoin=function(e){return i._validateParameters("strokeJoin",arguments),e!==n.ROUND&&e!==n.BEVEL&&e!==n.MITER||this._renderer.strokeJoin(e),this},i.prototype.strokeWeight=function(e){return i._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(e),this},t.exports=i},{"../constants":17,"../main":23}],31:[function(e,t,r){"use strict";var s=e("../main");e("../error_helpers"),s.prototype.bezier=function(){return s._validateParameters("bezier",arguments),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.bezier.apply(this._renderer,arguments),this},s.prototype.bezierDetail=function(e){return s._validateParameters("bezierDetail",arguments),this._bezierDetail=e,this},s.prototype.bezierPoint=function(e,t,r,i,n){s._validateParameters("bezierPoint",arguments);var o=1-n;return Math.pow(o,3)*e+3*Math.pow(o,2)*n*t+3*o*Math.pow(n,2)*r+Math.pow(n,3)*i},s.prototype.bezierTangent=function(e,t,r,i,n){s._validateParameters("bezierTangent",arguments);var o=1-n;return 3*i*Math.pow(n,2)-3*r*Math.pow(n,2)+6*r*o*n-6*t*o*n+3*t*Math.pow(o,2)-3*e*Math.pow(o,2)},s.prototype.curve=function(){return s._validateParameters("curve",arguments),this._renderer._doStroke&&this._renderer.curve.apply(this._renderer,arguments),this},s.prototype.curveDetail=function(e){return s._validateParameters("curveDetail",arguments),this._curveDetail=e<3?3:e,this},s.prototype.curveTightness=function(e){return s._validateParameters("curveTightness",arguments),this._renderer._curveTightness=e,this},s.prototype.curvePoint=function(e,t,r,i,n){s._validateParameters("curvePoint",arguments);var o=n*n*n,a=n*n;return e*(-.5*o+a-.5*n)+t*(1.5*o-2.5*a+1)+r*(-1.5*o+2*a+.5*n)+i*(.5*o-.5*a)},s.prototype.curveTangent=function(e,t,r,i,n){s._validateParameters("curveTangent",arguments);var o=n*n;return e*(-3*o/2+2*n-.5)+t*(9*o/2-5*n)+r*(-9*o/2+4*n+.5)+i*(3*o/2-n)},t.exports=s},{"../error_helpers":19,"../main":23}],32:[function(e,t,r){"use strict";var i=e("../main"),n=e("../constants"),o=null,a=[],s=[],h=!1,l=!1,u=!1,c=!1,p=!0;i.prototype.beginContour=function(){return s=[],c=!0,this},i.prototype.beginShape=function(e){return i._validateParameters("beginShape",arguments),this._renderer.isP3D?this._renderer.beginShape.apply(this._renderer,arguments):(o=e===n.POINTS||e===n.LINES||e===n.TRIANGLES||e===n.TRIANGLE_FAN||e===n.TRIANGLE_STRIP||e===n.QUADS||e===n.QUAD_STRIP?e:null,a=[],s=[]),this},i.prototype.bezierVertex=function(){if(i._validateParameters("bezierVertex",arguments),this._renderer.isP3D)this._renderer.bezierVertex.apply(this._renderer,arguments);else if(0===a.length)i._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{h=!0;for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.isVert=!1,c?s.push(e):a.push(e)}return this},i.prototype.curveVertex=function(){return i._validateParameters("curveVertex",arguments),this._renderer.isP3D?this._renderer.curveVertex.apply(this._renderer,arguments):(l=!0,this.vertex(arguments[0],arguments[1])),this},i.prototype.endContour=function(){var e=s[0].slice();e.isVert=s[0].isVert,e.moveTo=!1,s.push(e),p&&(a.push(a[0]),p=!1);for(var t=0;t<s.length;t++)a.push(s[t]);return this},i.prototype.endShape=function(e){if(i._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(e,l,h,u,c,o);else{if(0===a.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var t=e===n.CLOSE;t&&!c&&a.push(a[0]),this._renderer.endShape(e,a,l,h,u,c,o),p=!(c=u=h=l=!1),t&&a.pop()}return this},i.prototype.quadraticVertex=function(){if(i._validateParameters("quadraticVertex",arguments),this._renderer.isP3D)this._renderer.quadraticVertex.apply(this._renderer,arguments);else{if(this._contourInited){var e={};return e.x=arguments[0],e.y=arguments[1],e.x3=arguments[2],e.y3=arguments[3],e.type=n.QUADRATIC,this._contourVertices.push(e),this}if(0<a.length){u=!0;for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.isVert=!1,c?s.push(t):a.push(t)}else i._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},i.prototype.vertex=function(e,t,r,i,n){if(this._renderer.isP3D)this._renderer.vertex.apply(this._renderer,arguments);else{var o=[];o.isVert=!0,o[0]=e,o[1]=t,o[2]=0,o[3]=0,o[4]=0,o[5]=this._renderer._getFill(),o[6]=this._renderer._getStroke(),r&&(o.moveTo=r),c?(0===s.length&&(o.moveTo=!0),s.push(o)):a.push(o)}return this},t.exports=i},{"../constants":17,"../main":23}],33:[function(e,t,r){"use strict";window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var s=Object.keys,e=Object.defineProperty,h="function"==typeof Symbol&&"symbol"==typeof Symbol(),r=Object.prototype.propertyIsEnumerable,l=function(t){return function(e){return r.call(t,e)}};e(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("target must be an object");var r,i,n,o,a=Object(e);for(r=1;r<arguments.length;++r)for(i=Object(arguments[r]),o=s(i),h&&Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(i).filter(l(i))),n=0;n<o.length;++n)a[o[n]]=i[o[n]];return a},configurable:!0,enumerable:!1,writable:!0})}}()},{}],34:[function(e,t,r){"use strict";var i=e("./main");i.prototype.noLoop=function(){this._loop=!1},i.prototype.loop=function(){this._loop=!0,this._draw()},i.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},i.prototype.pop=function(){var e=this._styles.pop();e?(this._renderer.pop(e.renderer),Object.assign(this,e.props)):console.warn("pop() was called without matching push()")},i.prototype.redraw=function(e){var t=parseInt(e);(isNaN(t)||t<1)&&(t=1);var r=this._isGlobal?window:this,i=r.setup,n=r.draw;if("function"==typeof n){void 0===i&&r.scale(r._pixelDensity,r._pixelDensity);for(var o=function(e){e.call(r)},a=0;a<t;a++)r.resetMatrix(),r._renderer.isP3D&&r._renderer._update(),r._setProperty("frameCount",r.frameCount+1),r._registeredMethods.pre.forEach(o),n(),r._registeredMethods.post.forEach(o)}},t.exports=i},{"./main":23}],35:[function(e,t,r){"use strict";var o=e("./main");o.prototype.applyMatrix=function(e,t,r,i,n,o){return this._renderer.applyMatrix(e,t,r,i,n,o),this},o.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},o.prototype.printMatrix=function(){throw new Error("printMatrix() not implemented")},o.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},o.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},o.prototype.rotate=function(e,t){return o._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(e),t),this},o.prototype.rotateX=function(e){return this._assert3d("rotateX"),o._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(e)),this},o.prototype.rotateY=function(e){return this._assert3d("rotateY"),o._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(e)),this},o.prototype.rotateZ=function(e){return this._assert3d("rotateZ"),o._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(e)),this},o.prototype.scale=function(e,t,r){if(o._validateParameters("scale",arguments),e instanceof o.Vector){var i=e;e=i.x,t=i.y,r=i.z}else if(e instanceof Array){var n=e;e=n[0],t=n[1],r=n[2]||1}return isNaN(t)?t=r=e:isNaN(r)&&(r=1),this._renderer.scale.call(this._renderer,e,t,r),this},o.prototype.shearX=function(e){return o._validateParameters("shearX",arguments),this._renderer.shearX(this._toRadians(e)),this},o.prototype.shearY=function(e){return o._validateParameters("shearY",arguments),this._renderer.shearY(this._toRadians(e)),this},o.prototype.translate=function(e,t,r){return o._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(e,t,r):this._renderer.translate(e,t),this},t.exports=o},{"./main":23}],36:[function(e,t,r){"use strict";var n=e("../core/main");n.prototype.createStringDict=function(e,t){return n._validateParameters("createStringDict",arguments),new n.StringDict(e,t)},n.prototype.createNumberDict=function(e,t){return n._validateParameters("createNumberDict",arguments),new n.NumberDict(e,t)},n.TypedDict=function(e,t){return e instanceof Object?this.data=e:(this.data={},this.data[e]=t),this},n.TypedDict.prototype.size=function(){return Object.keys(this.data).length},n.TypedDict.prototype.hasKey=function(e){return this.data.hasOwnProperty(e)},n.TypedDict.prototype.get=function(e){if(this.data.hasOwnProperty(e))return this.data[e];console.log(e+" does not exist in this Dictionary")},n.TypedDict.prototype.set=function(e,t){this._validate(t)?this.data[e]=t:console.log("Those values dont work for this dictionary type.")},n.TypedDict.prototype._addObj=function(e){for(var t in e)this.set(t,e[t])},n.TypedDict.prototype.create=function(e,t){e instanceof Object&&void 0===t?this._addObj(e):void 0!==e?this.set(e,t):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},n.TypedDict.prototype.clear=function(){this.data={}},n.TypedDict.prototype.remove=function(e){if(!this.data.hasOwnProperty(e))throw new Error(e+" does not exist in this Dictionary");delete this.data[e]},n.TypedDict.prototype.print=function(){for(var e in this.data)console.log("key:"+e+" value:"+this.data[e])},n.TypedDict.prototype.saveTable=function(e){var t="";for(var r in this.data)t+=r+","+this.data[r]+"\n";var i=new Blob([t],{type:"text/csv"});n.prototype.downloadFile(i,e||"mycsv","csv")},n.TypedDict.prototype.saveJSON=function(e,t){n.prototype.saveJSON(this.data,e,t)},n.TypedDict.prototype._validate=function(e){return!0},n.StringDict=function(){n.TypedDict.apply(this,arguments)},n.StringDict.prototype=Object.create(n.TypedDict.prototype),n.StringDict.prototype._validate=function(e){return"string"==typeof e},n.NumberDict=function(){n.TypedDict.apply(this,arguments)},n.NumberDict.prototype=Object.create(n.TypedDict.prototype),n.NumberDict.prototype._validate=function(e){return"number"==typeof e},n.NumberDict.prototype.add=function(e,t){this.data.hasOwnProperty(e)?this.data[e]+=t:console.log("The key - "+e+" does not exist in this dictionary.")},n.NumberDict.prototype.sub=function(e,t){this.add(e,-t)},n.NumberDict.prototype.mult=function(e,t){this.data.hasOwnProperty(e)?this.data[e]*=t:console.log("The key - "+e+" does not exist in this dictionary.")},n.NumberDict.prototype.div=function(e,t){this.data.hasOwnProperty(e)?this.data[e]/=t:console.log("The key - "+e+" does not exist in this dictionary.")},n.NumberDict.prototype._valueTest=function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var t=this.data[Object.keys(this.data)[0]];for(var r in this.data)this.data[r]*e<t*e&&(t=this.data[r]);return t},n.NumberDict.prototype.minValue=function(){return this._valueTest(1)},n.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},n.NumberDict.prototype._keyTest=function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var t=Object.keys(this.data)[0],r=1;r<Object.keys(this.data).length;r++)Object.keys(this.data)[r]*e<t*e&&(t=Object.keys(this.data)[r]);return t},n.NumberDict.prototype.minKey=function(){return this._keyTest(1)},n.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},t.exports=n.TypedDict},{"../core/main":23}],37:[function(e,t,r){"use strict";var i=e("../core/main");i.prototype.deviceOrientation=void 0,i.prototype.accelerationX=0,i.prototype.accelerationY=0,i.prototype.accelerationZ=0,i.prototype.pAccelerationX=0,i.prototype.pAccelerationY=0,i.prototype.pAccelerationZ=0,i.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},i.prototype.rotationX=0,i.prototype.rotationY=0,i.prototype.rotationZ=0,i.prototype.pRotationX=0,i.prototype.pRotationY=0;var c,p,d,f=i.prototype.pRotationZ=0,m=0,v=0,g="clockwise",y="clockwise",b="clockwise";i.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},i.prototype.turnAxis=void 0;var _=.5,x=30;i.prototype.setMoveThreshold=function(e){i._validateParameters("setMoveThreshold",arguments),_=e},i.prototype.setShakeThreshold=function(e){i._validateParameters("setShakeThreshold",arguments),x=e},i.prototype._ondeviceorientation=function(e){this._updatePRotations(),this._setProperty("rotationX",e.beta),this._setProperty("rotationY",e.gamma),this._setProperty("rotationZ",e.alpha),this._handleMotion()},i.prototype._ondevicemotion=function(e){this._updatePAccelerations(),this._setProperty("accelerationX",2*e.acceleration.x),this._setProperty("accelerationY",2*e.acceleration.y),this._setProperty("accelerationZ",2*e.acceleration.z),this._handleMotion()},i.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var e=this.deviceMoved||window.deviceMoved;"function"==typeof e&&(Math.abs(this.accelerationX-this.pAccelerationX)>_||Math.abs(this.accelerationY-this.pAccelerationY)>_||Math.abs(this.accelerationZ-this.pAccelerationZ)>_)&&e();var t=this.deviceTurned||window.deviceTurned;if("function"==typeof t){var r=this.rotationX+180,i=this.pRotationX+180,n=f+180;0<r-i&&r-i<270||r-i<-270?g="clockwise":(r-i<0||270<r-i)&&(g="counter-clockwise"),g!==c&&(n=r),90<Math.abs(r-n)&&Math.abs(r-n)<270&&(n=r,this._setProperty("turnAxis","X"),t()),c=g,f=n-180;var o=this.rotationY+180,a=this.pRotationY+180,s=m+180;0<o-a&&o-a<270||o-a<-270?y="clockwise":(o-a<0||270<o-this.pRotationY)&&(y="counter-clockwise"),y!==p&&(s=o),90<Math.abs(o-s)&&Math.abs(o-s)<270&&(s=o,this._setProperty("turnAxis","Y"),t()),p=y,m=s-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?b="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(b="counter-clockwise"),b!==d&&(v=this.rotationZ),90<Math.abs(this.rotationZ-v)&&Math.abs(this.rotationZ-v)<270&&(v=this.rotationZ,this._setProperty("turnAxis","Z"),t()),d=b,this._setProperty("turnAxis",void 0)}var h,l,u=this.deviceShaken||window.deviceShaken;"function"==typeof u&&(null!==this.pAccelerationX&&(h=Math.abs(this.accelerationX-this.pAccelerationX),l=Math.abs(this.accelerationY-this.pAccelerationY)),x<h+l&&u())},t.exports=i},{"../core/main":23}],38:[function(e,t,r){"use strict";var i=e("../core/main"),n={};i.prototype.isKeyPressed=!1,i.prototype.keyIsPressed=!1,i.prototype.key="",i.prototype.keyCode=0,i.prototype._onkeydown=function(e){if(!n[e.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",e.which),n[e.which]=!0,this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which);var t=this.keyPressed||window.keyPressed;if("function"==typeof t&&!e.charCode)!1===t(e)&&e.preventDefault()}},i.prototype._onkeyup=function(e){var t=this.keyReleased||window.keyReleased;(n[e.which]=!1,function(){for(var e in n)if(n.hasOwnProperty(e)&&!0===n[e])return!0;return!1}()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),this._setProperty("keyCode",e.which),"function"==typeof t)&&(!1===t(e)&&e.preventDefault())},i.prototype._onkeypress=function(e){if(e.which!==this._lastKeyCodeTyped){this._setProperty("keyCode",e.which),this._setProperty("_lastKeyCodeTyped",e.which),this._setProperty("key",String.fromCharCode(e.which));var t=this.keyTyped||window.keyTyped;if("function"==typeof t)!1===t(e)&&e.preventDefault()}},i.prototype._onblur=function(e){n={}},i.prototype.keyIsDown=function(e){return i._validateParameters("keyIsDown",arguments),n[e]},t.exports=i},{"../core/main":23}],39:[function(e,t,r){"use strict";var i=e("../core/main"),n=e("../core/constants");i.prototype._hasMouseInteracted=!1,i.prototype.mouseX=0,i.prototype.mouseY=0,i.prototype.pmouseX=0,i.prototype.pmouseY=0,i.prototype.winMouseX=0,i.prototype.winMouseY=0,i.prototype.pwinMouseX=0,i.prototype.pwinMouseY=0,i.prototype.mouseButton=0,i.prototype.mouseIsPressed=!1,i.prototype._updateNextMouseCoords=function(e){if(null!==this._curElement&&(!e.touches||0<e.touches.length)){var t=function(e,t,r,i){i&&!i.clientX&&(i.touches?i=i.touches[0]:i.changedTouches&&(i=i.changedTouches[0]));var n=e.getBoundingClientRect(),o=e.scrollWidth/t,a=e.scrollHeight/r;return{x:(i.clientX-n.left)/o,y:(i.clientY-n.top)/a,winX:i.clientX,winY:i.clientY,id:i.identifier}}(this._curElement.elt,this.width,this.height,e);this._setProperty("mouseX",t.x),this._setProperty("mouseY",t.y),this._setProperty("winMouseX",t.winX),this._setProperty("winMouseY",t.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},i.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},i.prototype._setMouseButton=function(e){1===e.button?this._setProperty("mouseButton",n.CENTER):2===e.button?this._setProperty("mouseButton",n.RIGHT):this._setProperty("mouseButton",n.LEFT)},i.prototype._onmousemove=function(e){var t=this._isGlobal?window:this;this._updateNextMouseCoords(e),this.mouseIsPressed?"function"==typeof t.mouseDragged?!1===t.mouseDragged(e)&&e.preventDefault():"function"==typeof t.touchMoved&&!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseMoved&&!1===t.mouseMoved(e)&&e.preventDefault()},i.prototype._onmousedown=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(e),this._updateNextMouseCoords(e),"function"==typeof t.mousePressed?!1===t.mousePressed(e)&&e.preventDefault():"function"==typeof t.touchStarted&&!1===t.touchStarted(e)&&e.preventDefault()},i.prototype._onmouseup=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof t.mouseReleased?!1===t.mouseReleased(e)&&e.preventDefault():"function"==typeof t.touchEnded&&!1===t.touchEnded(e)&&e.preventDefault()},i.prototype._ondragend=i.prototype._onmouseup,i.prototype._ondragover=i.prototype._onmousemove,i.prototype._onclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.mouseClicked&&(!1===t.mouseClicked(e)&&e.preventDefault())},i.prototype._ondblclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.doubleClicked&&(!1===t.doubleClicked(e)&&e.preventDefault())},i.prototype._mouseWheelDeltaY=0,i.prototype._pmouseWheelDeltaY=0,i.prototype._onwheel=function(e){var t=this._isGlobal?window:this;(this._setProperty("_mouseWheelDeltaY",e.deltaY),"function"==typeof t.mouseWheel)&&(e.delta=e.deltaY,!1===t.mouseWheel(e)&&e.preventDefault())},t.exports=i},{"../core/constants":17,"../core/main":23}],40:[function(e,t,r){"use strict";var i=e("../core/main");function n(e,t,r,i,n){n=n||0;var o=e.getBoundingClientRect(),a=e.scrollWidth/t,s=e.scrollHeight/r,h=i.touches[n]||i.changedTouches[n];return{x:(h.clientX-o.left)/a,y:(h.clientY-o.top)/s,winX:h.clientX,winY:h.clientY,id:h.identifier}}i.prototype.touches=[],i.prototype._updateTouchCoords=function(e){if(null!==this._curElement){for(var t=[],r=0;r<e.touches.length;r++)t[r]=n(this._curElement.elt,this.width,this.height,e,r);this._setProperty("touches",t)}},i.prototype._ontouchstart=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(e),this._updateNextMouseCoords(e),this._updateMouseCoords(),"function"==typeof t.touchStarted?!1===t.touchStarted(e)&&e.preventDefault():"function"==typeof t.mousePressed&&!1===t.mousePressed(e)&&e.preventDefault()},i.prototype._ontouchmove=function(e){var t=this._isGlobal?window:this;this._updateTouchCoords(e),this._updateNextMouseCoords(e),"function"==typeof t.touchMoved?!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseDragged&&!1===t.mouseDragged(e)&&e.preventDefault()},i.prototype._ontouchend=function(e){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(e),this._updateNextMouseCoords(e);var t=this._isGlobal?window:this;"function"==typeof t.touchEnded?!1===t.touchEnded(e)&&e.preventDefault():"function"==typeof t.mouseReleased&&!1===t.mouseReleased(e)&&e.preventDefault()},t.exports=i},{"../core/main":23}],41:[function(e,t,r){"use strict";var R,L,P,k,I={};function i(e,t){for(var r,i,n,o,a,s,h,l,u,c,p=I._toPixels(e),d=e.width,f=e.height,m=d*f,v=new Int32Array(m),g=0;g<m;g++)v[g]=I._getARGB(p,g);var y,b,_,x,w=new Int32Array(m),S=new Int32Array(m),T=new Int32Array(m),M=new Int32Array(m),E=0;for(function(e){var t=3.5*e|0;if(R!==(t=t<1?1:t<248?t:248)){L=1+(R=t)<<1,P=new Int32Array(L),k=new Array(L);for(var r=0;r<L;r++)k[r]=new Int32Array(256);for(var i,n,o,a,s=1,h=t-1;s<t;s++){P[t+s]=P[h]=n=h*h,o=k[t+s],a=k[h--];for(var l=0;l<256;l++)o[l]=a[l]=n*l}i=P[t]=t*t,o=k[t];for(var u=0;u<256;u++)o[u]=i*u}}(t),b=0;b<f;b++){for(y=0;y<d;y++){if(o=n=i=a=r=0,(s=y-R)<0)c=-s,s=0;else{if(d<=s)break;c=0}for(_=c;_<L&&!(d<=s);_++){var C=v[s+E];a+=(x=k[_])[(-16777216&C)>>>24],i+=x[(16711680&C)>>16],n+=x[(65280&C)>>8],o+=x[255&C],r+=P[_],s++}w[h=E+y]=a/r,S[h]=i/r,T[h]=n/r,M[h]=o/r}E+=d}for(u=(l=-R)*d,b=E=0;b<f;b++){for(y=0;y<d;y++){if(o=n=i=a=r=0,l<0)c=h=-l,s=y;else{if(f<=l)break;c=0,h=l,s=y+u}for(_=c;_<L&&!(f<=h);_++)a+=(x=k[_])[w[s]],i+=x[S[s]],n+=x[T[s]],o+=x[M[s]],r+=P[_],h++,s+=d;v[y+E]=a/r<<24|i/r<<16|n/r<<8|o/r}E+=d,u+=d,l++}I._setPixels(p,v)}I._toPixels=function(e){return e instanceof ImageData?e.data:e.getContext("2d").getImageData(0,0,e.width,e.height).data},I._getARGB=function(e,t){var r=4*t;return e[r+3]<<24&4278190080|e[r]<<16&16711680|e[r+1]<<8&65280|255&e[r+2]},I._setPixels=function(e,t){for(var r=0,i=0,n=e.length;i<n;i++)e[(r=4*i)+0]=(16711680&t[i])>>>16,e[r+1]=(65280&t[i])>>>8,e[r+2]=255&t[i],e[r+3]=(4278190080&t[i])>>>24},I._toImageData=function(e){return e instanceof ImageData?e:e.getContext("2d").getImageData(0,0,e.width,e.height)},I._createImageData=function(e,t){return I._tmpCanvas=document.createElement("canvas"),I._tmpCtx=I._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(e,t)},I.apply=function(e,t,r){var i=e.getContext("2d"),n=i.getImageData(0,0,e.width,e.height),o=t(n,r);o instanceof ImageData?i.putImageData(o,0,0,0,0,e.width,e.height):i.putImageData(n,0,0,0,0,e.width,e.height)},I.threshold=function(e,t){var r=I._toPixels(e);void 0===t&&(t=.5);for(var i=Math.floor(255*t),n=0;n<r.length;n+=4){var o;o=i<=.2126*r[n]+.7152*r[n+1]+.0722*r[n+2]?255:0,r[n]=r[n+1]=r[n+2]=o}},I.gray=function(e){for(var t=I._toPixels(e),r=0;r<t.length;r+=4){var i=.2126*t[r]+.7152*t[r+1]+.0722*t[r+2];t[r]=t[r+1]=t[r+2]=i}},I.opaque=function(e){for(var t=I._toPixels(e),r=0;r<t.length;r+=4)t[r+3]=255;return t},I.invert=function(e){for(var t=I._toPixels(e),r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},I.posterize=function(e,t){var r=I._toPixels(e);if(t<2||255<t)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var i=t-1,n=0;n<r.length;n+=4){var o=r[n],a=r[n+1],s=r[n+2];r[n]=255*(o*t>>8)/i,r[n+1]=255*(a*t>>8)/i,r[n+2]=255*(s*t>>8)/i}},I.dilate=function(e){for(var t,r,i,n,o,a,s,h,l,u,c,p,d,f,m,v,g,y=I._toPixels(e),b=0,_=y.length?y.length/4:0,x=new Int32Array(_);b<_;)for(r=(t=b)+e.width;b<r;)i=n=I._getARGB(y,b),(s=b-1)<t&&(s=b),r<=(a=b+1)&&(a=b),(h=b-e.width)<0&&(h=0),_<=(l=b+e.width)&&(l=b),p=I._getARGB(y,h),c=I._getARGB(y,s),d=I._getARGB(y,l),(o=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<(m=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(n=c,o=m),o<(f=77*((u=I._getARGB(y,a))>>16&255)+151*(u>>8&255)+28*(255&u))&&(n=u,o=f),o<(v=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(n=p,o=v),o<(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(n=d,o=g),x[b++]=n;I._setPixels(y,x)},I.erode=function(e){for(var t,r,i,n,o,a,s,h,l,u,c,p,d,f,m,v,g,y=I._toPixels(e),b=0,_=y.length?y.length/4:0,x=new Int32Array(_);b<_;)for(r=(t=b)+e.width;b<r;)i=n=I._getARGB(y,b),(s=b-1)<t&&(s=b),r<=(a=b+1)&&(a=b),(h=b-e.width)<0&&(h=0),_<=(l=b+e.width)&&(l=b),p=I._getARGB(y,h),c=I._getARGB(y,s),d=I._getARGB(y,l),(m=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(o=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(n=c,o=m),(f=77*((u=I._getARGB(y,a))>>16&255)+151*(u>>8&255)+28*(255&u))<o&&(n=u,o=f),(v=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<o&&(n=p,o=v),(g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<o&&(n=d,o=g),x[b++]=n;I._setPixels(y,x)},I.blur=function(e,t){i(e,t)},t.exports=I},{}],42:[function(e,t,r){"use strict";var c=e("../core/main"),p=[];c.prototype.createImage=function(e,t){return c._validateParameters("createImage",arguments),new c.Image(e,t)},c.prototype.saveCanvas=function(){c._validateParameters("saveCanvas",arguments);var e,t,r,i,n=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(e=arguments[0],n.shift()):arguments[0]instanceof c.Element?(e=arguments[0].elt,n.shift()):e=this._curElement&&this._curElement.elt,1<=n.length&&(t=n[0]),2<=n.length&&(r=n[1]),r=r||c.prototype._checkFileExtension(t,r)[1]||"png"){default:i="image/png";break;case"jpeg":case"jpg":i="image/jpeg"}e.toBlob(function(e){c.prototype.downloadFile(e,t,r)},i)},c.prototype.saveFrames=function(e,t,r,i,n){c._validateParameters("saveFrames",arguments);var o=r||3;o=c.prototype.constrain(o,0,15),o*=1e3;var a=i||15;a=c.prototype.constrain(a,0,22);var s=0,h=c.prototype._makeFrame,l=this._curElement.elt,u=setInterval(function(){h(e+s,t,l),s++},1e3/a);setTimeout(function(){if(clearInterval(u),n)n(p);else for(var e=0;e<p.length;e++){var t=p[e];c.prototype.downloadFile(t.imageData,t.filename,t.ext)}p=[]},o+.01)},c.prototype._makeFrame=function(e,t,r){var i,n;if(i=this?this._curElement.elt:r,t)switch(t.toLowerCase()){case"png":n="image/png";break;case"jpeg":case"jpg":n="image/jpeg";break;default:n="image/png"}else t="png",n="image/png";var o=i.toDataURL(n);o=o.replace(n,"image/octet-stream");var a={};a.imageData=o,a.filename=e,a.ext=t,p.push(a)},t.exports=c},{"../core/main":23}],43:[function(e,t,r){"use strict";var x=e("../core/main"),c=e("./filters"),w=e("../core/helpers"),i=e("../core/constants");function S(e,t){return 0<e&&e<t?e:t}e("../core/error_helpers"),x.prototype.loadImage=function(e,t,r){x._validateParameters("loadImage",arguments);var i=new Image,n=new x.Image(1,1,this),o=this;return i.onload=function(){n.width=n.canvas.width=i.width,n.height=n.canvas.height=i.height,n.drawingContext.drawImage(i,0,0),n.modified=!0,"function"==typeof t&&t(n),o._decrementPreload()},i.onerror=function(e){x._friendlyFileLoadError(0,i.src),"function"==typeof r?r(e):console.error(e)},0!==e.indexOf("data:image/")&&(i.crossOrigin="Anonymous"),i.src=e,n},x.prototype.image=function(e,t,r,i,n,o,a,s,h){x._validateParameters("image",arguments);var l=e.width,u=e.height;e.elt&&e.elt.videoWidth&&!e.canvas&&(l=e.elt.videoWidth,u=e.elt.videoHeight);var c=t,p=r,d=i||l,f=n||u,m=o||0,v=a||0,g=s||l,y=h||u;g=S(g,l),y=S(y,u);var b=1;e.elt&&!e.canvas&&e.elt.style.width&&(b=e.elt.videoWidth&&!i?e.elt.videoWidth:e.elt.width,b/=parseInt(e.elt.style.width,10)),m*=b,v*=b,y*=b,g*=b;var _=w.modeAdjust(c,p,d,f,this._renderer._imageMode);this._renderer.image(e,m,v,g,y,_.x,_.y,_.w,_.h)},x.prototype.tint=function(){x._validateParameters("tint",arguments);var e=this.color.apply(this,arguments);this._renderer._tint=e.levels},x.prototype.noTint=function(){this._renderer._tint=null},x.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=c._toPixels(e.canvas),r=document.createElement("canvas");r.width=e.canvas.width,r.height=e.canvas.height;for(var i=r.getContext("2d"),n=i.createImageData(e.canvas.width,e.canvas.height),o=n.data,a=0;a<t.length;a+=4){var s=t[a],h=t[a+1],l=t[a+2],u=t[a+3];o[a]=s*this._renderer._tint[0]/255,o[a+1]=h*this._renderer._tint[1]/255,o[a+2]=l*this._renderer._tint[2]/255,o[a+3]=u*this._renderer._tint[3]/255}return i.putImageData(n,0,0),r},x.prototype.imageMode=function(e){x._validateParameters("imageMode",arguments),e!==i.CORNER&&e!==i.CORNERS&&e!==i.CENTER||(this._renderer._imageMode=e)},t.exports=x},{"../core/constants":17,"../core/error_helpers":19,"../core/helpers":20,"../core/main":23,"./filters":41}],44:[function(e,t,r){"use strict";var l=e("../core/main"),i=e("./filters");l.Image=function(e,t){this.width=e,this.height=t,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelDensity=1,this._modified=!1,this._pixelsDirty=!0,this.pixels=[]},l.Image.prototype._setProperty=function(e,t){this[e]=t,this.setModified(!0)},l.Image.prototype.loadPixels=function(){l.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},l.Image.prototype.updatePixels=function(e,t,r,i){l.Renderer2D.prototype.updatePixels.call(this,e,t,r,i),this.setModified(!0)},l.Image.prototype.get=function(e,t,r,i){return l.prototype.get.call(this,e,t,r,i)},l.Image.prototype.set=function(e,t,r){l.Renderer2D.prototype.set.call(this,e,t,r),this.setModified(!0)},l.Image.prototype.resize=function(e,t){0===e&&0===t?(e=this.canvas.width,t=this.canvas.height):0===e?e=this.canvas.width*t/this.canvas.height:0===t&&(t=this.canvas.height*e/this.canvas.width),e=Math.floor(e),t=Math.floor(t);var r=document.createElement("canvas");r.width=e,r.height=t,r.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,r.width,r.height),this.canvas.width=this.width=e,this.canvas.height=this.height=t,this.drawingContext.drawImage(r,0,0,e,t,0,0,e,t),0<this.pixels.length&&this.loadPixels(),this.setModified(!0),this._pixelsDirty=!0},l.Image.prototype.copy=function(){var e,t,r,i,n,o,a,s,h;if(9===arguments.length)e=arguments[0],t=arguments[1],r=arguments[2],i=arguments[3],n=arguments[4],o=arguments[5],a=arguments[6],s=arguments[7],h=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");e=this,t=arguments[0],r=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],a=arguments[5],s=arguments[6],h=arguments[7]}l.Renderer2D._copyHelper(this,e,t,r,i,n,o,a,s,h),this._pixelsDirty=!0},l.Image.prototype.mask=function(e){void 0===e&&(e=this);var t=this.drawingContext.globalCompositeOperation,r=1;e instanceof l.Renderer&&(r=e._pInst._pixelDensity);var i=[e,0,0,r*e.width,r*e.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",l.Image.prototype.copy.apply(this,i),this.drawingContext.globalCompositeOperation=t,this.setModified(!0)},l.Image.prototype.filter=function(e,t){i.apply(this.canvas,i[e.toLowerCase()],t),this.setModified(!0)},l.Image.prototype.blend=function(){l.prototype.blend.apply(this,arguments),this.setModified(!0)},l.Image.prototype.setModified=function(e){this._modified=e},l.Image.prototype.isModified=function(){return this._modified},l.Image.prototype.save=function(e,t){l.prototype.saveCanvas(this.canvas,e,t)},t.exports=l.Image},{"../core/main":23,"./filters":41}],45:[function(e,t,r){"use strict";var n=e("../core/main"),i=e("./filters");e("../color/p5.Color"),n.prototype.pixels=[],n.prototype.blend=function(){n._validateParameters("blend",arguments),this._renderer?this._renderer.blend.apply(this._renderer,arguments):n.Renderer2D.prototype.blend.apply(this,arguments)},n.prototype.copy=function(){n._validateParameters("copy",arguments),n.Renderer2D.prototype.copy.apply(this._renderer,arguments)},n.prototype.filter=function(e,t){n._validateParameters("filter",arguments),void 0!==this.canvas?i.apply(this.canvas,i[e.toLowerCase()],t):i.apply(this.elt,i[e.toLowerCase()],t)},n.prototype.get=function(e,t,r,i){return void 0===r&&void 0===i&&(void 0===e&&void 0===t?(e=t=0,r=this.width,i=this.height):r=i=1),e+r<0||t+i<0||e>=this.width||t>=this.height?[0,0,0,255]:(e=Math.floor(e),t=Math.floor(t),r=Math.floor(r),i=Math.floor(i),this instanceof n.Image?n.Renderer2D.prototype.get.call(this,e,t,r,i):this._renderer.get(e,t,r,i))},n.prototype.loadPixels=function(){n._validateParameters("loadPixels",arguments),this._renderer.loadPixels()},n.prototype.set=function(e,t,r){this._renderer.set(e,t,r)},n.prototype.updatePixels=function(e,t,r,i){n._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(e,t,r,i)},t.exports=n},{"../color/p5.Color":15,"../core/main":23,"./filters":41}],46:[function(s,e,t){"use strict";var v=s("../core/main");s("whatwg-fetch"),s("es6-promise").polyfill();var g=s("fetch-jsonp");function y(e,t){var r={};if(void 0===(t=t||[]))for(var i=0;i<e.length;i++)t[i.toString()]=i;for(var n=0;n<t.length;n++){var o=t[n],a=e[n];r[o]=a}return r}function m(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function h(e,t){t&&!0!==t&&"true"!==t||(t=""),e||(e="untitled");var r="";return e&&-1<e.indexOf(".")&&(r=e.split(".").pop()),t&&r!==t&&(e=e+"."+(r=t)),[e,r]}s("../core/error_helpers"),v.prototype.loadJSON=function(){v._validateParameters("loadJSON",arguments);for(var r,t,e,i=arguments[0],n={},o="json",a=1;a<arguments.length;a++){var s=arguments[a];"string"==typeof s?"jsonp"!==s&&"json"!==s||(o=s):"function"==typeof s?r?t=s:r=s:"object"==typeof s&&s.hasOwnProperty("jsonpCallback")&&(o="jsonp",e=s)}var h=this;return this.httpDo(i,"GET",e,o,function(e){for(var t in e)n[t]=e[t];void 0!==r&&r(e),h._decrementPreload()},function(e){if(v._friendlyFileLoadError(5,i),!t)throw e;t(e)}),n},v.prototype.loadStrings=function(){v._validateParameters("loadStrings",arguments);for(var r,t,i=[],e=1;e<arguments.length;e++){var n=arguments[e];"function"==typeof n&&(void 0===r?r=n:void 0===t&&(t=n))}var o=this;return v.prototype.httpDo.call(this,arguments[0],"GET","text",function(e){var t=e.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/);Array.prototype.push.apply(i,t),void 0!==r&&r(i),o._decrementPreload()},function(e){if(v._friendlyFileLoadError(3,e),!t)throw e;t(e)}),i},v.prototype.loadTable=function(t){var u,r,e=[],c=!1,i=t.substring(t.lastIndexOf(".")+1,t.length),p=",",n=!1;"tsv"===i&&(p="\t");for(var d=1;d<arguments.length;d++)if("function"==typeof arguments[d])void 0===u?u=arguments[d]:void 0===r&&(r=arguments[d]);else if("string"==typeof arguments[d])if(e.push(arguments[d]),"header"===arguments[d]&&(c=!0),"csv"===arguments[d]){if(n)throw new Error("Cannot set multiple separator types.");p=",",n=!0}else if("tsv"===arguments[d]){if(n)throw new Error("Cannot set multiple separator types.");p="\t",n=!0}var f=new v.Table,m=this;return this.httpDo(t,"GET","table",function(e){for(var t,r,i={},n=[],o=0,a=null,s=function(){i.currentState=0,i.token=""},h=function(){a.push(i.token),s()},l=function(){i.currentState=4,n.push(a),a=null};;){if(null==(t=e[o++])){if(i.escaped)throw new Error("Unclosed quote in file.");if(a){h(),l();break}}if(null===a&&(i.escaped=!1,a=[],s()),0===i.currentState){if('"'===t){i.escaped=!0,i.currentState=1;continue}i.currentState=1}if(1===i.currentState&&i.escaped)if('"'===t)'"'===e[o]?(i.token+='"',o++):(i.escaped=!1,i.currentState=2);else{if("\r"===t)continue;i.token+=t}else"\r"===t?("\n"===e[o]&&o++,h(),l()):"\n"===t?(h(),l()):t===p?h():1===i.currentState&&(i.token+=t)}if(c)f.columns=n.shift();else for(d=0;d<n[0].length;d++)f.columns[d]="null";for(d=0;d<n.length;d++)(1!==n[d].length||"undefined"!==n[d][0]&&""!==n[d][0])&&((r=new v.TableRow).arr=n[d],r.obj=y(n[d],f.columns),f.addRow(r));"function"==typeof u&&u(f),m._decrementPreload()},function(e){v._friendlyFileLoadError(2,t),r?r(e):console.error(e)}),f},v.prototype.loadXML=function(){for(var r,t,i=new v.XML,e=1;e<arguments.length;e++){var n=arguments[e];"function"==typeof n&&(void 0===r?r=n:void 0===t&&(t=n))}var o=this;return this.httpDo(arguments[0],"GET","xml",function(e){for(var t in e)i[t]=e[t];void 0!==r&&r(i),o._decrementPreload()},function(e){if(v._friendlyFileLoadError(1,e),!t)throw e;t(e)}),i},v.prototype.loadBytes=function(t,r,i){var n={},o=this;return this.httpDo(t,"GET","arrayBuffer",function(e){n.bytes=new Uint8Array(e),"function"==typeof r&&r(n),o._decrementPreload()},function(e){if(v._friendlyFileLoadError(6,t),!i)throw e;i(e)}),n},v.prototype.httpGet=function(){v._validateParameters("httpGet",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"GET"),v.prototype.httpDo.apply(this,e)},v.prototype.httpPost=function(){v._validateParameters("httpPost",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"POST"),v.prototype.httpDo.apply(this,e)},v.prototype.httpDo=function(){for(var i,e,t,r,n,o={},a=0,s="text/plain",h=arguments.length-1;0<h&&"function"==typeof arguments[h];h--)a++;var l=arguments.length-a,u=arguments[0];if(2===l&&"string"==typeof u&&"object"==typeof arguments[1])r=new Request(u,arguments[1]),e=arguments[2],t=arguments[3];else{for(var c,p="GET",d=1;d<arguments.length;d++){var f=arguments[d];if("string"==typeof f)"GET"===f||"POST"===f||"PUT"===f||"DELETE"===f?p=f:"json"===f||"jsonp"===f||"binary"===f||"arrayBuffer"===f||"xml"===f||"text"===f||"table"===f?i=f:c=f;else if("number"==typeof f)c=f.toString();else if("object"==typeof f)if(f.hasOwnProperty("jsonpCallback"))for(var m in f)o[m]=f[m];else s=f instanceof v.XML?(c=f.serialize(),"application/xml"):(c=JSON.stringify(f),"application/json");else"function"==typeof f&&(e?t=f:e=f)}r=new Request(u,{method:p,mode:"cors",body:c,headers:new Headers({"Content-Type":s})})}return i||(i=-1!==u.indexOf("json")?"json":-1!==u.indexOf("xml")?"xml":"text"),(n=(n="jsonp"===i?g(u,o):fetch(r)).then(function(e){if(!e.ok){var t=new Error(e.body);throw t.status=e.status,t.ok=!1,t}var r=e.headers.get("content-length");switch(r&&64e6<r&&v._friendlyFileLoadError(7,u),i){case"json":case"jsonp":return e.json();case"binary":return e.blob();case"arrayBuffer":return e.arrayBuffer();case"xml":return e.text().then(function(e){var t=(new DOMParser).parseFromString(e,"text/xml");return new v.XML(t.documentElement)});default:return e.text()}})).then(e||function(){}),n.catch(t||console.error),n},window.URL=window.URL||window.webkitURL,v.prototype._pWriters=[],v.prototype.createWriter=function(e,t){var r;for(var i in v.prototype._pWriters)if(v.prototype._pWriters[i].name===e)return r=new v.PrintWriter(e+this.millis(),t),v.prototype._pWriters.push(r),r;return r=new v.PrintWriter(e,t),v.prototype._pWriters.push(r),r},v.PrintWriter=function(r,i){var n=this;this.name=r,this.content="",this.write=function(e){this.content+=e},this.print=function(e){this.content+=e+"\n"},this.clear=function(){this.content=""},this.close=function(){var e=[];for(var t in e.push(this.content),v.prototype.writeFile(e,r,i),v.prototype._pWriters)v.prototype._pWriters[t].name===this.name&&v.prototype._pWriters.splice(t,1);n.clear(),n={}}},v.prototype.save=function(e,t,r){var i=arguments,n=this._curElement?this._curElement.elt:this.elt;if(0!==i.length)if(i[0]instanceof v.Renderer||i[0]instanceof v.Graphics)v.prototype.saveCanvas(i[0].elt,i[1],i[2]);else if(1===i.length&&"string"==typeof i[0])v.prototype.saveCanvas(n,i[0]);else switch(h(i[1],i[2])[1]){case"json":return void v.prototype.saveJSON(i[0],i[1],i[2]);case"txt":return void v.prototype.saveStrings(i[0],i[1],i[2]);default:i[0]instanceof Array?v.prototype.saveStrings(i[0],i[1],i[2]):i[0]instanceof v.Table?v.prototype.saveTable(i[0],i[1],i[2]):i[0]instanceof v.Image?v.prototype.saveCanvas(i[0].canvas,i[1]):i[0]instanceof v.SoundFile&&v.prototype.saveSound(i[0],i[1],i[2],i[3])}else v.prototype.saveCanvas(n)},v.prototype.saveJSON=function(e,t,r){var i;v._validateParameters("saveJSON",arguments),i=r?JSON.stringify(e):JSON.stringify(e,void 0,2),this.saveStrings(i.split("\n"),t,"json")},v.prototype.saveJSONObject=v.prototype.saveJSON,v.prototype.saveJSONArray=v.prototype.saveJSON,v.prototype.saveStrings=function(e,t,r){v._validateParameters("saveStrings",arguments);for(var i=r||"txt",n=this.createWriter(t,i),o=0;o<e.length;o++)e.length,n.print(e[o]);n.close(),n.clear()},v.prototype.saveTable=function(e,t,r){var i;v._validateParameters("saveTable",arguments),i=void 0===r?t.substring(t.lastIndexOf(".")+1,t.length):r;var n=this.createWriter(t,i),o=e.columns,a=",";if("tsv"===i&&(a="\t"),"html"!==i){if("0"!==o[0]){for(var s=0;s<o.length;s++)s<o.length-1?n.write(o[s]+a):n.write(o[s]);n.write("\n")}for(var h=0;h<e.rows.length;h++){var l;for(l=0;l<e.rows[h].arr.length;l++)l<e.rows[h].arr.length-1?n.write(e.rows[h].arr[l]+a):(e.rows.length,n.write(e.rows[h].arr[l]));n.write("\n")}}else{n.print("<html>"),n.print("<head>");if('="text/html;charset=utf-8" />',n.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),n.print("</head>"),n.print("<body>"),n.print("  <table>"),"0"!==o[0]){n.print("    <tr>");for(var u=0;u<o.length;u++){var c=m(o[u]);n.print("      <td>"+c),n.print("      </td>")}n.print("    </tr>")}for(var p=0;p<e.rows.length;p++){n.print("    <tr>");for(var d=0;d<e.columns.length;d++){var f=m(e.rows[p].getString(d));n.print("      <td>"+f),n.print("      </td>")}n.print("    </tr>")}n.print("  </table>"),n.print("</body>"),n.print("</html>")}n.close(),n.clear()},v.prototype.writeFile=function(e,t,r){var i="application/octet-stream";v.prototype._isSafari()&&(i="text/plain");var n=new Blob(e,{type:i});v.prototype.downloadFile(n,t,r)},v.prototype.downloadFile=function(e,t,r){var i=h(t,r),n=i[0];if(e instanceof Blob){s("file-saver").saveAs(e,n)}else{var o=document.createElement("a");if(o.href=e,o.download=n,o.onclick=function(e){var t;t=e,document.body.removeChild(t.target),e.stopPropagation()},o.style.display="none",document.body.appendChild(o),v.prototype._isSafari()){var a="Hello, Safari user! To download this file...\n";a+="1. Go to File --\x3e Save As.\n",a+='2. Choose "Page Source" as the Format.\n',a+='3. Name it with this extension: ."'+i[1]+'"',alert(a)}o.click()}},v.prototype._checkFileExtension=h,v.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},e.exports=v},{"../core/error_helpers":19,"../core/main":23,"es6-promise":4,"fetch-jsonp":5,"file-saver":6,"whatwg-fetch":11}],47:[function(e,t,r){"use strict";var i=e("../core/main");i.Table=function(e){this.columns=[],this.rows=[]},i.Table.prototype.addRow=function(e){var t=e||new i.TableRow;if(void 0===t.arr||void 0===t.obj)throw new Error("invalid TableRow: "+t);return(t.table=this).rows.push(t),t},i.Table.prototype.removeRow=function(e){this.rows[e].table=null;var t=this.rows.splice(e+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(t)},i.Table.prototype.getRow=function(e){return this.rows[e]},i.Table.prototype.getRows=function(){return this.rows},i.Table.prototype.findRow=function(e,t){if("string"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[t]===e)return this.rows[r]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[t]===e)return this.rows[i];return null},i.Table.prototype.findRows=function(e,t){var r=[];if("string"==typeof t)for(var i=0;i<this.rows.length;i++)this.rows[i].obj[t]===e&&r.push(this.rows[i]);else for(var n=0;n<this.rows.length;n++)this.rows[n].arr[t]===e&&r.push(this.rows[n]);return r},i.Table.prototype.matchRow=function(e,t){if("number"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[t].match(e))return this.rows[r]}else for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[t].match(e))return this.rows[i];return null},i.Table.prototype.matchRows=function(e,t){var r=[];if("number"==typeof t)for(var i=0;i<this.rows.length;i++)this.rows[i].arr[t].match(e)&&r.push(this.rows[i]);else for(var n=0;n<this.rows.length;n++)this.rows[n].obj[t].match(e)&&r.push(this.rows[n]);return r},i.Table.prototype.getColumn=function(e){var t=[];if("string"==typeof e)for(var r=0;r<this.rows.length;r++)t.push(this.rows[r].obj[e]);else for(var i=0;i<this.rows.length;i++)t.push(this.rows[i].arr[e]);return t},i.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},i.Table.prototype.addColumn=function(e){var t=e||null;this.columns.push(t)},i.Table.prototype.getColumnCount=function(){return this.columns.length},i.Table.prototype.getRowCount=function(){return this.rows.length},i.Table.prototype.removeTokens=function(e,t){for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var n=new RegExp(r.join("|"),"g");if(void 0===t)for(var o=0;o<this.columns.length;o++)for(var a=0;a<this.rows.length;a++){var s=this.rows[a].arr[o];s=s.replace(n,""),this.rows[a].arr[o]=s,this.rows[a].obj[this.columns[o]]=s}else if("string"==typeof t)for(var h=0;h<this.rows.length;h++){var l=this.rows[h].obj[t];l=l.replace(n,""),this.rows[h].obj[t]=l;var u=this.columns.indexOf(t);this.rows[h].arr[u]=l}else for(var c=0;c<this.rows.length;c++){var p=this.rows[c].arr[t];p=p.replace(n,""),this.rows[c].arr[t]=p,this.rows[c].obj[this.columns[t]]=p}},i.Table.prototype.trim=function(e){var t=new RegExp(" ","g");if(void 0===e)for(var r=0;r<this.columns.length;r++)for(var i=0;i<this.rows.length;i++){var n=this.rows[i].arr[r];n=n.replace(t,""),this.rows[i].arr[r]=n,this.rows[i].obj[this.columns[r]]=n}else if("string"==typeof e)for(var o=0;o<this.rows.length;o++){var a=this.rows[o].obj[e];a=a.replace(t,""),this.rows[o].obj[e]=a;var s=this.columns.indexOf(e);this.rows[o].arr[s]=a}else for(var h=0;h<this.rows.length;h++){var l=this.rows[h].arr[e];l=l.replace(t,""),this.rows[h].arr[e]=l,this.rows[h].obj[this.columns[e]]=l}},i.Table.prototype.removeColumn=function(e){var t,r;"string"==typeof e?(t=e,r=this.columns.indexOf(e)):(r=e,t=this.columns[e]);var i=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(i);for(var n=0;n<this.rows.length;n++){var o=this.rows[n].arr,a=o.splice(r+1,o.length);o.pop(),this.rows[n].arr=o.concat(a),delete this.rows[n].obj[t]}},i.Table.prototype.set=function(e,t,r){this.rows[e].set(t,r)},i.Table.prototype.setNum=function(e,t,r){this.rows[e].setNum(t,r)},i.Table.prototype.setString=function(e,t,r){this.rows[e].setString(t,r)},i.Table.prototype.get=function(e,t){return this.rows[e].get(t)},i.Table.prototype.getNum=function(e,t){return this.rows[e].getNum(t)},i.Table.prototype.getString=function(e,t){return this.rows[e].getString(t)},i.Table.prototype.getObject=function(e){for(var t,r={},i=0;i<this.rows.length;i++)if(t=this.rows[i].obj,"string"==typeof e){if(!(0<=this.columns.indexOf(e)))throw new Error('This table has no column named "'+e+'"');r[t[e]]=t}else r[i]=this.rows[i].obj;return r},i.Table.prototype.getArray=function(){for(var e=[],t=0;t<this.rows.length;t++)e.push(this.rows[t].arr);return e},t.exports=i},{"../core/main":23}],48:[function(e,t,r){"use strict";var i=e("../core/main");i.TableRow=function(e,t){var r=[],i={};e&&(t=t||",",r=e.split(t));for(var n=0;n<r.length;n++){var o=n,a=r[n];i[o]=a}this.arr=r,this.obj=i,this.table=null},i.TableRow.prototype.set=function(e,t){if("string"==typeof e){var r=this.table.columns.indexOf(e);if(!(0<=r))throw new Error('This table has no column named "'+e+'"');this.obj[e]=t,this.arr[r]=t}else{if(!(e<this.table.columns.length))throw new Error("Column #"+e+" is out of the range of this table");this.arr[e]=t;var i=this.table.columns[e];this.obj[i]=t}},i.TableRow.prototype.setNum=function(e,t){var r=parseFloat(t);this.set(e,r)},i.TableRow.prototype.setString=function(e,t){var r=t.toString();this.set(e,r)},i.TableRow.prototype.get=function(e){return"string"==typeof e?this.obj[e]:this.arr[e]},i.TableRow.prototype.getNum=function(e){var t;if("NaN"===(t="string"==typeof e?parseFloat(this.obj[e]):parseFloat(this.arr[e])).toString())throw"Error: "+this.obj[e]+" is NaN (Not a Number)";return t},i.TableRow.prototype.getString=function(e){return"string"==typeof e?this.obj[e].toString():this.arr[e].toString()},t.exports=i},{"../core/main":23}],49:[function(e,t,r){"use strict";var i=e("../core/main");function n(e){for(var t=[],r=0;r<e.length;r++)t.push(new i.XML(e[r]));return t}i.XML=function(e){if(e)this.DOM=e;else{var t=document.implementation.createDocument(null,"doc");this.DOM=t.createElement("root")}},i.XML.prototype.getParent=function(){return new i.XML(this.DOM.parentElement)},i.XML.prototype.getName=function(){return this.DOM.tagName},i.XML.prototype.setName=function(e){var t=this.DOM.innerHTML,r=this.DOM.attributes,i=document.implementation.createDocument(null,"default").createElement(e);i.innerHTML=t;for(var n=0;n<r.length;n++)i.setAttribute(r[n].nodeName,r.nodeValue);this.DOM=i},i.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},i.XML.prototype.listChildren=function(){for(var e=[],t=0;t<this.DOM.childNodes.length;t++)e.push(this.DOM.childNodes[t].nodeName);return e},i.XML.prototype.getChildren=function(e){return n(e?this.DOM.getElementsByTagName(e):this.DOM.children)},i.XML.prototype.getChild=function(e){if("string"!=typeof e)return new i.XML(this.DOM.children[e]);for(var t=0;t<this.DOM.children.length;t++){var r=this.DOM.children[t];if(r.tagName===e)return new i.XML(r)}},i.XML.prototype.addChild=function(e){e instanceof i.XML&&this.DOM.appendChild(e.DOM)},i.XML.prototype.removeChild=function(e){var t=-1;if("string"==typeof e){for(var r=0;r<this.DOM.children.length;r++)if(this.DOM.children[r].tagName===e){t=r;break}}else t=e;-1!==t&&this.DOM.removeChild(this.DOM.children[t])},i.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},i.XML.prototype.listAttributes=function(){for(var e=[],t=0;t<this.DOM.attributes.length;t++){var r=this.DOM.attributes[t];e.push(r.nodeName)}return e},i.XML.prototype.hasAttribute=function(e){for(var t={},r=0;r<this.DOM.attributes.length;r++){var i=this.DOM.attributes[r];t[i.nodeName]=i.nodeValue}return!!t[e]},i.XML.prototype.getNum=function(e,t){for(var r={},i=0;i<this.DOM.attributes.length;i++){var n=this.DOM.attributes[i];r[n.nodeName]=n.nodeValue}return Number(r[e])||t||0},i.XML.prototype.getString=function(e,t){for(var r={},i=0;i<this.DOM.attributes.length;i++){var n=this.DOM.attributes[i];r[n.nodeName]=n.nodeValue}return r[e]?String(r[e]):t||null},i.XML.prototype.setAttribute=function(e,t){this.DOM.setAttribute(e,t)},i.XML.prototype.getContent=function(e){return this.DOM.textContent.replace(/\s\s+/g,",")||e||null},i.XML.prototype.setContent=function(e){this.DOM.children.length||(this.DOM.textContent=e)},i.XML.prototype.serialize=function(){return(new XMLSerializer).serializeToString(this.DOM)},t.exports=i},{"../core/main":23}],50:[function(e,t,r){"use strict";var s=e("../core/main");function i(e,t,r){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var i=arguments.length,n=[],o=0,a=0;a<i;a++){var s=arguments[a];if((s=+s)===1/0||s===-1/0)return 1/0;o<(s=Math.abs(s))&&(o=s),n[a]=s}0===o&&(o=1);for(var h=0,l=0,u=0;u<i;u++){var c=n[u]/o,p=c*c-l,d=h+p;l=d-h-p,h=d}return Math.sqrt(h)*o}s.prototype.abs=Math.abs,s.prototype.ceil=Math.ceil,s.prototype.constrain=function(e,t,r){return s._validateParameters("constrain",arguments),Math.max(Math.min(e,r),t)},s.prototype.dist=function(){return s._validateParameters("dist",arguments),4===arguments.length?i(arguments[2]-arguments[0],arguments[3]-arguments[1]):6===arguments.length?i(arguments[3]-arguments[0],arguments[4]-arguments[1],arguments[5]-arguments[2]):void 0},s.prototype.exp=Math.exp,s.prototype.floor=Math.floor,s.prototype.lerp=function(e,t,r){return s._validateParameters("lerp",arguments),r*(t-e)+e},s.prototype.log=Math.log,s.prototype.mag=function(e,t){return s._validateParameters("mag",arguments),i(e,t)},s.prototype.map=function(e,t,r,i,n,o){s._validateParameters("map",arguments);var a=(e-t)/(r-t)*(n-i)+i;return o?i<n?this.constrain(a,i,n):this.constrain(a,n,i):a},s.prototype.max=function(){return s._validateParameters("max",arguments),arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)},s.prototype.min=function(){return s._validateParameters("min",arguments),arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,arguments)},s.prototype.norm=function(e,t,r){return s._validateParameters("norm",arguments),this.map(e,t,r,0,1)},s.prototype.pow=Math.pow,s.prototype.round=Math.round,s.prototype.sq=function(e){return e*e},s.prototype.sqrt=Math.sqrt,t.exports=s},{"../core/main":23}],51:[function(e,t,r){"use strict";var i=e("../core/main");i.prototype.createVector=function(e,t,r){return this instanceof i?new i.Vector(this,arguments):new i.Vector(e,t,r)},t.exports=i},{"../core/main":23}],52:[function(e,t,r){"use strict";var b,i=e("../core/main"),_=4095,x=4,w=.5,S=function(e){return.5*(1-Math.cos(e*Math.PI))};i.prototype.noise=function(e,t,r){if(t=t||0,r=r||0,null==b){b=new Array(4096);for(var i=0;i<4096;i++)b[i]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),r<0&&(r=-r);for(var n,o,a,s,h,l=Math.floor(e),u=Math.floor(t),c=Math.floor(r),p=e-l,d=t-u,f=r-c,m=0,v=.5,g=0;g<x;g++){var y=l+(u<<4)+(c<<8);n=S(p),o=S(d),a=b[y&_],a+=n*(b[y+1&_]-a),s=b[y+16&_],a+=o*((s+=n*(b[y+16+1&_]-s))-a),s=b[(y+=256)&_],s+=n*(b[y+1&_]-s),h=b[y+16&_],s+=o*((h+=n*(b[y+16+1&_]-h))-s),m+=(a+=S(f)*(s-a))*v,v*=w,l<<=1,u<<=1,c<<=1,1<=(p*=2)&&(l++,p--),1<=(d*=2)&&(u++,d--),1<=(f*=2)&&(c++,f--)}return m},i.prototype.noiseDetail=function(e,t){0<e&&(x=e),0<t&&(w=t)},i.prototype.noiseSeed=function(e){var t,r,i,n=(i=4294967296,{setSeed:function(e){r=t=(null==e?Math.random()*i:e)>>>0},getSeed:function(){return t},rand:function(){return(r=(1664525*r+1013904223)%i)/i}});n.setSeed(e),b=new Array(4096);for(var o=0;o<4096;o++)b[o]=n.rand()},t.exports=i},{"../core/main":23}],53:[function(e,t,r){"use strict";var s=e("../core/main"),o=e("../core/constants");s.Vector=function(){var e,t,r;r=arguments[0]instanceof s?(this.p5=arguments[0],e=arguments[1][0]||0,t=arguments[1][1]||0,arguments[1][2]||0):(e=arguments[0]||0,t=arguments[1]||0,arguments[2]||0),this.x=e,this.y=t,this.z=r},s.Vector.prototype.toString=function(){return"p5.Vector Object : ["+this.x+", "+this.y+", "+this.z+"]"},s.Vector.prototype.set=function(e,t,r){return e instanceof s.Vector?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):e instanceof Array?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0):(this.x=e||0,this.y=t||0,this.z=r||0),this},s.Vector.prototype.copy=function(){return this.p5?new s.Vector(this.p5,[this.x,this.y,this.z]):new s.Vector(this.x,this.y,this.z)},s.Vector.prototype.add=function(e,t,r){return e instanceof s.Vector?(this.x+=e.x||0,this.y+=e.y||0,this.z+=e.z||0):e instanceof Array?(this.x+=e[0]||0,this.y+=e[1]||0,this.z+=e[2]||0):(this.x+=e||0,this.y+=t||0,this.z+=r||0),this},s.Vector.prototype.sub=function(e,t,r){return e instanceof s.Vector?(this.x-=e.x||0,this.y-=e.y||0,this.z-=e.z||0):e instanceof Array?(this.x-=e[0]||0,this.y-=e[1]||0,this.z-=e[2]||0):(this.x-=e||0,this.y-=t||0,this.z-=r||0),this},s.Vector.prototype.mult=function(e){return"number"==typeof e&&isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):console.warn("p5.Vector.prototype.mult:","n is undefined or not a finite number"),this},s.Vector.prototype.div=function(e){return"number"==typeof e&&isFinite(e)?0===e?console.warn("p5.Vector.prototype.div:","divide by 0"):(this.x/=e,this.y/=e,this.z/=e):console.warn("p5.Vector.prototype.div:","n is undefined or not a finite number"),this},s.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},s.Vector.prototype.magSq=function(){var e=this.x,t=this.y,r=this.z;return e*e+t*t+r*r},s.Vector.prototype.dot=function(e,t,r){return e instanceof s.Vector?this.dot(e.x,e.y,e.z):this.x*(e||0)+this.y*(t||0)+this.z*(r||0)},s.Vector.prototype.cross=function(e){var t=this.y*e.z-this.z*e.y,r=this.z*e.x-this.x*e.z,i=this.x*e.y-this.y*e.x;return this.p5?new s.Vector(this.p5,[t,r,i]):new s.Vector(t,r,i)},s.Vector.prototype.dist=function(e){return e.copy().sub(this).mag()},s.Vector.prototype.normalize=function(){var e=this.mag();return 0!==e&&this.mult(1/e),this},s.Vector.prototype.limit=function(e){var t=this.magSq();return e*e<t&&this.div(Math.sqrt(t)).mult(e),this},s.Vector.prototype.setMag=function(e){return this.normalize().mult(e)},s.Vector.prototype.heading=function(){var e=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(e):e},s.Vector.prototype.rotate=function(e){var t=this.heading()+e;this.p5&&(t=this.p5._toRadians(t));var r=this.mag();return this.x=Math.cos(t)*r,this.y=Math.sin(t)*r,this},s.Vector.prototype.angleBetween=function(e){var t=this.dot(e)/(this.mag()*e.mag()),r=Math.acos(Math.min(1,Math.max(-1,t)));return this.p5?this.p5._fromRadians(r):r},s.Vector.prototype.lerp=function(e,t,r,i){return e instanceof s.Vector?this.lerp(e.x,e.y,e.z,t):(this.x+=(e-this.x)*i||0,this.y+=(t-this.y)*i||0,this.z+=(r-this.z)*i||0,this)},s.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},s.Vector.prototype.equals=function(e,t,r){var i,n,o;return o=e instanceof s.Vector?(i=e.x||0,n=e.y||0,e.z||0):e instanceof Array?(i=e[0]||0,n=e[1]||0,e[2]||0):(i=e||0,n=t||0,r||0),this.x===i&&this.y===n&&this.z===o},s.Vector.fromAngle=function(e,t){return void 0===t&&(t=1),new s.Vector(t*Math.cos(e),t*Math.sin(e),0)},s.Vector.fromAngles=function(e,t,r){void 0===r&&(r=1);var i=Math.cos(t),n=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return new s.Vector(r*a*n,-r*o,r*a*i)},s.Vector.random2D=function(){return this.fromAngle(Math.random()*o.TWO_PI)},s.Vector.random3D=function(){var e=Math.random()*o.TWO_PI,t=2*Math.random()-1,r=Math.sqrt(1-t*t),i=r*Math.cos(e),n=r*Math.sin(e);return new s.Vector(i,n,t)},s.Vector.add=function(e,t,r){return r?r.set(e):r=e.copy(),r.add(t),r},s.Vector.sub=function(e,t,r){return r?r.set(e):r=e.copy(),r.sub(t),r},s.Vector.mult=function(e,t,r){return r?r.set(e):r=e.copy(),r.mult(t),r},s.Vector.div=function(e,t,r){return r?r.set(e):r=e.copy(),r.div(t),r},s.Vector.dot=function(e,t){return e.dot(t)},s.Vector.cross=function(e,t){return e.cross(t)},s.Vector.dist=function(e,t){return e.dist(t)},s.Vector.lerp=function(e,t,r,i){return i?i.set(e):i=e.copy(),i.lerp(t,r),i},s.Vector.mag=function(e){var t=e.x,r=e.y,i=e.z,n=t*t+r*r+i*i;return Math.sqrt(n)},t.exports=s.Vector},{"../core/constants":17,"../core/main":23}],54:[function(e,t,r){"use strict";var i,n,o,a=e("../core/main"),s=!1,h=!1,l=0,u=(o=4294967296,{setSeed:function(e){n=i=(null==e?Math.random()*o:e)>>>0},getSeed:function(){return i},rand:function(){return(n=(1664525*n+1013904223)%o)/o}});a.prototype.randomSeed=function(e){u.setSeed(e),h=!(s=!0)},a.prototype.random=function(e,t){var r;if(r=s?u.rand():Math.random(),void 0===e)return r;if(void 0===t)return e instanceof Array?e[Math.floor(r*e.length)]:r*e;if(t<e){var i=e;e=t,t=i}return r*(t-e)+e},a.prototype.randomGaussian=function(e,t){var r,i,n,o;if(h)r=l,h=!1;else{for(;1<=(o=(i=this.random(2)-1)*i+(n=this.random(2)-1)*n););r=i*(o=Math.sqrt(-2*Math.log(o)/o)),l=n*o,h=!0}return r*(t||1)+(e||0)},t.exports=a},{"../core/main":23}],55:[function(e,t,r){"use strict";var i=e("../core/main"),n=e("../core/constants");i.prototype._angleMode=n.RADIANS,i.prototype.acos=function(e){return this._fromRadians(Math.acos(e))},i.prototype.asin=function(e){return this._fromRadians(Math.asin(e))},i.prototype.atan=function(e){return this._fromRadians(Math.atan(e))},i.prototype.atan2=function(e,t){return this._fromRadians(Math.atan2(e,t))},i.prototype.cos=function(e){return Math.cos(this._toRadians(e))},i.prototype.sin=function(e){return Math.sin(this._toRadians(e))},i.prototype.tan=function(e){return Math.tan(this._toRadians(e))},i.prototype.degrees=function(e){return e*n.RAD_TO_DEG},i.prototype.radians=function(e){return e*n.DEG_TO_RAD},i.prototype.angleMode=function(e){e!==n.DEGREES&&e!==n.RADIANS||(this._angleMode=e)},i.prototype._toRadians=function(e){return this._angleMode===n.DEGREES?e*n.DEG_TO_RAD:e},i.prototype._toDegrees=function(e){return this._angleMode===n.RADIANS?e*n.RAD_TO_DEG:e},i.prototype._fromRadians=function(e){return this._angleMode===n.DEGREES?e*n.RAD_TO_DEG:e},t.exports=i},{"../core/constants":17,"../core/main":23}],56:[function(e,t,r){"use strict";var i=e("../core/main");i.prototype.textAlign=function(e,t){return i._validateParameters("textAlign",arguments),this._renderer.textAlign.apply(this._renderer,arguments)},i.prototype.textLeading=function(e){return i._validateParameters("textLeading",arguments),this._renderer.textLeading.apply(this._renderer,arguments)},i.prototype.textSize=function(e){return i._validateParameters("textSize",arguments),this._renderer.textSize.apply(this._renderer,arguments)},i.prototype.textStyle=function(e){return i._validateParameters("textStyle",arguments),this._renderer.textStyle.apply(this._renderer,arguments)},i.prototype.textWidth=function(e){return i._validateParameters("textWidth",arguments),0===e.length?0:this._renderer.textWidth.apply(this._renderer,arguments)},i.prototype.textAscent=function(){return i._validateParameters("textAscent",arguments),this._renderer.textAscent()},i.prototype.textDescent=function(){return i._validateParameters("textDescent",arguments),this._renderer.textDescent()},i.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},t.exports=i},{"../core/main":23}],57:[function(e,t,r){"use strict";var p=e("../core/main"),i=e("../core/constants"),n=e("opentype.js");e("../core/error_helpers"),p.prototype.loadFont=function(s,h,l){p._validateParameters("loadFont",arguments);var u=new p.Font(this),c=this;return n.load(s,function(e,t){if(e)return p._friendlyFileLoadError(4,s),void 0!==l?l(e):void console.error(e,s);u.font=t,void 0!==h&&h(u),c._decrementPreload();var r,i,n=s.split("\\").pop().split("/").pop(),o=n.lastIndexOf("."),a=o<1?null:n.substr(o+1);-1<["ttf","otf","woff","woff2"].indexOf(a)&&(r=n.substr(0,o),(i=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: "+r+";\nsrc: url("+s+");\n}\n")),document.head.appendChild(i))}),u},p.prototype.text=function(e,t,r,i,n){return p._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?this._renderer.text.apply(this._renderer,arguments):this},p.prototype.textFont=function(e,t){if(p._validateParameters("textFont",arguments),arguments.length){if(!e)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",e),t&&(this._renderer._setProperty("_textSize",t),this._renderer._setProperty("_textLeading",t*i._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont},t.exports=p},{"../core/constants":17,"../core/error_helpers":19,"../core/main":23,"opentype.js":9}],58:[function(e,t,r){"use strict";var i=e("../core/main"),m=e("../core/constants");function f(e,t){for(var r=function(e,t){if("object"!=typeof e)e=t;else for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e}(t,{sampleFactor:.1,simplifyThreshold:0}),i=h(e,0,1),n=i/(i*r.sampleFactor),o=[],a=0;a<i;a+=n)o.push(h(e,a));return r.simplifyThreshold&&function(e,t){t=void 0===t?0:t;for(var r=0,i=e.length-1;3<e.length&&0<=i;--i)p(s(e,i-1),s(e,i),s(e,i+1),t)&&(e.splice(i%e.length,1),r++)}(o,r.simplifyThreshold),o}function v(e){for(var t,r=[],i=0;i<e.length;i++)"M"===e[i].type&&(t&&r.push(t),t=[]),t.push(n(e[i]));return r.push(t),r}function n(e){var t=[e.type];return"M"===e.type||"L"===e.type?t.push(e.x,e.y):"C"===e.type?t.push(e.x1,e.y1,e.x2,e.y2,e.x,e.y):"Q"===e.type&&t.push(e.x1,e.y1,e.x,e.y),t}function s(e,t){var r=e.length;return e[t<0?t%r+r:t%r]}function p(e,t,r,i){if(!i)return 0==(n=e,a=r,((o=t)[0]-n[0])*(a[1]-n[1])-(a[0]-n[0])*(o[1]-n[1]));var n,o,a;void 0===p.tmpPoint1&&(p.tmpPoint1=[],p.tmpPoint2=[]);var s=p.tmpPoint1,h=p.tmpPoint2;s.x=t.x-e.x,s.y=t.y-e.y,h.x=r.x-t.x,h.y=r.y-t.y;var l=s.x*h.x+s.y*h.y,u=Math.sqrt(s.x*s.x+s.y*s.y),c=Math.sqrt(h.x*h.x+h.y*h.y);return Math.acos(l/(u*c))<i}function c(e,t,r,i,n,o,a,s,h){var l=1-h,u=Math.pow(l,3),c=Math.pow(l,2),p=h*h,d=p*h,f=u*e+3*c*h*r+3*l*h*h*n+d*a,m=u*t+3*c*h*i+3*l*h*h*o+d*s,v=e+2*h*(r-e)+p*(n-2*r+e),g=t+2*h*(i-t)+p*(o-2*i+t),y=r+2*h*(n-r)+p*(a-2*n+r),b=i+2*h*(o-i)+p*(s-2*o+i),_=l*e+h*r,x=l*t+h*i,w=l*n+h*a,S=l*o+h*s,T=90-180*Math.atan2(v-y,g-b)/Math.PI;return(y<v||g<b)&&(T+=180),{x:f,y:m,m:{x:v,y:g},n:{x:y,y:b},start:{x:_,y:x},end:{x:w,y:S},alpha:T}}function d(e,t,r,i,n,o,a,s,h){return null==h?y(e,t,r,i,n,o,a,s):c(e,t,r,i,n,o,a,s,function(e,t,r,i,n,o,a,s,h){if(h<0||y(e,t,r,i,n,o,a,s)<h)return;var l,u=.5,c=1-u;l=y(e,t,r,i,n,o,a,s,c);for(;.01<Math.abs(l-h);)l=y(e,t,r,i,n,o,a,s,c+=(l<h?1:-1)*(u/=2));return c}(e,t,r,i,n,o,a,s,h))}function h(e,t,r){for(var i,n,o,a,s,h=0,l=0,u=(e=function(e,t){var o,a=b(e),s=t&&b(t),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n=[],h=[],l=function(e,t,r){var i,n;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(function e(t,r,i,n,o,a,s,h,l,u){var c,p,d,f,m,v=Math.PI,g=120*v/180,y=v/180*(+o||0),b=[],_=function(e,t,r){var i=e*Math.cos(r)-t*Math.sin(r),n=e*Math.sin(r)+t*Math.cos(r);return{x:i,y:n}};if(u)c=u[0],p=u[1],d=u[2],f=u[3];else{m=_(t,r,-y),t=m.x,r=m.y,m=_(h,l,-y),h=m.x,l=m.y;var x=(t-h)/2,w=(r-l)/2,S=x*x/(i*i)+w*w/(n*n);1<S&&(S=Math.sqrt(S),i*=S,n*=S);var T=i*i,M=n*n,E=(a===s?-1:1)*Math.sqrt(Math.abs((T*M-T*w*w-M*x*x)/(T*w*w+M*x*x)));d=E*i*w/n+(t+h)/2,f=E*-n*x/i+(r+l)/2,c=Math.asin(((r-f)/n).toFixed(9)),p=Math.asin(((l-f)/n).toFixed(9)),(c=t<d?v-c:c)<0&&(c=2*v+c),(p=h<d?v-p:p)<0&&(p=2*v+p),s&&p<c&&(c-=2*v),!s&&c<p&&(p-=2*v)}var C=p-c;if(Math.abs(C)>g){var R=p,L=h,P=l;p=c+g*(s&&c<p?1:-1),h=d+i*Math.cos(p),l=f+n*Math.sin(p),b=e(h,l,i,n,o,0,s,L,P,[p,R,d,f])}C=p-c;var k=Math.cos(c),I=Math.sin(c),D=Math.cos(p),A=Math.sin(p),U=Math.tan(C/4),O=4/3*i*U,B=4/3*n*U,F=[t,r],G=[t+O*I,r-B*k],N=[h+O*A,l-B*D],V=[h,l];G[0]=2*F[0]-G[0];G[1]=2*F[1]-G[1];{if(u)return[G,N,V].concat(b);b=[G,N,V].concat(b).join().split(",");for(var z=[],H=0,j=b.length;H<j;H++)z[H]=H%2?_(b[H-1],b[H],y).y:_(b[H],b[H+1],y).x;return z}}.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":n="C"===r||"S"===r?(i=2*t.x-t.bx,2*t.y-t.by):(i=t.x,t.y),e=["C",i,n].concat(e.slice(1));break;case"T":t.qy="Q"===r||"T"===r?(t.qx=2*t.x-t.qx,2*t.y-t.qy):(t.qx=t.x,t.y),e=["C"].concat(x(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(x(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(_(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(_(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(_(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(_(t.x,t.y,t.X,t.Y))}return e},u=function(e,t){if(7<e[t].length){e[t].shift();for(var r=e[t];r.length;)n[t]="A",s&&(h[t]="A"),e.splice(t++,0,["C"].concat(r.splice(0,6)));e.splice(t,1),o=Math.max(a.length,s&&s.length||0)}},c=function(e,t,r,i,n){e&&t&&"M"===e[n][0]&&"M"!==t[n][0]&&(t.splice(n,0,["M",i.x,i.y]),r.bx=0,r.by=0,r.x=e[n][1],r.y=e[n][2],o=Math.max(a.length,s&&s.length||0))},p="",d="";o=Math.max(a.length,s&&s.length||0);for(var f=0;f<o;f++){a[f]&&(p=a[f][0]),"C"!==p&&(n[f]=p,f&&(d=n[f-1])),a[f]=l(a[f],r,d),"A"!==n[f]&&"C"===p&&(n[f]="C"),u(a,f),s&&(s[f]&&(p=s[f][0]),"C"!==p&&(h[f]=p,f&&(d=h[f-1])),s[f]=l(s[f],i,d),"A"!==h[f]&&"C"===p&&(h[f]="C"),u(s,f)),c(a,s,r,i,f),c(s,a,i,r,f);var m=a[f],v=s&&s[f],g=m.length,y=s&&v.length;r.x=m[g-2],r.y=m[g-1],r.bx=parseFloat(m[g-4])||r.x,r.by=parseFloat(m[g-3])||r.y,i.bx=s&&(parseFloat(v[y-4])||i.x),i.by=s&&(parseFloat(v[y-3])||i.y),i.x=s&&v[y-2],i.y=s&&v[y-1]}return s?[a,s]:a}(e)).length;l<u;l++){if("M"===(o=e[l])[0])i=+o[1],n=+o[2];else{if(t<h+(a=d(i,n,o[1],o[2],o[3],o[4],o[5],o[6]))&&!r)return{x:(s=d(i,n,o[1],o[2],o[3],o[4],o[5],o[6],t-h)).x,y:s.y,alpha:s.alpha};h+=a,i=+o[5],n=+o[6]}o.shift()+o}return(s=r?h:c(i,n,o[0],o[1],o[2],o[3],o[4],o[5],1)).alpha&&(s={x:s.x,y:s.y,alpha:s.alpha}),s}function b(e){var t=[],r=0,i=0,n=0,o=0,a=0;if(!e)return t;"M"===e[0][0]&&(n=r=+e[0][1],o=i=+e[0][2],a++,t[0]=["M",r,i]);for(var s,h,l,u=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),c=a,p=e.length;c<p;c++){if(t.push(h=[]),(l=e[c])[0]!==String.prototype.toUpperCase.call(l[0]))switch(h[0]=String.prototype.toUpperCase.call(l[0]),h[0]){case"A":h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=+(l[6]+r),h[7]=+(l[7]+i);break;case"V":h[1]=+l[1]+i;break;case"H":h[1]=+l[1]+r;break;case"R":for(var d=2,f=(s=[r,i].concat(l.slice(1))).length;d<f;d++)s[d]=+s[d]+r,s[++d]=+s[d]+i;t.pop(),t=t.concat(g(s,u));break;case"M":n=+l[1]+r,o=+l[2]+i;break;default:for(d=1,f=l.length;d<f;d++)h[d]=+l[d]+(d%2?r:i)}else if("R"===l[0])s=[r,i].concat(l.slice(1)),t.pop(),t=t.concat(g(s,u)),h=["R"].concat(l.slice(-2));else for(var m=0,v=l.length;m<v;m++)h[m]=l[m];switch(h[0]){case"Z":r=n,i=o;break;case"H":r=h[1];break;case"V":i=h[1];break;case"M":n=h[h.length-2],o=h[h.length-1];break;default:r=h[h.length-2],i=h[h.length-1]}}return t}function g(e,t){for(var r=[],i=0,n=e.length;i<n-2*!t;i+=2){var o=[{x:+e[i-2],y:+e[i-1]},{x:+e[i],y:+e[i+1]},{x:+e[i+2],y:+e[i+3]},{x:+e[i+4],y:+e[i+5]}];t?i?n-4===i?o[3]={x:+e[0],y:+e[1]}:n-2===i&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[n-2],y:+e[n-1]}:n-4===i?o[3]=o[2]:i||(o[0]={x:+e[i],y:+e[i+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r}function _(e,t,r,i){return[e,t,r,i,r,i]}function x(e,t,r,i,n,o){return[1/3*e+2/3*r,1/3*t+2/3*i,1/3*n+2/3*r,1/3*o+2/3*i,n,o]}function y(e,t,r,i,n,o,a,s,h){null==h&&(h=1);for(var l=(h=1<h?1:h<0?0:h)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],c=0,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0;d<12;d++){var f=l*u[d]+l,m=w(f,e,r,n,a),v=w(f,t,i,o,s),g=m*m+v*v;c+=p[d]*Math.sqrt(g)}return l*c}function w(e,t,r,i,n){return e*(e*(-3*t+9*r-9*i+3*n)+6*t-12*r+6*i)-3*t+3*r}i.Font=function(e){this.parent=e,this.cache={},this.font=void 0},i.Font.prototype.textBounds=function(e,t,r,i,n){t=void 0!==t?t:0,r=void 0!==r?r:0;var o,a=n&&n.renderer&&n.renderer._pInst||this.parent,s=a._renderer.drawingContext;s.textAlign||m.LEFT,s.textBaseline||m.BASELINE;if(i=i||a._renderer._textSize,!o){var h,l,u,c,p=[],d=[],f=this._scale(i);this.font.forEachGlyph(e,t,r,i,n,function(e,t,r,i){var n=e.getMetrics();p.push(t+n.xMin*f),p.push(t+n.xMax*f),d.push(r+-n.yMin*f),d.push(r+-n.yMax*f)}),h=Math.min.apply(null,p),l=Math.min.apply(null,d),u=Math.max.apply(null,p),o={x:h,y:l,h:Math.max.apply(null,d)-l,w:u-h,advance:h-t},c=this._handleAlignment(a._renderer,e,o.x,o.y,o.w+o.advance),o.x=c.x,o.y=c.y}return o},i.Font.prototype.textToPoints=function(e,t,r,i,n){var o,a=0,s=[],h=this._getGlyphs(e);i=i||this.parent._renderer._textSize;for(var l=0;l<h.length;l++){if(!(h[o=l].name&&"space"===h[o].name||e.length===h.length&&" "===e[o]||h[o].index&&3===h[o].index))for(var u=v(h[l].getPath(t,r,i).commands),c=0;c<u.length;c++)for(var p=f(u[c],n),d=0;d<p.length;d++)p[d].x+=a,s.push(p[d]);a+=h[l].advanceWidth*this._scale(i)}return s},i.Font.prototype._getGlyphs=function(e){return this.font.stringToGlyphs(e)},i.Font.prototype._getPath=function(e,t,r,i){var n=(i&&i.renderer&&i.renderer._pInst||this.parent)._renderer,o=this._handleAlignment(n,e,t,r);return this.font.getPath(e,o.x,o.y,n._textSize,i)},i.Font.prototype._getPathData=function(e,t,r,i){var n=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,r,i):"object"==typeof t&&(i=t),i&&"number"==typeof i.decimals&&(n=i.decimals),e.toPathData(n)},i.Font.prototype._getSVG=function(e,t,r,i){var n=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,r,i):"object"==typeof t&&(i=t),i&&("number"==typeof i.decimals&&(n=i.decimals),"number"==typeof i.strokeWidth&&(e.strokeWidth=i.strokeWidth),void 0!==i.fill&&(e.fill=i.fill),void 0!==i.stroke&&(e.stroke=i.stroke)),e.toSVG(n)},i.Font.prototype._renderPath=function(e,t,r,i){var n,o=i&&i.renderer||this.parent._renderer,a=o.drawingContext;n="object"==typeof e&&e.commands?e.commands:this._getPath(e,t,r,i).commands,a.beginPath();for(var s=0;s<n.length;s+=1){var h=n[s];"M"===h.type?a.moveTo(h.x,h.y):"L"===h.type?a.lineTo(h.x,h.y):"C"===h.type?a.bezierCurveTo(h.x1,h.y1,h.x2,h.y2,h.x,h.y):"Q"===h.type?a.quadraticCurveTo(h.x1,h.y1,h.x,h.y):"Z"===h.type&&a.closePath()}return o._doStroke&&o._strokeSet&&a.stroke(),o._doFill&&(o._fillSet||o._setFill(m._DEFAULT_TEXT_FILL),a.fill()),this},i.Font.prototype._textWidth=function(e,t){return this.font.getAdvanceWidth(e,t)},i.Font.prototype._textAscent=function(e){return this.font.ascender*this._scale(e)},i.Font.prototype._textDescent=function(e){return-this.font.descender*this._scale(e)},i.Font.prototype._scale=function(e){return 1/this.font.unitsPerEm*(e||this.parent._renderer._textSize)},i.Font.prototype._handleAlignment=function(e,t,r,i,n){var o=e._textSize;switch(void 0===n&&(n=this._textWidth(t,o)),e._textAlign){case m.CENTER:r-=n/2;break;case m.RIGHT:r-=n}switch(e._textBaseline){case m.TOP:i+=this._textAscent(o);break;case m.CENTER:i+=this._textAscent(o)/2;break;case m.BOTTOM:i-=this._textDescent(o)}return{x:r,y:i}},t.exports=i},{"../core/constants":17,"../core/main":23}],59:[function(e,t,r){"use strict";var i=e("../core/main");i.prototype.append=function(e,t){return e.push(t),e},i.prototype.arrayCopy=function(e,t,r,i,n){var o,a;e=void 0!==n?(a=Math.min(n,e.length),o=i,e.slice(t,a+t)):(a=void 0!==r?(a=r,Math.min(a,e.length)):e.length,o=0,r=t,e.slice(0,a)),Array.prototype.splice.apply(r,[o,a].concat(e))},i.prototype.concat=function(e,t){return e.concat(t)},i.prototype.reverse=function(e){return e.reverse()},i.prototype.shorten=function(e){return e.pop(),e},i.prototype.shuffle=function(e,t){for(var r,i,n=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e),o=(e=t||n?e:e.slice()).length;1<o;)r=Math.random()*o|0,i=e[--o],e[o]=e[r],e[r]=i;return e},i.prototype.sort=function(e,t){var r=t?e.slice(0,Math.min(t,e.length)):e,i=t?e.slice(Math.min(t,e.length)):[];return(r="string"==typeof r[0]?r.sort():r.sort(function(e,t){return e-t})).concat(i)},i.prototype.splice=function(e,t,r){return Array.prototype.splice.apply(e,[r,0].concat(t)),e},i.prototype.subset=function(e,t,r){return void 0!==r?e.slice(t,t+r):e.slice(t,e.length)},t.exports=i},{"../core/main":23}],60:[function(e,t,r){"use strict";var i=e("../core/main");i.prototype.float=function(e){return e instanceof Array?e.map(parseFloat):parseFloat(e)},i.prototype.int=function(e,t){return t=t||10,"string"==typeof e?parseInt(e,t):"number"==typeof e?0|e:"boolean"==typeof e?e?1:0:e instanceof Array?e.map(function(e){return i.prototype.int(e,t)}):void 0},i.prototype.str=function(e){return e instanceof Array?e.map(i.prototype.str):String(e)},i.prototype.boolean=function(e){return"number"==typeof e?0!==e:"string"==typeof e?"true"===e.toLowerCase():"boolean"==typeof e?e:e instanceof Array?e.map(i.prototype.boolean):void 0},i.prototype.byte=function(e){var t=i.prototype.int(e,10);return"number"==typeof t?(t+128)%256-128:t instanceof Array?t.map(i.prototype.byte):void 0},i.prototype.char=function(e){return"number"!=typeof e||isNaN(e)?e instanceof Array?e.map(i.prototype.char):"string"==typeof e?i.prototype.char(parseInt(e,10)):void 0:String.fromCharCode(e)},i.prototype.unchar=function(e){return"string"==typeof e&&1===e.length?e.charCodeAt(0):e instanceof Array?e.map(i.prototype.unchar):void 0},i.prototype.hex=function(e,t){if(t=null==t?t=8:t,e instanceof Array)return e.map(function(e){return i.prototype.hex(e,t)});if("number"==typeof e){e<0&&(e=4294967295+e+1);for(var r=Number(e).toString(16).toUpperCase();r.length<t;)r="0"+r;return r.length>=t&&(r=r.substring(r.length-t,r.length)),r}},i.prototype.unhex=function(e){return e instanceof Array?e.map(i.prototype.unhex):parseInt("0x"+e,16)},t.exports=i},{"../core/main":23}],61:[function(e,t,r){"use strict";var a=e("../core/main");function i(e,t,r){var i=e<0,n=i?e.toString().substring(1):e.toString(),o=n.indexOf("."),a=-1!==o?n.substring(0,o):n,s=-1!==o?n.substring(o+1):"",h=i?"-":"";if(void 0!==r){var l="";(-1!==o||0<r-s.length)&&(l="."),s.length>r&&(s=s.substring(0,r));for(var u=0;u<t-a.length;u++)h+="0";h+=a,h+=l,h+=s;for(var c=0;c<r-s.length;c++)h+="0";return h}for(var p=0;p<Math.max(t-a.length,0);p++)h+="0";return h+=n}function n(e,t){var r=(e=e.toString()).indexOf("."),i=-1!==r?e.substring(r):"",n=-1!==r?e.substring(0,r):e;if(n=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===t)i="";else if(void 0!==t)if(t>i.length)for(var o=t-(i+=-1===r?".":"").length+1,a=0;a<o;a++)i+="0";else i=i.substring(0,t+1);return n+i}function o(e){return 0<parseFloat(e)?"+"+e.toString():e.toString()}function s(e){return 0<parseFloat(e)?" "+e.toString():e.toString()}e("../core/error_helpers"),a.prototype.join=function(e,t){return a._validateParameters("join",arguments),e.join(t)},a.prototype.match=function(e,t){return a._validateParameters("match",arguments),e.match(t)},a.prototype.matchAll=function(e,t){a._validateParameters("matchAll",arguments);for(var r=new RegExp(t,"g"),i=r.exec(e),n=[];null!==i;)n.push(i),i=r.exec(e);return n},a.prototype.nf=function(e,t,r){return a._validateParameters("nf",arguments),e instanceof Array?e.map(function(e){return i(e,t,r)}):"[object Arguments]"===Object.prototype.toString.call(e)?3===e.length?this.nf(e[0],e[1],e[2]):2===e.length?this.nf(e[0],e[1]):this.nf(e[0]):i(e,t,r)},a.prototype.nfc=function(e,t){return a._validateParameters("nfc",arguments),e instanceof Array?e.map(function(e){return n(e,t)}):n(e,t)},a.prototype.nfp=function(){a._validateParameters("nfp",arguments);var e=a.prototype.nf.apply(this,arguments);return e instanceof Array?e.map(o):o(e)},a.prototype.nfs=function(){a._validateParameters("nfs",arguments);var e=a.prototype.nf.apply(this,arguments);return e instanceof Array?e.map(s):s(e)},a.prototype.split=function(e,t){return a._validateParameters("split",arguments),e.split(t)},a.prototype.splitTokens=function(e,t){var r;if(a._validateParameters("splitTokens",arguments),void 0!==t){var i=t,n=/\]/g.exec(i),o=/\[/g.exec(i);r=o&&n?(i=i.slice(0,n.index)+i.slice(n.index+1),o=/\[/g.exec(i),i=i.slice(0,o.index)+i.slice(o.index+1),new RegExp("[\\["+i+"\\]]","g")):n?(i=i.slice(0,n.index)+i.slice(n.index+1),new RegExp("["+i+"\\]]","g")):o?(i=i.slice(0,o.index)+i.slice(o.index+1),new RegExp("["+i+"\\[]","g")):new RegExp("["+i+"]","g")}else r=/\s/g;return e.split(r).filter(function(e){return e})},a.prototype.trim=function(e){return a._validateParameters("trim",arguments),e instanceof Array?e.map(this.trim):e.trim()},t.exports=a},{"../core/error_helpers":19,"../core/main":23}],62:[function(e,t,r){"use strict";var i=e("../core/main");i.prototype.day=function(){return(new Date).getDate()},i.prototype.hour=function(){return(new Date).getHours()},i.prototype.minute=function(){return(new Date).getMinutes()},i.prototype.millis=function(){return window.performance.now()},i.prototype.month=function(){return(new Date).getMonth()+1},i.prototype.second=function(){return(new Date).getSeconds()},i.prototype.year=function(){return(new Date).getFullYear()},t.exports=i},{"../core/main":23}],63:[function(e,t,r){"use strict";var x=e("../core/main");e("./p5.Geometry");var d=e("../core/constants");x.prototype.plane=function(e,t,r,i){this._assert3d("plane"),x._validateParameters("plane",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=1),void 0===i&&(i=1);var n="plane|"+r+"|"+i;if(!this._renderer.geometryInHash(n)){var o=new x.Geometry(r,i,function(){for(var e,t,r,i=0;i<=this.detailY;i++){t=i/this.detailY;for(var n=0;n<=this.detailX;n++)e=n/this.detailX,r=new x.Vector(e-.5,t-.5,0),this.vertices.push(r),this.uvs.push(e,t)}});o.computeFaces().computeNormals(),r<=1&&i<=1?o._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(n,o)}return this._renderer.drawBuffersScaled(n,e,t,1),this},x.prototype.box=function(e,t,r,i,n){this._assert3d("box"),x._validateParameters("box",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=t);var o=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;void 0===i&&(i=o?1:4),void 0===n&&(n=o?1:4);var a="box|"+i+"|"+n;if(!this._renderer.geometryInHash(a)){var s=new x.Geometry(i,n,function(){var e=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var t=0;t<e.length;t++){for(var r=e[t],i=4*t,n=0;n<4;n++){var o=r[n],a=new x.Vector((2*(1&o)-1)/2,((2&o)-1)/2,((4&o)/2-1)/2);this.vertices.push(a),this.uvs.push(1&n,(2&n)/2)}this.faces.push([i,i+1,i+2]),this.faces.push([i+2,i+1,i+3])}});s.computeNormals(),i<=4&&n<=4?s._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(a,s)}return this._renderer.drawBuffersScaled(a,e,t,r),this},x.prototype.sphere=function(e,t,r){return this._assert3d("sphere"),x._validateParameters("sphere",arguments),void 0===e&&(e=50),void 0===t&&(t=24),void 0===r&&(r=16),this.ellipsoid(e,e,e,t,r),this};var h=function(e,t,r,i,n,o,a){e=e<=0?1:e,t=t<0?0:t,r=r<=0?e:r,i=i<3?3:i;var s,h,l,u,c,p=(o=void 0===o||o)?-2:0,d=(n=n<1?1:n)+((a=void 0===a?0!==t:a)?2:0),f={},m=Math.atan2(e-t,r);for(s=p;s<=d;++s){var v,g=s/n,y=r*g;for(v=s<0?(g=y=0,e):n<s?(y=r,g=1,t):e+(t-e)*g,-2!==s&&s!==n+2||(v=0),y-=r/2,f[s]=0===v?1:i,h=0;h<f[s];++h){var b=h/i;this.vertices.push(new x.Vector(Math.sin(2*b*Math.PI)*v,y,Math.cos(2*b*Math.PI)*v)),this.vertexNormals.push(new x.Vector(s<0||n<s?0:Math.sin(2*b*Math.PI)*Math.cos(m),s<0?-1:n<s?1:Math.sin(m),s<0||n<s?0:Math.cos(2*b*Math.PI)*Math.cos(m))),this.uvs.push(b,g)}}var _=0;if(o){for(l=0;l<f[-1];++l)c=(l+1)%f[-1],this.faces.push([_,_+1+c,_+1+l]);_+=f[-2]+f[-1]}for(s=0;s<n;++s){for(h=0;h<f[s];++h)1===f[s+1]?(u=(h+1)%f[s],this.faces.push([_+h,_+u,_+f[s]])):(u=(h+1)%f[s],this.faces.push([_+h,_+u,_+f[s]+u]),this.faces.push([_+h,_+f[s]+u,_+f[s]+h]));_+=f[s]}if(a)for(_+=f[n],h=0;h<f[n+1];++h)u=(h+1)%f[n+1],this.faces.push([_+h,_+u,_+f[n+1]])};x.prototype.cylinder=function(e,t,r,i,n,o){this._assert3d("cylinder"),x._validateParameters("cylinder",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=24),void 0===i&&(i=1),void 0===o&&(o=!0),void 0===n&&(n=!0);var a="cylinder|"+r+"|"+i+"|"+n+"|"+o;if(!this._renderer.geometryInHash(a)){var s=new x.Geometry(r,i);h.call(s,1,1,1,r,i,n,o),s.computeNormals(),r<=24&&i<=16?s._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(a,s)}return this._renderer.drawBuffersScaled(a,e,t,e),this},x.prototype.cone=function(e,t,r,i,n){this._assert3d("cone"),x._validateParameters("cone",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=24),void 0===i&&(i=1),void 0===n&&(n=!0);var o="cone|"+r+"|"+i+"|"+n;if(!this._renderer.geometryInHash(o)){var a=new x.Geometry(r,i);h.call(a,1,0,1,r,i,n,!1),a.computeNormals(),r<=24&&i<=16?a._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(o,a)}return this._renderer.drawBuffersScaled(o,e,t,e),this},x.prototype.ellipsoid=function(e,t,r,i,n){this._assert3d("ellipsoid"),x._validateParameters("ellipsoid",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=e),void 0===i&&(i=24),void 0===n&&(n=16);var o="ellipsoid|"+i+"|"+n;if(!this._renderer.geometryInHash(o)){var a=new x.Geometry(i,n,function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=Math.PI*t-Math.PI/2,i=Math.cos(r),n=Math.sin(r),o=0;o<=this.detailX;o++){var a=o/this.detailX,s=2*Math.PI*a,h=Math.cos(s),l=Math.sin(s),u=new x.Vector(i*l,n,i*h);this.vertices.push(u),this.vertexNormals.push(u),this.uvs.push(a,t)}});a.computeFaces(),i<=24&&n<=24?a._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(o,a)}return this._renderer.drawBuffersScaled(o,e,t,r),this},x.prototype.torus=function(e,t,r,i){if(this._assert3d("torus"),x._validateParameters("torus",arguments),void 0===e)e=50;else if(!e)return;if(void 0===t)t=10;else if(!t)return;void 0===r&&(r=24),void 0===i&&(i=16);var d=(t/e).toPrecision(4),n="torus|"+d+"|"+r+"|"+i;if(!this._renderer.geometryInHash(n)){var o=new x.Geometry(r,i,function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=2*Math.PI*t,i=Math.cos(r),n=Math.sin(r),o=1+d*i,a=0;a<=this.detailX;a++){var s=a/this.detailX,h=2*Math.PI*s,l=Math.cos(h),u=Math.sin(h),c=new x.Vector(o*l,o*u,d*n),p=new x.Vector(i*l,i*u,n);this.vertices.push(c),this.vertexNormals.push(p),this.uvs.push(s,t)}});o.computeFaces(),r<=24&&i<=16?o._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(n,o)}return this._renderer.drawBuffersScaled(n,e,e,e),this},x.RendererGL.prototype.point=function(e,t,r){this._usePointShader(),this.curPointShader.bindShader(),void 0===r&&(r=0);var i=[];return i.push(new x.Vector(e,t,r)),this._drawPoints(i,this._pointVertexBuffer),this.curPointShader.unbindShader(),this},x.RendererGL.prototype.triangle=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],a=e[5];if(!this.geometryInHash("tri")){var s=new x.Geometry(1,1,function(){var e=[];e.push(new x.Vector(0,0,0)),e.push(new x.Vector(0,1,0)),e.push(new x.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=e,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});s._makeTriangleEdges()._edgesToVertices(),s.computeNormals(),this.createBuffers("tri",s)}var h=this.uMVMatrix.copy();try{var l=new x.Matrix([i-t,n-r,0,0,o-t,a-r,0,0,0,0,1,0,t,r,0,1]).mult(this.uMVMatrix);this.uMVMatrix=l,this.drawBuffers("tri")}finally{this.uMVMatrix=h}return this},x.RendererGL.prototype.ellipse=function(e){this.arc(e[0],e[1],e[2],e[3],0,d.TWO_PI,d.OPEN,e[4])},x.RendererGL.prototype.arc=function(e){var t,r,i=e,n=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],h=arguments[5],l=arguments[6],u=arguments[7]||25;if(r=Math.abs(h-s)>=d.TWO_PI?(t="ellipse")+"|"+u+"|":(t="arc")+"|"+s+"|"+h+"|"+l+"|"+u+"|",!this.geometryInHash(r)){var c=new x.Geometry(u,1,function(){if(this.strokeIndices=[],s.toFixed(10)!==h.toFixed(10)){l!==d.PIE&&void 0!==l||(this.vertices.push(new x.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var e=0;e<=u;e++){var t=e/u*(h-s)+s,r=.5+Math.cos(t)/2,i=.5+Math.sin(t)/2;this.vertices.push(new x.Vector(r,i,0)),this.uvs.push([r,i]),e<u-1&&(this.faces.push([0,e+1,e+2]),this.strokeIndices.push([e+1,e+2]))}switch(l){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case d.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case d.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}});c.computeNormals(),u<=50?c._makeTriangleEdges()._edgesToVertices(c):console.log("Cannot stroke "+t+" with more than 50 detail"),this.createBuffers(r,c)}var p=this.uMVMatrix.copy();try{this.uMVMatrix.translate([i,n,0]),this.uMVMatrix.scale(o,a,1),this.drawBuffers(r)}finally{this.uMVMatrix=p}return this},x.RendererGL.prototype.rect=function(e){var t=this.attributes.perPixelLighting,r=e[0],i=e[1],n=e[2],o=e[3],a=e[4]||(t?1:24),s=e[5]||(t?1:16),h="rect|"+a+"|"+s;if(!this.geometryInHash(h)){var l=new x.Geometry(a,s,function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=0;r<=this.detailX;r++){var i=r/this.detailX,n=new x.Vector(i,t,0);this.vertices.push(n),this.uvs.push(i,t)}0<a&&0<s&&(this.strokeIndices=[[0,a],[a,(a+1)*(s+1)-1],[(a+1)*(s+1)-1,(a+1)*s],[(a+1)*s,0]])});l.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(h,l)}var u=this.uMVMatrix.copy();try{this.uMVMatrix.translate([r,i,0]),this.uMVMatrix.scale(n,o,1),this.drawBuffers(h)}finally{this.uMVMatrix=u}return this},x.RendererGL.prototype.quad=function(e,t,r,i,n,o,a,s){var h="quad|"+e+"|"+t+"|"+r+"|"+i+"|"+n+"|"+o+"|"+a+"|"+s;if(!this.geometryInHash(h)){var l=new x.Geometry(2,2,function(){this.vertices.push(new x.Vector(e,t,0)),this.vertices.push(new x.Vector(r,i,0)),this.vertices.push(new x.Vector(n,o,0)),this.vertices.push(new x.Vector(a,s,0)),this.uvs.push(0,0,1,0,1,1,0,1),this.strokeIndices=[[0,1],[1,2],[2,3],[3,0]]});l.computeNormals()._makeTriangleEdges()._edgesToVertices(),l.faces=[[0,1,2],[2,3,0]],this.createBuffers(h,l)}return this.drawBuffers(h),this},x.RendererGL.prototype.bezier=function(e,t,r,i,n,o,a,s,h,l,u,c){8===arguments.length&&(l=a,u=s,a=n,s=i,n=i=r,r=o=h=c=0);var p=this._pInst._bezierDetail||20;this.beginShape();for(var d=0;d<=p;d++){var f=Math.pow(1-d/p,3),m=d/p*3*Math.pow(1-d/p,2),v=3*Math.pow(d/p,2)*(1-d/p),g=Math.pow(d/p,3);this.vertex(e*f+i*m+a*v+l*g,t*f+n*m+s*v+u*g,r*f+o*m+h*v+c*g)}return this.endShape(),this},x.RendererGL.prototype.curve=function(e,t,r,i,n,o,a,s,h,l,u,c){8===arguments.length&&(l=a,u=s,a=n,s=i,n=i=r,r=o=h=c=0);var p=this._pInst._curveDetail;this.beginShape();for(var d=0;d<=p;d++){var f=.5*Math.pow(d/p,3),m=.5*Math.pow(d/p,2),v=d/p*.5,g=f*(3*i-e-3*a+l)+m*(2*e-5*i+4*a-l)+v*(-e+a)+2*i*.5,y=f*(3*n-t-3*s+u)+m*(2*t-5*n+4*s-u)+v*(-t+s)+2*n*.5,b=f*(3*o-r-3*h+c)+m*(2*r-5*o+4*h-c)+v*(-r+h)+2*o*.5;this.vertex(g,y,b)}return this.endShape(),this},x.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(),this.vertex(arguments[0],arguments[1],arguments[2]),this.vertex(arguments[3],arguments[4],arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(),this.vertex(arguments[0],arguments[1],0),this.vertex(arguments[2],arguments[3],0),this.endShape()),this},x.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var e,t,r,i,n,o=[],a=[],s=[],h=arguments.length;if((e=0)===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var l=1/this._lutBezierDetail,u=0,c=1,p=0;u<1;){if(e=parseFloat(u.toFixed(6)),this._lookUpTableBezier[p]=this._bezierCoefficients(e),c.toFixed(6)===l.toFixed(6)){e=parseFloat(c.toFixed(6))+parseFloat(u.toFixed(6)),++p,this._lookUpTableBezier[p]=this._bezierCoefficients(e);break}u+=l,c-=l,++p}}var d=this._lookUpTableBezier.length;if(6===h){for(this.isBezier=!0,o=[this.immediateMode._bezierVertex[0],arguments[0],arguments[2],arguments[4]],a=[this.immediateMode._bezierVertex[1],arguments[1],arguments[3],arguments[5]],n=0;n<d;n++)t=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],r=a[0]*this._lookUpTableBezier[n][0]+a[1]*this._lookUpTableBezier[n][1]+a[2]*this._lookUpTableBezier[n][2]+a[3]*this._lookUpTableBezier[n][3],this.vertex(t,r);this.immediateMode._bezierVertex[0]=arguments[4],this.immediateMode._bezierVertex[1]=arguments[5]}else if(9===h){for(this.isBezier=!0,o=[this.immediateMode._bezierVertex[0],arguments[0],arguments[3],arguments[6]],a=[this.immediateMode._bezierVertex[1],arguments[1],arguments[4],arguments[7]],s=[this.immediateMode._bezierVertex[2],arguments[2],arguments[5],arguments[8]],n=0;n<d;n++)t=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],r=a[0]*this._lookUpTableBezier[n][0]+a[1]*this._lookUpTableBezier[n][1]+a[2]*this._lookUpTableBezier[n][2]+a[3]*this._lookUpTableBezier[n][3],i=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],this.vertex(t,r,i);this.immediateMode._bezierVertex[0]=arguments[6],this.immediateMode._bezierVertex[1]=arguments[7],this.immediateMode._bezierVertex[2]=arguments[8]}},x.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var e,t,r,i,n,o=[],a=[],s=[],h=arguments.length;if((e=0)===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var l=1/this._lutQuadraticDetail,u=0,c=1,p=0;u<1;){if(e=parseFloat(u.toFixed(6)),this._lookUpTableQuadratic[p]=this._quadraticCoefficients(e),c.toFixed(6)===l.toFixed(6)){e=parseFloat(c.toFixed(6))+parseFloat(u.toFixed(6)),++p,this._lookUpTableQuadratic[p]=this._quadraticCoefficients(e);break}u+=l,c-=l,++p}}var d=this._lookUpTableQuadratic.length;if(4===h){for(this.isQuadratic=!0,o=[this.immediateMode._quadraticVertex[0],arguments[0],arguments[2]],a=[this.immediateMode._quadraticVertex[1],arguments[1],arguments[3]],n=0;n<d;n++)t=o[0]*this._lookUpTableQuadratic[n][0]+o[1]*this._lookUpTableQuadratic[n][1]+o[2]*this._lookUpTableQuadratic[n][2],r=a[0]*this._lookUpTableQuadratic[n][0]+a[1]*this._lookUpTableQuadratic[n][1]+a[2]*this._lookUpTableQuadratic[n][2],this.vertex(t,r);this.immediateMode._quadraticVertex[0]=arguments[2],this.immediateMode._quadraticVertex[1]=arguments[3]}else if(6===h){for(this.isQuadratic=!0,o=[this.immediateMode._quadraticVertex[0],arguments[0],arguments[3]],a=[this.immediateMode._quadraticVertex[1],arguments[1],arguments[4]],s=[this.immediateMode._quadraticVertex[2],arguments[2],arguments[5]],n=0;n<d;n++)t=o[0]*this._lookUpTableQuadratic[n][0]+o[1]*this._lookUpTableQuadratic[n][1]+o[2]*this._lookUpTableQuadratic[n][2],r=a[0]*this._lookUpTableQuadratic[n][0]+a[1]*this._lookUpTableQuadratic[n][1]+a[2]*this._lookUpTableQuadratic[n][2],i=s[0]*this._lookUpTableQuadratic[n][0]+s[1]*this._lookUpTableQuadratic[n][1]+s[2]*this._lookUpTableQuadratic[n][2],this.vertex(t,r,i);this.immediateMode._quadraticVertex[0]=arguments[3],this.immediateMode._quadraticVertex[1]=arguments[4],this.immediateMode._quadraticVertex[2]=arguments[5]}},x.RendererGL.prototype.curveVertex=function(){var e,t,r,i,n,o=[],a=[],s=[];e=0;var h=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var l=1/this._lutBezierDetail,u=0,c=1,p=0;u<1;){if(e=parseFloat(u.toFixed(6)),this._lookUpTableBezier[p]=this._bezierCoefficients(e),c.toFixed(6)===l.toFixed(6)){e=parseFloat(c.toFixed(6))+parseFloat(u.toFixed(6)),++p,this._lookUpTableBezier[p]=this._bezierCoefficients(e);break}u+=l,c-=l,++p}}var d=this._lookUpTableBezier.length;if(2===h){if(this.immediateMode._curveVertex.push(arguments[0]),this.immediateMode._curveVertex.push(arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,o=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),n=0;n<d;n++)t=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],r=a[0]*this._lookUpTableBezier[n][0]+a[1]*this._lookUpTableBezier[n][1]+a[2]*this._lookUpTableBezier[n][2]+a[3]*this._lookUpTableBezier[n][3],this.vertex(t,r);for(n=0;n<h;n++)this.immediateMode._curveVertex.shift()}}else if(3===h&&(this.immediateMode._curveVertex.push(arguments[0]),this.immediateMode._curveVertex.push(arguments[1]),this.immediateMode._curveVertex.push(arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,o=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),n=0;n<d;n++)t=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],r=a[0]*this._lookUpTableBezier[n][0]+a[1]*this._lookUpTableBezier[n][1]+a[2]*this._lookUpTableBezier[n][2]+a[3]*this._lookUpTableBezier[n][3],i=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],this.vertex(t,r,i);for(n=0;n<h;n++)this.immediateMode._curveVertex.shift()}},t.exports=x},{"../core/constants":17,"../core/main":23,"./p5.Geometry":69}],64:[function(e,t,r){"use strict";var c=e("../core/main"),i=e("../core/constants");c.prototype.orbitControl=function(e,t){if(this._assert3d("orbitControl"),c._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY){var r=this._renderer._curCamera;void 0===e&&(e=1),void 0===t&&(t=e),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var i=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,.5*i):this._renderer._curCamera._orbit(0,0,-.5*i)),this.mouseIsPressed)if(this.mouseButton===this.LEFT){var n=-e*(this.mouseX-this.pmouseX)/i,o=t*(this.mouseY-this.pmouseY)/i;this._renderer._curCamera._orbit(n,o,0)}else if(this.mouseButton===this.RIGHT){var a=r._getLocalAxes(),s=Math.sqrt(a.x[0]*a.x[0]+a.x[2]*a.x[2]);0!==s&&(a.x[0]/=s,a.x[2]/=s);var h=Math.sqrt(a.y[0]*a.y[0]+a.y[2]*a.y[2]);0!==h&&(a.y[0]/=h,a.y[2]/=h);var l=-1*e*(this.mouseX-this.pmouseX),u=-1*t*(this.mouseY-this.pmouseY);r.setPosition(r.eyeX+l*a.x[0]+u*a.z[0],r.eyeY,r.eyeZ+l*a.x[2]+u*a.z[2])}return this}},c.prototype.debugMode=function(){this._assert3d("debugMode"),c._validateParameters("debugMode",arguments);for(var e=this._registeredMethods.post.length-1;0<=e;e--)this._registeredMethods.post[e].toString()!==this._grid().toString()&&this._registeredMethods.post[e].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(e,1);arguments[0]===i.GRID?this.registerMethod("post",this._grid.call(this,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])):arguments[0]===i.AXES?this.registerMethod("post",this._axesIcon.call(this,arguments[1],arguments[2],arguments[3],arguments[4])):(this.registerMethod("post",this._grid.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])),this.registerMethod("post",this._axesIcon.call(this,arguments[5],arguments[6],arguments[7],arguments[8])))},c.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var e=this._registeredMethods.post.length-1;0<=e;e--)this._registeredMethods.post[e].toString()!==this._grid().toString()&&this._registeredMethods.post[e].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(e,1)},c.prototype._grid=function(e,r,i,n,o){void 0===e&&(e=this.width/2),void 0===r&&(r=Math.round(e/30)<4?4:Math.round(e/30)),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0);var a=e/r,s=e/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var e=0;e<=r;e++)this.beginShape(this.LINES),this.vertex(-s+i,n,e*a-s+o),this.vertex(+s+i,n,e*a-s+o),this.endShape();for(var t=0;t<=r;t++)this.beginShape(this.LINES),this.vertex(t*a-s+i,n,-s+o),this.vertex(t*a-s+i,n,+s+o),this.endShape();this.pop()}},c.prototype._axesIcon=function(e,t,r,i){return void 0===e&&(e=40<this.width/20?this.width/20:40),void 0===t&&(t=-this.width/4),void 0===r&&(r=t),void 0===i&&(i=t),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(t,r,i),this.vertex(t+e,r,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(t,r,i),this.vertex(t,r+e,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(t,r,i),this.vertex(t,r,i+e),this.endShape(),this.pop()}},t.exports=c},{"../core/constants":17,"../core/main":23}],65:[function(e,t,r){"use strict";var d=e("../core/main");d.prototype.ambientLight=function(e,t,r,i){this._assert3d("ambientLight"),d._validateParameters("ambientLight",arguments);var n=this.color.apply(this,arguments),o=this._renderer._useLightShader();return o.setUniform("uUseLighting",!0),o.setUniform("uMaterialColor",this._renderer.curFillColor),this._renderer.ambientLightColors.push(n._array[0],n._array[1],n._array[2]),o.setUniform("uAmbientColor",this._renderer.ambientLightColors),o.setUniform("uAmbientLightCount",this._renderer.ambientLightColors.length/3),this},d.prototype.directionalLight=function(e,t,r,i,n,o){this._assert3d("directionalLight"),d._validateParameters("directionalLight",arguments);var a,s,h,l,u=this._renderer._useLightShader();a=e instanceof d.Color?e:this.color(e,t,r);var c=arguments[arguments.length-1];l="number"==typeof c?(s=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(s=c.x,h=c.y,c.z),u.setUniform("uUseLighting",!0),u.setUniform("uMaterialColor",this._renderer.curFillColor);var p=Math.sqrt(s*s+h*h+l*l);return this._renderer.directionalLightDirections.push(s/p,h/p,l/p),u.setUniform("uLightingDirection",this._renderer.directionalLightDirections),this._renderer.directionalLightColors.push(a._array[0],a._array[1],a._array[2]),u.setUniform("uDirectionalColor",this._renderer.directionalLightColors),u.setUniform("uDirectionalLightCount",this._renderer.directionalLightColors.length/3),this},d.prototype.pointLight=function(e,t,r,i,n,o){var a,s,h,l;this._assert3d("pointLight"),d._validateParameters("pointLight",arguments),a=e instanceof d.Color?e:this.color(e,t,r);var u=arguments[arguments.length-1];l="number"==typeof u?(s=arguments[arguments.length-3],h=arguments[arguments.length-2],arguments[arguments.length-1]):(s=u.x,h=u.y,u.z);var c=this._renderer._useLightShader();return c.setUniform("uUseLighting",!0),c.setUniform("uMaterialColor",this._renderer.curFillColor),this._renderer.pointLightPositions.push(s,h,l),c.setUniform("uPointLightLocation",this._renderer.pointLightPositions),this._renderer.pointLightColors.push(a._array[0],a._array[1],a._array[2]),c.setUniform("uPointLightColor",this._renderer.pointLightColors),c.setUniform("uPointLightCount",this._renderer.pointLightColors.length/3),this},t.exports=d},{"../core/main":23}],66:[function(e,t,r){"use strict";var v=e("../core/main");e("./p5.Geometry"),v.prototype.loadModel=function(e){var t,r,i;v._validateParameters("loadModel",arguments),i="boolean"==typeof arguments[1]?(t=arguments[1],r=arguments[2],arguments[3]):(t=!1,r=arguments[1],arguments[2]);var n=new v.Geometry;n.gid=e+"|"+t;var o=this;return this.loadStrings(e,function(e){!function(e,t){for(var r={v:[],vt:[],vn:[]},i={},n=0;n<t.length;++n){var o=t[n].trim().split(/\b\s+/);if(0<o.length)if("v"===o[0]||"vn"===o[0]){var a=new v.Vector(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));r[o[0]].push(a)}else if("vt"===o[0]){var s=[parseFloat(o[1]),parseFloat(o[2])];r[o[0]].push(s)}else if("f"===o[0])for(var h=3;h<o.length;++h){for(var l=[],u=[1,h-1,h],c=0;c<u.length;++c){var p=o[u[c]],d=0;if(void 0!==i[p])d=i[p];else{for(var f=p.split("/"),m=0;m<f.length;m++)f[m]=parseInt(f[m])-1;d=i[p]=e.vertices.length,e.vertices.push(r.v[f[0]].copy()),r.vt[f[1]]?e.uvs.push(r.vt[f[1]].slice()):e.uvs.push([0,0]),r.vn[f[2]]&&e.vertexNormals.push(r.vn[f[2]].copy())}l.push(d)}l[0]!==l[1]&&l[0]!==l[2]&&l[1]!==l[2]&&e.faces.push(l)}}0===e.vertexNormals.length&&e.computeNormals()}(n,e),t&&n.normalize(),o._decrementPreload(),"function"==typeof r&&r(n)}.bind(this),i),n},v.prototype.model=function(e){this._assert3d("model"),v._validateParameters("model",arguments),0<e.vertices.length&&(this._renderer.geometryInHash(e.gid)||(e._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(e.gid,e)),this._renderer.drawBuffers(e.gid))},t.exports=v},{"../core/main":23,"./p5.Geometry":69}],67:[function(e,t,r){"use strict";var a=e("../core/main"),i=e("../core/constants");e("./p5.Texture"),a.prototype.loadShader=function(e,t){a._validateParameters("loadShader",arguments);var r=new a.Shader,i=this,n=!1,o=!1;return this.loadStrings(t,function(e){r._fragSrc=e.join("\n"),n=!0,o&&i._decrementPreload()}),this.loadStrings(e,function(e){r._vertSrc=e.join("\n"),o=!0,n&&i._decrementPreload()}),r},a.prototype.createShader=function(e,t){return this._assert3d("createShader"),a._validateParameters("createShader",arguments),new a.Shader(this._renderer,e,t)},a.prototype.shader=function(e){return this._assert3d("shader"),a._validateParameters("shader",arguments),void 0===e._renderer&&(e._renderer=this._renderer),e.isStrokeShader()?this._renderer.setStrokeShader(e):this._renderer.setFillShader(e),this},a.prototype.normalMaterial=function(){return this._assert3d("normalMaterial"),a._validateParameters("normalMaterial",arguments),this._renderer.drawMode=i.FILL,this._renderer.setFillShader(this._renderer._getNormalShader()),this._renderer.curFillColor=[1,1,1,1],this.noStroke(),this},a.prototype.texture=function(e){this._assert3d("texture"),a._validateParameters("texture",arguments),this._renderer.drawMode=i.TEXTURE,this._renderer.textureImage=e;var t=this._renderer._useLightShader();return t.setUniform("uSpecular",!1),t.setUniform("isTexture",!0),t.setUniform("uSampler",e),this.noStroke(),this},a.prototype.textureMode=function(e){e!==i.IMAGE&&e!==i.NORMAL?console.warn("You tried to set "+e+" textureMode only supports IMAGE & NORMAL "):this._renderer.textureMode=e},a.prototype.ambientMaterial=function(e,t,r,i){this._assert3d("ambientMaterial"),a._validateParameters("ambientMaterial",arguments);var n=a.prototype.color.apply(this,arguments);this._renderer.curFillColor=n._array;var o=this._renderer._useLightShader();return o.setUniform("uMaterialColor",this._renderer.curFillColor),o.setUniform("uSpecular",!1),o.setUniform("isTexture",!1),this},a.prototype.specularMaterial=function(e,t,r,i){this._assert3d("specularMaterial"),a._validateParameters("specularMaterial",arguments);var n=a.prototype.color.apply(this,arguments);this._renderer.curFillColor=n._array;var o=this._renderer._useLightShader();return o.setUniform("uMaterialColor",this._renderer.curFillColor),o.setUniform("uSpecular",!0),o.setUniform("isTexture",!1),this},a.RendererGL.prototype._applyColorBlend=function(e){var t=this.GL,r=this.drawMode===i.TEXTURE;return r||e[e.length-1]<1?(t.depthMask(r),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)):(t.depthMask(!0),t.disable(t.BLEND)),e},t.exports=a},{"../core/constants":17,"../core/main":23,"./p5.Texture":75}],68:[function(e,t,r){"use strict";var m=e("../core/main");m.prototype.camera=function(){return this._assert3d("camera"),m._validateParameters("camera",arguments),this._renderer._curCamera.camera.apply(this._renderer._curCamera,arguments),this},m.prototype.perspective=function(){return this._assert3d("perspective"),m._validateParameters("perspective",arguments),this._renderer._curCamera.perspective.apply(this._renderer._curCamera,arguments),this},m.prototype.ortho=function(){return this._assert3d("ortho"),m._validateParameters("ortho",arguments),this._renderer._curCamera.ortho.apply(this._renderer._curCamera,arguments),this},m.prototype.createCamera=function(){this._assert3d("createCamera");var e=new m.Camera(this._renderer);return e._computeCameraDefaultSettings(),e._setDefaultCamera(),this._renderer._curCamera=e},m.Camera=function(e){this._renderer=e,this.cameraType="default",this.cameraMatrix=new m.Matrix,this.projMatrix=new m.Matrix},m.Camera.prototype.perspective=function(e,t,r,i){this.cameraFOV=void 0===e?e=this.defaultCameraFOV:this._renderer._pInst._toRadians(e),void 0===t&&(t=this.defaultAspectRatio),void 0===r&&(r=this.defaultCameraNear),void 0===i&&(i=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=t,this.cameraNear=r,this.cameraFar=i,this.projMatrix=m.Matrix.identity();var n=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(n/t,0,0,0,0,-n,0,0,0,0,(i+r)*o,-1,0,0,2*i*r*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},m.Camera.prototype.ortho=function(e,t,r,i,n,o){void 0===e&&(e=-this._renderer.width/2),void 0===t&&(t=+this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===i&&(i=+this._renderer.height/2),void 0===n&&(n=0),void 0===o&&(o=Math.max(this._renderer.width,this._renderer.height));var a=t-e,s=i-r,h=o-n,l=2/a,u=2/s,c=-2/h,p=-(t+e)/a,d=-(i+r)/s,f=-(o+n)/h;this.projMatrix=m.Matrix.identity(),this.projMatrix.set(l,0,0,0,0,-u,0,0,0,0,c,0,p,d,f,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},m.Camera.prototype._rotateView=function(e,t,r,i){var n=this.centerX,o=this.centerY,a=this.centerZ;n-=this.eyeX,o-=this.eyeY,a-=this.eyeZ;var s=m.Matrix.identity(this._renderer._pInst);s.rotate(e,t,r,i);var h=[n*s.mat4[0]+o*s.mat4[4]+a*s.mat4[8],n*s.mat4[1]+o*s.mat4[5]+a*s.mat4[9],n*s.mat4[2]+o*s.mat4[6]+a*s.mat4[10]];h[0]+=this.eyeX,h[1]+=this.eyeY,h[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,h[0],h[1],h[2],this.upX,this.upY,this.upZ)},m.Camera.prototype.pan=function(e){var t=this._getLocalAxes();this._rotateView(e,t.y[0],t.y[1],t.y[2])},m.Camera.prototype.tilt=function(e){var t=this._getLocalAxes();this._rotateView(e,t.x[0],t.x[1],t.x[2])},m.Camera.prototype.lookAt=function(e,t,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,e,t,r,this.upX,this.upY,this.upZ)},m.Camera.prototype.camera=function(e,t,r,i,n,o,a,s,h){void 0===e&&(e=this.defaultEyeX,t=this.defaultEyeY,r=this.defaultEyeZ,i=e,n=t,s=1,h=a=o=0),this.eyeX=e,this.eyeY=t,this.eyeZ=r,this.centerX=i,this.centerY=n,this.centerZ=o,this.upX=a,this.upY=s,this.upZ=h;var l=this._getLocalAxes();this.cameraMatrix.set(l.x[0],l.y[0],l.z[0],0,l.x[1],l.y[1],l.z[1],0,l.x[2],l.y[2],l.z[2],0,0,0,0,1);var u=-e,c=-t,p=-r;return this.cameraMatrix.translate([u,c,p]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},m.Camera.prototype.move=function(e,t,r){var i=this._getLocalAxes(),n=[i.x[0]*e,i.x[1]*e,i.x[2]*e],o=[i.y[0]*t,i.y[1]*t,i.y[2]*t],a=[i.z[0]*r,i.z[1]*r,i.z[2]*r];this.camera(this.eyeX+n[0]+o[0]+a[0],this.eyeY+n[1]+o[1]+a[1],this.eyeZ+n[2]+o[2]+a[2],this.centerX+n[0]+o[0]+a[0],this.centerY+n[1]+o[1]+a[1],this.centerZ+n[2]+o[2]+a[2],0,1,0)},m.Camera.prototype.setPosition=function(e,t,r){var i=e-this.eyeX,n=t-this.eyeY,o=r-this.eyeZ;this.camera(e,t,r,this.centerX+i,this.centerY+n,this.centerZ+o,0,1,0)},m.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},m.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},m.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},m.Camera.prototype.copy=function(){var e=new m.Camera(this._renderer);return e.cameraFOV=this.cameraFOV,e.aspectRatio=this.aspectRatio,e.eyeX=this.eyeX,e.eyeY=this.eyeY,e.eyeZ=this.eyeZ,e.centerX=this.centerX,e.centerY=this.centerY,e.centerZ=this.centerZ,e.cameraNear=this.cameraNear,e.cameraFar=this.cameraFar,e.cameraType=this.cameraType,e.cameraMatrix=this.cameraMatrix.copy(),e.projMatrix=this.projMatrix.copy(),e},m.Camera.prototype._getLocalAxes=function(){var e=this.eyeX-this.centerX,t=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,i=Math.sqrt(e*e+t*t+r*r);0!==i&&(e/=i,t/=i,r/=i);var n=this.upX,o=this.upY,a=this.upZ,s=o*r-a*t,h=-n*r+a*e,l=n*t-o*e;n=t*l-r*h,o=-e*l+r*s,a=e*h-t*s;var u=Math.sqrt(s*s+h*h+l*l);0!==u&&(s/=u,h/=u,l/=u);var c=Math.sqrt(n*n+o*o+a*a);return 0!==c&&(n/=c,o/=c,a/=c),{x:[s,h,l],y:[n,o,a],z:[e,t,r]}},m.Camera.prototype._orbit=function(e,t,r){var i=this.eyeX-this.centerX,n=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,a=Math.sqrt(i*i+n*n+o*o),s=Math.atan2(i,o),h=Math.acos(Math.max(-1,Math.min(1,n/a)));s+=e,(a+=r)<0&&(a=.1),(h+=t)>Math.PI?h=Math.PI:h<=0&&(h=.001);var l=Math.sin(h)*a*Math.sin(s),u=Math.cos(h)*a,c=Math.sin(h)*a*Math.cos(s);this.camera(l+this.centerX,u+this.centerY,c+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},m.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},m.prototype.setCamera=function(e){this._renderer._curCamera=e,this._renderer.uPMatrix.set(e.projMatrix.mat4[0],e.projMatrix.mat4[1],e.projMatrix.mat4[2],e.projMatrix.mat4[3],e.projMatrix.mat4[4],e.projMatrix.mat4[5],e.projMatrix.mat4[6],e.projMatrix.mat4[7],e.projMatrix.mat4[8],e.projMatrix.mat4[9],e.projMatrix.mat4[10],e.projMatrix.mat4[11],e.projMatrix.mat4[12],e.projMatrix.mat4[13],e.projMatrix.mat4[14],e.projMatrix.mat4[15])},t.exports=m.Camera},{"../core/main":23}],69:[function(e,t,r){"use strict";var u=e("../core/main");u.Geometry=function(e,t,r){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.detailX=void 0!==e?e:1,this.detailY=void 0!==t?t:1,r instanceof Function&&r.call(this),this},u.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var e,t,r,i,n=this.detailX+1,o=0;o<this.detailY;o++)for(var a=0;a<this.detailX;a++)t=(e=o*n+a)+1,r=(o+1)*n+a+1,i=(o+1)*n+a,this.faces.push([e,t,i]),this.faces.push([i,t,r]);return this},u.Geometry.prototype._getFaceNormal=function(e){var t=this.faces[e],r=this.vertices[t[0]],i=this.vertices[t[1]],n=this.vertices[t[2]],o=u.Vector.sub(i,r),a=u.Vector.sub(n,r),s=u.Vector.cross(o,a),h=u.Vector.mag(s),l=h/(u.Vector.mag(o)*u.Vector.mag(a));return 0===l||isNaN(l)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),s):(1<l&&(l=1),s.mult(Math.asin(l)/h))},u.Geometry.prototype.computeNormals=function(){var e,t=this.vertexNormals,r=this.vertices,i=this.faces;for(e=t.length=0;e<r.length;++e)t.push(new u.Vector);for(var n=0;n<i.length;++n)for(var o=i[n],a=this._getFaceNormal(n),s=0;s<3;++s){t[o[s]].add(a)}for(e=0;e<r.length;++e)t[e].normalize();return this},u.Geometry.prototype.averageNormals=function(){for(var e=0;e<=this.detailY;e++){var t=this.detailX+1,r=u.Vector.add(this.vertexNormals[e*t],this.vertexNormals[e*t+this.detailX]);r=u.Vector.div(r,2),this.vertexNormals[e*t]=r,this.vertexNormals[e*t+this.detailX]=r}return this},u.Geometry.prototype.averagePoleNormals=function(){for(var e=new u.Vector(0,0,0),t=0;t<this.detailX;t++)e.add(this.vertexNormals[t]);for(e=u.Vector.div(e,this.detailX),t=0;t<this.detailX;t++)this.vertexNormals[t]=e;for(e=new u.Vector(0,0,0),t=this.vertices.length-1;t>this.vertices.length-1-this.detailX;t--)e.add(this.vertexNormals[t]);for(e=u.Vector.div(e,this.detailX),t=this.vertices.length-1;t>this.vertices.length-1-this.detailX;t--)this.vertexNormals[t]=e;return this},u.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var e=0,t=this.strokeIndices.length;e<t;e++)this.edges.push(this.strokeIndices[e]);else for(var r=0;r<this.faces.length;r++)this.edges.push([this.faces[r][0],this.faces[r][1]]),this.edges.push([this.faces[r][1],this.faces[r][2]]),this.edges.push([this.faces[r][2],this.faces[r][0]]);return this},u.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var e=this.lineNormals.length=0;e<this.edges.length;e++){var t=this.vertices[this.edges[e][0]],r=this.vertices[this.edges[e][1]],i=r.copy().sub(t).normalize(),n=t.array(),o=t.array(),a=r.array(),s=r.array(),h=i.array(),l=i.array();h.push(1),l.push(-1),this.lineNormals.push(h,l,h,h,l,l),this.lineVertices.push(n,o,a,a,o,s)}return this},u.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var e=this.vertices[0].copy(),t=this.vertices[0].copy(),r=0;r<this.vertices.length;r++)e.x=Math.max(e.x,this.vertices[r].x),t.x=Math.min(t.x,this.vertices[r].x),e.y=Math.max(e.y,this.vertices[r].y),t.y=Math.min(t.y,this.vertices[r].y),e.z=Math.max(e.z,this.vertices[r].z),t.z=Math.min(t.z,this.vertices[r].z);var i=u.Vector.lerp(e,t,.5),n=u.Vector.sub(e,t),o=200/Math.max(Math.max(n.x,n.y),n.z);for(r=0;r<this.vertices.length;r++)this.vertices[r].sub(i),this.vertices[r].mult(o)}return this},t.exports=u.Geometry},{"../core/main":23}],70:[function(e,t,r){"use strict";var P=e("../core/main"),i=Array,k=function(e){return e instanceof Array};"undefined"!=typeof Float32Array&&(i=Float32Array,k=function(e){return e instanceof Array||e instanceof Float32Array}),P.Matrix=function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];return e.length&&e[e.length-1]instanceof P&&(this.p5=e[e.length-1]),"mat3"===e[0]?this.mat3=Array.isArray(e[1])?e[1]:new i([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(e[0])?e[0]:new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},P.Matrix.prototype.set=function(e){return e instanceof P.Matrix?this.mat4=e.mat4:k(e)?this.mat4=e:16===arguments.length&&(this.mat4[0]=e,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},P.Matrix.prototype.get=function(){return new P.Matrix(this.mat4,this.p5)},P.Matrix.prototype.copy=function(){var e=new P.Matrix(this.p5);return e.mat4[0]=this.mat4[0],e.mat4[1]=this.mat4[1],e.mat4[2]=this.mat4[2],e.mat4[3]=this.mat4[3],e.mat4[4]=this.mat4[4],e.mat4[5]=this.mat4[5],e.mat4[6]=this.mat4[6],e.mat4[7]=this.mat4[7],e.mat4[8]=this.mat4[8],e.mat4[9]=this.mat4[9],e.mat4[10]=this.mat4[10],e.mat4[11]=this.mat4[11],e.mat4[12]=this.mat4[12],e.mat4[13]=this.mat4[13],e.mat4[14]=this.mat4[14],e.mat4[15]=this.mat4[15],e},P.Matrix.identity=function(e){return new P.Matrix(e)},P.Matrix.prototype.transpose=function(e){var t,r,i,n,o,a;return e instanceof P.Matrix?(t=e.mat4[1],r=e.mat4[2],i=e.mat4[3],n=e.mat4[6],o=e.mat4[7],a=e.mat4[11],this.mat4[0]=e.mat4[0],this.mat4[1]=e.mat4[4],this.mat4[2]=e.mat4[8],this.mat4[3]=e.mat4[12],this.mat4[4]=t,this.mat4[5]=e.mat4[5],this.mat4[6]=e.mat4[9],this.mat4[7]=e.mat4[13],this.mat4[8]=r,this.mat4[9]=n,this.mat4[10]=e.mat4[10],this.mat4[11]=e.mat4[14],this.mat4[12]=i,this.mat4[13]=o,this.mat4[14]=a,this.mat4[15]=e.mat4[15]):k(e)&&(t=e[1],r=e[2],i=e[3],n=e[6],o=e[7],a=e[11],this.mat4[0]=e[0],this.mat4[1]=e[4],this.mat4[2]=e[8],this.mat4[3]=e[12],this.mat4[4]=t,this.mat4[5]=e[5],this.mat4[6]=e[9],this.mat4[7]=e[13],this.mat4[8]=r,this.mat4[9]=n,this.mat4[10]=e[10],this.mat4[11]=e[14],this.mat4[12]=i,this.mat4[13]=o,this.mat4[14]=a,this.mat4[15]=e[15]),this},P.Matrix.prototype.invert=function(e){var t,r,i,n,o,a,s,h,l,u,c,p,d,f,m,v;e instanceof P.Matrix?(t=e.mat4[0],r=e.mat4[1],i=e.mat4[2],n=e.mat4[3],o=e.mat4[4],a=e.mat4[5],s=e.mat4[6],h=e.mat4[7],l=e.mat4[8],u=e.mat4[9],c=e.mat4[10],p=e.mat4[11],d=e.mat4[12],f=e.mat4[13],m=e.mat4[14],v=e.mat4[15]):k(e)&&(t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],a=e[5],s=e[6],h=e[7],l=e[8],u=e[9],c=e[10],p=e[11],d=e[12],f=e[13],m=e[14],v=e[15]);var g=t*a-r*o,y=t*s-i*o,b=t*h-n*o,_=r*s-i*a,x=r*h-n*a,w=i*h-n*s,S=l*f-u*d,T=l*m-c*d,M=l*v-p*d,E=u*m-c*f,C=u*v-p*f,R=c*v-p*m,L=g*R-y*C+b*E+_*M-x*T+w*S;return L?(L=1/L,this.mat4[0]=(a*R-s*C+h*E)*L,this.mat4[1]=(i*C-r*R-n*E)*L,this.mat4[2]=(f*w-m*x+v*_)*L,this.mat4[3]=(c*x-u*w-p*_)*L,this.mat4[4]=(s*M-o*R-h*T)*L,this.mat4[5]=(t*R-i*M+n*T)*L,this.mat4[6]=(m*b-d*w-v*y)*L,this.mat4[7]=(l*w-c*b+p*y)*L,this.mat4[8]=(o*C-a*M+h*S)*L,this.mat4[9]=(r*M-t*C-n*S)*L,this.mat4[10]=(d*x-f*b+v*g)*L,this.mat4[11]=(u*b-l*x-p*g)*L,this.mat4[12]=(a*T-o*E-s*S)*L,this.mat4[13]=(t*E-r*T+i*S)*L,this.mat4[14]=(f*y-d*_-m*g)*L,this.mat4[15]=(l*_-u*y+c*g)*L,this):null},P.Matrix.prototype.invert3x3=function(){var e=this.mat3[0],t=this.mat3[1],r=this.mat3[2],i=this.mat3[3],n=this.mat3[4],o=this.mat3[5],a=this.mat3[6],s=this.mat3[7],h=this.mat3[8],l=h*n-o*s,u=-h*i+o*a,c=s*i-n*a,p=e*l+t*u+r*c;return p?(p=1/p,this.mat3[0]=l*p,this.mat3[1]=(-h*t+r*s)*p,this.mat3[2]=(o*t-r*n)*p,this.mat3[3]=u*p,this.mat3[4]=(h*e-r*a)*p,this.mat3[5]=(-o*e+r*i)*p,this.mat3[6]=c*p,this.mat3[7]=(-s*e+t*a)*p,this.mat3[8]=(n*e-t*i)*p,this):null},P.Matrix.prototype.transpose3x3=function(e){var t=e[1],r=e[2],i=e[5];return this.mat3[1]=e[3],this.mat3[2]=e[6],this.mat3[3]=t,this.mat3[5]=e[7],this.mat3[6]=r,this.mat3[7]=i,this},P.Matrix.prototype.inverseTranspose=function(e){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=e.mat4[0],this.mat3[1]=e.mat4[1],this.mat3[2]=e.mat4[2],this.mat3[3]=e.mat4[4],this.mat3[4]=e.mat4[5],this.mat3[5]=e.mat4[6],this.mat3[6]=e.mat4[8],this.mat3[7]=e.mat4[9],this.mat3[8]=e.mat4[10]);var t=this.invert3x3();if(t)t.transpose3x3(this.mat3);else for(var r=0;r<9;r++)this.mat3[r]=0;return this},P.Matrix.prototype.determinant=function(){var e=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],t=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],i=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],n=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],o=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],a=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],s=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],h=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],l=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],u=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return e*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-t*u+r*l+i*h-n*s+o*a},P.Matrix.prototype.mult=function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof P.Matrix)t=e.mat4;else{if(!k(e))return;t=e}var r=this.mat4[0],i=this.mat4[1],n=this.mat4[2],o=this.mat4[3];return this.mat4[0]=r*t[0]+i*t[4]+n*t[8]+o*t[12],this.mat4[1]=r*t[1]+i*t[5]+n*t[9]+o*t[13],this.mat4[2]=r*t[2]+i*t[6]+n*t[10]+o*t[14],this.mat4[3]=r*t[3]+i*t[7]+n*t[11]+o*t[15],r=this.mat4[4],i=this.mat4[5],n=this.mat4[6],o=this.mat4[7],this.mat4[4]=r*t[0]+i*t[4]+n*t[8]+o*t[12],this.mat4[5]=r*t[1]+i*t[5]+n*t[9]+o*t[13],this.mat4[6]=r*t[2]+i*t[6]+n*t[10]+o*t[14],this.mat4[7]=r*t[3]+i*t[7]+n*t[11]+o*t[15],r=this.mat4[8],i=this.mat4[9],n=this.mat4[10],o=this.mat4[11],this.mat4[8]=r*t[0]+i*t[4]+n*t[8]+o*t[12],this.mat4[9]=r*t[1]+i*t[5]+n*t[9]+o*t[13],this.mat4[10]=r*t[2]+i*t[6]+n*t[10]+o*t[14],this.mat4[11]=r*t[3]+i*t[7]+n*t[11]+o*t[15],r=this.mat4[12],i=this.mat4[13],n=this.mat4[14],o=this.mat4[15],this.mat4[12]=r*t[0]+i*t[4]+n*t[8]+o*t[12],this.mat4[13]=r*t[1]+i*t[5]+n*t[9]+o*t[13],this.mat4[14]=r*t[2]+i*t[6]+n*t[10]+o*t[14],this.mat4[15]=r*t[3]+i*t[7]+n*t[11]+o*t[15],this},P.Matrix.prototype.scale=function(e,t,r){return e instanceof P.Vector?(t=e.y,r=e.z,e=e.x):e instanceof Array&&(t=e[1],r=e[2],e=e[0]),this.mat4[0]*=e,this.mat4[1]*=e,this.mat4[2]*=e,this.mat4[3]*=e,this.mat4[4]*=t,this.mat4[5]*=t,this.mat4[6]*=t,this.mat4[7]*=t,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this},P.Matrix.prototype.rotate=function(e,t,r,i){t instanceof P.Vector?(r=t.y,i=t.z,t=t.x):t instanceof Array&&(r=t[1],i=t[2],t=t[0]);var n=Math.sqrt(t*t+r*r+i*i);t*=1/n,r*=1/n,i*=1/n;var o=this.mat4[0],a=this.mat4[1],s=this.mat4[2],h=this.mat4[3],l=this.mat4[4],u=this.mat4[5],c=this.mat4[6],p=this.mat4[7],d=this.mat4[8],f=this.mat4[9],m=this.mat4[10],v=this.mat4[11],g=Math.sin(e),y=Math.cos(e),b=1-y,_=t*t*b+y,x=r*t*b+i*g,w=i*t*b-r*g,S=t*r*b-i*g,T=r*r*b+y,M=i*r*b+t*g,E=t*i*b+r*g,C=r*i*b-t*g,R=i*i*b+y;return this.mat4[0]=o*_+l*x+d*w,this.mat4[1]=a*_+u*x+f*w,this.mat4[2]=s*_+c*x+m*w,this.mat4[3]=h*_+p*x+v*w,this.mat4[4]=o*S+l*T+d*M,this.mat4[5]=a*S+u*T+f*M,this.mat4[6]=s*S+c*T+m*M,this.mat4[7]=h*S+p*T+v*M,this.mat4[8]=o*E+l*C+d*R,this.mat4[9]=a*E+u*C+f*R,this.mat4[10]=s*E+c*C+m*R,this.mat4[11]=h*E+p*C+v*R,this},P.Matrix.prototype.translate=function(e){var t=e[0],r=e[1],i=e[2]||0;this.mat4[12]+=this.mat4[0]*t+this.mat4[4]*r+this.mat4[8]*i,this.mat4[13]+=this.mat4[1]*t+this.mat4[5]*r+this.mat4[9]*i,this.mat4[14]+=this.mat4[2]*t+this.mat4[6]*r+this.mat4[10]*i,this.mat4[15]+=this.mat4[3]*t+this.mat4[7]*r+this.mat4[11]*i},P.Matrix.prototype.rotateX=function(e){this.rotate(e,1,0,0)},P.Matrix.prototype.rotateY=function(e){this.rotate(e,0,1,0)},P.Matrix.prototype.rotateZ=function(e){this.rotate(e,0,0,1)},P.Matrix.prototype.perspective=function(e,t,r,i){var n=1/Math.tan(e/2),o=1/(r-i);return this.mat4[0]=n/t,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=n,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(i+r)*o,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*i*r*o,this.mat4[15]=0,this},P.Matrix.prototype.ortho=function(e,t,r,i,n,o){var a=1/(e-t),s=1/(r-i),h=1/(n-o);return this.mat4[0]=-2*a,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*h,this.mat4[11]=0,this.mat4[12]=(e+t)*a,this.mat4[13]=(i+r)*s,this.mat4[14]=(o+n)*h,this.mat4[15]=1,this},t.exports=P.Matrix},{"../core/main":23}],71:[function(e,t,r){"use strict";var c=e("../core/main"),p=e("../core/constants");c.RendererGL.prototype.beginShape=function(e){return this.immediateMode.shapeMode=void 0!==e?e:p.LINE_STRIP,void 0===this.immediateMode.vertices?(this.immediateMode.vertices=[],this.immediateMode.edges=[],this.immediateMode.lineVertices=[],this.immediateMode.vertexColors=[],this.immediateMode.lineNormals=[],this.immediateMode.uvCoords=[],this.immediateMode.vertexBuffer=this.GL.createBuffer(),this.immediateMode.colorBuffer=this.GL.createBuffer(),this.immediateMode.uvBuffer=this.GL.createBuffer(),this.immediateMode.lineVertexBuffer=this.GL.createBuffer(),this.immediateMode.lineNormalBuffer=this.GL.createBuffer(),this.immediateMode.pointVertexBuffer=this.GL.createBuffer(),this.immediateMode._bezierVertex=[],this.immediateMode._quadraticVertex=[],this.immediateMode._curveVertex=[]):(this.immediateMode.vertices.length=0,this.immediateMode.edges.length=0,this.immediateMode.lineVertices.length=0,this.immediateMode.lineNormals.length=0,this.immediateMode.vertexColors.length=0,this.immediateMode.uvCoords.length=0),this.isImmediateDrawing=!0,this},c.RendererGL.prototype.vertex=function(e,t){var r,i,n;r=i=n=0,3===arguments.length?r=arguments[2]:4===arguments.length?(i=arguments[2],n=arguments[3]):5===arguments.length&&(r=arguments[2],i=arguments[3],n=arguments[4]);var o=new c.Vector(e,t,r);this.immediateMode.vertices.push(o);var a=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.vertexColors.push(a[0],a[1],a[2],a[3]),this.textureMode===p.IMAGE&&(void 0!==this.textureImage?0<this.textureImage.width&&0<this.textureImage.height&&(i/=this.textureImage.width,n/=this.textureImage.height):console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.uvCoords.push(i,n),this.immediateMode._bezierVertex[0]=e,this.immediateMode._bezierVertex[1]=t,this.immediateMode._bezierVertex[2]=r,this.immediateMode._quadraticVertex[0]=e,this.immediateMode._quadraticVertex[1]=t,this.immediateMode._quadraticVertex[2]=r,this},c.RendererGL.prototype.endShape=function(e,t,r,i,n,o){if(this.immediateMode.shapeMode===p.POINTS)this._usePointShader(),this.curPointShader.bindShader(),this._drawPoints(this.immediateMode.vertices,this.immediateMode.pointVertexBuffer),this.curPointShader.unbindShader();else if(1<this.immediateMode.vertices.length){if(this._useImmediateModeShader(),this._doStroke&&this.drawMode!==p.TEXTURE){if(this.immediateMode.shapeMode===p.TRIANGLE_STRIP){var a;for(a=0;a<this.immediateMode.vertices.length-2;a++)this.immediateMode.edges.push([a,a+1]),this.immediateMode.edges.push([a,a+2]);this.immediateMode.edges.push([a,a+1])}else if(this.immediateMode.shapeMode===p.TRIANGLES)for(a=0;a<this.immediateMode.vertices.length-2;a+=3)this.immediateMode.edges.push([a,a+1]),this.immediateMode.edges.push([a+1,a+2]),this.immediateMode.edges.push([a+2,a]);else for(a=0;a<this.immediateMode.vertices.length-1;a++)this.immediateMode.edges.push([a,a+1]);e===p.CLOSE&&this.immediateMode.edges.push([this.immediateMode.vertices.length-1,0]),c.Geometry.prototype._edgesToVertices.call(this.immediateMode),this._drawStrokeImmediateMode()}if(this._doFill){if(this.isBezier||this.isQuadratic||this.isCurve){var s=[new Float32Array(this._vToNArray(this.immediateMode.vertices))],h=this._triangulate(s);this.immediateMode.vertices=[];for(var l=0,u=h.length;l<u;l+=3)this.vertex(h[l],h[l+1],h[l+2])}this._drawFillImmediateMode(e,t,r,i,n,o)}}return this.immediateMode.vertices.length=0,this.immediateMode.vertexColors.length=0,this.immediateMode.uvCoords.length=0,this.isImmediateDrawing=!1,this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0,this},c.RendererGL.prototype._drawFillImmediateMode=function(e,t,r,i,n,o){var a=this.GL;if(this.curFillShader.bindShader(),this.curFillShader.attributes.aPosition&&(this._bindBuffer(this.immediateMode.vertexBuffer,a.ARRAY_BUFFER,this._vToNArray(this.immediateMode.vertices),Float32Array,a.DYNAMIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location,3,a.FLOAT,!1,0,0)),this.drawMode===p.FILL&&this.curFillShader.attributes.aVertexColor&&(this._bindBuffer(this.immediateMode.colorBuffer,a.ARRAY_BUFFER,this.immediateMode.vertexColors,Float32Array,a.DYNAMIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aVertexColor.location,4,a.FLOAT,!1,0,0)),this.drawMode===p.TEXTURE&&this.curFillShader.attributes.aTexCoord&&(this._bindBuffer(this.immediateMode.uvBuffer,a.ARRAY_BUFFER,this.immediateMode.uvCoords,Float32Array,a.DYNAMIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location,2,a.FLOAT,!1,0,0)),this.drawMode===p.FILL||this.drawMode===p.TEXTURE)switch(this.immediateMode.shapeMode){case p.LINE_STRIP:case p.LINES:case p.TRIANGLES:this.immediateMode.shapeMode=this.isBezier||this.isQuadratic||this.isCurve||this.immediateMode.shapeMode===p.TRIANGLES?p.TRIANGLES:p.TRIANGLE_FAN}else switch(this.immediateMode.shapeMode){case p.LINE_STRIP:case p.LINES:this.immediateMode.shapeMode=p.LINE_LOOP}if(this.immediateMode.shapeMode===p.QUADS||this.immediateMode.shapeMode===p.QUAD_STRIP)throw new Error("sorry, "+this.immediateMode.shapeMode+" not yet implemented in webgl mode.");this._applyColorBlend(this.curFillColor),a.enable(a.BLEND),a.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.vertices.length),this._pInst._pixelsDirty=!0,this.curFillShader.unbindShader()},c.RendererGL.prototype._drawStrokeImmediateMode=function(){var e=this.GL;this.curStrokeShader.bindShader(),this.curStrokeShader.attributes.aPosition&&(this._bindBuffer(this.immediateMode.lineVertexBuffer,e.ARRAY_BUFFER,this._flatten(this.immediateMode.lineVertices),Float32Array,e.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location,3,e.FLOAT,!1,0,0)),this.curStrokeShader.attributes.aDirection&&(this._bindBuffer(this.immediateMode.lineNormalBuffer,e.ARRAY_BUFFER,this._flatten(this.immediateMode.lineNormals),Float32Array,e.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location,4,e.FLOAT,!1,0,0)),this._applyColorBlend(this.curStrokeColor),e.drawArrays(e.TRIANGLES,0,this.immediateMode.lineVertices.length),this.curStrokeShader.unbindShader(),this._pInst._pixelsDirty=!0},t.exports=c.RendererGL},{"../core/constants":17,"../core/main":23}],72:[function(e,t,r){"use strict";var i=e("../core/main"),n=0;i.RendererGL.prototype._initBufferDefaults=function(e){if(this._freeBuffers(e),1e3<++n){var t=Object.keys(this.gHash)[0];delete this.gHash[t],n--}this.gHash[e]={}},i.RendererGL.prototype._freeBuffers=function(e){var t=this.gHash[e];if(t){delete this.gHash[e],n--;var r=this.GL;t.vertexBuffer&&r.deleteBuffer(t.vertexBuffer),t.normalBuffer&&r.deleteBuffer(t.normalBuffer),t.lineNormalBuffer&&r.deleteBuffer(t.lineNormalBuffer),t.uvBuffer&&r.deleteBuffer(t.uvBuffer),t.indexBuffer&&r.deleteBuffer(t.indexBuffer),t.lineVertexBuffer&&r.deleteBuffer(t.lineVertexBuffer)}},i.RendererGL.prototype.createBuffers=function(e,t){var r=this.GL;this._initBufferDefaults(e);var i=this.gHash[e];return i.numberOfItems=3*t.faces.length,i.lineVertexCount=t.lineVertices.length,this._useColorShader(),this.curStrokeShader.attributes.aPosition&&(i.lineVertexBuffer=r.createBuffer(),this._bindBuffer(i.lineVertexBuffer,r.ARRAY_BUFFER,this._flatten(t.lineVertices),Float32Array,r.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location,3,r.FLOAT,!1,0,0)),this.curStrokeShader.attributes.aDirection&&(i.lineNormalBuffer=r.createBuffer(),this._bindBuffer(i.lineNormalBuffer,r.ARRAY_BUFFER,this._flatten(t.lineNormals),Float32Array,r.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location,4,r.FLOAT,!1,0,0)),this.curFillShader.attributes.aPosition&&(i.vertexBuffer=r.createBuffer(),this._bindBuffer(i.vertexBuffer,r.ARRAY_BUFFER,this._vToNArray(t.vertices),Float32Array,r.STATIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location,3,r.FLOAT,!1,0,0)),i.indexBuffer=r.createBuffer(),this._bindBuffer(i.indexBuffer,r.ELEMENT_ARRAY_BUFFER,this._flatten(t.faces),Uint16Array,r.STATIC_DRAW),this.curFillShader.attributes.aNormal&&(i.normalBuffer=r.createBuffer(),this._bindBuffer(i.normalBuffer,r.ARRAY_BUFFER,this._vToNArray(t.vertexNormals),Float32Array,r.STATIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aNormal.location,3,r.FLOAT,!1,0,0)),this.curFillShader.attributes.aTexCoord&&(i.uvBuffer=r.createBuffer(),this._bindBuffer(i.uvBuffer,r.ARRAY_BUFFER,this._flatten(t.uvs),Float32Array,r.STATIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location,2,r.FLOAT,!1,0,0)),i},i.RendererGL.prototype.drawBuffers=function(e){var t=this.GL;this._useColorShader();var r=this.gHash[e];return this._doStroke&&0<r.lineVertexCount&&(this.curStrokeShader.bindShader(),r.lineVertexBuffer&&(this._bindBuffer(r.lineVertexBuffer,t.ARRAY_BUFFER),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location,3,t.FLOAT,!1,0,0)),r.lineNormalBuffer&&(this._bindBuffer(r.lineNormalBuffer,t.ARRAY_BUFFER),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location,4,t.FLOAT,!1,0,0)),this._applyColorBlend(this.curStrokeColor),this._drawArrays(t.TRIANGLES,e),this.curStrokeShader.unbindShader()),!1!==this._doFill&&(this.curFillShader.bindShader(),r.vertexBuffer&&(this._bindBuffer(r.vertexBuffer,t.ARRAY_BUFFER),this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location,3,t.FLOAT,!1,0,0)),r.indexBuffer&&this._bindBuffer(r.indexBuffer,t.ELEMENT_ARRAY_BUFFER),r.normalBuffer&&(this._bindBuffer(r.normalBuffer,t.ARRAY_BUFFER),this.curFillShader.enableAttrib(this.curFillShader.attributes.aNormal.location,3,t.FLOAT,!1,0,0)),r.uvBuffer&&(this._bindBuffer(r.uvBuffer,t.ARRAY_BUFFER),this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location,2,t.FLOAT,!1,0,0)),this._applyColorBlend(this.curFillColor),this._drawElements(t.TRIANGLES,e),this.curFillShader.unbindShader()),this},i.RendererGL.prototype.drawBuffersScaled=function(e,t,r,i){var n=this.uMVMatrix.copy();try{this.uMVMatrix.scale(t,r,i),this.drawBuffers(e)}finally{this.uMVMatrix=n}},i.RendererGL.prototype._drawArrays=function(e,t){return this.GL.drawArrays(e,0,this.gHash[t].lineVertexCount),this._pInst._pixelsDirty=!0,this},i.RendererGL.prototype._drawElements=function(e,t){this.GL.drawElements(e,this.gHash[t].numberOfItems,this.GL.UNSIGNED_SHORT,0),this._pInst._pixelsDirty=!0},i.RendererGL.prototype._drawPoints=function(e,t){var r=this.GL;this._bindBuffer(t,r.ARRAY_BUFFER,this._vToNArray(e),Float32Array,r.STATIC_DRAW),this.curPointShader.enableAttrib(this.curPointShader.attributes.aPosition.location,3,r.FLOAT,!1,0,0),r.drawArrays(r.Points,0,e.length)},t.exports=i.RendererGL},{"../core/main":23}],73:[function(e,t,r){"use strict";var f=e("../core/main"),o=e("../core/constants"),i=e("libtess");e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix");var n="attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",a="precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",s="attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",h="precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",l="precision mediump float;\nvarying vec3 vVertexNormal;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",u="attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uViewMatrix;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nuniform vec3 uAmbientColor[8];\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nvarying vec3 vVertexNormal;\nvarying vec2 vVertTexCoord;\nvarying vec3 vLightWeighting;\n\nvoid main(void){\n\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\n  vec3 vertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertexNormal = vertexNormal;\n  vVertTexCoord = aTexCoord;\n\n  vec4 mvPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  vec3 eyeDirection = normalize(-mvPosition.xyz);\n\n  float shininess = 32.0;\n  float specularFactor = 2.0;\n  float diffuseFactor = 0.3;\n\n  vec3 ambientLightFactor = vec3(0.0);\n\n  for (int i = 0; i < 8; i++) {\n    if (uAmbientLightCount == i) break;\n    ambientLightFactor += uAmbientColor[i];\n  }\n\n\n  vec3 directionalLightFactor = vec3(0.0);\n\n  for (int j = 0; j < 8; j++) {\n    if (uDirectionalLightCount == j) break;\n    vec3 dir = uLightingDirection[j];\n    float directionalLightWeighting = max(dot(vertexNormal, -dir), 0.0);\n    directionalLightFactor += uDirectionalColor[j] * directionalLightWeighting;\n  }\n\n\n  vec3 pointLightFactor = vec3(0.0);\n\n  for (int k = 0; k < 8; k++) {\n    if (uPointLightCount == k) break;\n    vec3 loc = (uViewMatrix * vec4(uPointLightLocation[k], 1.0)).xyz;\n    vec3 lightDirection = normalize(loc - mvPosition.xyz);\n\n    float directionalLightWeighting = max(dot(vertexNormal, lightDirection), 0.0);\n\n    float specularLightWeighting = 0.0;\n    if (uSpecular ){\n      vec3 reflectionDirection = reflect(-lightDirection, vertexNormal);\n      specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n    }\n\n    pointLightFactor += uPointLightColor[k] * (specularFactor * specularLightWeighting\n      + directionalLightWeighting * diffuseFactor);\n  }\n\n  vLightWeighting =  ambientLightFactor + directionalLightFactor + pointLightFactor;\n}\n",c="precision mediump float;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uUseLighting;\n\nvarying vec3 vLightWeighting;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) : uMaterialColor;\n  if (uUseLighting)\n    gl_FragColor.rgb *= vLightWeighting;\n}",p="precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[8];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void){\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = normalize(uNormalMatrix * normalize(aNormal));\n  vTexCoord = aTexCoord;\n\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 8; i++) {\n    if (uAmbientLightCount == i) break;\n    vAmbientColor += uAmbientColor[i];\n  }\n}\n",d="precision mediump float;\n\n//uniform mat4 uModelViewMatrix;\nuniform mat4 uViewMatrix;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uUseLighting;\n\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvec3 V;\nvec3 N;\n\nconst float shininess = 32.0;\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n\tfloat specular;\n\tfloat diffuse;\n};\n\nfloat phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = normalize(reflect(-lightDirection, surfaceNormal));  \n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat lambertDiffuse(\n  vec3 lightDirection,\n  vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult light(vec3 lightVector) {\n\n  vec3 L = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = phongSpecular(L, V, N, shininess);\n  lr.diffuse = lambertDiffuse(L, N);\n  return lr;\n}\n\nvoid main(void) {\n\n  V = normalize(vViewPosition);\n  N = vNormal;\n\n  vec3 diffuse = vec3(0.0);\n  float specular = 0.0;\n\n  for (int j = 0; j < 8; j++) {\n    if (uDirectionalLightCount == j) break;\n\n    LightResult result = light(uLightingDirection[j]);\n    diffuse += result.diffuse * uDirectionalColor[j];\n    specular += result.specular;\n  }\n\n  for (int k = 0; k < 8; k++) {\n    if (uPointLightCount == k) break;\n\n    vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[k], 1.0)).xyz;\n    vec3 lightVector = vViewPosition - lightPosition;\n\t\n    //calculate attenuation\n    float lightDistance = length(lightVector);\n    float falloff = 500.0 / (lightDistance + 500.0);\n\n    LightResult result = light(lightVector);\n    diffuse += result.diffuse * falloff * uPointLightColor[k];\n    specular += result.specular * falloff;\n  }\n\n  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) : uMaterialColor;\n  gl_FragColor.rgb = gl_FragColor.rgb * (diffuse * diffuseFactor + vAmbientColor) + specular * specularFactor;\n}",m="precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",v="#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision mediump int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",g="/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\n\n// using a scale <1 moves the lines towards the camera\n// in order to prevent popping effects due to half of\n// the line disappearing behind the geometry faces.\nvec3 scale = vec3(0.9995);\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  // Perspective ---\n  // convert from world to clip by multiplying with projection scaling factor\n  // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n  // invert Y, projections in Processing invert Y\n  vec2 perspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n\n  // No Perspective ---\n  // multiply by W (to cancel out division by W later in the pipeline) and\n  // convert from screen to clip (derived from clip to screen above)\n  vec2 noPerspScale = p.w / (0.5 * uViewport.zw);\n\n  //gl_Position.xy = p.xy + offset.xy * mix(noPerspScale, perspScale, float(perspective > 0));\n  gl_Position.xy = p.xy + offset.xy * perspScale;\n  gl_Position.zw = p.zw;\n}\n",y="precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",b="attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",_="precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}";f.RendererGL=function(e,t,r,i){return f.Renderer.call(this,e,t,r),this.attributes={},i=i||{},this.attributes.alpha=void 0===i.alpha||i.alpha,this.attributes.depth=void 0===i.depth||i.depth,this.attributes.stencil=void 0===i.stencil||i.stencil,this.attributes.antialias=void 0!==i.antialias&&i.antialias,this.attributes.premultipliedAlpha=void 0!==i.premultipliedAlpha&&i.premultipliedAlpha,this.attributes.preserveDrawingBuffer=void 0===i.preserveDrawingBuffer||i.preserveDrawingBuffer,this.attributes.perPixelLighting=void 0!==i.perPixelLighting&&i.perPixelLighting,this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this.ambientLightColors=[],this.directionalLightDirections=[],this.directionalLightColors=[],this.pointLightPositions=[],this.pointLightColors=[],this.uMVMatrix=new f.Matrix,this.uPMatrix=new f.Matrix,this.uNMatrix=new f.Matrix("mat3"),this._curCamera=new f.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this.gHash={},this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.curFillShader=void 0,this.curStrokeShader=void 0,this.curPointShader=void 0,this._useColorShader(),this.setStrokeShader(this._getLineShader()),this._usePointShader(),this._pointVertexBuffer=this.GL.createBuffer(),this.isImmediateDrawing=!1,this.immediateMode={},this.fill(255,255,255,255),this.pointSize=5,this.strokeWeight(1),this.stroke(0,0,0),this.textures=[],this.textureImage=void 0,this.textureMode=o.IMAGE,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this},f.RendererGL.prototype=Object.create(f.Renderer.prototype),f.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this.attributes)||this.canvas.getContext("experimental-webgl",this.attributes),null===this.drawingContext)throw new Error("Error creating webgl context");console.log("p5.RendererGL: enabled webgl context");var e=this.drawingContext;e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(e){throw e}},f.RendererGL.prototype._resetContext=function(e,t,r){var i=this.width,n=this.height,o=this.canvas.id,a=this.canvas;a&&a.parentNode.removeChild(a),(a=document.createElement("canvas")).id=o,this._pInst._userNode?this._pInst._userNode.appendChild(a):document.body.appendChild(a),this._pInst.canvas=a;var s=new f.RendererGL(this._pInst.canvas,this._pInst,!0,e);this._pInst._setProperty("_renderer",s),s.resize(i,n),s._applyDefaults(),this._pInst._elements.push(s),"function"==typeof r&&setTimeout(function(){r.apply(window._renderer,t)},0)},f.prototype.setAttributes=function(e,t){var r;this._assert3d("setAttributes"),void 0!==t?(r={})[e]=t:e instanceof Object&&(r=e),this.push(),this._renderer._resetContext(r),this.pop()},f.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.directionalLightDirections.length=0,this.directionalLightColors.length=0,this.pointLightPositions.length=0,this.pointLightColors.length=0},f.RendererGL.prototype.background=function(){var e=this._pInst.color.apply(this._pInst,arguments),t=e.levels[0]/255,r=e.levels[1]/255,i=e.levels[2]/255,n=e.levels[3]/255;this.GL.clearColor(t,r,i,n),this.GL.depthMask(!0),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},f.RendererGL.prototype.fill=function(e,t,r,i){var n=f.prototype.color.apply(this._pInst,arguments);this.curFillColor=n._array,this.isImmediateDrawing?this.setFillShader(this._getImmediateModeShader()):this.setFillShader(this._getColorShader()),this.drawMode=o.FILL,this.curFillShader.setUniform("uMaterialColor",this.curFillColor)},f.RendererGL.prototype.stroke=function(e,t,r,i){i=255;var n=f.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=n._array,this.curStrokeShader.setUniform("uMaterialColor",this.curStrokeColor),this.curPointShader.setUniform("uMaterialColor",n._array)},f.RendererGL.prototype.strokeWeight=function(e){this.curStrokeWeight!==e&&(this.pointSize=e,this.curStrokeWeight=e,this.curStrokeShader.setUniform("uStrokeWeight",e),this.curPointShader.setUniform("uPointSize",e))},f.RendererGL.prototype.get=function(e,t,r,i){var n=this._pInst||this,o=n._pixelDensity,a=e*o,s=t*o;if(1===r&&1===i){var h=new Uint8Array(4);return this.drawingContext.readPixels(a,s,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,h),[h[0],h[1],h[2],h[3]]}var l=Math.min(r,n.width),u=Math.min(i,n.height),c=l*o,p=u*o,d=new f.Image(l,u);return d.canvas.getContext("2d").drawImage(this.canvas,a,s,c,p,0,0,l,u),d},f.RendererGL.prototype.loadPixels=function(){if(!0===this.attributes.preserveDrawingBuffer){var e=this._pInst._pixelDensity,t=this.width,r=this.height;t*=e,r*=e,void 0===this.pixels&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),this.GL.readPixels(0,0,t,r,this.GL.RGBA,this.GL.UNSIGNED_BYTE,this.pixels),this._pInst._setProperty("pixels",this.pixels)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},f.RendererGL.prototype.geometryInHash=function(e){return void 0!==this.gHash[e]},f.RendererGL.prototype.resize=function(e,t){f.Renderer.prototype.resize.call(this,e,t),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),void 0!==this.pixels&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},f.RendererGL.prototype.clear=function(){var e=arguments[0]||0,t=arguments[1]||0,r=arguments[2]||0,i=arguments[3]||0;this.GL.clearColor(e,t,r,i),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},f.RendererGL.prototype.translate=function(e,t,r){return e instanceof f.Vector&&(r=e.z,t=e.y,e=e.x),this.uMVMatrix.translate([e,t,r]),this},f.RendererGL.prototype.scale=function(e,t,r){return this.uMVMatrix.scale(e,t,r),this},f.RendererGL.prototype.rotate=function(e,t){return void 0===t?this.rotateZ(e):(e=this._pInst._fromRadians(e),f.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},f.RendererGL.prototype.rotateX=function(e){return this.rotate(e,1,0,0),this},f.RendererGL.prototype.rotateY=function(e){return this.rotate(e,0,1,0),this},f.RendererGL.prototype.rotateZ=function(e){return this.rotate(e,0,0,1),this},f.RendererGL.prototype.push=function(){var e=f.Renderer.prototype.push.apply(this),t=e.properties;return t.uMVMatrix=this.uMVMatrix.copy(),t.uPMatrix=this.uPMatrix.copy(),t._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),e},f.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=f.Matrix.identity(this._pInst),this},f.RendererGL.prototype.setFillShader=function(e){return this.curFillShader!==e&&(this.curFillShader=e,this.curFillShader.init()),this.curFillShader},f.RendererGL.prototype.setPointShader=function(e){return this.curPointShader!==e&&(this.curPointShader=e,this.curPointShader.init()),this.curPointShader},f.RendererGL.prototype.setStrokeShader=function(e){return this.curStrokeShader!==e&&(this.curStrokeShader=e,this.curStrokeShader.init()),this.curStrokeShader},f.RendererGL.prototype._useLightShader=function(){return this.curFillShader&&this.curFillShader.isLightShader()||this.setFillShader(this._getLightShader()),this.curFillShader},f.RendererGL.prototype._useColorShader=function(){return this.curFillShader&&this.curFillShader!==this._defaultImmediateModeShader||this.setFillShader(this._getColorShader()),this.curFillShader},f.RendererGL.prototype._usePointShader=function(){return this.curPointShader||this.setPointShader(this._getPointShader()),this.curPointShader},f.RendererGL.prototype._useImmediateModeShader=function(){return this.curFillShader&&this.curFillShader!==this._defaultColorShader||this.setFillShader(this._getImmediateModeShader()),this.curFillShader},f.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this.attributes.perPixelLighting?this._defaultLightShader=new f.Shader(this,p,d):this._defaultLightShader=new f.Shader(this,u,c)),this._defaultLightShader},f.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new f.Shader(this,n,a)),this._defaultImmediateModeShader},f.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new f.Shader(this,s,h)),this._defaultNormalShader},f.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new f.Shader(this,s,l)),this._defaultColorShader},f.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new f.Shader(this,b,_)),this._defaultPointShader},f.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new f.Shader(this,g,y)),this._defaultLineShader},f.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new f.Shader(this,m,v)),this._defaultFontShader},f.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var e=new f.Image(1,1);e.set(0,0,255),this._emptyTexture=new f.Texture(this,e)}return this._emptyTexture},f.RendererGL.prototype.getTexture=function(e){for(var t=this.textures,r=0;r<t.length;++r){var i=t[r];if(i.src===e)return i}var n=new f.Texture(this,e);return this.textures.push(n),n},f.RendererGL.prototype._bindBuffer=function(e,t,r,i,n){if(this.GL.bindBuffer(t,e),void 0!==r){var o=new i(r);this.GL.bufferData(t,o,n)}},f.RendererGL.prototype.smooth=function(){!1===this.attributes.antialias&&this._pInst.setAttributes("antialias",!0)},f.RendererGL.prototype.noSmooth=function(){!0===this.attributes.antialias&&this._pInst.setAttributes("antialias",!1)},f.RendererGL.prototype._flatten=function(e){if(0===e.length)return[];if(2e4<e.length){var t,r=Object.prototype.toString,i=[],n=e.slice();for(t=n.pop();"[object Array]"===r.call(t)?n.push.apply(n,t):i.push(t),n.length&&void 0!==(t=n.pop()););return i.reverse(),i}return[].concat.apply([],e)},f.RendererGL.prototype._vToNArray=function(e){return this._flatten(e.map(function(e){return[e.x,e.y,e.z]}))},f.prototype._assert3d=function(e){if(!this._renderer.isP3D)throw new Error(e+"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.")},f.RendererGL.prototype._initTessy=function(){var e=new i.GluTesselator;return e.gluTessCallback(i.gluEnum.GLU_TESS_VERTEX_DATA,function(e,t){t[t.length]=e[0],t[t.length]=e[1],t[t.length]=e[2]}),e.gluTessCallback(i.gluEnum.GLU_TESS_BEGIN,function(e){e!==i.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: "+e)}),e.gluTessCallback(i.gluEnum.GLU_TESS_ERROR,function(e){console.log("error callback"),console.log("error number: "+e)}),e.gluTessCallback(i.gluEnum.GLU_TESS_COMBINE,function(e,t,r){return[e[0],e[1],e[2]]}),e.gluTessCallback(i.gluEnum.GLU_TESS_EDGE_FLAG,function(e){}),e},f.RendererGL.prototype._triangulate=function(e){this._tessy.gluTessNormal(0,0,1);var t=[];this._tessy.gluTessBeginPolygon(t);for(var r=0;r<e.length;r++){this._tessy.gluTessBeginContour();for(var i=e[r],n=0;n<i.length;n+=3){var o=[i[n],i[n+1],i[n+2]];this._tessy.gluTessVertex(o,o)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),t},f.RendererGL.prototype._bezierCoefficients=function(e){var t=e*e,r=1-e,i=r*r;return[i*r,3*i*e,3*r*t,t*e]},f.RendererGL.prototype._quadraticCoefficients=function(e){var t=1-e;return[t*t,2*t*e,e*e]},f.RendererGL.prototype._bezierToCatmull=function(e){return[e[1],e[1]+(e[2]-e[0])/this._curveTightness,e[2]-(e[3]-e[1])/this._curveTightness,e[2]]},t.exports=f.RendererGL},{"../core/constants":17,"../core/main":23,"../core/p5.Renderer":26,"./p5.Camera":68,"./p5.Matrix":70,"./p5.Shader":74,libtess:8}],74:[function(e,t,r){"use strict";var i=e("../core/main");i.Shader=function(e,t,r){this._renderer=e,this._vertSrc=t,this._fragSrc=r,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},i.Shader.prototype.init=function(){if(0===this._glProgram){var e=this._renderer.GL;if(this._vertShader=e.createShader(e.VERTEX_SHADER),e.shaderSource(this._vertShader,this._vertSrc),e.compileShader(this._vertShader),!e.getShaderParameter(this._vertShader,e.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:"+e.getShaderInfoLog(this._vertShader)),null;if(this._fragShader=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(this._fragShader,this._fragSrc),e.compileShader(this._fragShader),!e.getShaderParameter(this._fragShader,e.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:"+e.getShaderInfoLog(this._fragShader)),null;this._glProgram=e.createProgram(),e.attachShader(this._glProgram,this._vertShader),e.attachShader(this._glProgram,this._fragShader),e.linkProgram(this._glProgram),e.getProgramParameter(this._glProgram,e.LINK_STATUS)||console.error("Snap! Error linking shader program: "+e.getProgramInfoLog(this._glProgram)),this._loadAttributes(),this._loadUniforms()}return this},i.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_ATTRIBUTES),r=0;r<t;++r){var i=e.getActiveAttrib(this._glProgram,r),n=i.name,o=e.getAttribLocation(this._glProgram,n),a={};a.name=n,a.location=o,a.type=i.type,a.size=i.size,this.attributes[n]=a}this._loadedAttributes=!0}},i.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_UNIFORMS),r=0,i=0;i<t;++i){var n=e.getActiveUniform(this._glProgram,i),o={};o.location=e.getUniformLocation(this._glProgram,n.name),o.size=n.size;var a=n.name;1<n.size&&(a=a.substring(0,a.indexOf("[0]"))),o.name=a,o.type=n.type,o.type===e.SAMPLER_2D&&(o.samplerIndex=r,r++,this.samplers.push(o)),this.uniforms[a]=o}this._loadedUniforms=!0}},i.Shader.prototype.compile=function(){},i.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this.bindTextures(),this._setMatrixUniforms(),this===this._renderer.curStrokeShader&&this._setViewportUniform())},i.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},i.Shader.prototype.bindTextures=function(){for(var e=this._renderer.GL,t=0;t<this.samplers.length;t++){var r=this.samplers[t],i=r.texture;void 0===i&&(i=this._renderer._getEmptyTexture()),e.activeTexture(e.TEXTURE0+r.samplerIndex),i.bindTexture(),i.update(),e.uniform1i(r.location,r.samplerIndex)}},i.Shader.prototype.updateTextures=function(){for(var e=0;e<this.samplers.length;e++){var t=this.samplers[e].texture;t&&t.update()}},i.Shader.prototype.unbindTextures=function(){},i.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4),this.setUniform("uModelViewMatrix",this._renderer.uMVMatrix.mat4),this.setUniform("uViewMatrix",this._renderer._curCamera.cameraMatrix.mat4),this===this._renderer.curFillShader&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},i.Shader.prototype._setViewportUniform=function(){this.setUniform("uViewport",this._renderer._viewport)},i.Shader.prototype.useProgram=function(){return this._renderer.GL.useProgram(this._glProgram),this},i.Shader.prototype.setUniform=function(e,t){var r=this.uniforms[e];if(r){var i=r.location,n=this._renderer.GL;switch(this.useProgram(),r.type){case n.BOOL:!0===t?n.uniform1i(i,1):n.uniform1i(i,0);break;case n.INT:1<r.size?t.length&&n.uniform1iv(i,t):n.uniform1i(i,t);break;case n.FLOAT:1<r.size?t.length&&n.uniform1fv(i,t):n.uniform1f(i,t);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(i,!1,t);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(i,!1,t);break;case n.FLOAT_VEC2:1<r.size?t.length&&n.uniform2fv(i,t):n.uniform2f(i,t[0],t[1]);break;case n.FLOAT_VEC3:1<r.size?t.length&&n.uniform3fv(i,t):n.uniform3f(i,t[0],t[1],t[2]);break;case n.FLOAT_VEC4:1<r.size?t.length&&n.uniform4fv(i,t):n.uniform4f(i,t[0],t[1],t[2],t[3]);break;case n.INT_VEC2:1<r.size?t.length&&n.uniform2iv(i,t):n.uniform2i(i,t[0],t[1]);break;case n.INT_VEC3:1<r.size?t.length&&n.uniform3iv(i,t):n.uniform3i(i,t[0],t[1],t[2]);break;case n.INT_VEC4:1<r.size?t.length&&n.uniform4iv(i,t):n.uniform4i(i,t[0],t[1],t[2],t[3]);break;case n.SAMPLER_2D:n.activeTexture(n.TEXTURE0+r.samplerIndex),r.texture=this._renderer.getTexture(t),n.uniform1i(r.location,r.samplerIndex)}return this}},i.Shader.prototype.isLightShader=function(){return void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalColor||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightColor||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},i.Shader.prototype.isTextureShader=function(){return 0<this.samplerIndex},i.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},i.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},i.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},i.Shader.prototype.enableAttrib=function(e,t,r,i,n,o){var a=this._renderer.GL;return-1!==e&&(a.enableVertexAttribArray(e),a.vertexAttribPointer(e,t,r,i,n,o)),this},t.exports=i.Shader},{"../core/main":23}],75:[function(e,t,r){"use strict";var n=e("../core/main"),a=e("../core/constants");n.Texture=function(e,t){this._renderer=e;var r=this._renderer.GL;this.src=t,this.glTex=void 0,this.glTarget=r.TEXTURE_2D,this.glFormat=r.RGBA,this.mipmaps=!1,this.glMinFilter=r.LINEAR,this.glMagFilter=r.LINEAR,this.glWrapS=r.CLAMP_TO_EDGE,this.glWrapT=r.CLAMP_TO_EDGE,this.isSrcMediaElement=void 0!==n.MediaElement&&t instanceof n.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==n.Element&&t instanceof n.Element&&!(t instanceof n.Graphics),this.isSrcP5Image=t instanceof n.Image,this.isSrcP5Graphics=t instanceof n.Graphics,this.isImageData="undefined"!=typeof ImageData&&t instanceof ImageData;var i=this._getTextureDataFromSource();return this.width=i.width,this.height=i.height,this.init(i),this},n.Texture.prototype._getTextureDataFromSource=function(){var e;return this.isSrcP5Image?e=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?e=this.src.elt:this.isImageData&&(e=this.src),e},n.Texture.prototype.init=function(e){var t=this._renderer.GL;if(this.glTex=t.createTexture(),this.bindTexture(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this.glMagFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this.glMinFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.glWrapS),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.glWrapT),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata){var r=new Uint8Array([1,1,1,1]);t.texImage2D(this.glTarget,0,t.RGBA,1,1,0,this.glFormat,t.UNSIGNED_BYTE,r)}else t.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,t.UNSIGNED_BYTE,e)},n.Texture.prototype.update=function(){var e=this.src;if(0===e.width||0===e.height)return!1;var t=this._getTextureDataFromSource(),r=!1,i=this._renderer.GL;return t.width!==this.width||t.height!==this.height?(r=!0,this.width=t.width,this.height=t.height,this.isSrcP5Image?e.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&e.setModified(!0)):this.isSrcP5Image?e.isModified()&&(r=!0,e.setModified(!1)):this.isSrcMediaElement?e.isModified()?(r=!0,e.setModified(!1)):e.loadedmetadata&&this._videoPrevUpdateTime!==e.time()&&(this._videoPrevUpdateTime=e.time(),r=!0):this.isImageData?e._dirty&&(r=!(e._dirty=!1)):r=!0,r&&(this.bindTexture(),i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,i.UNSIGNED_BYTE,t)),r},n.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},n.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},n.Texture.prototype.setInterpolation=function(e,t){var r=this._renderer.GL;e===a.NEAREST?this.glMinFilter=r.NEAREST:this.glMinFilter=r.LINEAR,t===a.NEAREST?this.glMagFilter=r.NEAREST:this.glMagFilter=r.LINEAR,this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},n.Texture.prototype.setWrapMode=function(e,t){var r=this._renderer.GL,i=function(e){return 0==(e&e-1)},n=i(this.width),o=i(this.width);e===a.REPEAT?this.glWrapS=n&&o?r.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),r.CLAMP_TO_EDGE):e===a.MIRROR?this.glWrapS=n&&o?r.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),r.CLAMP_TO_EDGE):this.glWrapS=r.CLAMP_TO_EDGE,t===a.REPEAT?this.glWrapT=n&&o?r.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),r.CLAMP_TO_EDGE):t===a.MIRROR?this.glWrapT=n&&o?r.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),r.CLAMP_TO_EDGE):this.glWrapT=r.CLAMP_TO_EDGE,this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.glWrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()},t.exports=n.Texture},{"../core/constants":17,"../core/main":23}],76:[function(e,t,r){"use strict";var B=e("../core/main"),E=e("../core/constants");e("./p5.Shader"),e("./p5.RendererGL"),B.RendererGL.prototype._applyTextProperties=function(){},B.RendererGL.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):0};function i(e,t){this.width=e,this.height=t,this.infos=[],this.findImage=function(e){var t,r,i=this.width*this.height;if(i<e)throw new Error("font is too complex to render in 3D");for(var n=this.infos.length-1;0<=n;--n){var o=this.infos[n];if(o.index+e<i){r=(t=o).imageData;break}}if(!t){try{r=new ImageData(this.width,this.height)}catch(e){var a=document.getElementsByTagName("canvas")[0],s=!a;a||((a=document.createElement("canvas")).style.display="none",document.body.appendChild(a));var h=a.getContext("2d");h&&(r=h.createImageData(this.width,this.height)),s&&document.body.removeChild(a)}t={index:0,imageData:r},this.infos.push(t)}var l=t.index;return t.index+=e,r._dirty=!0,{imageData:r,index:l}}}function F(e,t,r,i,n){var o=e.imageData.data,a=4*e.index++;o[a++]=t,o[a++]=r,o[a++]=i,o[a++]=n}var G=Math.sqrt(3),C=function(e){this.font=e,this.strokeImageInfos=new i(64,64),this.colDimImageInfos=new i(64,64),this.rowDimImageInfos=new i(64,64),this.colCellImageInfos=new i(64,64),this.rowCellImageInfos=new i(64,64),this.glyphInfos={},this.getGlyphInfo=function(e){var t=this.glyphInfos[e.index];if(t)return t;var r,i=e.getBoundingBox(),n=i.x1,o=i.y1,a=i.x2-n,s=i.y2-o,h=e.path.commands;if(0===a||0===s||!h.length)return this.glyphInfos[e.index]={};var l,u,c,p,d=[],f=[],m=[];for(r=8;0<=r;--r)m.push([]);for(r=8;0<=r;--r)f.push([]);function v(e,t,r){var i=d.length;function n(e,t,r){for(var i=e.length;0<i--;){var n=e[i];n<t&&(t=n),r<n&&(r=n)}return{min:t,max:r}}d.push(r);for(var o=n(e,1,0),a=Math.max(Math.floor(9*o.min),0),s=Math.min(Math.ceil(9*o.max),9),h=a;h<s;++h)m[h].push(i);for(var l=n(t,1,0),u=Math.max(Math.floor(9*l.min),0),c=Math.min(Math.ceil(9*l.max),9),p=u;p<c;++p)f[p].push(i)}function g(e){return(t=(i=255)*e)<(r=0)?r:i<t?i:t;var t,r,i}function y(e,t,r,i){this.p0=e,this.c0=t,this.c1=r,this.p1=i,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return B.Vector.sub(B.Vector.sub(this.p1,this.p0),B.Vector.mult(B.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(e){var t=B.Vector.lerp(this.p0,this.c0,e),r=B.Vector.lerp(this.c0,this.c1,e),i=B.Vector.lerp(t,r,e);this.c1=B.Vector.lerp(this.c1,this.p1,e),this.c0=B.Vector.lerp(r,this.c1,e);var n=B.Vector.lerp(i,this.c0,e),o=new y(this.p0,t,i,n);return this.p0=n,o},this.splitInflections=function(){var e=B.Vector.sub(this.c0,this.p0),t=B.Vector.sub(B.Vector.sub(this.c1,this.c0),e),r=B.Vector.sub(B.Vector.sub(B.Vector.sub(this.p1,this.c1),e),B.Vector.mult(t,2)),i=[],n=t.x*r.y-t.y*r.x;if(0!==n){var o=e.x*r.y-e.y*r.x,a=e.x*t.y-e.y*t.x,s=o*o-4*n*a;if(0<=s){n<0&&(n=-n,o=-o,a=-a);var h=Math.sqrt(s),l=(-o-h)/(2*n),u=(-o+h)/(2*n);0<l&&l<1&&(i.push(this.split(l)),u=1-(1-u)/(1-l)),0<u&&u<1&&i.push(this.split(u))}}return i.push(this),i}}function b(e,t,r,i,n,o,a,s){for(var h=new y(new B.Vector(e,t),new B.Vector(r,i),new B.Vector(n,o),new B.Vector(a,s)).splitInflections(),l=[],u=30/G,c=0;c<h.length;c++){for(var p,d=h[c],f=[];!(.125<=(p=u/d.quadError()));){var m=Math.pow(p,1/3),v=d.split(m),g=d.split(1-m/(1-m));l.push(v),f.push(d),d=g}p<1&&l.push(d.split(.5)),l.push(d),Array.prototype.push.apply(l,f.reverse())}return l}function _(e,t,r,i){v([e,r],[t,i],{x:e,y:t,cx:(e+r)/2,cy:(t+i)/2})}function x(e,t,r,i){return Math.abs(r-e)<1e-5&&Math.abs(i-t)<1e-5}for(var w=0;w<h.length;++w){var S=h[w],T=(S.x-n)/a,M=(S.y-o)/s;if(!x(l,u,T,M)){switch(S.type){case"M":c=T,p=M;break;case"L":_(l,u,T,M);break;case"Q":var E=(S.x1-n)/a,C=(S.y1-o)/s;v([l,T,E],[u,M,C],{x:l,y:u,cx:E,cy:C});break;case"Z":x(l,u,c,p)?d.push({x:l,y:u}):(_(l,u,c,p),d.push({x:c,y:p}));break;case"C":for(var R=b(l,u,(S.x1-n)/a,(S.y1-o)/s,(S.x2-n)/a,(S.y2-o)/s,T,M),L=0;L<R.length;L++){var P=R[L].toQuadratic();v([P.x,P.x1,P.cx],[P.y,P.y1,P.cy],P)}break;default:throw new Error("unknown command type: "+S.type)}l=T,u=M}}for(var k=d.length,I=this.strokeImageInfos.findImage(k),D=I.index,A=0;A<k;++A){var U=d[A];F(I,g(U.x),g(U.y),g(U.cx),g(U.cy))}function O(e,t,r){for(var i=e.length,n=t.findImage(i),o=n.index,a=0,s=0;s<i;++s)a+=e[s].length;for(var h=r.findImage(a),l=0;l<i;++l){var u=e[l],c=u.length,p=h.index;F(n,p>>7,127&p,c>>7,127&c);for(var d=0;d<c;++d){var f=u[d]+D;F(h,f>>7,127&f,0,0)}}return{cellImageInfo:h,dimOffset:o,dimImageInfo:n}}return(t=this.glyphInfos[e.index]={glyph:e,uGlyphRect:[i.x1,-i.y1,i.x2,-i.y2],strokeImageInfo:I,strokes:d,colInfo:O(m,this.colDimImageInfos,this.colCellImageInfos),rowInfo:O(f,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[t.colInfo.dimOffset,t.rowInfo.dimOffset],t}};B.RendererGL.prototype._renderText=function(e,t,r,i,n){if(!(n<=i)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only opentype fonts are supported"),e;e.push();var o=this.curFillShader,a=this._doStroke,s=this.drawMode;this.curFillShader=null,this._doStroke=!1,this.drawMode=E.TEXTURE;var h=this._textFont.font,l=this._textFont._fontInfo;l||(l=this._textFont._fontInfo=new C(h));var u=this._textFont._handleAlignment(this,t,r,i),c=this._textSize/h.unitsPerEm;this.translate(u.x,u.y,0),this.scale(c,c,1);var p=this.GL,d=!this._defaultFontShader,f=this.setFillShader(this._getFontShader());d&&(f.setUniform("uGridImageSize",[64,64]),f.setUniform("uCellsImageSize",[64,64]),f.setUniform("uStrokeImageSize",[64,64]),f.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor);var m=this.gHash.glyph;if(!m){var v=this._textGeom=new B.Geometry(1,1,function(){for(var e=0;e<=1;e++)for(var t=0;t<=1;t++)this.vertices.push(new B.Vector(t,e,0)),this.uvs.push(t,e)});v.computeFaces().computeNormals(),m=this.createBuffers("glyph",v)}this._bindBuffer(m.vertexBuffer,p.ARRAY_BUFFER),f.enableAttrib(f.attributes.aPosition.location,3,p.FLOAT,!1,0,0),this._bindBuffer(m.indexBuffer,p.ELEMENT_ARRAY_BUFFER),this._bindBuffer(m.uvBuffer,p.ARRAY_BUFFER),f.enableAttrib(f.attributes.aTexCoord.location,2,p.FLOAT,!1,0,0),f.setUniform("uMaterialColor",this.curFillColor);try{for(var g=0,y=null,b=!1,_=h.stringToGlyphs(t),x=0;x<_.length;++x){var w=_[x];y&&(g+=h.getKerningValue(y,w));var S=l.getGlyphInfo(w);if(S.uGlyphRect){var T=S.rowInfo,M=S.colInfo;f.setUniform("uSamplerStrokes",S.strokeImageInfo.imageData),f.setUniform("uSamplerRowStrokes",T.cellImageInfo.imageData),f.setUniform("uSamplerRows",T.dimImageInfo.imageData),f.setUniform("uSamplerColStrokes",M.cellImageInfo.imageData),f.setUniform("uSamplerCols",M.dimImageInfo.imageData),f.setUniform("uGridOffset",S.uGridOffset),f.setUniform("uGlyphRect",S.uGlyphRect),f.setUniform("uGlyphOffset",g),b?f.bindTextures():(b=!0,f.bindShader()),p.drawElements(p.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}g+=w.advanceWidth,y=w}}finally{f.unbindShader(),this.curFillShader=o,this._doStroke=a,this.drawMode=s,e.pop()}return this._pInst._pixelsDirty=!0,e}}},{"../core/constants":17,"../core/main":23,"./p5.RendererGL":73,"./p5.Shader":74}]},{},[12])(12)});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/style.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/style.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, "body {\n    background: #fff;\n    min-width: 343px;\n}\n\n#beaker {\n    float: left;\n}\n\n#particle-table {\n    position: absolute;\n    left: 100px;\n    top: 420px;\n}\n\n#particle-table > div {\n    float: left;\n    text-align: center;\n}\n\n#particle-table div.particle {\n    position: relative;\n    height: 40px;\n}\n\n#particle-table div.particle img.proton {\n    position: absolute;\n    left: 26px;\n    top: 0;\n}\n\n#particle-table .label {\n    margin: 0 0.2em;\n}\n\n#pH {\n    position: absolute;\n    left: 400px;\n    top: 200px;\n    width: 100px;\n}\n\n#base-type {\n    margin: auto;\n    width: 50%;\n}\n\n#base-type > input[type=\"radio\"] {\n    margin-left: 13px;\n    transform: scale(1.3);\n}\n\n#base-type-img-container {\n    height: 35px;\n}\n\n#strong-base-label {\n    position: relative;\n    left: 50px;\n}\n\n#weak-base-label {\n    position: relative;\n    left: 115px;\n}\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: p5_sketch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p5_sketch", function() { return p5_sketch; });
/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style.css */ "./src/style.css");
/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_css__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_lib_p5_min_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@cmu-eberly-center/p5/lib/p5.min.js */ "./node_modules/@cmu-eberly-center/p5/lib/p5.min.js");
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_lib_p5_min_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_lib_p5_min_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _sketch_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sketch.js */ "./src/sketch.js");



var p5_sketch = new C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_lib_p5_min_js__WEBPACK_IMPORTED_MODULE_1___default.a(_sketch_js__WEBPACK_IMPORTED_MODULE_2__["default"], 'beaker');

/***/ }),

/***/ "./src/sketch.js":
/*!***********************!*\
  !*** ./src/sketch.js ***!
  \***********************/
/*! exports provided: numConjugateBases, numProtons, numAcids, conjugateBaseType, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numConjugateBases", function() { return numConjugateBases; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numProtons", function() { return numProtons; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numAcids", function() { return numAcids; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "conjugateBaseType", function() { return conjugateBaseType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Sketch; });
/* harmony import */ var _cmu_eberly_center_p5_lib_addons_p5_dom_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @cmu-eberly-center/p5/lib/addons/p5.dom.js */ "./node_modules/@cmu-eberly-center/p5/lib/addons/p5.dom.js");
/* harmony import */ var _cmu_eberly_center_p5_lib_addons_p5_dom_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cmu_eberly_center_p5_lib_addons_p5_dom_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_play_lib_p5_play_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@cmu-eberly-center/p5.play/lib/p5.play.js */ "./node_modules/@cmu-eberly-center/p5.play/lib/p5.play.js");
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_play_lib_p5_play_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_play_lib_p5_play_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_beaker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@cmu-eberly-center/p5.beaker/lib/beaker.js */ "./node_modules/@cmu-eberly-center/p5.beaker/lib/beaker.js");
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_beaker_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_beaker_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base.js */ "./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base.js");
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_proton_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/@cmu-eberly-center/p5.beaker/lib/proton.js */ "./node_modules/@cmu-eberly-center/p5.beaker/lib/proton.js");
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_proton_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_proton_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_strong_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base/strong.js */ "./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base/strong.js");
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_strong_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_strong_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_weak_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base/weak.js */ "./node_modules/@cmu-eberly-center/p5.beaker/lib/conjugate_base/weak.js");
/* harmony import */ var C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_weak_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_weak_js__WEBPACK_IMPORTED_MODULE_6__);
/**
 * @fileoverview Sketch class for use with the Biolab activity suite.
 * @copyright Carnegie Mellon University 2019
 * @author zmineroff@cmu.edu (Zach Mineroff)
 */







var numConjugateBases = 10;
var numProtons = 10;
var numAcids = 0;
var conjugateBaseType = 'WeakConjugateBase';

var particleTableUpdate = function particleTableUpdate(pNumAcids, pNumConjugateBases) {
  pNumAcids.html(numAcids);
  pNumConjugateBases.html(numConjugateBases - numAcids);
};

var particleTableColumn = function particleTableColumn(p, table, column_data) {
  var images = column_data["images"];
  var image_div = p.createDiv()["class"]("particle");

  if (images) {
    images.forEach(function (image) {
      image_div.child(image);
    });
  }

  var label = column_data["label"];
  var data = column_data["data"];
  var column = p.createDiv();
  column.child(image_div).child(p.createP(label)["class"]("label")).child(data);
  table.child(column);
};

var particleTableSetup = function particleTableSetup(p, pNumAcids, pNumConjugateBases) {
  var table = p.createDiv().id("particle-table"); // Acid column

  var acid_column_data = {};
  acid_column_data["images"] = [p.createImg(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_js__WEBPACK_IMPORTED_MODULE_3___default.a.prototype.image_path, 'Conjugate Base')["class"]("base"), p.createImg(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_proton_js__WEBPACK_IMPORTED_MODULE_4___default.a.prototype.image_path, 'Proton')["class"]("proton")];
  acid_column_data["label"] = "acid";
  acid_column_data["data"] = pNumAcids;
  particleTableColumn(p, table, acid_column_data); // Comparison column

  var comparison_column_data = {};
  comparison_column_data["label"] = "&lt;=&gt;";
  particleTableColumn(p, table, comparison_column_data); // Conjugate base column

  var conjugate_base_column_data = {};
  conjugate_base_column_data["images"] = [p.createImg(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_js__WEBPACK_IMPORTED_MODULE_3___default.a.prototype.image_path, 'Conjugate Base')];
  conjugate_base_column_data["label"] = "conjugate base";
  conjugate_base_column_data["data"] = pNumConjugateBases;
  particleTableColumn(p, table, conjugate_base_column_data);
};

var displayPHSetup = function displayPHSetup(pPH) {
  var pH = -7.0 * (parseFloat(numProtons) - 64.0) / 32.0;
  pPH.html("pH: ".concat(Number(pH.toFixed(2))));
}; // Select strong vs weak acid


var inputBaseTypeSetup = function inputBaseTypeSetup(p, inputBaseType, beaker) {
  /** @this p5.Element */
  var inputBaseTypeEvent = function inputBaseTypeEvent() {
    var newBaseType = this.value(); // Remove all particles

    for (var i = numConjugateBases; i > 0; i--) {
      var sprite = beaker.particles[conjugateBaseType].sprites.get(i - 1);
      sprite.particle.remove();
      delete sprite.particle;
    }

    numAcids = 0; // Add new particles

    if (newBaseType === "StrongConjugateBase") {
      beaker.addParticles(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_strong_js__WEBPACK_IMPORTED_MODULE_5___default.a, numConjugateBases);
    } else if (newBaseType === "WeakConjugateBase") {
      beaker.addParticles(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_weak_js__WEBPACK_IMPORTED_MODULE_6___default.a, numConjugateBases);
    }

    conjugateBaseType = newBaseType;
  };

  inputBaseType.input(inputBaseTypeEvent);
  inputBaseType.id();
}; // Register callbacks to update UI


var registerUICallbacks = function registerUICallbacks(pNumAcids, pNumConjugateBases) {
  C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_strong_js__WEBPACK_IMPORTED_MODULE_5___default.a.prototype.register_callback("release_proton", "pre", function () {
    numAcids -= 1;
    particleTableUpdate(pNumAcids, pNumConjugateBases);
  });
  C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_strong_js__WEBPACK_IMPORTED_MODULE_5___default.a.prototype.register_callback("reacts_with_proton", "post", function () {
    numAcids += 1;
    particleTableUpdate(pNumAcids, pNumConjugateBases);
  });
  C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_weak_js__WEBPACK_IMPORTED_MODULE_6___default.a.prototype.register_callback("release_proton", "pre", function () {
    numAcids -= 1;
    particleTableUpdate(pNumAcids, pNumConjugateBases);
  });
  C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_weak_js__WEBPACK_IMPORTED_MODULE_6___default.a.prototype.register_callback("reacts_with_proton", "post", function () {
    numAcids += 1;
    particleTableUpdate(pNumAcids, pNumConjugateBases);
  });
};

var UISetup = function UISetup(p, beaker) {
  var pNumConjugateBases = p.createP(numConjugateBases).id("num-conjugate-bases");
  var pNumAcids = p.createP(numAcids).id("num-acids");
  particleTableSetup(p, pNumAcids, pNumConjugateBases);
  var pPH = p.createP('0').id('ph');
  displayPHSetup(pPH);
  var inputBaseType = p.createRadio('0').id('base-type');
  var baseTypeImgs = p.createDiv().id('base-type-img-container');
  inputBaseType.child(baseTypeImgs);
  baseTypeImgs.child(p.createImg(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_weak_js__WEBPACK_IMPORTED_MODULE_6___default.a.prototype.image_path, 'Weak Conjugate Base').id("strong-base-label"));
  baseTypeImgs.child(p.createImg(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_strong_js__WEBPACK_IMPORTED_MODULE_5___default.a.prototype.image_path, 'Strong Conjugate Base').id("weak-base-label"));
  inputBaseType.option('strong acid', 'WeakConjugateBase');
  inputBaseType.option('weak acid', 'StrongConjugateBase');
  inputBaseType.value(conjugateBaseType);
  inputBaseTypeSetup(p, inputBaseType, beaker);
  inputBaseType.position(85, 20);
  registerUICallbacks(pNumAcids, pNumConjugateBases);
};
/**
 * A Biolab sketch
 * @class Sketch
 */


function Sketch(p) {
  var beaker = null;

  p.preload = function () {
    C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_beaker_js__WEBPACK_IMPORTED_MODULE_2___default.a.prototype.preload(p);
    C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_js__WEBPACK_IMPORTED_MODULE_3___default.a.prototype.preload(p);
    C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_weak_js__WEBPACK_IMPORTED_MODULE_6___default.a.prototype.preload(p);
    C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_strong_js__WEBPACK_IMPORTED_MODULE_5___default.a.prototype.preload(p);
    C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_proton_js__WEBPACK_IMPORTED_MODULE_4___default.a.prototype.preload(p);
  };

  p.setup = function () {
    p.createCanvas(500, 500);
    p.background(255, 255, 255);
    beaker = new C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_beaker_js__WEBPACK_IMPORTED_MODULE_2___default.a(p, 286, 278, 0, 75, 38, 110);
    UISetup(p, beaker);

    if (conjugateBaseType === "StrongConjugateBase") {
      beaker.addParticles(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_strong_js__WEBPACK_IMPORTED_MODULE_5___default.a, numConjugateBases);
    } else if (conjugateBaseType === "WeakConjugateBase") {
      beaker.addParticles(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_conjugate_base_weak_js__WEBPACK_IMPORTED_MODULE_6___default.a, numConjugateBases);
    }

    beaker.addParticles(C_Users_zmineroff_Documents_GitHub_biolab_activity_strong_vs_weak_acid_dissociation_node_modules_cmu_eberly_center_p5_beaker_lib_proton_js__WEBPACK_IMPORTED_MODULE_4___default.a, numProtons);
  };

  p.draw = function () {
    beaker.step();
    beaker.draw();
  };
}

/***/ }),

/***/ "./src/style.css":
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/style.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjbXUtZWJlcmx5LWNlbnRlci9wNS5iZWFrZXIvbGliL2JlYWtlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNtdS1lYmVybHktY2VudGVyL3A1LmJlYWtlci9saWIvY29uanVnYXRlX2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BjbXUtZWJlcmx5LWNlbnRlci9wNS5iZWFrZXIvbGliL2Nvbmp1Z2F0ZV9iYXNlL3N0cm9uZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNtdS1lYmVybHktY2VudGVyL3A1LmJlYWtlci9saWIvY29uanVnYXRlX2Jhc2Uvd2Vhay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNtdS1lYmVybHktY2VudGVyL3A1LmJlYWtlci9saWIvcHJvdG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY211LWViZXJseS1jZW50ZXIvcDUucGxheS9saWIvcDUucGxheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNtdS1lYmVybHktY2VudGVyL3A1L2xpYi9hZGRvbnMvcDUuZG9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY211LWViZXJseS1jZW50ZXIvcDUvbGliL3A1Lm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NrZXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzPzhmMzQiXSwibmFtZXMiOlsicDVfc2tldGNoIiwiUDUiLCJTa2V0Y2giLCJudW1Db25qdWdhdGVCYXNlcyIsIm51bVByb3RvbnMiLCJudW1BY2lkcyIsImNvbmp1Z2F0ZUJhc2VUeXBlIiwicGFydGljbGVUYWJsZVVwZGF0ZSIsInBOdW1BY2lkcyIsInBOdW1Db25qdWdhdGVCYXNlcyIsImh0bWwiLCJwYXJ0aWNsZVRhYmxlQ29sdW1uIiwicCIsInRhYmxlIiwiY29sdW1uX2RhdGEiLCJpbWFnZXMiLCJpbWFnZV9kaXYiLCJjcmVhdGVEaXYiLCJmb3JFYWNoIiwiaW1hZ2UiLCJjaGlsZCIsImxhYmVsIiwiZGF0YSIsImNvbHVtbiIsImNyZWF0ZVAiLCJwYXJ0aWNsZVRhYmxlU2V0dXAiLCJpZCIsImFjaWRfY29sdW1uX2RhdGEiLCJjcmVhdGVJbWciLCJDb25qdWdhdGVCYXNlIiwicHJvdG90eXBlIiwiaW1hZ2VfcGF0aCIsIlByb3RvbiIsImNvbXBhcmlzb25fY29sdW1uX2RhdGEiLCJjb25qdWdhdGVfYmFzZV9jb2x1bW5fZGF0YSIsImRpc3BsYXlQSFNldHVwIiwicFBIIiwicEgiLCJwYXJzZUZsb2F0IiwiTnVtYmVyIiwidG9GaXhlZCIsImlucHV0QmFzZVR5cGVTZXR1cCIsImlucHV0QmFzZVR5cGUiLCJiZWFrZXIiLCJpbnB1dEJhc2VUeXBlRXZlbnQiLCJuZXdCYXNlVHlwZSIsInZhbHVlIiwiaSIsInNwcml0ZSIsInBhcnRpY2xlcyIsInNwcml0ZXMiLCJnZXQiLCJwYXJ0aWNsZSIsInJlbW92ZSIsImFkZFBhcnRpY2xlcyIsIlN0cm9uZ0Nvbmp1Z2F0ZUJhc2UiLCJXZWFrQ29uanVnYXRlQmFzZSIsImlucHV0IiwicmVnaXN0ZXJVSUNhbGxiYWNrcyIsInJlZ2lzdGVyX2NhbGxiYWNrIiwiVUlTZXR1cCIsImNyZWF0ZVJhZGlvIiwiYmFzZVR5cGVJbWdzIiwib3B0aW9uIiwicG9zaXRpb24iLCJwcmVsb2FkIiwiQmVha2VyIiwic2V0dXAiLCJjcmVhdGVDYW52YXMiLCJiYWNrZ3JvdW5kIiwiZHJhdyIsInN0ZXAiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUEwQyxnQ0FBZ0M7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBd0Qsa0JBQWtCO0FBQzFFO0FBQ0EseURBQWlELGNBQWM7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUF5QyxpQ0FBaUM7QUFDMUUsd0hBQWdILG1CQUFtQixFQUFFO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7OztBQUdBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ2xGQSxlQUFlLEtBQWlELGtCQUFrQixtQkFBTyxDQUFDLDhEQUFJLEdBQUcsU0FBMkksQ0FBQyxvQkFBb0IsbUJBQW1CLFNBQVMsY0FBYyw0QkFBNEIsWUFBWSxxQkFBcUIsMkRBQTJELHVDQUF1QyxxQ0FBcUMsb0JBQW9CLEVBQUUsaUJBQWlCLDRGQUE0RixlQUFlLHdDQUF3QyxTQUFTLEVBQUUsbUJBQW1CLDhCQUE4QixxREFBcUQsMEJBQTBCLDZDQUE2QyxzQkFBc0IsNkRBQTZELFlBQVksZUFBZSxTQUFTLGlCQUFpQixpQ0FBaUMsaUJBQWlCLFlBQVksVUFBVSxzQkFBc0IsbUJBQW1CLGlEQUFpRCxpQkFBaUIsbUJBQW1CLFlBQVksZUFB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQSxjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsUUFBUTtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCOztBQUU1QjtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyw0Q0FBNEMsWUFBWTtBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxTQUFTO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxTQUFTO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxTQUFTO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksU0FBUztBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxlQUFlOztBQUVmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFP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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQSxDQUFDO0FBQ0Q7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZCQUE2QixRQUFRO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIsUUFBUTtBQUNuQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQixjQUFjO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixjQUFjO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLEtBQUs7O0FBRUwsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkJBQTJCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBLHVDQUF1QztBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscUJBQXFCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxxQkFBcUIsd0JBQXdCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsWUFBWTtBQUMxQjtBQUNBO0FBQ0EseUNBQXlDOztBQUV6QztBQUNBLGtCQUFrQix3QkFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxjQUFjLHFCQUFxQjtBQUNuQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsZUFBZSx1QkFBdUI7QUFDdEM7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsZUFBZSx1QkFBdUI7O0FBRXRDO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsdUJBQXVCO0FBQ3JDLGNBQWMsdUJBQXVCO0FBQ3JDLGNBQWMsdUJBQXVCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLGlDQUFpQztBQUNqQyx1QkFBdUIsa0JBQWtCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsdUJBQXVCLGdDQUFnQztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdDQUFnQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUIsY0FBYyxnQkFBZ0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixrQkFBa0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjs7QUFFMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHVCQUF1Qiw4QkFBOEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpQkFBaUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsS0FBSztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7O0FDenhHRDs7QUFFQSxhQUFhLEdBQUcsSUFBb0Qsb0JBQW9CLEtBQUssRUFBMkssQ0FBQyxZQUFZLHlCQUF5QixnQkFBZ0IsVUFBVSxVQUFVLDBDQUEwQyxnQkFBZ0IsT0FBQyxPQUFPLG9CQUFvQiw4Q0FBOEMsa0NBQWtDLFlBQVksWUFBWSxtQ0FBbUMsd0JBQXdCLHNCQUFzQixvQkFBb0Isa0RBQWtELFdBQVcsWUFBWSxTQUFTLEVBQUUsbUJBQW1CLGFBQWEseUJBQXlCLHlCQUF5QixtQkFBbUIsMkJBQTJCLGtGQUFrRixJQUFJLGtKQUFrSixRQUFRLHNFQUFzRSwrR0FBK0csU0FBUyw2QkFBNkIsMENBQTBDLElBQUksNENBQTRDLDBIQUEwSCxtQkFBbUIsd0pBQXdKLElBQUksbUNBQW1DLGNBQWMsZUFBZSwyRUFBMkUscUJBQXFCLHNDQUFzQyxrQkFBa0IscUJBQXFCLElBQUksaUhBQWlILGtCQUFrQixnREFBZ0QsR0FBRyxzQkFBc0IsR0FBRyxxQkFBcUIsYUFBYSxvQ0FBb0Msb0NBQW9DLGFBQWEsbUJBQW1CLHdCQUF3QixpQkFBaUIsY0FBYyw4RUFBOEUsd0JBQXdCLGlDQUFpQyxrQkFBa0Isc0NBQXNDLGdIQUFnSCxZQUFZLGtCQUFrQiwyQ0FBMkMsdUNBQXVDLGdFQUFnRSxxQ0FBcUMsd0JBQXdCLFNBQVMsTUFBTSxxQ0FBcUMsdUpBQXVKLHVFQUF1RSxvRkFBb0Ysc0ZBQXNGLE1BQU0sZ0dBQWdHLGlDQUFpQyxRQUFRLG1IQUFtSCw2QkFBNkIsdUNBQXVDLGtCQUFrQixrQkFBa0IsMkJBQTJCLHVDQUF1Qyw0RUFBNEUsNkRBQTZELElBQUksY0FBYyxxSkFBcUosZ0pBQWdKLGNBQWMsb0ZBQW9GLDhFQUE4RSxjQUFjLDRCQUE0QixjQUFjLGdEQUFnRCxJQUFJLG1CQUFtQixTQUFTLGNBQWMsZ0hBQWdILFdBQVcsZ0JBQWdCLGlDQUFpQywrREFBK0QsK0lBQStJLHVEQUF1RCxzQkFBc0IsY0FBYyxXQUFXLCtDQUErQywwQ0FBMEMsK0RBQStELHVCQUF1QixnQ0FBZ0MscUNBQXFDLDZCQUE2QixrQkFBa0IsV0FBVyxpQkFBaUIsc0JBQXNCLHlCQUF5QixzSkFBc0osY0FBYyxhQUFhLGFBQWEsZUFBZSxJQUFJLHlGQUF5RiwyTEFBMkwsNERBQTRELHNCQUFzQixnQ0FBZ0MsbUdBQW1HLG1DQUFtQyxpQkFBaUIsZ0JBQWdCLHNDQUFzQyxNQUFNLFNBQVMsUUFBUSxJQUFJLG1DQUFtQyxzQ0FBc0MsMEJBQTBCLDRCQUE0QixLQUFLLEtBQUssaUJBQWlCLElBQUksMEJBQTBCLEtBQUssTUFBTSxjQUFjLFNBQVMsb0JBQW9CLGVBQWUsaUJBQWlCLDZCQUE2QixlQUFlLGVBQWUsWUFBWSxJQUFJLEtBQUssbUNBQW1DLGlCQUFpQixTQUFTLFNBQVMsb0JBQW9CLHFCQUFxQixpQkFBaUIsV0FBVyxnQ0FBZ0MsU0FBUyxXQUFXLGtCQUFrQiw0RUFBNEUsa0JBQWtCLHVCQUF1QixpQkFBaUIsSUFBSSxFQUFFLHNEQUFzRCxvQkFBb0Isb0JBQW9CLE1BQU0sNERBQTRELE1BQU0sbUhBQW1ILE1BQU0sNklBQTZJLG1HQUFtRyxtQkFBbUIsZUFBZSxtREFBbUQsYUFBYSxLQUFLLElBQUksc0RBQXNELFNBQVMsSUFBSSxpREFBaUQsSUFBSSx3QkFBd0Isb0JBQW9CLDhDQUE4QyxXQUFXLGNBQWMsU0FBUyxVQUFVLCtRQUErUSw2QkFBNkIsd0NBQXdDLDhDQUE4Qyw2QkFBNkIsNENBQTRDLG1IQUFtSCxxREFBcUQseUNBQXlDLGdCQUFnQiwyRkFBMkYsK0ZBQStGLFVBQVUsMkJBQTJCLFlBQVksK0JBQStCLFlBQVksd0JBQXdCLGtEQUFrRCx5QkFBeUIseU9BQXlPLGtCQUFrQixrREFBa0QsSUFBSSxvQkFBb0IsY0FBYyxNQUFNLHNCQUFzQiwwQkFBMEIsZ0NBQWdDLGlKQUFpSixrQkFBa0Isd0JBQXdCLHdGQUF3RixrQ0FBa0MsTUFBTSx3QkFBd0IsV0FBVyxtQkFBbUIsMkJBQTJCLFFBQVEsV0FBVyxLQUFLLFdBQVcsb0hBQW9ILHdCQUF3QixTQUFTLHVFQUF1RSxrQkFBa0IsNEVBQTRFLFlBQVksSUFBSSxtQkFBbUIsWUFBWSwrQkFBK0Isa0JBQWtCLDRFQUE0RSxZQUFZLElBQUksbUNBQW1DLFlBQVksK0JBQStCLGtCQUFrQiw0RUFBNEUsWUFBWSxJQUFJLG1FQUFtRSxZQUFZLDREQUE0RCxrQkFBa0IsaUVBQWlFLFNBQVMsbURBQW1ELDhEQUE4RCwrQkFBK0IsbUJBQW1CLFdBQVcsNkJBQTZCLDBDQUEwQywrQkFBK0IsNkNBQTZDLGdDQUFnQyx1RUFBdUUseURBQXlELDZCQUE2Qix1QkFBdUIsZ0NBQWdDLG1FQUFtRSx1Q0FBdUMsZ0NBQWdDLCtCQUErQiw4Q0FBOEMsRUFBRSwrREFBK0QseUNBQXlDLHNMQUFzTCwrS0FBK0ssdUJBQXVCLGlCQUFpQixpQkFBaUIscUJBQXFCLHFHQUFxRyxJQUFJLG9CQUFvQixjQUFjLE1BQU0sc0JBQXNCLHNDQUFzQywrQkFBK0IscUNBQXFDLHdCQUF3Qix5Q0FBeUMsd0JBQXdCLHFDQUFxQyx5Q0FBeUMsNkRBQTZELEtBQUssMkdBQTJHLGtFQUFrRSxvQkFBb0IsaUlBQWlJLGNBQWMsZ0NBQWdDLFdBQVcsK0JBQStCLHNFQUFzRSxpQ0FBaUMsK0NBQStDLGlEQUFpRCxtRkFBbUYsdUJBQXVCLHdCQUF3Qix5REFBeUQsU0FBUyw2QkFBNkIseURBQXlELDZCQUE2QiwrQkFBK0IsT0FBTyxtRUFBbUUsV0FBVyxrQkFBa0IsU0FBUyx1QkFBdUIsWUFBWSxJQUFJLHFDQUFxQyxTQUFTLGtCQUFrQixTQUFTLHVCQUF1QixZQUFZLElBQUksaUNBQWlDLFNBQVMsa0JBQWtCLGVBQWUsdUNBQXVDLGlCQUFpQixJQUFJLGVBQWUsU0FBUyxrQkFBa0IsZ0NBQWdDLFdBQVcsNkNBQTZDLFNBQVMsa0JBQWtCLDBEQUEwRCx1RUFBdUUsd0JBQXdCLHFGQUFxRixzRUFBc0UsMkRBQTJELHdCQUF3QiwyREFBMkQsa0RBQWtELHNCQUFzQiwyREFBMkQsc0JBQXNCLDJEQUEyRCxnQ0FBZ0Msa0JBQWtCLGtHQUFrRyx5QkFBeUIsaUNBQWlDLHdDQUF3QyxvQ0FBb0MsMEJBQTBCLGdCQUFnQixnQkFBZ0IsU0FBUyx3Q0FBd0Msb0NBQW9DLDBCQUEwQixjQUFjLGtCQUFrQixTQUFTLHFDQUFxQyw0Q0FBNEMsd0NBQXdDLHlEQUF5RCx3Q0FBd0MseURBQXlELHdDQUF3Qyw0RkFBNEYsd0NBQXdDLDRGQUE0Rix1Q0FBdUMsb0NBQW9DLDBCQUEwQixnQkFBZ0IsZ0JBQWdCLDBDQUEwQyx1Q0FBdUMsb0NBQW9DLDhCQUE4QixjQUFjLGtCQUFrQiwwQ0FBMEMsb0NBQW9DLDJFQUEyRSx1Q0FBdUMsNkJBQTZCLDJCQUEyQiw4QkFBOEIsdUNBQXVDLDZCQUE2QiwyQkFBMkIsOEJBQThCLHVDQUF1QyxxRkFBcUYsdUNBQXVDLHFGQUFxRix1Q0FBdUMsMkRBQTJELHVDQUF1QywyREFBMkQsd0NBQXdDLDJEQUEyRCx3Q0FBd0MsMkRBQTJELDJDQUEyQywwREFBMEQsWUFBWSxrQkFBa0IsZ0JBQWdCLG1CQUFtQixXQUFXLDJDQUEyQywwREFBMEQsY0FBYyxvQkFBb0IsaUJBQWlCLG1CQUFtQixXQUFXLHdDQUF3Qyw0REFBNEQsMkNBQTJDLDhFQUE4RSwyQ0FBMkMsOEVBQThFLDJDQUEyQyxxSEFBcUgsMkNBQTJDLHFIQUFxSCwwQ0FBMEMsbUJBQW1CLHdCQUF3QixxQkFBcUIsZ0JBQWdCLGtCQUFrQixnQkFBZ0IsNkRBQTZELFdBQVcsMENBQTBDLG1CQUFtQix3QkFBd0IscUJBQXFCLGtCQUFrQixvQkFBb0IsaUJBQWlCLDZEQUE2RCxXQUFXLHVDQUF1QyxnRkFBZ0YsMENBQTBDLG1GQUFtRiwwQ0FBMEMsbUZBQW1GLDBDQUEwQywrSEFBK0gsMENBQTBDLHVKQUF1SiwwQ0FBMEMsd0JBQXdCLDBDQUEwQyx3QkFBd0IsMkNBQTJDLHdCQUF3QiwyQ0FBMkMsd0JBQXdCLG9DQUFvQyxxRUFBcUUsd0dBQXdHLDBDQUEwQyx5REFBeUQsa0VBQWtFLHVEQUF1RCxnRUFBZ0UsVUFBVSx1RkFBdUYseUNBQXlDLEtBQUsscUJBQXFCLDJEQUEyRCxTQUFTLG9DQUFvQyx1QkFBdUIsc0tBQXNLLG9GQUFvRixpQkFBaUIsc0JBQXNCLDBDQUEwQyxpQ0FBaUMsZ0ZBQWdGLG9CQUFvQixNQUFNLDZFQUE2RSxJQUFJLGNBQWMsS0FBSyw2Q0FBNkMsa0ZBQWtGLFFBQVEsTUFBTSxxQkFBcUIsYUFBYSwwQkFBMEIsY0FBYyw4Q0FBOEMsZ0JBQWdCLE1BQU0sU0FBUyxtQ0FBbUMsSUFBSSxLQUFLLHVDQUF1QyxPQUFPLFlBQVksK0JBQStCLFNBQVMsWUFBWSwrQkFBK0IsU0FBUyxJQUFJLFNBQVMsWUFBWSxtQ0FBbUMsU0FBUyw4QkFBOEIsdUNBQXVDLGlCQUFpQixrQkFBa0IsVUFBVSxnQkFBZ0Isa0JBQWtCLDBCQUEwQixpQkFBaUIsa0JBQWtCLHVDQUF1QyxLQUFLLHNEQUFzRCxrQkFBa0IscURBQXFELFNBQVMsY0FBYyxpQ0FBaUMsa0VBQWtFLEtBQUssY0FBYyxRQUFRLFNBQVMsS0FBSyxvQkFBb0IsWUFBWSxtQ0FBbUMsZ0JBQWdCLFNBQVMsZ0JBQWdCLDJHQUEyRyxjQUFjLGFBQWEsRUFBRSx3QkFBd0IscUJBQXFCLGVBQWUsUUFBUSxvQkFBb0IsYUFBYSxjQUFjLDJCQUEyQiw4Q0FBOEMsMkRBQTJELHVDQUF1QywwQ0FBMEMsc0RBQXNELCtHQUErRyxpSUFBaUksYUFBYSxpQkFBaUIsa0JBQWtCLGVBQWUscUJBQXFCLGFBQWEsWUFBWSxJQUFJLE1BQU0sMkNBQTJDLElBQUkscUJBQXFCLGdCQUFnQixpREFBaUQsb0JBQW9CLGlCQUFpQixnQ0FBZ0MsMEJBQTBCLGdCQUFnQixjQUFjLHdEQUF3RCxrQkFBa0IsZ0JBQWdCLGVBQWUscUJBQXFCLDhEQUE4RCxpQkFBaUIsYUFBYSxlQUFlLHlEQUF5RCw4QkFBOEIsOENBQThDLElBQUksaUJBQWlCLDJEQUEyRCxLQUFLLEtBQUssU0FBUyxZQUFZLE9BQU8sK0NBQStDLGNBQWMsNkJBQTZCLGNBQWMsSUFBSSxjQUFjLFNBQVMsb0JBQW9CLGtCQUFrQixZQUFZLHdKQUF3SixjQUFjLGFBQWEsY0FBYyxtRkFBbUYsNkJBQTZCLElBQUksY0FBYyxTQUFTLFVBQVUsaUJBQWlCLDhCQUE4QixhQUFhLGlCQUFpQixXQUFXLHFCQUFxQixZQUFZLGdCQUFnQixRQUFRLCtJQUErSSxjQUFjLHVDQUF1QyxnQkFBZ0IseUVBQXlFLGdCQUFnQiw4Q0FBOEMsb0JBQW9CLGdDQUFnQyxpRUFBaUUsY0FBYyxnQ0FBZ0MsaUJBQWlCLDBDQUEwQyxXQUFXLHVDQUF1Qyx5QkFBeUIsYUFBYSxnQkFBZ0IsWUFBWSxvQkFBb0IsK0NBQStDLE1BQU0sb0JBQW9CLElBQUksWUFBWSxTQUFTLG9CQUFvQiwySUFBMkksY0FBYyxnRUFBZ0UsUUFBUSxjQUFjLDREQUE0RCxnQkFBZ0IsZ1lBQWdZLGNBQWMsMEdBQTBHLDBHQUEwRyxtQ0FBbUMsSUFBSSxjQUFjLE9BQU8sYUFBYSxPQUFPLEVBQUUsU0FBUyxRQUFRLG9CQUFvQiw2SUFBNkksSUFBSSwwQ0FBMEMsWUFBWSw0QkFBNEIsNEJBQTRCLHNDQUFzQyw0Q0FBNEMsVUFBVSxXQUFXLDZEQUE2RCxpRUFBaUUsZUFBZSxlQUFlLGlDQUFpQywwQ0FBMEMsWUFBWSxLQUFLLGdDQUFnQyx3Q0FBd0MsbUJBQW1CLHdHQUF3Ryx5Q0FBeUMsV0FBVyx1QkFBdUIsMkJBQTJCLGFBQWEsMkJBQTJCLEVBQUUsbUJBQW1CLDZCQUE2QixvQkFBb0IsV0FBVyxnQ0FBZ0MsdUJBQXVCLElBQUksOEJBQThCLHNCQUFzQiwyREFBMkQsRUFBRSxrQ0FBa0Msa0JBQWtCLGdCQUFnQiw2QkFBNkIsSUFBSSx3QkFBd0IsSUFBSSx3QkFBd0IsdUNBQXVDLDBCQUEwQix1QkFBdUIsYUFBYSxrQkFBa0Isd0NBQXdDLFNBQVMsNEJBQTRCLFNBQVMsNEZBQTRGLGdCQUFnQixNQUFNLFdBQVcsSUFBSSw4Q0FBOEMsVUFBVSwwQ0FBMEMsWUFBWSxhQUFhLCtEQUErRCw4SEFBOEgsRUFBRSxFQUFFLFlBQVkscUJBQXFCLGVBQWUsaUNBQWlDLEtBQUssT0FBTyxZQUFZLHVDQUF1QyxvQkFBb0IsYUFBYSx1QkFBdUIsY0FBYyxJQUFJLGlCQUFpQixTQUFTLGtCQUFrQixjQUFjLGlDQUFpQywyREFBMkQsc0JBQXNCLG1EQUFtRCwrREFBK0QsaUNBQWlDLDhGQUE4RixzQkFBc0IsR0FBRyxzQkFBc0IsMkJBQTJCLCtCQUErQixnQ0FBZ0MsdUNBQXVDLHlLQUF5SyxnRkFBZ0YsTUFBTSx5QkFBeUIsNEVBQTRFLEdBQUcsRUFBRSxHQUFHLHFCQUFxQixxQkFBcUIsYUFBYSwyRkFBMkYsOEJBQThCLDZCQUE2QixrTEFBa0wsMENBQTBDLFFBQVEsSUFBSSxlQUFlLHNCQUFzQixxREFBcUQsTUFBTSxlQUFlLDJEQUEyRCw4RUFBOEUsWUFBWSxJQUFJLG1CQUFtQixZQUFZLGdFQUFnRSxpQkFBaUIsa0NBQWtDLElBQUksRUFBRSxtQkFBbUIsNEJBQTRCLGVBQWUsU0FBUyxPQUFPLHFEQUFxRCxvRkFBb0YsUUFBUSxvR0FBb0csRUFBRSxZQUFZLDRCQUE0QixxQkFBcUIsOEJBQThCLDRDQUE0QyxHQUFHLHdCQUF3QixHQUFHLHlFQUF5RSx3Q0FBd0MsMEZBQTBGLDZCQUE2QixHQUFHLGVBQWUsZ0ZBQWdGLDJFQUEyRSxzQkFBc0IsZ0pBQWdKLHdDQUF3QyxHQUFHLG1GQUFtRiw0Q0FBNEMsR0FBRyxxQkFBcUIsMkJBQTJCLHFFQUFxRSxtQ0FBbUMsSUFBSSwwQkFBMEIsOEJBQThCLElBQUksMEJBQTBCLGVBQWUsS0FBSyxtQ0FBbUMsc0JBQXNCLGlDQUFpQywrQkFBK0IsNEhBQTRILG1SQUFtUixLQUFLLCtCQUErQixrQkFBa0IsSUFBSSwrQkFBK0IsaUJBQWlCLEdBQUcscUJBQXFCLGFBQWEsTUFBTSxnQkFBZ0IsNEJBQTRCLGdCQUFnQixvQ0FBb0Msa0JBQWtCLHdCQUF3Qix1RUFBdUUsa0JBQWtCLHdCQUF3Qix1Q0FBdUMsZ0JBQWdCLG9DQUFvQyxrQkFBa0Isd0JBQXdCLHVFQUF1RSxrQkFBa0Isd0JBQXdCLHVDQUF1QyxvQkFBb0IsNkVBQTZFLGNBQWMsYUFBYSxzQ0FBc0MsZ0JBQWdCLGNBQWMsc0hBQXNILGNBQWMsZUFBZSw0S0FBNEssY0FBYyxpQkFBaUIsb0lBQW9JLGdCQUFnQixzQkFBc0Isd0dBQXdHLGNBQWMsNEJBQTRCLHNFQUFzRSxnQkFBZ0IsZ0JBQWdCLDRCQUE0QixnQkFBZ0Isd0JBQXdCLHdCQUF3QixrQkFBa0IsR0FBRyxnQkFBZ0IsdUJBQXVCLGtDQUFrQyxrQkFBa0IsR0FBRyxjQUFjLFVBQVUsd0JBQXdCLGdCQUFnQixrQkFBa0Isa0JBQWtCLEVBQUUsd0JBQXdCLGdCQUFnQixrQkFBa0Isa0JBQWtCLEVBQUUsd0JBQXdCLGNBQWMsUUFBUSxtRkFBbUYsWUFBWSxnQkFBZ0Isc0JBQXNCLGtCQUFrQix1TEFBdUwsY0FBYyxXQUFXLFVBQVUsNkJBQTZCLGdCQUFnQiwwQkFBMEIsY0FBYyxnQkFBZ0Isa0JBQWtCLEVBQUUsa0RBQWtELGtCQUFrQixhQUFhLG9DQUFvQyxnQkFBZ0IsWUFBWSw0QkFBNEIseUJBQXlCLHVCQUF1Qix1QkFBdUIsK0JBQStCLFNBQVMsY0FBYyxnQkFBZ0IsbUJBQW1CLGtCQUFrQixjQUFjLE1BQU0sRUFBRSxPQUFPLGtCQUFrQixjQUFjLFNBQVMsS0FBSyxNQUFNLG9CQUFvQiwyQ0FBMkMsU0FBUyx3QkFBd0IsYUFBYSx1QkFBdUIsRUFBRSw4QkFBOEIsMEJBQTBCLDRHQUE0RyxpQkFBaUIsc0JBQXNCLDZCQUE2QiwwRkFBMEYsa0JBQWtCLDRCQUE0Qix1REFBdUQsc0JBQXNCLHNGQUFzRixnSUFBZ0ksZ0JBQWdCLHdCQUF3QixlQUFlLCtCQUErQixlQUFlLGNBQWMsTUFBTSxZQUFZLFNBQVMsbUNBQW1DLDhHQUE4RywwQkFBMEIsOEJBQThCLE9BQU8sYUFBYSxpQ0FBaUMsS0FBSywrQkFBK0IsZ0NBQWdDLFNBQVMsZ0JBQWdCLDZEQUE2RCw2RUFBNkUsV0FBVyx1QkFBdUIsNEJBQTRCLHdCQUF3QiwwakJBQTBqQix1REFBdUQsb0ZBQW9GLCtJQUErSSx1Q0FBdUMsb0JBQW9CLEVBQUUsdUVBQXVFLGdNQUFnTSxnQkFBZ0IsaUJBQWlCLEVBQUUsS0FBSyxJQUFJLFdBQVcsMENBQTBDLE9BQU8sa0JBQWtCLHNCQUFzQixtQ0FBbUMsbUJBQW1CLHlCQUF5QixLQUFLLFFBQVEseUNBQXlDLEtBQUsseUJBQXlCLEtBQUssUUFBUSx5Q0FBeUMsS0FBSywySUFBMkkscUJBQXFCLHNEQUFzRCxnQkFBZ0Isb0JBQW9CLFdBQVcsbUJBQW1CLElBQUksUUFBUSxtQkFBbUIsb0JBQW9CLGtDQUFrQyxFQUFFLHNCQUFzQixNQUFNLGdHQUFnRyxLQUFLLHlCQUF5QixTQUFTLHdJQUF3SSxPQUFPLCtDQUErQyw4QkFBOEIsV0FBVyxxTkFBcU4sdUJBQXVCLGdCQUFnQixzQkFBc0IsOEdBQThHLGNBQWMsK0JBQStCLGtCQUFrQixLQUFLLGtDQUFrQyxFQUFFLHNDQUFzQyxrQkFBa0IsNkNBQTZDLGFBQWEsb0tBQW9LLGdCQUFnQixnQkFBZ0IsUUFBUSxzQkFBc0IsNkJBQTZCLE1BQU0seUJBQXlCLGlCQUFpQix5QkFBeUIsTUFBTSwwQkFBMEIsZ0JBQWdCLGdCQUFnQixnQkFBZ0Isb0RBQW9ELGFBQWEsaUVBQWlFLGNBQWMsYUFBYSxhQUFhLHFGQUFxRixpQkFBaUIsdUZBQXVGLGNBQWMsdURBQXVELGlCQUFpQixRQUFRLG9CQUFvQixzSEFBc0gsK0JBQStCLGVBQWUsMEJBQTBCLHNCQUFzQiwwQ0FBMEMsS0FBSyxvQ0FBb0MsRUFBRSxTQUFTLGNBQWMsb0dBQW9HLGlCQUFpQix1QkFBdUIsV0FBVyxjQUFjLEtBQUssSUFBSSxXQUFXLFNBQVMsZUFBZSxtQkFBbUIsZUFBZSxvQ0FBb0Msa0ZBQWtGLGlCQUFpQixzQ0FBc0MsRUFBRSxXQUFXLG9DQUFvQyxXQUFXLHdCQUF3QixZQUFZLE1BQU0saUJBQWlCLGlCQUFpQixzQ0FBc0MsRUFBRSxrQkFBa0Isd0JBQXdCLFlBQVksTUFBTSxpQkFBaUIsY0FBYywyREFBMkQsZUFBZSxlQUFlLGVBQWUsZUFBZSw2QkFBNkIsVUFBVSxtQkFBbUIsVUFBVSxtQkFBbUIsc0JBQXNCLGtGQUFrRixNQUFNLG9DQUFvQyxtQ0FBbUMsZUFBZSxpQkFBaUIsVUFBVSxxQkFBcUIsMEJBQTBCLDBCQUEwQix1QkFBdUIsU0FBUyxxQkFBcUIsb0NBQW9DLG1CQUFtQixjQUFjLFVBQVUsaUNBQWlDLE1BQU0saUNBQWlDLE1BQU0saUNBQWlDLE1BQU0saUNBQWlDLE1BQU0saUNBQWlDLE1BQU0saUNBQWlDLE1BQU0scUJBQXFCLE1BQU0sd0JBQXdCLG1CQUFtQixtQkFBbUIsVUFBVSxZQUFZLElBQUksS0FBSyxXQUFXLHlEQUF5RCw4SUFBOEksaUJBQWlCLHlDQUF5QyxnQkFBZ0IsK0JBQStCLGdCQUFnQixtQkFBbUIsZ0JBQWdCLG1CQUFtQixxREFBcUQsd0JBQXdCLGtGQUFrRixNQUFNLGtCQUFrQixJQUFJLEtBQUssYUFBYSxnREFBZ0QsNkZBQTZGLEtBQUssOEZBQThGLE1BQU0sbU5BQW1OLG1DQUFtQyxLQUFLLDhEQUE4RCxNQUFNLDhCQUE4QixNQUFNLHlCQUF5QixNQUFNLDhCQUE4QixpREFBaUQsRUFBRSw0QkFBNEIsTUFBTSxlQUFlLCtCQUErQixNQUFNLG9KQUFvSixxQ0FBcUMsTUFBTSxrQkFBa0IsZ0JBQWdCLE9BQU8sWUFBWSxNQUFNLGFBQWEsOEJBQThCLHlCQUF5QixzQkFBc0IsY0FBYyxLQUFLLFlBQVksT0FBTyxNQUFNLE1BQU0sNENBQTRDLHNCQUFzQixFQUFFLE1BQU0sRUFBRSxnQ0FBZ0MseURBQXlELElBQUksUUFBUSwyQkFBMkIsNkJBQTZCLFVBQVUsZ0NBQWdDLHdCQUF3QixlQUFlLDRFQUE0RSxRQUFRLDJDQUEyQyxZQUFZLCtCQUErQixRQUFRLDhDQUE4QyxpQkFBaUIsUUFBUSxrQkFBa0IsVUFBVSxhQUFhLFNBQVMsS0FBSyxhQUFhLE9BQU8scUJBQXFCLFFBQVEsa0JBQWtCLEtBQUssdURBQXVELGtCQUFrQixRQUFRLEtBQUssS0FBSyx5REFBeUQsb0JBQW9CLE1BQU0sS0FBSyxVQUFVLGtCQUFrQiw2Q0FBNkMscUJBQXFCLFFBQVEsY0FBYyxtQ0FBbUMsMkNBQTJDLEVBQUUsd0JBQXdCLEtBQUssMENBQTBDLFFBQVEsMERBQTBELHNHQUFzRyxFQUFFLDBCQUEwQixXQUFXLHFCQUFxQixRQUFRLG1CQUFtQix5QkFBeUIscUlBQXFJLEVBQUUsd0JBQXdCLGdEQUFnRCxtQkFBbUIsZUFBZSw2QkFBNkIsa0tBQWtLLGdCQUFnQixvRUFBb0UsWUFBWSwwTkFBME4sVUFBVSw0Y0FBNGMsbWRBQW1kLEdBQUcsc0JBQXNCLGNBQWMsTUFBTSxtQkFBbUIsYUFBYSxRQUFRLDRDQUE0QyxJQUFJLFFBQVEsdUNBQXVDLFVBQVUsU0FBUyxpQkFBaUIsZ0NBQWdDLDhDQUE4Qyw2QkFBNkIsd0JBQXdCLHlHQUF5RyxxQ0FBcUMsb0NBQW9DLGtDQUFrQyxhQUFhLGFBQWEsK0RBQStELGdCQUFnQix5SEFBeUgsMk1BQTJNLG9CQUFvQixRQUFRLFFBQVEsSUFBSSxXQUFXLFFBQVEsT0FBTyxpQkFBaUIsWUFBWSxLQUFLLHNCQUFzQiwwQkFBMEIsb0JBQW9CLFFBQVEsUUFBUSxLQUFLLGlCQUFpQixRQUFRLElBQUksc0JBQXNCLHFCQUFxQixLQUFLLHlCQUF5QixRQUFRLElBQUkscUNBQXFDLGNBQWMsNkRBQTZELGNBQWMsb0JBQW9CLGtCQUFrQixlQUFlLEtBQUssY0FBYyw0REFBNEQseUJBQXlCLG9DQUFvQyxnQkFBZ0IsS0FBSyxjQUFjLDREQUE0RCw0QkFBNEIsd0RBQXdELEVBQUUsMENBQTBDLGtCQUFrQixnQkFBZ0IsMkNBQTJDLEtBQUssV0FBVyxRQUFRLElBQUksS0FBSyxlQUFlLFVBQVUsb0JBQW9CLE1BQU0sRUFBRSxhQUFhLFVBQVUscUJBQXFCLGVBQWUsRUFBRSxhQUFhLE1BQU0sdUJBQXVCLEVBQUUsYUFBYSxNQUFNLHdCQUF3QixFQUFFLGFBQWEsTUFBTSxrQkFBa0Isc0JBQXNCLGtCQUFrQixNQUFNLEVBQUUscUJBQXFCLG9CQUFvQiwrQkFBK0IscUVBQXFFLE1BQU0sbUNBQW1DLGNBQWMsWUFBWSxhQUFhLCtCQUErQiwrSUFBK0kseUJBQXlCLEVBQUUsa0RBQWtELHNCQUFzQixlQUFlLE1BQU0sUUFBUSxJQUFJLGlCQUFpQixvREFBb0QsS0FBSyxxQkFBcUIsUUFBUSxNQUFNLG9CQUFvQixRQUFRLElBQUkseUJBQXlCLFFBQVEsTUFBTSx5QkFBeUIsUUFBUSxJQUFJLGlCQUFpQixzQkFBc0IsS0FBSyxpQkFBaUIsOENBQThDLG9CQUFvQixxQkFBcUIsR0FBRyx3QkFBd0IsY0FBYyxNQUFNLGtCQUFrQixNQUFNLG1EQUFtRCxNQUFNLFlBQVksdUNBQXVDLFVBQVUsOEhBQThILHNCQUFzQix1RkFBdUYsYUFBYSw0RUFBNEUsYUFBYSx1RUFBdUUsY0FBYyxtQkFBbUIsZ0JBQWdCLFFBQVEsK0JBQStCLHNFQUFzRSxvQ0FBb0Msd1BBQXdQLDhCQUE4QixzQkFBc0IsOEJBQThCLHNCQUFzQixpREFBaUQsMkNBQTJDLHNDQUFzQyxZQUFZLEtBQUssS0FBSywyRUFBMkUsVUFBVSwwQkFBMEIsV0FBVyw4QkFBOEIsNEZBQTRGLDhCQUE4Qiw2RkFBNkYsS0FBSyxrQkFBa0IsV0FBVyw4RkFBOEYsMkNBQTJDLDREQUE0RCxnQ0FBZ0Msa0NBQWtDLG9CQUFvQixpQkFBaUIsRUFBRSxrQ0FBa0Msb0JBQW9CLGlCQUFpQixFQUFFLHFFQUFxRSxvQkFBb0IscUNBQXFDLEVBQUUsbUVBQW1FLG9CQUFvQiwyQkFBMkIsRUFBRSxvREFBb0Qsb0JBQW9CLFNBQVMsRUFBRSxnQ0FBZ0MsMkJBQTJCLHdCQUF3QixRQUFRLHFIQUFxSCw0Q0FBNEMsdUNBQXVDLG9DQUFvQyx1QkFBdUIsS0FBSyx1QkFBdUIsZUFBZSw0Q0FBNEMsTUFBTSx3Q0FBd0MsTUFBTSxxREFBcUQsTUFBTSxpRUFBaUUsTUFBTSxnQkFBZ0IsTUFBTSw0REFBNEQsc0NBQXNDLDhCQUE4QixjQUFjLFlBQVksdUJBQXVCLE1BQU0sdUJBQXVCLHVNQUF1TSw2SEFBNkgsb0NBQW9DLGFBQWEsK0JBQStCLG1CQUFtQixNQUFNLFdBQVcsNkVBQTZFLFNBQVMsaUJBQWlCLGlCQUFpQix1QkFBdUIsTUFBTSx1QkFBdUIsaUxBQWlMLFNBQVMsK0JBQStCLGtCQUFrQiw4TkFBOE4sc0NBQXNDLHlGQUF5RixnQ0FBZ0MsT0FBTywyQkFBMkIsa0JBQWtCLEtBQUssTUFBTSxjQUFjLGtCQUFrQixVQUFVLG1CQUFtQiw4RUFBOEUsZ0NBQWdDLHdCQUF3QixxQ0FBcUMsaUJBQWlCLFdBQVcsMEJBQTBCLFNBQVMseUJBQXlCLGdCQUFnQixzQkFBc0IsdUJBQXVCLG1DQUFtQyxpREFBaUQsbUNBQW1DLGlDQUFpQyxtQ0FBbUMsMkNBQTJDLGlDQUFpQywrREFBK0QsNElBQTRJLG1EQUFtRCx1Q0FBdUMsOElBQThJLG1LQUFtSyxzS0FBc0ssc0JBQXNCLDBCQUEwQix3QkFBd0IsMEJBQTBCLHdDQUF3Qyw4Q0FBOEMsb0NBQW9DLG1DQUFtQyxLQUFLLEdBQUcsS0FBSyxJQUFJLElBQUkscUJBQXFCLE1BQU0sb0RBQW9ELGlDQUFpQyw0QkFBNEIsSUFBSSxNQUFNLFdBQVcsMERBQTBELHFEQUFxRCxJQUFJLHdDQUF3QyxTQUFTLG9CQUFvQix3QkFBd0Isd0dBQXdHLHFCQUFxQixJQUFJLDRCQUE0Qix5Q0FBeUMseUJBQXlCLHVCQUF1QixJQUFJLDZCQUE2Qix5Q0FBeUMscUJBQXFCLGlCQUFpQixXQUFXLE1BQU0sc0JBQXNCLHVDQUF1QyxTQUFTLHFCQUFxQixtQkFBbUIsT0FBTyxtN0NBQW03Qyw4QkFBOEIsV0FBVyxlQUFlLGlCQUFpQixJQUFJLEtBQUssc0JBQXNCLDBDQUEwQyxXQUFXLGdEQUFnRCxjQUFjLHNCQUFzQixrQkFBa0IsdUJBQXVCLG9CQUFvQixTQUFTLHlCQUF5QixrQkFBa0IsMkJBQTJCLFVBQVUsRUFBRSxXQUFXLGVBQWUsa0NBQWtDLFFBQVEsWUFBWSxZQUFZLElBQUkseUJBQXlCLFNBQVMsa0JBQWtCLDJCQUEyQixVQUFVLEVBQUUsV0FBVyxlQUFlLGdDQUFnQyxRQUFRLGVBQWUsWUFBWSxJQUFJLEtBQUssV0FBVyxpQ0FBaUMsU0FBUywwQkFBMEIsa0JBQWtCLHVCQUF1QixzQkFBc0IsV0FBVyxlQUFlLE1BQU0sZUFBZSx1QkFBdUIsV0FBVyxlQUFlLFlBQVksS0FBSyxXQUFXLDZCQUE2Qix5QkFBeUIsSUFBSSxlQUFlLGlCQUFpQixXQUFXLEtBQUssc0JBQXNCLG9DQUFvQyxPQUFPLFVBQVUsMkJBQTJCLHVCQUF1Qiw2QkFBNkIseUJBQXlCLGlCQUFpQixXQUFXLEVBQUUsV0FBVyxtREFBbUQsU0FBUyxxQkFBcUIsMkJBQTJCLFdBQVcsTUFBTSxxQkFBcUIsc0RBQXNELDRCQUE0Qiw0R0FBNEcsV0FBVyxNQUFNLGNBQWMsZ0NBQWdDLG1FQUFtRSxxQkFBcUIseUJBQXlCLG9CQUFvQiw2Q0FBNkMsSUFBSSxNQUFNLDhCQUE4QixnRUFBZ0UsU0FBUyxvQkFBb0Isd0JBQXdCLHdCQUF3Qiw4QkFBOEIseUJBQXlCLFNBQVMsZ0NBQWdDLFdBQVcsOEdBQThHLDBDQUEwQywrQ0FBK0MsNkNBQTZDLEtBQUsseURBQXlELHNCQUFzQixTQUFTLHlCQUF5Qiw4Q0FBOEMsa0JBQWtCLFlBQVksV0FBVyxNQUFNLFdBQVcscUJBQXFCLGlFQUFpRSxXQUFXLE1BQU0sa0JBQWtCLCtCQUErQixrQkFBa0IseUJBQXlCLDRCQUE0QixNQUFNLHNDQUFzQyxZQUFZLFdBQVcsWUFBWSxtQ0FBbUMsU0FBUyxrQkFBa0IsZ0NBQWdDLE1BQU0sc0NBQXNDLFlBQVksSUFBSSxZQUFZLHVDQUF1QyxTQUFTLGtCQUFrQixvQkFBb0IsTUFBTSxzQ0FBc0MsWUFBWSxJQUFJLDBCQUEwQixTQUFTLGNBQWMsMkNBQTJDLDRDQUE0Qyx3RkFBd0YsY0FBYywrREFBK0Qsa0NBQWtDLGdHQUFnRywwQ0FBMEMsRUFBRSx5REFBeUQsa0VBQWtFLHlDQUF5QyxFQUFFLDZEQUE2RCw4Q0FBOEMsb0RBQW9ELGdCQUFnQixRQUFRLDJDQUEyQyxFQUFFLHNEQUFzRCx5Q0FBeUMsRUFBRSw2REFBNkQsOENBQThDLEVBQUUsSUFBSSxFQUFFLEdBQUcsY0FBYyxpRUFBaUUsZ0JBQWdCLFFBQVEsMkNBQTJDLEVBQUUsMkRBQTJELHlEQUF5RCxvREFBb0QsRUFBRSxHQUFHLGdCQUFnQix1REFBdUQsc0JBQXNCLHVHQUF1RyxtREFBbUQsRUFBRSxtREFBbUQsdUNBQXVDLEdBQUcseUJBQXlCLE1BQU0sZUFBZSx1QkFBdUIsNEJBQTRCLElBQUksTUFBTSxXQUFXLCtCQUErQix1QkFBdUIsMEJBQTBCLDhCQUE4QixzQkFBc0IsZ0JBQWdCLGlGQUFpRixzQkFBc0IsZ0JBQWdCLCtFQUErRSxxQkFBcUIsNkNBQTZDLElBQUksTUFBTSw4QkFBOEIscUZBQXFGLGdCQUFnQix3QkFBd0IsV0FBVyw4RUFBOEUsWUFBWSxXQUFXLE1BQU0sc0JBQXNCLDZGQUE2RixTQUFTLHFCQUFxQixrQ0FBa0MsSUFBSSxNQUFNLDhCQUE4QixtRkFBbUYsZ0JBQWdCLHlEQUF5RCxTQUFTLHlEQUF5RCxTQUFTLHVCQUF1QixnQkFBZ0IsK0JBQStCLHFCQUFxQiwrQkFBK0Isc0JBQXNCLE9BQU8sK1RBQStULGlCQUFpQixxQkFBcUIsaUJBQWlCLHlCQUF5QixpQkFBaUIseUJBQXlCLGlCQUFpQixrREFBa0QsUUFBUSw4REFBOEQsaUJBQWlCLGdEQUFnRCxrQ0FBa0MsMERBQTBELGdDQUFnQyxtQ0FBbUMseURBQXlELGdDQUFnQyw2R0FBNkcsMkRBQTJELGdDQUFnQyx1SUFBdUksMERBQTBELGdDQUFnQyxzQ0FBc0MsZ0VBQWdFLGdDQUFnQywrREFBK0Qsb0RBQW9ELGdDQUFnQyxvQ0FBb0Msb0RBQW9ELGdDQUFnQyxzQ0FBc0MsdURBQXVELHVCQUF1QixZQUFZLElBQUksNENBQTRDLFNBQVMsa0NBQWtDLDJCQUEyQiwyQ0FBMkMsc0RBQXNELDhDQUE4Qyx1Q0FBdUMsc0dBQXNHLDREQUE0RCxpQ0FBaUMsK0NBQStDLHlDQUF5QyxrQ0FBa0MseUVBQXlFLElBQUksNkJBQTZCLGtDQUFrQyx5RUFBeUUsbUNBQW1DLHlFQUF5RSxJQUFJLDZCQUE2QixrQ0FBa0MseUNBQXlDLHlFQUF5RSxJQUFJLDRCQUE0QixrQ0FBa0Msd0NBQXdDLHlFQUF5RSxJQUFJLHlCQUF5QixnQ0FBZ0Msc0NBQXNDLDhCQUE4QiwyQkFBMkIsSUFBSSxzQkFBc0IsU0FBUyx3Q0FBd0MsNkJBQTZCLDJCQUEyQixJQUFJLHNCQUFzQixTQUFTLDRDQUE0Qyw4QkFBOEIsNENBQTRDLElBQUksS0FBSyxZQUFZLEtBQUssV0FBVyxLQUFLLGtCQUFrQixrQkFBa0IsT0FBTyxTQUFTLDhDQUE4Qyw2QkFBNkIsNENBQTRDLElBQUksS0FBSyxZQUFZLEtBQUssV0FBVyxLQUFLLGtCQUFrQixrQkFBa0IsT0FBTyxTQUFTLHNDQUFzQyw0Q0FBNEMsNkJBQTZCLEtBQUssV0FBVyxLQUFLLGtCQUFrQixrQkFBa0IsU0FBUywyQ0FBMkMsNkNBQTZDLFNBQVMsdVZBQXVWLDhDQUE4QyxxRUFBcUUsSUFBSSxrQ0FBa0MsU0FBUyx1Q0FBdUMsMkJBQTJCLDZEQUE2RCx5Q0FBeUMsMkJBQTJCLDZEQUE2RCwyQ0FBMkMsOEZBQThGLElBQUksS0FBSyxXQUFXLGtDQUFrQywwREFBMEQsV0FBVywyQ0FBMkMsT0FBTyw4QkFBOEIsaUJBQWlCLCtCQUErQix1Q0FBdUMsZ0ZBQWdGLGdCQUFnQix5Q0FBeUMsa0ZBQWtGLDJCQUEyQixJQUFJLFVBQVUsMEVBQTBFLE9BQU8sbUJBQW1CLHVDQUF1QywyREFBMkQsZ0JBQWdCLHVFQUF1RSxnQkFBZ0Isc0NBQXNDLGdEQUFnRCxHQUFHLHlFQUF5RSx1QkFBdUIsa0JBQWtCLDRCQUE0Qix5QkFBeUIsa0JBQWtCLDhCQUE4Qiw2QkFBNkIsa0JBQWtCLGtDQUFrQywrQkFBK0Isa0JBQWtCLG9DQUFvQyx3QkFBd0Isa0JBQWtCLDZCQUE2QiwwQkFBMEIsa0JBQWtCLCtCQUErQiw4VkFBOFYsUUFBUSwyRUFBMkUsd0NBQXdDLHdDQUF3Qyw4QkFBOEIsNERBQTRELGtDQUFrQyxFQUFFLEVBQUUsT0FBTywwQ0FBMEMsd0NBQXdDLCtCQUErQiwwREFBMEQsRUFBRSxPQUFPLDBDQUEwQyx1REFBdUQseUJBQXlCLDhEQUE4RCxnQ0FBZ0MsT0FBTyxtSEFBbUgsUUFBUSxvREFBb0Qsc0NBQXNDLDhDQUE4QyxvR0FBb0csMEVBQTBFLEVBQUUsT0FBTyxRQUFRLHdFQUF3RSx3QkFBd0IsOENBQThDLGlCQUFpQixNQUFNLDBDQUEwQyxTQUFTLDJCQUEyQixnQkFBZ0IsSUFBSSw4QkFBOEIsU0FBUywwQkFBMEIsaUJBQWlCLElBQUksMkJBQTJCLFNBQVMsMkJBQTJCLGlCQUFpQixXQUFXLGtDQUFrQyxTQUFTLFlBQVksUUFBUSxvQkFBb0IsU0FBUyx3SEFBd0gsNkJBQTZCLEtBQUssTUFBTSwwREFBMEQsOEVBQThFLDJCQUEyQixPQUFPLDZEQUE2RCwyQkFBMkIseURBQXlELE1BQU0sbUhBQW1ILFlBQVksSUFBSSxvRUFBb0UsS0FBSyw4QkFBOEIsTUFBTSxLQUFLLCtHQUErRyxxQkFBcUIsTUFBTSwwSEFBMEgsNklBQTZJLE1BQU0saUdBQWlHLEtBQUsscUlBQXFJLFlBQVksU0FBUyxrQkFBa0IsV0FBVyxpQkFBaUIsSUFBSSxnQ0FBZ0Msb0RBQW9ELE1BQU0sUUFBUSxxQ0FBcUMsRUFBRSwyQ0FBMkMsRUFBRSx3Q0FBd0MsRUFBRSx3Q0FBd0MsRUFBRSx5Q0FBeUMsRUFBRSxpQkFBaUIsOENBQThDLEVBQUUsK0NBQStDLEVBQUUseUNBQXlDLGlCQUFpQixvQ0FBb0MsRUFBRSx5Q0FBeUMsRUFBRSxzQ0FBc0MsRUFBRSx3Q0FBd0MsRUFBRSx5Q0FBeUMsRUFBRSwyQ0FBMkMsRUFBRSx3Q0FBd0MsR0FBRyxrQ0FBa0Msc0JBQXNCLFdBQVcsTUFBTSx1QkFBdUIsb0JBQW9CLDhDQUE4QyxpREFBaUQsRUFBRSx5Q0FBeUMsdUJBQXVCLEVBQUUsaUJBQWlCLHVDQUF1QyxFQUFFLDBEQUEwRCxRQUFRLElBQUksTUFBTSxvQkFBb0IsMENBQTBDLHdDQUF3QyxjQUFjLDRDQUE0QyxjQUFjLDZDQUE2QyxjQUFjLHFEQUFxRCxtQ0FBbUMsOENBQThDLHNEQUFzRCxpREFBaUQsV0FBVyw2Q0FBNkMsV0FBVyxzREFBc0QsR0FBRyxtT0FBbU8seUNBQXlDLGdNQUFnTSxvQkFBb0IsMkRBQTJELDJDQUEyQyxFQUFFLDRDQUE0QyxFQUFFLHlDQUF5QyxFQUFFLDJDQUEyQyxFQUFFLG1EQUFtRCwrQkFBK0IsVUFBVSxtM1VBQW0zVSxlQUFlLFlBQVksZUFBZSxZQUFZLGlCQUFpQiwrQkFBK0IsZUFBZSxrQkFBa0IsNkJBQTZCLE1BQU0sOENBQThDLFlBQVksbUJBQW1CLDZIQUE2SCxNQUFNLGdEQUFnRCxZQUFZLG1CQUFtQiw0Q0FBNEMsTUFBTSw4QkFBOEIsMENBQTBDLDBDQUEwQyxpQkFBaUIsV0FBVyw0QkFBNEIsb0JBQW9CLG1DQUFtQyxZQUFZLDJDQUEyQyxvREFBb0QsMkNBQTJDLDBDQUEwQywrQkFBK0IsMkNBQTJDLDZCQUE2QiwyQ0FBMkMsc0JBQXNCLFFBQVEseUJBQXlCLHVEQUF1RCxlQUFlLDhCQUE4QixtQkFBbUIsMkJBQTJCLGVBQWUsbUJBQW1CLGlCQUFpQixPQUFPLCtCQUErQixFQUFFLGlCQUFpQiw2QkFBNkIsOEJBQThCLFdBQVcsd0JBQXdCLDJCQUEyQiwrQ0FBK0MsUUFBUSwrVkFBK1YsK0JBQStCLHNDQUFzQyxpQkFBaUIsS0FBSyxHQUFHLHFDQUFxQyxpRUFBaUUsd0NBQXdDLGtDQUFrQywwQ0FBMEMsUUFBUSw0REFBNEQsRUFBRSwwQkFBMEIscUlBQXFJLEtBQUsscUJBQXFCLCtCQUErQixvQ0FBb0Msb0JBQW9CLFdBQVcsTUFBTSxXQUFXLGdRQUFnUSxTQUFTLHFDQUFxQyxpQ0FBaUMsc0JBQXNCLHFCQUFxQixNQUFNLHFCQUFxQixpREFBaUQsd0ZBQXdGLG9DQUFvQywyQ0FBMkMsV0FBVyxNQUFNLFdBQVcsMElBQTBJLE9BQU8sc0pBQXNKLG9OQUFvTix1Q0FBdUMsOEJBQThCLDJDQUEyQyxvQkFBb0IsZ0JBQWdCLGNBQWMsWUFBWSxXQUFXLDJFQUEyRSx1QkFBdUIsb0RBQW9ELDZEQUE2RCxvQkFBb0IsTUFBTSxvQkFBb0Isc0JBQXNCLGFBQWEseUJBQXlCLGVBQWUseUJBQXlCLGVBQWUsRUFBRSwyREFBMkQsNENBQTRDLE1BQU0sbUtBQW1LLHVGQUF1RiwrTUFBK00sOEJBQThCLDBGQUEwRixpQ0FBaUMsZ0NBQWdDLFFBQVEsc0NBQXNDLGVBQWUsZUFBZSxFQUFFLHNDQUFzQyxrQkFBa0IsY0FBYyxlQUFlLEVBQUUseUJBQXlCLFNBQVMsb0JBQW9CLG1DQUFtQyx3RkFBd0Ysa0NBQWtDLGtCQUFrQixjQUFjLGVBQWUsRUFBRSx5QkFBeUIsZUFBZSxtQ0FBbUMsTUFBTSxpQkFBaUIsa0JBQWtCLHVDQUF1QyxnQ0FBZ0MsWUFBWSxXQUFXLGdDQUFnQyxTQUFTLFNBQVMsZUFBZSxtREFBbUQsbUJBQW1CLHNDQUFzQyxVQUFVLHdCQUF3QixjQUFjLGtCQUFrQixNQUFNLHNDQUFzQyxTQUFTLFdBQVcsWUFBWSxhQUFhLE1BQU0scUNBQXFDLHNCQUFzQixPQUFPLHFDQUFxQyxpQkFBaUIsZ0RBQWdELG9GQUFvRiw2QkFBNkIsZ0ZBQWdGLEVBQUUsa0NBQWtDLGdCQUFnQix3QkFBd0IsUUFBUSxxQkFBcUIsSUFBSSw4QkFBOEIsdURBQXVELHdEQUF3RCxpQ0FBaUMsbUJBQW1CLGlCQUFpQixtQ0FBbUMsNEJBQTRCLG1CQUFtQixFQUFFLG9CQUFvQiwwRUFBMEUsbUJBQW1CLFlBQVksS0FBSyxXQUFXLE1BQU0saUNBQWlDLDhHQUE4RyxPQUFPLFNBQVMsSUFBSSxpQkFBaUIsK0JBQStCLG1CQUFtQixjQUFjLEtBQUssV0FBVyxNQUFNLFdBQVcsMEJBQTBCLFNBQVMsdUJBQXVCLFlBQVksZ0JBQWdCLHFKQUFxSixZQUFZLHFHQUFxRyxTQUFTLFNBQVMsK0JBQStCLEVBQUUsOEJBQThCLEVBQUUsb0NBQW9DLEVBQUUsZ0NBQWdDLEVBQUUsa0NBQWtDLEVBQUUsOEJBQThCLEVBQUUsa0RBQWtELEVBQUUsaURBQWlELEVBQUUsMERBQTBELEVBQUUseURBQXlELEVBQUUsK0NBQStDLEVBQUUsb0RBQW9ELEVBQUUscUdBQXFHLEVBQUUsb0NBQW9DLEVBQUUsZ0ZBQWdGLEVBQUUsaURBQWlELEVBQUUscUNBQXFDLEVBQUUsMkNBQTJDLEVBQUUsNENBQTRDLEVBQUUsK0NBQStDLEVBQUUsMERBQTBELEVBQUUsK0NBQStDLEVBQUUsb0RBQW9ELEVBQUUscURBQXFELEVBQUUsaURBQWlELEVBQUUsaURBQWlELEVBQUUscUNBQXFDLEVBQUUscUNBQXFDLEVBQUUsc0NBQXNDLEVBQUUsbUNBQW1DLE9BQU8seUNBQXlDLEVBQUUsaURBQWlELEVBQUUsaURBQWlELEVBQUUscUJBQXFCLDBCQUEwQixxQkFBcUIscUJBQXFCLFdBQVcsTUFBTSx3RkFBd0YsMkJBQTJCLGtDQUFrQyxpQkFBaUIsb0JBQW9CLGtGQUFrRix3QkFBd0IsNkNBQTZDLGlCQUFpQixVQUFVLFNBQVMsbUJBQW1CLHVEQUF1RCxnQkFBZ0IsaUZBQWlGLGdFQUFnRSxpSkFBaUosUUFBUSxnQkFBZ0Isb0NBQW9DLGFBQWEsa0VBQWtFLHFCQUFxQixvQ0FBb0MsV0FBVyxFQUFFLFdBQVcsZUFBZSxrQkFBa0IsTUFBTSw4REFBOEQsTUFBTSxZQUFZLFdBQVcseUNBQXlDLE1BQU0sWUFBWSxzREFBc0QsNEJBQTRCLE1BQU0sWUFBWSxzREFBc0QsNEJBQTRCLE1BQU0sWUFBWSxXQUFXLDRHQUE0RyxNQUFNLG1DQUFtQyxNQUFNLGVBQWUsOEJBQThCLHdPQUF3TyxNQUFNLHdLQUF3SyxNQUFNLDRMQUE0TCxNQUFNLDBQQUEwUCxNQUFNLDZFQUE2RSxNQUFNLHFFQUFxRSxNQUFNLFlBQVksTUFBTSw4QkFBOEIsTUFBTSx3RUFBd0UsTUFBTSw2REFBNkQsTUFBTSxZQUFZLE1BQU0sYUFBYSxXQUFXLDRHQUE0Ryx3Q0FBd0MsTUFBTSxhQUFhLFdBQVcseUNBQXlDLDJHQUEyRyxNQUFNLHVDQUF1QyxXQUFXLHdGQUF3RixNQUFNLHVDQUF1QyxXQUFXLHdGQUF3RixNQUFNLHVEQUF1RCxNQUFNLHFEQUFxRCxNQUFNLGFBQWEsNklBQTZJLG1IQUFtSCxNQUFNLGFBQWEsNklBQTZJLG1IQUFtSCxNQUFNLGtRQUFrUSx1QkFBdUIsaUJBQWlCLHNCQUFzQix3RkFBd0YsbUJBQW1CLFlBQVksS0FBSyxXQUFXLE1BQU0sdUJBQXVCLGlFQUFpRSxnQ0FBZ0MsRUFBRSxTQUFTLGlCQUFpQixnQ0FBZ0MsaUNBQWlDLEdBQUcsMkJBQTJCLGVBQWUsc0NBQXNDLHNDQUFzQyxHQUFHLG9CQUFvQixzQ0FBc0MsSUFBSSxlQUFlLGtCQUFrQixRQUFRLGdEQUFnRCxFQUFFLG9CQUFvQixvQkFBb0IsTUFBTSxzQ0FBc0MsaUJBQWlCLEdBQUcsa0dBQWtHLGdFQUFnRSxnQ0FBZ0MsVUFBVSxnQ0FBZ0MsVUFBVSxrQ0FBa0Msc0NBQXNDLHFFQUFxRSxnQ0FBZ0MsVUFBVSxnQ0FBZ0MsVUFBVSxpQ0FBaUMsc0NBQXNDLHNCQUFzQiw4RkFBOEYsc0RBQXNELGlDQUFpQyxVQUFVLGlDQUFpQyxVQUFVLGlDQUFpQyxVQUFVLGlDQUFpQyxVQUFVLGdDQUFnQyxVQUFVLGdDQUFnQyxVQUFVLG1DQUFtQyx1Q0FBdUMsZUFBZSxrQ0FBa0MsSUFBSSxRQUFRLHNCQUFzQixnQkFBZ0Isb0NBQW9DLDZQQUE2UCw2Q0FBNkMsa0NBQWtDLDJIQUEySCxXQUFXLDBNQUEwTSw2QkFBNkIsb0hBQW9ILDJDQUEyQyxnREFBZ0QsaURBQWlELHFCQUFxQixJQUFJLEtBQUssc0hBQXNILFVBQVUsS0FBSyx3RkFBd0YsMENBQTBDLDhGQUE4RixZQUFZLElBQUksS0FBSyx3SUFBd0ksb0ZBQW9GLEtBQUssSUFBSSxjQUFjLElBQUksNEZBQTRGLFNBQVMsMkJBQTJCLHNEQUFzRCxnRkFBZ0Ysc0JBQXNCLDBDQUEwQyw4QkFBOEIsNEJBQTRCLDJCQUEyQix3QkFBd0IsNkJBQTZCLEtBQUssbUNBQW1DLHFCQUFxQixJQUFJLG9DQUFvQyxtQkFBbUIsWUFBWSxFQUFFLGdDQUFnQyxZQUFZLEtBQUssMEJBQTBCLEtBQUssc0RBQXNELEtBQUssWUFBWSxFQUFFLGlDQUFpQyxZQUFZLEtBQUssMkJBQTJCLFNBQVMsb0NBQW9DLGtIQUFrSCxVQUFVLHVDQUF1QyxzQ0FBc0MsSUFBSSwyQkFBMkIsS0FBSyx1REFBdUQscUJBQXFCLElBQUksWUFBWSxJQUFJLG1EQUFtRCxPQUFPLGlCQUFpQixtQkFBbUIsb0ZBQW9GLFlBQVksWUFBWSxNQUFNLG1CQUFtQiw4Q0FBOEMsb0JBQW9CLGlDQUFpQyw0QkFBNEIsRUFBRSwrQkFBK0IsRUFBRSxrQ0FBa0MsRUFBRSxpQ0FBaUMsRUFBRSxxQ0FBcUMsRUFBRSw4QkFBOEIsRUFBRSxzQ0FBc0MsRUFBRSxpQ0FBaUMsdUJBQXVCLGlNQUFpTSxVQUFVLFdBQVcsK0JBQStCLFNBQVMsaUNBQWlDLGtDQUFrQyxFQUFFLGtDQUFrQyxFQUFFLG9DQUFvQyxFQUFFLGtDQUFrQywyQkFBMkIsa0NBQWtDLG1DQUFtQyxHQUFHLFdBQVcsWUFBWSxXQUFXLG1CQUFtQixzQ0FBc0MsRUFBRSxTQUFTLHFCQUFxQixvQkFBb0IsMEVBQTBFLG1DQUFtQyw0QkFBNEIsb0NBQW9DLG1DQUFtQyxPQUFPLFdBQVcsTUFBTSxpQkFBaUIsZUFBZSxtQ0FBbUMsRUFBRSxTQUFTLHFDQUFxQyw2Q0FBNkMseUNBQXlDLE9BQU8sV0FBVyxNQUFNLHVCQUF1QixvQkFBb0Isc0NBQXNDLEVBQUUsU0FBUyx1QkFBdUIsc0NBQXNDLGlDQUFpQyxpREFBaUQsb0NBQW9DLHFDQUFxQyxHQUFHLGFBQWEsWUFBWSxXQUFXLHFCQUFxQiwwQ0FBMEMsRUFBRSxTQUFTLElBQUksdUhBQXVILHNLQUFzSyxRQUFRLG9CQUFvQixRQUFRLHNCQUFzQixtbEJBQW1sQixrQkFBa0IsMERBQTBELGtGQUFrRix3Q0FBd0MsRUFBRSw2Q0FBNkMsRUFBRSwrQ0FBK0MsRUFBRSxpREFBaUQsRUFBRSxtQ0FBbUMsRUFBRSwwQ0FBMEMsRUFBRSwyQ0FBMkMsRUFBRSw0Q0FBNEMsRUFBRSxpQ0FBaUMsRUFBRSxpQ0FBaUMsRUFBRSxpQ0FBaUMsRUFBRSxpQ0FBaUMsRUFBRSxzQ0FBc0MsRUFBRSwyQ0FBMkMsRUFBRSw4Q0FBOEMsRUFBRSw2Q0FBNkMsRUFBRSw0Q0FBNEMsT0FBTyxRQUFRLG9CQUFvQixRQUFRLHNCQUFzQiw4YUFBOGEsa0JBQWtCLDRCQUE0Qix3Q0FBd0MsRUFBRSxxQ0FBcUMsRUFBRSxzQ0FBc0MsRUFBRSxvQ0FBb0MsRUFBRSw2Q0FBNkMsRUFBRSwrQ0FBK0MsRUFBRSxnREFBZ0QsRUFBRSx1Q0FBdUMsRUFBRSwyQ0FBMkMsRUFBRSwwQ0FBMEMsRUFBRSx3Q0FBd0MsRUFBRSxzQ0FBc0MsRUFBRSxzQ0FBc0MsRUFBRSxzQ0FBc0MsRUFBRSxzQ0FBc0MsRUFBRSw2Q0FBNkMsRUFBRSw4Q0FBOEMsT0FBTyxRQUFRLDBCQUEwQixxQ0FBcUMsSUFBSSxNQUFNLDBDQUEwQyxlQUFlLHNDQUFzQyxrQkFBa0IscUNBQXFDLFdBQVcsTUFBTSwwREFBMEQsZUFBZSw2Q0FBNkMsaUJBQWlCLCtDQUErQyxFQUFFLFdBQVcsUUFBUSxpQkFBaUIsK0JBQStCLG9DQUFvQyxFQUFFLGtDQUFrQyxFQUFFLDJDQUEyQyw0QkFBNEIsV0FBVyxLQUFLLHNCQUFzQix5Q0FBeUMseUNBQXlDLGlCQUFpQixpREFBaUQsRUFBRSxzQkFBc0IsMkNBQTJDLElBQUkscUJBQXFCLDBDQUEwQyxzRUFBc0Usa0NBQWtDLElBQUksS0FBSyx1REFBdUQsTUFBTSx5Q0FBeUMsVUFBVSxXQUFXLFFBQVEsb0JBQW9CLFFBQVEsc0JBQXNCLGdoQkFBZ2hCLGtCQUFrQiw0QkFBNEIsd0NBQXdDLEVBQUUsdUNBQXVDLElBQUksdVZBQXVWLHcrQkFBdytCLEtBQUssaW9CQUFpb0IsS0FBSywwekVBQTB6RSxtQkFBbUIsVUFBVSxnQ0FBZ0MsaUJBQWlCLE1BQU0sb0JBQW9CLHFCQUFxQixvQkFBb0Isa2lCQUFraUIsS0FBSywyUEFBMlAsbUJBQW1CLFVBQVUsaUJBQWlCLDJCQUEyQixtQ0FBbUMsZUFBZSxTQUFTLG1DQUFtQyxTQUFTLHlCQUF5QixtQ0FBbUMsd0NBQXdDLEVBQUUsd0NBQXdDLEVBQUUsd0NBQXdDLEVBQUUsb0NBQW9DLEVBQUUsb0NBQW9DLEVBQUUsb0NBQW9DLEdBQUcsaUJBQWlCLG9CQUFvQiw4QkFBOEIsY0FBYyxJQUFJLFNBQVMsSUFBSSxLQUFLLFlBQVksSUFBSSxnQ0FBZ0MsU0FBUyxTQUFTLE1BQU0sUUFBUSxXQUFXLHVCQUF1QixJQUFJLGlCQUFpQixTQUFTLFFBQVEsc0JBQXNCLFlBQVkseUZBQXlGLElBQUksS0FBSyxtSkFBbUosMkJBQTJCLGFBQWEscURBQXFELFdBQVcsc0JBQXNCLFdBQVcsZ0NBQWdDLG9CQUFvQixlQUFlLFVBQVUsZ0JBQWdCLFdBQVcsOElBQThJLG9CQUFvQix3Q0FBd0MsV0FBVyxLQUFLLGdCQUFnQixnQkFBZ0IsNkRBQTZELDhFQUE4RSxjQUFjLCtCQUErQixXQUFXLGVBQWUsMkJBQTJCLGlDQUFpQyxxQkFBcUIsMEdBQTBHLEVBQUUsK0JBQStCLG9DQUFvQyxFQUFFLDBDQUEwQyxFQUFFLHNEQUFzRCxPQUFPLFdBQVcsbUJBQW1CLDBDQUEwQyxFQUFFLHNCQUFzQixzQ0FBc0MsS0FBSyxNQUFNLGdCQUFnQixFQUFFLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLG1CQUFtQixFQUFFLHNCQUFzQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLHNCQUFzQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLHFCQUFxQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLG9CQUFvQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHdCQUF3QixFQUFFLHdCQUF3QixFQUFFLDBCQUEwQixFQUFFLHNCQUFzQixFQUFFLHdCQUF3QixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixFQUFF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Q0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBLEtBQUssS0FBd0MsRUFBRSxFQUU3Qzs7QUFFRixRQUFRLHNCQUFpQjtBQUN6Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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QixHQUFyQjtBQUVBMUIsVUFBTSxHQUFHLElBQUl1QixpTEFBSixDQUFXdEQsQ0FBWCxFQUFhLEdBQWIsRUFBaUIsR0FBakIsRUFBcUIsQ0FBckIsRUFBdUIsRUFBdkIsRUFBMEIsRUFBMUIsRUFBNkIsR0FBN0IsQ0FBVDtBQUVBZ0QsV0FBTyxDQUFDaEQsQ0FBRCxFQUFHK0IsTUFBSCxDQUFQOztBQUVBLFFBQUlyQyxpQkFBaUIsS0FBRyxxQkFBeEIsRUFBK0M7QUFDN0NxQyxZQUFNLENBQUNXLFlBQVAsQ0FBb0JDLGdNQUFwQixFQUF3Q3BELGlCQUF4QztBQUNELEtBRkQsTUFHSyxJQUFJRyxpQkFBaUIsS0FBRyxtQkFBeEIsRUFBNkM7QUFDOUNxQyxZQUFNLENBQUNXLFlBQVAsQ0FBb0JFLDhMQUFwQixFQUFzQ3JELGlCQUF0QztBQUNIOztBQUNEd0MsVUFBTSxDQUFDVyxZQUFQLENBQW9CdEIsaUxBQXBCLEVBQTJCNUIsVUFBM0I7QUFDSCxHQWZEOztBQWlCQVEsR0FBQyxDQUFDMEQsSUFBRixHQUFTLFlBQVc7QUFDaEIzQixVQUFNLENBQUM0QixJQUFQO0FBQ0E1QixVQUFNLENBQUMyQixJQUFQO0FBQ0gsR0FIRDtBQUlELEM7Ozs7Ozs7Ozs7OztBQzVNRCxjQUFjLG1CQUFPLENBQUMsa0hBQXNEOztBQUU1RSw0Q0FBNEMsUUFBUzs7QUFFckQ7QUFDQTs7OztBQUlBLGVBQWU7O0FBRWY7QUFDQTs7QUFFQSxhQUFhLG1CQUFPLENBQUMsbUdBQWdEOztBQUVyRTs7QUFFQSxHQUFHLEtBQVUsRUFBRSxFIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2luZGV4LmpzXCIpO1xuIiwiIWZ1bmN0aW9uKHQsQSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9QShyZXF1aXJlKFwicDVcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicDVcIl0sQSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1tcInA1LmJlYWtlclwiXT1BKHJlcXVpcmUoXCJwNVwiKSk6dFtcInA1LmJlYWtlclwiXT1BKHQuXyl9KHdpbmRvdyxmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIEE9e307ZnVuY3Rpb24gaShlKXtpZihBW2VdKXJldHVybiBBW2VdLmV4cG9ydHM7dmFyIG89QVtlXT17aTplLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsaSksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gaS5tPXQsaS5jPUEsaS5kPWZ1bmN0aW9uKHQsQSxlKXtpLm8odCxBKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsQSx7ZW51bWVyYWJsZTohMCxnZXQ6ZX0pfSxpLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0saS50PWZ1bmN0aW9uKHQsQSl7aWYoMSZBJiYodD1pKHQpKSw4JkEpcmV0dXJuIHQ7aWYoNCZBJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoaS5yKGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJkEmJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgbyBpbiB0KWkuZChlLG8sZnVuY3Rpb24oQSl7cmV0dXJuIHRbQV19LmJpbmQobnVsbCxvKSk7cmV0dXJuIGV9LGkubj1mdW5jdGlvbih0KXt2YXIgQT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gaS5kKEEsXCJhXCIsQSksQX0saS5vPWZ1bmN0aW9uKHQsQSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LEEpfSxpLnA9XCJcIixpKGkucz05KX0oWywsLGZ1bmN0aW9uKEEsaSl7QS5leHBvcnRzPXR9LGZ1bmN0aW9uKHQsQSl7dC5leHBvcnRzPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFWY0FBQUZDQ0FZQUFBQkZLcDR3QUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBQUNYQklXWE1BQUM0akFBQXVJd0Y0cFQ5MkFBQUFCM1JKVFVVSDRnb1RFQ1l3Wm1YZ0FRQUFEekZKUkVGVWVOcnQzVzFURSttZXdPRi9kNTRKRUFRY09iTTQ0Z2lpVmJ0YnUxWDcvVC9BdnBnNkwvWWNoNEVaQjVYUkVaRVFKU1FoU2U4TGxHUHpNRHdJaW5CZFZWTldtcGhBdy95NDdiNzc3aVJPWVRBWVpGbVdCY0JObGlSSkZBcUY1RlRQUFNxYTNXNDMyOWpZaUZhckZaMU9Kd2FEZ2IwS0VCSEZZakdxMVdxTWpvN0c1T1JrMUdxMTVNUzREb2ZEYkcxdExkYlgxOE5JRmVCa1UxTlRNVHM3RzhWaU1Ua3lycnU3dTluS3lrcTAyMjE3QytBTUtwVkt6TS9QUjdWYVRYSnhIUTZIMmRMUzByRmhUZE0wa2lTeEI0RWI3VU12anczc28wZVA5a2V3U1pabDhlTEZpK3pQUC8vTVBiRmFyY2JNekV3MEdvMG9Gb3YyS2tCRTlIcTkyTjdlamxldlhoMGFrRTVNVE1TREJ3K1NpSWhpcjlmTFhyOStuWHRDbzlHSUgzLzhNZEkwdFNjQlBsRXVsNk5jTHNmRXhFU3NycTdHeHNiRy9zZWF6V2E4ZS9jdUd4c2JTOUtOalkzY3lhdEtwU0tzQUNkSWtpVHUzYnNYbzZPanVlMXYzcnlKaUlpMDFXcmxQakF6TXlPc0FLY003T3pzYkc3YjF0WldaRm1XcGQxdU4vZUI4ZkZ4ZXd6Z2xPcjFldTY4MUdBd2lINi9IMm0vMzg4OXNWUXEyVnNBWjNDd20vMStQOUpDb1hCb0l3Q25kN0NieFdJeDBrcWxrdHY0N3QwN2V3cmdsTnJ0ZHV6dTd1NC9UdE4wTDY0SGo3RytmUG55MkVteUFPU3RyYTNsSG8rUGowZVNKRWs2T1RtWnUvcXEwK25FMDZkUEJSYmdCTStlUFl1RE02Nm1wNmYzUnJEVmFqWDUrT0NqWnJNWlMwdEwwV3ExTE9BQ2NNU2hnRjkrK1NYVzE5Y1BqVm9iamNhL0xuOGREb2ZaenovL0hEczdPNGRlSkUxVE13Z0FQdmc0MWVxZ2Nya2NqeDQ5aWxLcDlLKzRSa1QwZXIxc1pXWGx5TUFDY0x4eXVSd0xDd3VIVjhYNnBNalo4K2ZQYzlmS0FuQzg4Zkh4bUp1YjJ4K3hIaG5YVDQ0blpPdnI2N0cxdFpXYllnREFuckd4c1ppWm1Zbng4ZkdUNzBSd2xPRndtSjBVMkoyZG5TTm5HRFFhamJoNzk2N3ZBdkROVzExZHpWMEhNRDgvdjMveTZpZ25MdFNhcG1seThFS0RneXFWU2p4OCtEQmJXVm5KSGVqZDJ0cUtRcUVRYzNOekZ0c0d2bWxuWGREcXdwYS9xdGZyeWNMQ3dxR0Z0ZCsrZlJ1Ly92cXJlYlBBellyeFJiN1l5TWhJc3JpNEdPVnlPYmQ5YTJzclZsWlczRVVXRU5menFsYXJ5ZUxpWWh5MVpzSHk4cktGWVFCeFBhOXl1WndzTGk1R3JWYkxiZC9lM2haWVFGdy9SNmxVU2hZWEY2TmVyK2UydDl2dFdGcGFpbDZ2Wis4RDRub2VoVUloZWZqd1lZeU5qZVcyZHpxZFdGcGFpb04zUVFBUTE5TytRWm9tOC9QemgyNGYwK3YxWW1scHllVzJnTGgrYm1CdjNicVYyNzY3dXh0TFMwdXh2YjN0T3dHSTYza2tTWkxjdjM4L3BxYW1jdHNIZzBFc0x5Kzd6QmE0Vm9xbmVkSndPTHlvZFYyVHUzZnZScUZReUY2L2ZwMExiS3ZWT2hSZWdHc1YxMjYzR3hzYkc5RnF0YUxUNlZ6RzVQOWtZbUlpYXphYit4c3N5ZzE4YTNaMmRnNU5PVDB5cnNQaE1OYlcxbUo5ZmYzU1kzZndNdG1qL1BKbko5cTkwMTAyV3k0bVVTNm1FVmtXKzU5NUZ2SHBWNUVkdGUzRDE1bnRQLzZ3TDdLSXdWRHd1VnpkdnN2Q3Y3Wks4ZkRSMFpsR0tXYkdUNzVKd0QvLytjK1ltcHFLMmRuWlEwM2JmN1M3dXhzckt5dlJicmV2ekJmZEd3eFAvY05YS1JhaVdrd2l5NUxJSW92c1EwVC85V2UySDg5UHQzOE1hNUo3bk1WZzZBY2ZidW92dVA3ZzlBT3JqWTJOZVAvK2ZjelB6MGUxV3MzSGRUZ2MvbVZZMHpTMXFoWEFjWUh1ZG1ObFpTVWVQWHEwUDRJdFJrVDg4Y2NmaDhKYXJWWmpabVltR28zR3FmNEpmMWFycTZ1K0k4QzFDdXpxNm1vOGVQQmdiMURhNi9YaTB6UDNFWHVMWEQ5Ky9EaW1wcVl1SmF3QTE4SEJHVTdOWm5OL1FlMTBZMk1qZC9LcVVxbkVqei8rZU9hRllRRnVtbnYzN3NYbzZHaHUyNXMzYi9iaTJtcTFjaCtZbVprUlZvQlRTSklrWm1kbmM5dTJ0cllpeTdKSUR5NmVjbkFOQUFDT1Y2L1hjNGRQQjROQjlQdjlTQSt1clZvcWxld3RnRE00Mk0xK3Z4OXBvVkE0dEJHQTB6dll6V0t4R09sUnQyTUI0SFRhN1hadTRhazBUZmZpZXZBWTY4dVhMOTJwRmVDVTF0Yldjby9IeDhjalNaSklKeWNuYzFkZmRUcWRlUHIwcWNBQ25PRFpzMmR4Y01iVjlQVDAzZ2kyV3EzdVAvaW8yV3pHMHRKU3RGb3RxMVVCSEdOOWZmM1FxTFhSYUVURWg4dGZaMmRuNC8zNzk3bGJyclRiN1ZoZVhvNDBUUzlsQnNIQisyb0JmTXZLNVhMTXpjM3RQeTVHN0IyQW5aK2ZqNVdWbFVQM3RCb09oNWR5STBGeEJhNVRXQmNXRm5JRDBmVFREeTR1THJvYkFNQVpqSStQeDZOSGozTExEZTZQWEQ4cUZBb3hOemNYMzMzM1hheXZyOGZXMXBaN1d3RWNZMkZoNGRpcldvOWM4bXBrWkNUdTNidTNmMWpncE1EdTdPd2NPY09nMFdqRTNidDNqL3c3cjE2OThwMEJ2dmxSNjNGT1hFOHdUZE00ZUtIQlFaVktKUjQrZkJnckt5dTVLeFcydHJiMlI4TVcyd1p1a2d0Yi9xcGVyOGZDd3NLaDlWL2Z2bjBidi83NnEzbXpnTGllMThqSVNDd3VMa2E1WE01dDM5cmFpcFdWbGN1NGl5ekE5WTlyeE43dFlSWVhGK09vTlF1V2w1Y3REQU9JNjNsOW5OWjE4SDdlMjl2YkFndUk2K2NvbFVxeHVMZ1k5WG85dDczZGJzZlMwcEk5RDRqcmVSVUtoWGo0OE9HaHE3RTZuWTQ5RDRqclo3M0JoMHRyM1Q0R0VOZExDdXl0Vzdmc2NVQmNMMUtTSkhILy9uMXJGd0EzUXZGTHZsbVNKREUzTnhlRlFzRkZCWUNSNjBVN2JyMEJBSEVGUUZ3QnhCVkFYQUVRVndCeEJSQlhBTVFWUUZ3QnhCVkFYQUVRVndCeEJSQlhBTVFWUUZ3QnhCVUFjUVVRVndCeEJVQmNBY1FWUUZ3QkVGY0FjUVVRVndERUZVQmNBY1FWQUhFRkVGY0FjUVZBWEFIRUZVQmNBUkJYQUhFRkVGY0F4QlZBWEFIRUZVQmNBUkJYQUhFRkVGY0F4QlZBWEFIRUZRQnhCUkJYQUhFRlFGd0J4QlZBWEFFUVZ3QnhCUkJYQU1RVlFGd0J4QlVBY1FVUVZ3QnhCVUJjQWNRVlFGd0JFRmNBY1FVUVZ3QnhCVUJjQWNRVlFGd0JFRmNBY1FVUVZ3REVGVUJjQWNRVkFIRUZFRmNBY1FWQVhBSEVGVUJjQVJCWEFIRUZFRmNBeEJWQVhBSEVGUUJ4QlJCWEFIRUZRRndCeEJWQVhBSEVGUUJ4QlJCWEFIRUZRRndCeEJWQVhBRVFWd0J4QlJCWEFNUVZRRndCeEJVQWNRVVFWd0J4QlVCY0FjUVZRRndCRUZjQWNRVVFWd0RFRlVCY0FjUVZBSEVGRUZjQWNRVVFWd0RFRlVCY0FjUVZBSEVGRUZjQWNRVkFYQUhFRlVCY0FSQlhBSEVGRUZjQXhCVkFYQUhFRlFCeEJSQlhBSEVGUUZ3QnhCVkFYQUVRVndCeEJSQlhBTVFWUUZ3QnhCVkFYTzBDQUhFRkVGY0FjUVZBWEFIRUZVQmNBUkJYQUhFRkVGY0F4QlZBWEFIRUZRQnhCUkJYQUhFRlFGd0J4QlZBWEFFUVZ3QnhCUkJYQU1RVlFGd0J4QlVBY1FVUVZ3QnhCVUJjQWNRVlFGd0J4QlVBY1FVUVZ3QnhCVUJjQWNRVlFGd0JFRmNBY1FVUVZ3REVGVUJjQWNRVkFIRUZFRmNBY1FWQVhBSEVGVUJjQVJCWEFIRUZFRmNBeEJWQVhBSEVGUUJ4QlJCWEFIRUZFRmNBeEJWQVhBSEVGUUJ4QlJCWEFIRzFZeEw3QUJEWEM1ZUlLeUN1UnErQXVINURvMWQxQmNUMXdoVzBGUkRYUzlnNWpnc0E0bm9aaHdVaVVvY0dnSnNjMSt5U1hyZm8xdzlnNUhvNWh3WU1Yb0ViRzlmaE1MdTAxeTQ2OWdyYzFMZ09McSt0VVVnVGMxNkJteG5YM2N1c3E5RXJjR05IcnNNc0JwZDRhQ0JKQkJhNGdYR05pT2owTDNmMG1pWjdod2lBNiswaVRtSmY2YmllZFk3cFRtLzRCVDRuYXc3QXRSOTFYdis0bnUzNTNmNHcrc1BzQzN4ZVRuREI5WTdyNS84UGZxWGpXanJIeGYzdnU0TXY5TThHZ1lYcnFsUzQ1bkV0bitQeXFIWnZHTDErOW9VK1F4Y1l3SFZVTGw3enVJNlV6dmZwTlhjR01maENmVTArL0FkY0g3WFM1NmZ4cThYMTRGcXBXWGE0aHZYSytUNjl3VENMdDl2OVM1MmFCVnpmc0Y3RXJLQ3ZGdGRDb1pBUDR1RHdzZEpxS1kxSzhmeUIzZGp1UjJkMzZLY0ZPTFh4V3VISTdjTmh2aVZwbW42N2NZMkltQmdwblBzOXNpeWkxUm5FNW5ZL3V2MHNNZ05aNEFTM1JvcW5pdXRKZHlvcGZxMHZvRmpNdjNXLzN6L3llWGZHU3ZGbmEvZXozcXMvek9KZFp4Qko3SjBGTEJTU0QvTlY5M1pPRW50TEZtWlpSQmJaaHo5amZ4M0RqNDhQdDFtdDRUcXBGSk5vSEROeTNkM05kNmhVS2wzTnVCNGN1UjRYMTFvNWpZbGFJWm83bnovRktvdUkzaUNMTDNhMkMvaW0vSzFSUHVaZndkbVo0L3JWRGd1VXkva3ZZbWRuNTlqbjNwMnNtUElFWEtwcUtZM3Z4bzRPWnFmVHlaMTBMNVZLOGU3ZHUrUkt4clZXcStXT1dYUzczV05IcnlQbE5QNXRvdXk3RDF5S0pJbDRjUHY0UWR6MjluYStTU01qSjc3bVY0dnI4K2ZQazFxdGx0dldhcldPZmY3M2pYSk0xb3QrQ29BTGQzK3FFcU9WNDArZUgyeFR2VjYvdW5HTmlCZ2ZIODg5ZnZ2MjdWLytacG0vWFJWWTRFSkhyUGVuSzNGNzdQampwNFBCSUxhMnRuTGJHbzNHMVk3cnJWdTNEdjEyNkhRNmY3a2pGcjZyeHR4VXhYWDl3R2VwbHRKNFBGTTc5ampyUjIvZXZNbE53NnBVS3ZIa3laTVRDL1JWNC9ya3laUGswMk1YV1piRjJ0cmFpWC92em5ncC9uTjJKTzZNbDBRV09KTlNJWWtmSml2eEgvODJFbVBWdjU1SDMrLzM0OVdyVjdsdDA5UFRwM3Fmcjc2MndNek1UTzV4czluOHk4TUQrNzg5aW1uTVRWWGl2KzdXNC81MEpXNk5GQzlrbVREZytpa1hrN2c5V29xSGQ2cngzM2ZyOGJmRzZRWm16NTQ5eTUxb0x4UUtjZnYyN1ZPOTUxYy9nUG5iYjc4bDlYbzkrL1JzM09ycWFwVEw1UmdkSFQzVmI2SHZ4a3I3US90dWZ4Zzd1MW4wUHF6dE9oeUdLN1BnSmtraWltbEVxWkJHcVpERVNEazkxeEtDZi96eFIyeHViaDRhRFA3OTczOC8xWXRkaWJORGMzTno4ZVRKay8zakdzUGhNSmFYbCtQZXZYc3hPVGw1cHRlcUZOT29GQ01pQ243SWdETWJEb2Z4NHNXTFdGOWZ6MjJ2MSt0eDU4NmRVeDI2dkJLSEJTSWkvdkdQZnlRLy9QRERvUy93NmRPbjhkdHZ2MFczMi9VZEJ5NWRxOVdLbjMvKytWQllpOFZpM0w5L1AzNzY2YWRURDRHdnpMeW1MTXVTMmRuWjdNV0xGN250bTV1YjBXdzJvOUZveE5UVVZJeU5qUjI2ZEJiZ3ZIcTlYalNiemRqWTJJaDJ1MzNvNDRWQ0llYm41K1A1OCtkbk9yWndwU2FOM3Jsekp5a1dpOW16Wjg5eVV4K3lMSXRtc3huTlpqT1NKSWxxdFJxMVdpMHFsVW9VaThWSTAxUndnWk1HY0RFY0RtTXdHTVR1N201MHU5MW90OXZSNi9XTy9UdVZTaVhtNStlaldxMmUrYUR0bFp1UlB6VTFsWXlNakdTLy8vNzdrYjlGc2l5TG5aMmR2MXlMQU9CelRVOVB4K3pzYkJRSzU3dWgxcFc4M0tsV3F5V1BIeitPemMzTjdPWExsMElLZkJGSmtrU2owWWp2di84K2FyWGFaODN0dk5MWGtxN3RWSkx0MmcveDcvZVNiSE56TTFxdGx0QUNGeDdVMGRIUmFEUWFNVGs1R1QrOTZDYVZUaUZtYTUvM3V0L0VoZnIvOXpwTElpWWlhaFB4UDR1MXJOMXVSN2ZialY2dkYvMStQN0lzTy9aT0JnQWZGUXFGU05NMFNxVlNsTXZsL2ZNMy8vdjdkckxaanZpOWZYRXprLzRmeXZXN1ZwOThUc1lBQUFBQVNVVk9SSzVDWUlJPVwifSxmdW5jdGlvbih0LEEpe3QuZXhwb3J0cz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRWdBQUFEZ0NBWUFBQUNnb2lERUFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFDNGpBQUF1SXdGNHBUOTJBQUFBQjNSSlRVVUg0Z29URHpjWllIUy9NQUFBQVVkSlJFRlVlTnJ0MjdFS0FDQUlRTUhxLy8vWnRvU1FacUY3WStPaGJjNmhVMFRFL2Jhd3ZBTUVDQkFnUUlBQUFRSWtRSUFBQVFJRUNCQWdBUUlFQ0JBZ1FJQUFDUkFnUUlBQUFRSUVDSkFBQVFJRUNCQWdRSUFFQ0JBZ1FJQUFBZnFpV1owaHlnUUJBZ1NveVNlTklITTNiOFVBQVFJRUNCQWdBUUlFQ0JBZ1FJQUFDUkFnUUlBQUFRSUVDSkFBQVFJRUNCQWdRSUFFQ0JBZ1FJQUFBUUlrUUlBQUFRSUVDQkFnUUtwek4yK0NBQUVDMVBtVFJwQzVtN2RpZ0FBQkFnUUlrQUFCQWdRSUVDQkFnQVFJRUNCQWdBQUJBZ1JJZ0FBQkFnUUlFQ0JBQWdRSUVDQkFnQUFCRWlCQWdBQUJBZ1FJRUNEVnVaczNRWUFBQWVyOFNTUEkzTTFiTVVDQUFBRUNCRWlBQUFFQ0JBZ1FJRUFDQkFnUUlFQ0FBQUVDSkVDQUFBRUNCQWdRSUFFQ0JBZ1FJRUNBQUFrUUlFQ0FBQUVDQkFpUTZ0ek5teUJBZ0FBMWJnTlp1U0dad1cyVFlRQUFBQUJKUlU1RXJrSmdnZz09XCJ9LCwsLGZ1bmN0aW9uKHQsQSxpKXtcInVzZSBzdHJpY3RcIjtpLnIoQSksaS5kKEEsXCJkZWZhdWx0XCIsZnVuY3Rpb24oKXtyZXR1cm4gY30pO3ZhciBlPWkoMyksbz1pKDQpLHI9aS5uKG8pLG49aSg1KSxzPWkubihuKTtmdW5jdGlvbiBjKHQsQT0xMDAsaT0xMDAsZT0wLG89MCxyPW51bGwsbj1udWxsKXt0aGlzLnA9dCx0aGlzLng9ZSx0aGlzLnk9byx0aGlzLmZnX3g9ZSsyNTAsdGhpcy5mZ195PW8rMzAsdGhpcy5hbGxfcGFydGljbGVfc3ByaXRlcz1uZXcgdGhpcy5wLkdyb3VwLHRoaXMucGFydGljbGVzPXt9LHRoaXMuc29sdXRpb249e30sdGhpcy5zb2x1dGlvbi54PW51bGw9PT1yP2U6cix0aGlzLnNvbHV0aW9uLnk9bnVsbD09PW4/bzpuLHRoaXMuc29sdXRpb24ud2lkdGg9QSx0aGlzLnNvbHV0aW9uLmhlaWdodD1pLHRoaXMuc29sdXRpb24ubWF4X3g9dGhpcy5zb2x1dGlvbi54K3RoaXMuc29sdXRpb24ud2lkdGgsdGhpcy5zb2x1dGlvbi5tYXhfeT10aGlzLnNvbHV0aW9uLnkrdGhpcy5zb2x1dGlvbi5oZWlnaHR9Yy5wcm90b3R5cGUuYmdfaW1hZ2VfcGF0aD1yLmEsYy5wcm90b3R5cGUuZmdfaW1hZ2VfcGF0aD1zLmEsYy5wcm90b3R5cGUucHJlbG9hZD1mdW5jdGlvbih0KXt0aGlzLmJhY2tncm91bmQ9dC5sb2FkSW1hZ2UodGhpcy5iZ19pbWFnZV9wYXRoKSx0aGlzLmZvcmVncm91bmQ9dC5sb2FkSW1hZ2UodGhpcy5mZ19pbWFnZV9wYXRoKX0sYy5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMucDt0LmltYWdlKHRoaXMuYmFja2dyb3VuZCx0aGlzLngsdGhpcy55KSxlLnByb3RvdHlwZS5kcmF3U3ByaXRlcyh0aGlzLmFsbF9wYXJ0aWNsZV9zcHJpdGVzKSx0LmltYWdlKHRoaXMuZm9yZWdyb3VuZCx0aGlzLmZnX3gsdGhpcy5mZ195KX0sYy5wcm90b3R5cGUucmFuZG9tUG9pbnQ9ZnVuY3Rpb24odCl7aWYoMip0Pj10aGlzLnNvbHV0aW9uLndpZHRofHwyKnQ+PXRoaXMuc29sdXRpb24uaGVpZ2h0KXJldHVybiBudWxsO3ZhciBBPXRoaXMuc29sdXRpb24ueCt0LGk9dGhpcy5zb2x1dGlvbi55K3QsZT10aGlzLnNvbHV0aW9uLndpZHRoLTIqdCxvPXRoaXMuc29sdXRpb24uaGVpZ2h0LTIqdDtyZXR1cm57eDpBK01hdGgucmFuZG9tKCkqZSx5OmkrTWF0aC5yYW5kb20oKSpvfX0sYy5wcm90b3R5cGUuYWRkUGFydGljbGVzPWZ1bmN0aW9uKHQsQSl7dmFyIGk9dGhpcy5wLGU9dC5wcm90b3R5cGUubmFtZTt0aGlzLmluaXRQYXJ0aWNsZUdyb3VwKGUpO2Zvcih2YXIgbz0wO288QTtvKyspe3ZhciByPXQucHJvdG90eXBlLmNvbGxpZGVyX3JhZGl1cyxuPXRoaXMucmFuZG9tUG9pbnQocik7aWYobil7dmFyIHM9bmV3IHQoaSxuLngsbi55KTt0aGlzLmFkZFBhcnRpY2xlKGUscyl9fX0sYy5wcm90b3R5cGUuYWRkUGFydGljbGU9ZnVuY3Rpb24odCxBKXt0aGlzLnBhcnRpY2xlc1t0XS5zcHJpdGVzLmFkZChBLnNwcml0ZSksdGhpcy5hbGxfcGFydGljbGVfc3ByaXRlcy5hZGQoQS5zcHJpdGUpfSxjLnByb3RvdHlwZS5yZW1vdmVQYXJ0aWNsZXM9ZnVuY3Rpb24odCxBKXt2YXIgaT10Lm5hbWUsZT10aGlzLnBhcnRpY2xlc1tpXS5zcHJpdGVzLnNpemUoKTtlPEEmJihBPWUpO2Zvcih2YXIgbz1BO28+MDtvLS0pe3ZhciByPXRoaXMucGFydGljbGVzW2ldLnNwcml0ZXMuZ2V0KG8tMSk7ci5wYXJ0aWNsZS5yZW1vdmUoKSxkZWxldGUgci5wYXJ0aWNsZX19LGMucHJvdG90eXBlLmluaXRQYXJ0aWNsZUdyb3VwPWZ1bmN0aW9uKHQpe3ZhciBBPXRoaXMucDt0aGlzLnBhcnRpY2xlc1t0XXx8KHRoaXMucGFydGljbGVzW3RdPXt9LHRoaXMucGFydGljbGVzW3RdLnNwcml0ZXM9bmV3IEEuR3JvdXApfSxjLnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVfcGFydGljbGVzKCl9LGMucHJvdG90eXBlLnVwZGF0ZV9wYXJ0aWNsZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zb2x1dGlvbi54LEE9dGhpcy5zb2x1dGlvbi5tYXhfeCxpPXRoaXMuc29sdXRpb24ueSxlPXRoaXMuc29sdXRpb24ubWF4X3ksbz10aGlzLmFsbF9wYXJ0aWNsZV9zcHJpdGVzLHI9MDtyPG8ubGVuZ3RoO3IrKyl7dmFyIG49b1tyXSxzPW4ucGFydGljbGU7dGhpcy5zcHJpdGVfYm91bmRhcnlfdXBkYXRlKG4sdCxpLEEsZSksdGhpcy5zcHJpdGVfcmVzb2x2ZV9jb2xsaXNpb25zKG4scy5yZWFjdHNfd2l0aCkscy51cGRhdGUoKX19LGMucHJvdG90eXBlLnNwcml0ZV9ib3VuZGFyeV91cGRhdGU9ZnVuY3Rpb24odCxBLGksZSxvKXt0Lm92ZXJsYXBQb2ludChBLHQucG9zaXRpb24ueSk/dC52ZWxvY2l0eS54PU1hdGguYWJzKHQudmVsb2NpdHkueCk6dC5vdmVybGFwUG9pbnQoZSx0LnBvc2l0aW9uLnkpJiYodC52ZWxvY2l0eS54PS1NYXRoLmFicyh0LnZlbG9jaXR5LngpKSx0Lm92ZXJsYXBQb2ludCh0LnBvc2l0aW9uLngsaSk/dC52ZWxvY2l0eS55PU1hdGguYWJzKHQudmVsb2NpdHkueSk6dC5vdmVybGFwUG9pbnQodC5wb3NpdGlvbi54LG8pJiYodC52ZWxvY2l0eS55PS1NYXRoLmFicyh0LnZlbG9jaXR5LnkpKX0sYy5wcm90b3R5cGUuc3ByaXRlX3Jlc29sdmVfY29sbGlzaW9ucz1mdW5jdGlvbih0LEEpe3ZhciBpPXRoaXMucGFydGljbGVzO2Zvcih2YXIgZSBpbiBPYmplY3Qua2V5cyhBKSl7dmFyIG89T2JqZWN0LmtleXMoQSlbZV0scj1pW29dO3ImJnQub3ZlcmxhcChyLnNwcml0ZXMsQVtvXSl9fX1dKX0pOyIsIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHNbXCJwNS5iZWFrZXJcIl09dCgpOmVbXCJwNS5iZWFrZXJcIl09dCgpfSh3aW5kb3csZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihvKXtpZih0W29dKXJldHVybiB0W29dLmV4cG9ydHM7dmFyIGk9dFtvXT17aTpvLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbb10uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsciksaS5sPSEwLGkuZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5kPWZ1bmN0aW9uKGUsdCxvKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6b30pfSxyLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1yKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBvPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKG8pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgaSBpbiBlKXIuZChvLGksZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxpKSk7cmV0dXJuIG99LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsXCJhXCIsdCksdH0sci5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxyLnA9XCJcIixyKHIucz0xKX0oW2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdD0wLHI9MCl7dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwiUGFydGljbGVcIixcInByZVwiLHRoaXMpLHRoaXMucD1lLHRoaXMuY3JlYXRlU3ByaXRlKHQsciksdGhpcy5jbGVhbnVwcz17fSx0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJQYXJ0aWNsZVwiLFwicG9zdFwiLHRoaXMpfXIuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KSxvLnByb3RvdHlwZS5jb2xsaWRlcl9vZmZzZXRfeD0wLG8ucHJvdG90eXBlLmNvbGxpZGVyX29mZnNldF95PTAsby5wcm90b3R5cGUuY29sbGlkZXJfcmFkaXVzPTEsby5wcm90b3R5cGUuaW1hZ2VfcGF0aD1udWxsLG8ucHJvdG90eXBlLm1heF92ZWxvY2l0eT0wLG8ucHJvdG90eXBlLm5hbWU9XCJQYXJ0aWNsZVwiLG8ucHJvdG90eXBlLnJlYWN0c193aXRoPXt9LG8ucHJvdG90eXBlLmNhbGxiYWNrcz17fSxvLnByb3RvdHlwZS5yZWdpc3Rlcl9jYWxsYmFjaz1mdW5jdGlvbihlLHQscil7bnVsbD09dGhpcy5jYWxsYmFja3NbZV0mJih0aGlzLmNhbGxiYWNrc1tlXT17fSksdGhpcy5jYWxsYmFja3NbZV1bdF09cn0sby5wcm90b3R5cGUuZXhlY3V0ZV9jYWxsYmFjaz1mdW5jdGlvbihlLHQscil7dmFyIG89dGhpcy5jYWxsYmFja3NbZV07byYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb1t0XSYmb1t0XShyKX0sby5wcm90b3R5cGUucHJlbG9hZD1mdW5jdGlvbihlKXt0aGlzLmltYWdlPWUubG9hZEltYWdlKHRoaXMuaW1hZ2VfcGF0aCl9LG8ucHJvdG90eXBlLmNyZWF0ZVNwcml0ZT1mdW5jdGlvbihlPTAsdD0wKXt2YXIgcj10aGlzLnA7ciYmKHRoaXMuc3ByaXRlPXIuY3JlYXRlU3ByaXRlKGUsdCksbnVsbCE9dGhpcy5pbWFnZSYmdGhpcy5zcHJpdGUuYWRkSW1hZ2UoXCJkZWZhdWx0XCIsdGhpcy5pbWFnZSksdGhpcy5zcHJpdGUuc2V0Q29sbGlkZXIoXCJjaXJjbGVcIix0aGlzLmNvbGxpZGVyX29mZnNldF94LHRoaXMuY29sbGlkZXJfb2Zmc2V0X3ksdGhpcy5jb2xsaWRlcl9yYWRpdXMpLHRoaXMuc3ByaXRlLnZlbG9jaXR5Lng9dGhpcy5yYW5kb21WZWxvY2l0eSgpLHRoaXMuc3ByaXRlLnZlbG9jaXR5Lnk9dGhpcy5yYW5kb21WZWxvY2l0eSgpLHRoaXMuc3ByaXRlLnBhcnRpY2xlPXRoaXMpfSxvLnByb3RvdHlwZS5yYW5kb21WZWxvY2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heF92ZWxvY2l0eS0yKk1hdGgucmFuZG9tKCkqdGhpcy5tYXhfdmVsb2NpdHl9LG8ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZXhlY3V0ZV9jYWxsYmFjayhcInJlbW92ZVwiLFwicHJlXCIsdGhpcyk7dmFyIGU9dGhpcy5jbGVhbnVwcztmb3IodmFyIHQgaW4gT2JqZWN0LmtleXMoZSkpe2VbT2JqZWN0LmtleXMoZSlbdF1dKHRoaXMpfXRoaXMuc3ByaXRlLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLnNwcml0ZSx0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJyZW1vdmVcIixcInBvc3RcIix0aGlzKX0sby5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwidXBkYXRlXCIsXCJwcmVcIix0aGlzKSx0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJ1cGRhdGVcIixcInBvc3RcIix0aGlzKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLnIodCksci5kKHQsXCJkZWZhdWx0XCIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pO3ZhciBvPXIoMCksaT1yKDIpLGE9ci5uKGkpO2Z1bmN0aW9uIHAoZSx0PTAscj0wKXtvLmEuY2FsbCh0aGlzLGUpLHRoaXMuY3JlYXRlU3ByaXRlKHQsciksdGhpcy5wcm90b249e30sdGhpcy5wcm90b24ucGFydGljbGU9bnVsbCx0aGlzLnByb3Rvbi5vZmZzZXRfeD0xMCx0aGlzLnByb3Rvbi5vZmZzZXRfeT0tMTAsdGhpcy5wcm90b24ucmVzdG9yZV9kZXB0aD1udWxsLHRoaXMucHJvdG9uLnJlbGVhc2VfYWZ0ZXJfcmFuZ2U9WzAsNWUzXSx0aGlzLnByb3Rvbi5wb3N0X3JlbGVhc2VfZHVyYXRpb249NzUwLHRoaXMucHJvdG9uLnJlbGVhc2VfYWZ0ZXI9bnVsbH1wLnByb3RvdHlwZT1uZXcgby5hLHAucHJvdG90eXBlLmNvbGxpZGVyX3JhZGl1cz0xNixwLnByb3RvdHlwZS5pbWFnZV9wYXRoPWEuYSxwLnByb3RvdHlwZS5tYXhfdmVsb2NpdHk9LjUscC5wcm90b3R5cGUubmFtZT1cIkNvbmp1Z2F0ZUJhc2VcIixwLnByb3RvdHlwZS5yZWFjdHNfd2l0aD17UHJvdG9uOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5wYXJ0aWNsZSxvPXQucGFydGljbGU7by5iYXNlLnBhcnRpY2xlfHxyLnByb3Rvbi5wYXJ0aWNsZXx8KHAucHJvdG90eXBlLmV4ZWN1dGVfY2FsbGJhY2soXCJyZWFjdHNfd2l0aF9wcm90b25cIixcInByZVwiLHIpLHIucHJvdG9uLnJlbGVhc2VfYWZ0ZXI9RGF0ZS5ub3coKStyLnByb3Rvbi5yZWxlYXNlX2FmdGVyX3JhbmdlWzBdK3IucHJvdG9uLnJlbGVhc2VfYWZ0ZXJfcmFuZ2VbMV0qTWF0aC5yYW5kb20oKSxyLnByb3Rvbi5wYXJ0aWNsZT1vLG8uYmFzZS5wYXJ0aWNsZT1yLHIucHJvdG9uLnJlc3RvcmVfZGVwdGg9dC5kZXB0aCx0LmRlcHRoPWUuZGVwdGgrLjUsby5jbGVhbnVwcy5Db25qdWdhdGVCYXNlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYmFzZS5wYXJ0aWNsZTt0JiZ0LnJlbGVhc2VfcHJvdG9uKCl9LHAucHJvdG90eXBlLmV4ZWN1dGVfY2FsbGJhY2soXCJyZWFjdHNfd2l0aF9wcm90b25cIixcInBvc3RcIixyKSl9fSxwLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJyZW1vdmVcIixcInByZVwiLHRoaXMpO3ZhciBlPXRoaXMuY2xlYW51cHM7Zm9yKHZhciB0IGluIE9iamVjdC5rZXlzKGUpKXtlW09iamVjdC5rZXlzKGUpW3RdXSh0aGlzKX10aGlzLnJlbGVhc2VfcHJvdG9uKCksdGhpcy5zcHJpdGUucmVtb3ZlKCksZGVsZXRlIHRoaXMucGFydGljbGUsdGhpcy5leGVjdXRlX2NhbGxiYWNrKFwicmVtb3ZlXCIsXCJwb3N0XCIsdGhpcyl9LHAucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuZXhlY3V0ZV9jYWxsYmFjayhcInVwZGF0ZVwiLFwicHJlXCIsdGhpcyk7dmFyIGU9dGhpcy5wcm90b247aWYoZS5yZWxlYXNlX2FmdGVyKXt2YXIgdD1EYXRlLm5vdygpO2lmKHQ8ZS5yZWxlYXNlX2FmdGVyKXt2YXIgcj1lLnBhcnRpY2xlLnNwcml0ZSxvPXRoaXMuc3ByaXRlO3IucG9zaXRpb24ueD1vLnBvc2l0aW9uLngrdGhpcy5wcm90b24ub2Zmc2V0X3gsci5wb3NpdGlvbi55PW8ucG9zaXRpb24ueSt0aGlzLnByb3Rvbi5vZmZzZXRfeX1lbHNlIHQ8ZS5yZWxlYXNlX2FmdGVyK2UucG9zdF9yZWxlYXNlX2R1cmF0aW9ufHx0aGlzLnJlbGVhc2VfcHJvdG9uKCl9dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwidXBkYXRlXCIsXCJwb3N0XCIsdGhpcyl9LHAucHJvdG90eXBlLnJlbGVhc2VfcHJvdG9uPWZ1bmN0aW9uKCl7dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwicmVsZWFzZV9wcm90b25cIixcInByZVwiLHRoaXMpO3ZhciBlPXRoaXMucHJvdG9uO2UucmVsZWFzZV9hZnRlciYmKGRlbGV0ZSBlLnBhcnRpY2xlLmNsZWFudXBzLkNvbmp1Z2F0ZUJhc2UsZS5wYXJ0aWNsZS5zcHJpdGUuZGVwdGg9ZS5yZXN0b3JlX2RlcHRoLGUucmVzdG9yZV9kZXB0aD1udWxsLGUucmVsZWFzZV9hZnRlcj1udWxsLGUucGFydGljbGUuYmFzZS5wYXJ0aWNsZT1udWxsLGUucGFydGljbGU9bnVsbCksdGhpcy5leGVjdXRlX2NhbGxiYWNrKFwicmVsZWFzZV9wcm90b25cIixcInBvc3RcIix0aGlzKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQUFsd1NGbHpBQUFkMFFBQUhkRUJ1ZFBnWFFBQUFCbDBSVmgwVTI5bWRIZGhjbVVBZDNkM0xtbHVhM05qWVhCbExtOXlaNXZ1UEJvQUFBT1ZTVVJCVkZpRnJaYlBhMXhWRk1lLzk4eExtSUJHR0toZEtGMlUrb05rSWNVeUlORjJuWVZqM0FYR2xTbGtsWTBZeEs1bTAyNDBJb0YwcGhNSy9nT2xqUWpaMmpZa2tEQUd3WWhTZEtHSVJDeElrV1RlL1hHT20vZkdPNi8zemJ3bWMrRHc3cnRjN3ZkenpybS9GQXJhK3ZyNldXWitUMFF1SzZYT0F6aWJPQUFjQWpoazVsK05NZmZqT041WVhsNytxOGk4YXRpQVZxdDFTU24xS1lBYWdHalllR01NdE5aV2E3M1I3WFp2TkJxTjcwNEVzTHE2T2xrdWw3OFFrUStMZ0tibW5JUFdPblh1ZHJ1M295ajZ1TkZvUENrTTBHNjNwMFhrSG9BTFJZVlRFeEhFY2V4RElJN2pSOGFZdVpXVmxSK3o0eW5iMFd3MnF5THk0Q1RpQUtDVTZ2T2s3eFVBRDVlV2xxb0RBZHJ0OWpRUmJRS29uRVE4QzVGcFZ3QnNMaTR1VGdVQjF0YlduaE9STzZjVkgySVZFZG1vMSt1VFR3R01qWTE5Q2VDMVVTbUpTTEFONE1MNCtQaG5mUUN0VnV0U3N0cEhJcHdLNXJXWitlcjgvUHpGSGtDeXp3dHZ0U0lBek54clp6M1J2UVlBcXRsc3ZraEVmNkRBSVZQRXJMWFpMZGozNy9WWnJmVkxSRVJ6b3hKUEkvZmRqenpURjRuSXV5UWlsMGNoRGdETURPZGN6L05ndlA4cnBKUTYwWUdUTlJHQnRiWlAzSWZ4Z1ZJSTU5dzBBVGd6Q2dCZlBDOExnZjV6aFArdjFGT0oreDRDQ1pXRW1TZFB0ZmpTdE9lNWMyNW9ac2hhZTVnNXFRb1pNOE1ZMCtkNUVDSHhwUDBrMGxvZmxrcWw4NlZTQ1VRRW9xY3V5TDZJcy9WTVJmSUFRdG53dnI5RnhwaGZtUGt0NTF3UHdMOU8vYU0wYjBFOUM0VHZJdkpERk1meGd5aUtQa2pGZllDODZQT3lrQW9WellZeDVuNTBkSFIwcjF3dTN5U2l5QWNBMFB1R1RyTzhMRHdEaEZWS2ZWUGEydG82bXBtWmVZT1pwL3hKUXdlSkw1Q05KdVJaaUF6Z25aMmRuYThpQU5CYTN5Q2k5NG1Jc3M4cHZ3U0R5aERLUWhiQ2F6TXpYd2VBRWdCc2IyLy9XYTFXWDJibU4vMkowMi9SaVBOU0g0QzR0YnU3ZXh2d2JzRTRqajhpb25lSTZIVy8vdGtNaE5iQm9BVVpnSGlrbFBva25iZFBKWGt3UGxSS1ZZb0NoTmJLQUlqSHpybTNPNTNPVDBFQUFGaFlXS2lLeUNhQWlyOEwvSzA0S0F2K2ZzOEFQQmFSMmIyOXZUMWZML2dNcTlmclUwcXB1d0JlRFdWZ1dCa0NXZmlabWVmOHlBY0NBRUN0Vm50K1ltTGljeEc1Q29BR0FRellzdXljYXg4Zkh5OGZIQno4RzlJWitoQ3QxV29YbFZMWEFNd2x6NmloWlhET1dXdnRYV3Z0OWYzOS9lOEh6Vi80SlR3N08zdEdSR3JPdVNzaU1nM2dIRE8va0FEOFk2MzlYVVFPbVBsYmErM1huVTduN3lMei9nZks0cjIyd2c3UXdBQUFBQUJKUlU1RXJrSmdnZz09XCJ9XSl9KTsiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzW1wicDUuYmVha2VyXCJdPWUoKTp0W1wicDUuYmVha2VyXCJdPWUoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG8ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBpPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG8pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG8ubT10LG8uYz1lLG8uZD1mdW5jdGlvbih0LGUscil7by5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sby5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG8udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9byh0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG8ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdClvLmQocixpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxvLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG8uZChlLFwiYVwiLGUpLGV9LG8ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sby5wPVwiXCIsbyhvLnM9MTIpfShbZnVuY3Rpb24odCxlLG8pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlPTAsbz0wKXt0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJQYXJ0aWNsZVwiLFwicHJlXCIsdGhpcyksdGhpcy5wPXQsdGhpcy5jcmVhdGVTcHJpdGUoZSxvKSx0aGlzLmNsZWFudXBzPXt9LHRoaXMuZXhlY3V0ZV9jYWxsYmFjayhcIlBhcnRpY2xlXCIsXCJwb3N0XCIsdGhpcyl9by5kKGUsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gcn0pLHIucHJvdG90eXBlLmNvbGxpZGVyX29mZnNldF94PTAsci5wcm90b3R5cGUuY29sbGlkZXJfb2Zmc2V0X3k9MCxyLnByb3RvdHlwZS5jb2xsaWRlcl9yYWRpdXM9MSxyLnByb3RvdHlwZS5pbWFnZV9wYXRoPW51bGwsci5wcm90b3R5cGUubWF4X3ZlbG9jaXR5PTAsci5wcm90b3R5cGUubmFtZT1cIlBhcnRpY2xlXCIsci5wcm90b3R5cGUucmVhY3RzX3dpdGg9e30sci5wcm90b3R5cGUuY2FsbGJhY2tzPXt9LHIucHJvdG90eXBlLnJlZ2lzdGVyX2NhbGxiYWNrPWZ1bmN0aW9uKHQsZSxvKXtudWxsPT10aGlzLmNhbGxiYWNrc1t0XSYmKHRoaXMuY2FsbGJhY2tzW3RdPXt9KSx0aGlzLmNhbGxiYWNrc1t0XVtlXT1vfSxyLnByb3RvdHlwZS5leGVjdXRlX2NhbGxiYWNrPWZ1bmN0aW9uKHQsZSxvKXt2YXIgcj10aGlzLmNhbGxiYWNrc1t0XTtyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByW2VdJiZyW2VdKG8pfSxyLnByb3RvdHlwZS5wcmVsb2FkPWZ1bmN0aW9uKHQpe3RoaXMuaW1hZ2U9dC5sb2FkSW1hZ2UodGhpcy5pbWFnZV9wYXRoKX0sci5wcm90b3R5cGUuY3JlYXRlU3ByaXRlPWZ1bmN0aW9uKHQ9MCxlPTApe3ZhciBvPXRoaXMucDtvJiYodGhpcy5zcHJpdGU9by5jcmVhdGVTcHJpdGUodCxlKSxudWxsIT10aGlzLmltYWdlJiZ0aGlzLnNwcml0ZS5hZGRJbWFnZShcImRlZmF1bHRcIix0aGlzLmltYWdlKSx0aGlzLnNwcml0ZS5zZXRDb2xsaWRlcihcImNpcmNsZVwiLHRoaXMuY29sbGlkZXJfb2Zmc2V0X3gsdGhpcy5jb2xsaWRlcl9vZmZzZXRfeSx0aGlzLmNvbGxpZGVyX3JhZGl1cyksdGhpcy5zcHJpdGUudmVsb2NpdHkueD10aGlzLnJhbmRvbVZlbG9jaXR5KCksdGhpcy5zcHJpdGUudmVsb2NpdHkueT10aGlzLnJhbmRvbVZlbG9jaXR5KCksdGhpcy5zcHJpdGUucGFydGljbGU9dGhpcyl9LHIucHJvdG90eXBlLnJhbmRvbVZlbG9jaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4X3ZlbG9jaXR5LTIqTWF0aC5yYW5kb20oKSp0aGlzLm1heF92ZWxvY2l0eX0sci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwicmVtb3ZlXCIsXCJwcmVcIix0aGlzKTt2YXIgdD10aGlzLmNsZWFudXBzO2Zvcih2YXIgZSBpbiBPYmplY3Qua2V5cyh0KSl7dFtPYmplY3Qua2V5cyh0KVtlXV0odGhpcyl9dGhpcy5zcHJpdGUucmVtb3ZlKCksZGVsZXRlIHRoaXMuc3ByaXRlLHRoaXMuZXhlY3V0ZV9jYWxsYmFjayhcInJlbW92ZVwiLFwicG9zdFwiLHRoaXMpfSxyLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJ1cGRhdGVcIixcInByZVwiLHRoaXMpLHRoaXMuZXhlY3V0ZV9jYWxsYmFjayhcInVwZGF0ZVwiLFwicG9zdFwiLHRoaXMpfX0sZnVuY3Rpb24odCxlLG8pe1widXNlIHN0cmljdFwiO28ucihlKSxvLmQoZSxcImRlZmF1bHRcIixmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIHI9bygwKSxpPW8oMiksYT1vLm4oaSk7ZnVuY3Rpb24gbih0LGU9MCxvPTApe3IuYS5jYWxsKHRoaXMsdCksdGhpcy5jcmVhdGVTcHJpdGUoZSxvKSx0aGlzLnByb3Rvbj17fSx0aGlzLnByb3Rvbi5wYXJ0aWNsZT1udWxsLHRoaXMucHJvdG9uLm9mZnNldF94PTEwLHRoaXMucHJvdG9uLm9mZnNldF95PS0xMCx0aGlzLnByb3Rvbi5yZXN0b3JlX2RlcHRoPW51bGwsdGhpcy5wcm90b24ucmVsZWFzZV9hZnRlcl9yYW5nZT1bMCw1ZTNdLHRoaXMucHJvdG9uLnBvc3RfcmVsZWFzZV9kdXJhdGlvbj03NTAsdGhpcy5wcm90b24ucmVsZWFzZV9hZnRlcj1udWxsfW4ucHJvdG90eXBlPW5ldyByLmEsbi5wcm90b3R5cGUuY29sbGlkZXJfcmFkaXVzPTE2LG4ucHJvdG90eXBlLmltYWdlX3BhdGg9YS5hLG4ucHJvdG90eXBlLm1heF92ZWxvY2l0eT0uNSxuLnByb3RvdHlwZS5uYW1lPVwiQ29uanVnYXRlQmFzZVwiLG4ucHJvdG90eXBlLnJlYWN0c193aXRoPXtQcm90b246ZnVuY3Rpb24odCxlKXt2YXIgbz10LnBhcnRpY2xlLHI9ZS5wYXJ0aWNsZTtyLmJhc2UucGFydGljbGV8fG8ucHJvdG9uLnBhcnRpY2xlfHwobi5wcm90b3R5cGUuZXhlY3V0ZV9jYWxsYmFjayhcInJlYWN0c193aXRoX3Byb3RvblwiLFwicHJlXCIsbyksby5wcm90b24ucmVsZWFzZV9hZnRlcj1EYXRlLm5vdygpK28ucHJvdG9uLnJlbGVhc2VfYWZ0ZXJfcmFuZ2VbMF0rby5wcm90b24ucmVsZWFzZV9hZnRlcl9yYW5nZVsxXSpNYXRoLnJhbmRvbSgpLG8ucHJvdG9uLnBhcnRpY2xlPXIsci5iYXNlLnBhcnRpY2xlPW8sby5wcm90b24ucmVzdG9yZV9kZXB0aD1lLmRlcHRoLGUuZGVwdGg9dC5kZXB0aCsuNSxyLmNsZWFudXBzLkNvbmp1Z2F0ZUJhc2U9ZnVuY3Rpb24odCl7dmFyIGU9dC5iYXNlLnBhcnRpY2xlO2UmJmUucmVsZWFzZV9wcm90b24oKX0sbi5wcm90b3R5cGUuZXhlY3V0ZV9jYWxsYmFjayhcInJlYWN0c193aXRoX3Byb3RvblwiLFwicG9zdFwiLG8pKX19LG4ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZXhlY3V0ZV9jYWxsYmFjayhcInJlbW92ZVwiLFwicHJlXCIsdGhpcyk7dmFyIHQ9dGhpcy5jbGVhbnVwcztmb3IodmFyIGUgaW4gT2JqZWN0LmtleXModCkpe3RbT2JqZWN0LmtleXModClbZV1dKHRoaXMpfXRoaXMucmVsZWFzZV9wcm90b24oKSx0aGlzLnNwcml0ZS5yZW1vdmUoKSxkZWxldGUgdGhpcy5wYXJ0aWNsZSx0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJyZW1vdmVcIixcInBvc3RcIix0aGlzKX0sbi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwidXBkYXRlXCIsXCJwcmVcIix0aGlzKTt2YXIgdD10aGlzLnByb3RvbjtpZih0LnJlbGVhc2VfYWZ0ZXIpe3ZhciBlPURhdGUubm93KCk7aWYoZTx0LnJlbGVhc2VfYWZ0ZXIpe3ZhciBvPXQucGFydGljbGUuc3ByaXRlLHI9dGhpcy5zcHJpdGU7by5wb3NpdGlvbi54PXIucG9zaXRpb24ueCt0aGlzLnByb3Rvbi5vZmZzZXRfeCxvLnBvc2l0aW9uLnk9ci5wb3NpdGlvbi55K3RoaXMucHJvdG9uLm9mZnNldF95fWVsc2UgZTx0LnJlbGVhc2VfYWZ0ZXIrdC5wb3N0X3JlbGVhc2VfZHVyYXRpb258fHRoaXMucmVsZWFzZV9wcm90b24oKX10aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJ1cGRhdGVcIixcInBvc3RcIix0aGlzKX0sbi5wcm90b3R5cGUucmVsZWFzZV9wcm90b249ZnVuY3Rpb24oKXt0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJyZWxlYXNlX3Byb3RvblwiLFwicHJlXCIsdGhpcyk7dmFyIHQ9dGhpcy5wcm90b247dC5yZWxlYXNlX2FmdGVyJiYoZGVsZXRlIHQucGFydGljbGUuY2xlYW51cHMuQ29uanVnYXRlQmFzZSx0LnBhcnRpY2xlLnNwcml0ZS5kZXB0aD10LnJlc3RvcmVfZGVwdGgsdC5yZXN0b3JlX2RlcHRoPW51bGwsdC5yZWxlYXNlX2FmdGVyPW51bGwsdC5wYXJ0aWNsZS5iYXNlLnBhcnRpY2xlPW51bGwsdC5wYXJ0aWNsZT1udWxsKSx0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJyZWxlYXNlX3Byb3RvblwiLFwicG9zdFwiLHRoaXMpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBQkhOQ1NWUUlDQWdJZkFoa2lBQUFBQWx3U0ZsekFBQWQwUUFBSGRFQnVkUGdYUUFBQUJsMFJWaDBVMjltZEhkaGNtVUFkM2QzTG1sdWEzTmpZWEJsTG05eVo1dnVQQm9BQUFPVlNVUkJWRmlGclpiUGExeFZGTWUvOTh4TG1JQkdHS2hkS0YyVStvTmtJY1V5SU5GMm5ZVmozQVhHbFNsa2xZMFl4SzVtMDI0MElvRjBwaE1LL2dPbGpRaloyallra0RBR3dZaFNkS0dJUkN4SWtXVGUvWEdPbS9mR082LzN6YndtYytEdzdydGM3dmR6enJtL0ZBcmErdnI2V1daK1QwUXVLNlhPQXppYk9BQWNBamhrNWwrTk1mZmpPTjVZWGw3K3E4aThhdGlBVnF0MVNTbjFLWUFhZ0dqWWVHTU10TlpXYTczUjdYWnZOQnFONzA0RXNMcTZPbGt1bDc4UWtRK0xnS2JtbklQV09uWHVkcnUzb3lqNnVORm9QQ2tNMEc2M3AwWGtIb0FMUllWVEV4SEVjZXhESUk3alI4YVl1WldWbFIrejR5bmIwV3cycXlMeTRDVGlBS0NVNnZPazd4VUFENWVXbHFvREFkcnQ5alFSYlFLb25FUThDNUZwVndCc0xpNHVUZ1VCMXRiV25oT1JPNmNWSDJJVkVkbW8xK3VUVHdHTWpZMTlDZUMxVVNtSlNMQU40TUw0K1BobmZRQ3RWdXRTc3RwSElwd0s1cldaK2VyOC9QekZIa0N5end0dnRTSUF6TnhyWnozUnZRWUFxdGxzdmtoRWY2REFJVlBFckxYWkxkajM3L1ZacmZWTFJFUnpveEpQSS9mZGp6elRGNG5JdXlRaWwwY2hEZ0RNRE9kY3ovTmd2UDhycEpRNjBZR1ROUkdCdGJaUDNJZnhnVklJNTl3MEFUZ3pDZ0JmUEM4TGdmNXpoUCt2MUZPSit4NENDWldFbVNkUHRmalN0T2U1YzI1b1pzaGFlNWc1cVFvWk04TVkwK2Q1RUNIeHBQMGswbG9mbGtxbDg2VlNDVVFFb3FjdXlMNklzL1ZNUmZJQVF0bnd2cjlGeHBoZm1Qa3Q1MXdQd0w5Ty9hTTBiMEU5QzRUdkl2SkRGTWZ4Z3lpS1BrakZmWUM4NlBPeWtBb1Z6WVl4NW41MGRIUjByMXd1M3lTaXlBY0EwUHVHVHJPOExEd0RoRlZLZlZQYTJ0bzZtcG1aZVlPWnAveEpRd2VKTDVDTkp1UlppQXpnbloyZG5hOGlBTkJhM3lDaTk0bUlzczhwdndTRHloREtRaGJDYXpNelh3ZUFFZ0JzYjIvL1dhMVdYMmJtTi8ySjAyL1JpUE5TSDRDNHRidTdleHZ3YnNFNGpqOGlvbmVJNkhXLy90a01oTmJCb0FVWmdIaWtsUG9rbmJkUEpYa3dQbFJLVllvQ2hOYktBSWpIenJtM081M09UMEVBQUZoWVdLaUt5Q2FBaXI4TC9LMDRLQXYrZnM4QVBCYVIyYjI5dlQxZkwvZ01xOWZyVTBxcHV3QmVEV1ZnV0JrQ1dmaVptZWY4eUFjQ0FFQ3RWbnQrWW1MaWN4RzVDb0FHQVF6WXN1eWNheDhmSHk4ZkhCejhHOUlaK2hDdDFXb1hsVkxYQU13bHo2aWhaWERPV1d2dFhXdnQ5ZjM5L2U4SHpWLzRKVHc3TzN0R1JHck91U3NpTWczZ0hETy9rQUQ4WTYzOVhVUU9tUGxiYSszWG5VN243eUx6L2dmSzRyMjJ3ZzdRd0FBQUFBQkpSVTVFcmtKZ2dnPT1cIn0sLCwsLCxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBZDBRQUFIZEVCdWRQZ1hRQUFBQmwwUlZoMFUyOW1kSGRoY21VQWQzZDNMbWx1YTNOallYQmxMbTl5WjV2dVBCb0FBQU9jU1VSQlZGaUZyWlpOYUYxRkZNZC9NL2NHdXRBSUQyS0toWWlTcHBJSHdvTTByYUR0Mm9VMUlyaHlKWFhoVmhScDk4MUdLVktsU0tBTG9UdVZHQmRtSmRobUtRaldENVJVRjRwQzJnYTBWZCs3OTg3TTZlSitaTzY4ajl5OHZvSEQ4TjY5ZC82L21mTXhSOUYwbkpCWk1sNUVjUXJGa3dpendHenhkQWZGRHM3OWh1dGR3OTNiNE1iaFcwMldWZnUrMFpFbElzNGhuQUhpZmQ5M0NValg0TG9iOE44cU40NStPeDdBQ1puR2NCRjRyUkZvT2NTQTY1Ym1zTjByWlArOHhjMlRkNXNESEpjMmpzK0IrY2JDMVhBK0FMai93WFczeVpJVmJwNzhLWHhiOTMyL0pNczRybzhuWGk2cFBOT0FPa29rV3l4OHRUd2E0TGkwRVRhQjFuamk1ZkFCcXQ4dFJHMHkvK1hpWUlDMlBJVGpzd2NYSHduV1F0d0c4MWVuK3dFTzhUNXdiSEppVWxqNFc4MWpENzFiQitqSUVubTBUMUE0dE5xenN6eitjV2NQSU9JY0IwbTFrZnF1TUNuTUFhVlZBQnJrUElEaWFYbVVLZjZrU1pGcEJKQUdhVGpNZW9ha2UwUVRzekl4Y1FURWV1YnZQalFiTTJWZTBDaE9UVWFjdkFxV2hnVk1BR1E5RnpsQVRtdkdMampoY0NCWllTV0k5V1piUUhrbXRxMkJtY25vZStLWSttbFUvd1ZBWXVjMGUxZnErRVBTd3JJaUNMUDZhZlNKbHk2eTB3OFlmRklJcHQ2Y2VUQ2htYjRUMGtpeWswZmxRYlZ0ZnZlN0JNU2JTM0VYUXBTaXRSaTVxM0hKRHE1WGZHZ2I3TmlVVFFkSXJ3NGhhUUJTd2d3Q01lRFMzMk5zNzFkMC9Bd3FBaFhuUlVyNVYyb3BYT1J2R2MyMUhXVjdidWh6eVFpM1lINkljYjNyRUwyS2lrRkZRQWhRMVBFS3dBMEdxQUxRQS9ITkRZS3cxeFNkN1JsUzlSY3FpdnNCL0tNWHFpb21Qc0F3aU1BbDFWeTRUWG9HWlkva0tvdmZmd3JSeXdjREtOUEpkNE1IVVlrUGdaRGtFMjVmZkNWUFEwbFdFZlVTS3RJNVFOalJTSDhjMUdLaERLNHdBNUloTHNrY0tydEFiWnNMVzJ1bytQVTZRSmdCWVNBT2MwVVloSDJuOFJGM0xyMEIvaTA0WmQ0a3paNEQvVlEvUUhrQ01pQVF3MU1JSUdwWmtZQ2syemg1cDF5NXZzMjhZZHdDM2FvL0hnYmd4MEdZbGdNZ1NIZHg5bGwyUC94NU1BREFFK3ZMS05rRTFhcWw0VEFBUm1XRVZ4OUlkM0htZVhZdmYrUExEVzdENXE0dW92VTZzTkFmQXlXRUR6Q3NMbFR1K0FXUkZYL25vd0VBamwxNW1DN3ZBV2RCOHQ2eEVZQUJNbkFHSkhWSXVvYm1iVzVmL25lUXpQNk42R09YT21oOUh0d0tJbkVOb0ZhVXlnN0lnR1FHTWV0b3VjQ3RENzRidFh6elR2anc2Z3c2T29QWTB5QnR4TTZCZTZRNGliL0IvSUd6UDZMU3Ira2xYM0J2N1U2VFplOERWWEorWUJYWjliTUFBQUFBU1VWT1JLNUNZSUk9XCJ9LCwsLGZ1bmN0aW9uKHQsZSxvKXtcInVzZSBzdHJpY3RcIjtvLnIoZSksby5kKGUsXCJkZWZhdWx0XCIsZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciByPW8oMSksaT1vKDgpLGE9by5uKGkpO2Z1bmN0aW9uIG4odCxlPTAsbz0wKXtyLmRlZmF1bHQuY2FsbCh0aGlzLHQpLHRoaXMuY3JlYXRlU3ByaXRlKGUsbyksdGhpcy5wcm90b24ucmVsZWFzZV9hZnRlcl9yYW5nZT1bNWUzLDFlNF19bi5wcm90b3R5cGU9bmV3IHIuZGVmYXVsdCxuLnByb3RvdHlwZS5pbWFnZV9wYXRoPWEuYSxuLnByb3RvdHlwZS5uYW1lPVwiU3Ryb25nQ29uanVnYXRlQmFzZVwifV0pfSk7IiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1tcInA1LmJlYWtlclwiXT10KCk6ZVtcInA1LmJlYWtlclwiXT10KCl9KHdpbmRvdyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiByKG8pe2lmKHRbb10pcmV0dXJuIHRbb10uZXhwb3J0czt2YXIgaT10W29dPXtpOm8sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtvXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxyKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiByLm09ZSxyLmM9dCxyLmQ9ZnVuY3Rpb24oZSx0LG8pe3IubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpvfSl9LHIucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxyLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPXIoZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIG89T2JqZWN0LmNyZWF0ZShudWxsKTtpZihyLnIobyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBpIGluIGUpci5kKG8saSxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLGkpKTtyZXR1cm4gb30sci5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiByLmQodCxcImFcIix0KSx0fSxyLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHIucD1cIlwiLHIoci5zPTExKX0oW2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdD0wLHI9MCl7dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwiUGFydGljbGVcIixcInByZVwiLHRoaXMpLHRoaXMucD1lLHRoaXMuY3JlYXRlU3ByaXRlKHQsciksdGhpcy5jbGVhbnVwcz17fSx0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJQYXJ0aWNsZVwiLFwicG9zdFwiLHRoaXMpfXIuZCh0LFwiYVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KSxvLnByb3RvdHlwZS5jb2xsaWRlcl9vZmZzZXRfeD0wLG8ucHJvdG90eXBlLmNvbGxpZGVyX29mZnNldF95PTAsby5wcm90b3R5cGUuY29sbGlkZXJfcmFkaXVzPTEsby5wcm90b3R5cGUuaW1hZ2VfcGF0aD1udWxsLG8ucHJvdG90eXBlLm1heF92ZWxvY2l0eT0wLG8ucHJvdG90eXBlLm5hbWU9XCJQYXJ0aWNsZVwiLG8ucHJvdG90eXBlLnJlYWN0c193aXRoPXt9LG8ucHJvdG90eXBlLmNhbGxiYWNrcz17fSxvLnByb3RvdHlwZS5yZWdpc3Rlcl9jYWxsYmFjaz1mdW5jdGlvbihlLHQscil7bnVsbD09dGhpcy5jYWxsYmFja3NbZV0mJih0aGlzLmNhbGxiYWNrc1tlXT17fSksdGhpcy5jYWxsYmFja3NbZV1bdF09cn0sby5wcm90b3R5cGUuZXhlY3V0ZV9jYWxsYmFjaz1mdW5jdGlvbihlLHQscil7dmFyIG89dGhpcy5jYWxsYmFja3NbZV07byYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb1t0XSYmb1t0XShyKX0sby5wcm90b3R5cGUucHJlbG9hZD1mdW5jdGlvbihlKXt0aGlzLmltYWdlPWUubG9hZEltYWdlKHRoaXMuaW1hZ2VfcGF0aCl9LG8ucHJvdG90eXBlLmNyZWF0ZVNwcml0ZT1mdW5jdGlvbihlPTAsdD0wKXt2YXIgcj10aGlzLnA7ciYmKHRoaXMuc3ByaXRlPXIuY3JlYXRlU3ByaXRlKGUsdCksbnVsbCE9dGhpcy5pbWFnZSYmdGhpcy5zcHJpdGUuYWRkSW1hZ2UoXCJkZWZhdWx0XCIsdGhpcy5pbWFnZSksdGhpcy5zcHJpdGUuc2V0Q29sbGlkZXIoXCJjaXJjbGVcIix0aGlzLmNvbGxpZGVyX29mZnNldF94LHRoaXMuY29sbGlkZXJfb2Zmc2V0X3ksdGhpcy5jb2xsaWRlcl9yYWRpdXMpLHRoaXMuc3ByaXRlLnZlbG9jaXR5Lng9dGhpcy5yYW5kb21WZWxvY2l0eSgpLHRoaXMuc3ByaXRlLnZlbG9jaXR5Lnk9dGhpcy5yYW5kb21WZWxvY2l0eSgpLHRoaXMuc3ByaXRlLnBhcnRpY2xlPXRoaXMpfSxvLnByb3RvdHlwZS5yYW5kb21WZWxvY2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heF92ZWxvY2l0eS0yKk1hdGgucmFuZG9tKCkqdGhpcy5tYXhfdmVsb2NpdHl9LG8ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZXhlY3V0ZV9jYWxsYmFjayhcInJlbW92ZVwiLFwicHJlXCIsdGhpcyk7dmFyIGU9dGhpcy5jbGVhbnVwcztmb3IodmFyIHQgaW4gT2JqZWN0LmtleXMoZSkpe2VbT2JqZWN0LmtleXMoZSlbdF1dKHRoaXMpfXRoaXMuc3ByaXRlLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLnNwcml0ZSx0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJyZW1vdmVcIixcInBvc3RcIix0aGlzKX0sby5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwidXBkYXRlXCIsXCJwcmVcIix0aGlzKSx0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJ1cGRhdGVcIixcInBvc3RcIix0aGlzKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyLnIodCksci5kKHQsXCJkZWZhdWx0XCIsZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBvPXIoMCksaT1yKDIpLGE9ci5uKGkpO2Z1bmN0aW9uIG4oZSx0PTAscj0wKXtvLmEuY2FsbCh0aGlzLGUpLHRoaXMuY3JlYXRlU3ByaXRlKHQsciksdGhpcy5wcm90b249e30sdGhpcy5wcm90b24ucGFydGljbGU9bnVsbCx0aGlzLnByb3Rvbi5vZmZzZXRfeD0xMCx0aGlzLnByb3Rvbi5vZmZzZXRfeT0tMTAsdGhpcy5wcm90b24ucmVzdG9yZV9kZXB0aD1udWxsLHRoaXMucHJvdG9uLnJlbGVhc2VfYWZ0ZXJfcmFuZ2U9WzAsNWUzXSx0aGlzLnByb3Rvbi5wb3N0X3JlbGVhc2VfZHVyYXRpb249NzUwLHRoaXMucHJvdG9uLnJlbGVhc2VfYWZ0ZXI9bnVsbH1uLnByb3RvdHlwZT1uZXcgby5hLG4ucHJvdG90eXBlLmNvbGxpZGVyX3JhZGl1cz0xNixuLnByb3RvdHlwZS5pbWFnZV9wYXRoPWEuYSxuLnByb3RvdHlwZS5tYXhfdmVsb2NpdHk9LjUsbi5wcm90b3R5cGUubmFtZT1cIkNvbmp1Z2F0ZUJhc2VcIixuLnByb3RvdHlwZS5yZWFjdHNfd2l0aD17UHJvdG9uOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5wYXJ0aWNsZSxvPXQucGFydGljbGU7by5iYXNlLnBhcnRpY2xlfHxyLnByb3Rvbi5wYXJ0aWNsZXx8KG4ucHJvdG90eXBlLmV4ZWN1dGVfY2FsbGJhY2soXCJyZWFjdHNfd2l0aF9wcm90b25cIixcInByZVwiLHIpLHIucHJvdG9uLnJlbGVhc2VfYWZ0ZXI9RGF0ZS5ub3coKStyLnByb3Rvbi5yZWxlYXNlX2FmdGVyX3JhbmdlWzBdK3IucHJvdG9uLnJlbGVhc2VfYWZ0ZXJfcmFuZ2VbMV0qTWF0aC5yYW5kb20oKSxyLnByb3Rvbi5wYXJ0aWNsZT1vLG8uYmFzZS5wYXJ0aWNsZT1yLHIucHJvdG9uLnJlc3RvcmVfZGVwdGg9dC5kZXB0aCx0LmRlcHRoPWUuZGVwdGgrLjUsby5jbGVhbnVwcy5Db25qdWdhdGVCYXNlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYmFzZS5wYXJ0aWNsZTt0JiZ0LnJlbGVhc2VfcHJvdG9uKCl9LG4ucHJvdG90eXBlLmV4ZWN1dGVfY2FsbGJhY2soXCJyZWFjdHNfd2l0aF9wcm90b25cIixcInBvc3RcIixyKSl9fSxuLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJyZW1vdmVcIixcInByZVwiLHRoaXMpO3ZhciBlPXRoaXMuY2xlYW51cHM7Zm9yKHZhciB0IGluIE9iamVjdC5rZXlzKGUpKXtlW09iamVjdC5rZXlzKGUpW3RdXSh0aGlzKX10aGlzLnJlbGVhc2VfcHJvdG9uKCksdGhpcy5zcHJpdGUucmVtb3ZlKCksZGVsZXRlIHRoaXMucGFydGljbGUsdGhpcy5leGVjdXRlX2NhbGxiYWNrKFwicmVtb3ZlXCIsXCJwb3N0XCIsdGhpcyl9LG4ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuZXhlY3V0ZV9jYWxsYmFjayhcInVwZGF0ZVwiLFwicHJlXCIsdGhpcyk7dmFyIGU9dGhpcy5wcm90b247aWYoZS5yZWxlYXNlX2FmdGVyKXt2YXIgdD1EYXRlLm5vdygpO2lmKHQ8ZS5yZWxlYXNlX2FmdGVyKXt2YXIgcj1lLnBhcnRpY2xlLnNwcml0ZSxvPXRoaXMuc3ByaXRlO3IucG9zaXRpb24ueD1vLnBvc2l0aW9uLngrdGhpcy5wcm90b24ub2Zmc2V0X3gsci5wb3NpdGlvbi55PW8ucG9zaXRpb24ueSt0aGlzLnByb3Rvbi5vZmZzZXRfeX1lbHNlIHQ8ZS5yZWxlYXNlX2FmdGVyK2UucG9zdF9yZWxlYXNlX2R1cmF0aW9ufHx0aGlzLnJlbGVhc2VfcHJvdG9uKCl9dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwidXBkYXRlXCIsXCJwb3N0XCIsdGhpcyl9LG4ucHJvdG90eXBlLnJlbGVhc2VfcHJvdG9uPWZ1bmN0aW9uKCl7dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwicmVsZWFzZV9wcm90b25cIixcInByZVwiLHRoaXMpO3ZhciBlPXRoaXMucHJvdG9uO2UucmVsZWFzZV9hZnRlciYmKGRlbGV0ZSBlLnBhcnRpY2xlLmNsZWFudXBzLkNvbmp1Z2F0ZUJhc2UsZS5wYXJ0aWNsZS5zcHJpdGUuZGVwdGg9ZS5yZXN0b3JlX2RlcHRoLGUucmVzdG9yZV9kZXB0aD1udWxsLGUucmVsZWFzZV9hZnRlcj1udWxsLGUucGFydGljbGUuYmFzZS5wYXJ0aWNsZT1udWxsLGUucGFydGljbGU9bnVsbCksdGhpcy5leGVjdXRlX2NhbGxiYWNrKFwicmVsZWFzZV9wcm90b25cIixcInBvc3RcIix0aGlzKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQUJITkNTVlFJQ0FnSWZBaGtpQUFBQUFsd1NGbHpBQUFkMFFBQUhkRUJ1ZFBnWFFBQUFCbDBSVmgwVTI5bWRIZGhjbVVBZDNkM0xtbHVhM05qWVhCbExtOXlaNXZ1UEJvQUFBT1ZTVVJCVkZpRnJaYlBhMXhWRk1lLzk4eExtSUJHR0toZEtGMlUrb05rSWNVeUlORjJuWVZqM0FYR2xTbGtsWTBZeEs1bTAyNDBJb0YwcGhNSy9nT2xqUWpaMmpZa2tEQUd3WWhTZEtHSVJDeElrV1RlL1hHT20vZkdPNi8zemJ3bWMrRHc3cnRjN3ZkenpybS9GQXJhK3ZyNldXWitUMFF1SzZYT0F6aWJPQUFjQWpoazVsK05NZmZqT041WVhsNytxOGk4YXRpQVZxdDFTU24xS1lBYWdHalllR01NdE5aV2E3M1I3WFp2TkJxTjcwNEVzTHE2T2xrdWw3OFFrUStMZ0tibW5JUFdPblh1ZHJ1M295ajZ1TkZvUENrTTBHNjNwMFhrSG9BTFJZVlRFeEhFY2V4RElJN2pSOGFZdVpXVmxSK3o0eW5iMFd3MnF5THk0Q1RpQUtDVTZ2T2s3eFVBRDVlV2xxb0RBZHJ0OWpRUmJRS29uRVE4QzVGcFZ3QnNMaTR1VGdVQjF0YlduaE9STzZjVkgySVZFZG1vMSt1VFR3R01qWTE5Q2VDMVVTbUpTTEFONE1MNCtQaG5mUUN0VnV0U3N0cEhJcHdLNXJXWitlcjgvUHpGSGtDeXp3dHZ0U0lBek54clp6M1J2UVlBcXRsc3ZraEVmNkRBSVZQRXJMWFpMZGozNy9WWnJmVkxSRVJ6b3hKUEkvZmRqenpURjRuSXV5UWlsMGNoRGdETURPZGN6L05ndlA4cnBKUTYwWUdUTlJHQnRiWlAzSWZ4Z1ZJSTU5dzBBVGd6Q2dCZlBDOExnZjV6aFArdjFGT0oreDRDQ1pXRW1TZFB0ZmpTdE9lNWMyNW9ac2hhZTVnNXFRb1pNOE1ZMCtkNUVDSHhwUDBrMGxvZmxrcWw4NlZTQ1VRRW9xY3V5TDZJcy9WTVJmSUFRdG53dnI5RnhwaGZtUGt0NTF3UHdMOU8vYU0wYjBFOUM0VHZJdkpERk1meGd5aUtQa2pGZllDODZQT3lrQW9WellZeDVuNTBkSFIwcjF3dTN5U2l5QWNBMFB1R1RyTzhMRHdEaEZWS2ZWUGEydG82bXBtWmVZT1pwL3hKUXdlSkw1Q05KdVJaaUF6Z25aMmRuYThpQU5CYTN5Q2k5NG1Jc3M4cHZ3U0R5aERLUWhiQ2F6TXpYd2VBRWdCc2IyLy9XYTFXWDJibU4vMkowMi9SaVBOU0g0QzR0YnU3ZXh2d2JzRTRqajhpb25lSTZIVy8vdGtNaE5iQm9BVVpnSGlrbFBva25iZFBKWGt3UGxSS1ZZb0NoTmJLQUlqSHpybTNPNTNPVDBFQUFGaFlXS2lLeUNhQWlyOEwvSzA0S0F2K2ZzOEFQQmFSMmIyOXZUMWZML2dNcTlmclUwcXB1d0JlRFdWZ1dCa0NXZmlabWVmOHlBY0NBRUN0Vm50K1ltTGljeEc1Q29BR0FRellzdXljYXg4Zkh5OGZIQno4RzlJWitoQ3QxV29YbFZMWEFNd2x6NmloWlhET1dXdnRYV3Z0OWYzOS9lOEh6Vi80SlR3N08zdEdSR3JPdVNzaU1nM2dIRE8va0FEOFk2MzlYVVFPbVBsYmErM1huVTduN3lMei9nZks0cjIyd2c3UXdBQUFBQUJKUlU1RXJrSmdnZz09XCJ9LCwsLCxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFDWEJJV1hNQUFDNGpBQUF1SXdGNHBUOTJBQUFBQjNSSlRVVUg0Z29URXhZdk5tMWxYZ0FBQm5WSlJFRlVXTU9sVjh0dTIwWVVQVU1OeWVoQlBRTEZZdUxZZFF3WHlDSzd1THN1NmsvSUh5UkF1dmJHL29wa2t5OUkrZ1g1QkcrNmJIWmFHS25nS21ranU3Sm9VaVRGMTh6YzZVS1M0Nmp5bys0QUZ5TUNBcytaYzgrOWQ4aTAxdmhtYVExU0NpUUVpc2tFcWVkaE1oZ2c3UGNyNDE1dkp6bzZlanI1NjYvSCtkOS9QeEJCVUtjc0F3d2pOTXJsZ2RscUhkcXUrNkd5dG5iZ2JHMGxqYTB0MURjMlVPdDBjS2ZaaEZXcG9HU2FNQXdEWUF3QXdKZUJxNktZZ2djQkVzOTdFbnZlN3NUM242ZFJ4SXNrZ2N3eUtDRkFTa0VUQVZwRHowakxMRU9lSkpLSDRidVM3NzloanRQVm5JTzBoaWFDVmEyQ1c5WTVDZjRWVzBOTENabm55S01JOGVrcG91UGpWOUZnc0JlZm5DQTVQa1k2R0tBWWpTRENFREpKUUhrT0xRVEFHRFJqMEp5RFRCUEtzcmpnL0dXbTljdEpscjJ1amNmN0RkZEYzWFZSYTdkeHgzRmcyamFZWWN3SXpNR3pERmtZSWhvT253U2ZQcjBOam82Mnc4K2ZrWnljSUIrTklIMGZ5dmRCVVFTZEpOQkZBUkJOWDBFRVRRU2xGQW9od0pJRWNSREFQRDNkcTdqdVR4UGZmNUduYVZjcEJhMDE0RGpndGcwK2wxM21PYkl3UkhoOC9LUGY3Ny8zZTcxMjBPdGgwdThqSHc2aGdnQTBtUUJaQmhURnVmU1llMmlXQmhRRmFESUJCUUZvTkFLR1F5U2V0NTFHMFVHUjU4K0VsTDhxSW1pdGNhZFdBNS9uUEk4aVJNUGhFNy9mZis4ZEhyYURqeDh4K2VNUEZNZkhVSjQzQlpmeUsrRGltcEhSUklDVTBHa0tGVVZRY1l3aVRaRm5XYnNvaXZkQ3loMEN1dEFhMVZZTGZPNzIrUFFVd2FkUGIvMWVyeDE4L0lqNDk5OVJmUGtDNWZ2UWFUcVYrakx3eThnVUJTZ0lJSVZBWGhRb2hHZ3I0QzA0LzBFVG9SWUU0SE8zUjhmSHI0S2pvKzJnMTV1ZS9Nc1hxTlBUYi9KODA2Vm5BYTJoaFFCRkVaUlNrQURJc3JaaG1xOWtudTlYNm5YdzFQT1FlTjZUYUREWUN6OS94cVRmbjhydSs3Y0NYN3FJUUVrQ2RYWUdaZHNndzlqTDR2Z1h1MXJ0OG5nd3dNVHpkdU9UazZuYmgwTW96L3NxK3kyV1hveDVuNGhqeU5FSVFtc2tZYmpMYmZ0bkh2YjdsY1QzbnllREFmTFI2S3ZiL3dmNFVoSUFTRXJJSUFBSmdXdzhmcTQ1MytYalhtOG5peUtlRGdhUVoyZlh1LzJXNEhNbFNBaklNSVNLWTA2TTdmRG82T2hwa1NRb1pxZEhsdDBLZkpuOGRDSG16M3JlN3BVQ01mYVVKMy8rK1ZqbU9Zb3dCRVVSVUJUL0M1aVdoRjdZejM5ci9aam53K0VESlFSVWtremI2eTF5dnd4Y3pZSXU3TFR3WHcwODRHSThycE9VMDhGU0ZMZVdYeStBMDgyaXpsV1dUUWVKbFArdDIxMlNiN1VrNkJJMUNBQUhZK0dpaS8rcjIrY3ZsWmNBcTh1VkNUbXJWQVphU21qR2dObVV1azZGeFpOZkJKVVg0aklTRjRnTXVORnNIa0lJRU9jZ0ltaWx3QzRoc0t5MjFSVnhBeEtIM094MFBzZ3NnekxONlYyd0tNQm1sY0N1QUtkcjhyNm95Q1dlK01BcjYrc0hlWkpJYWR0Y0N3RjFvUk95SzJUWFM4eDFIZkI1TUFZQ0pBRUh2TDYxbFNSaCtLN2cvR1dTSkpCQkFKMm0vMHFEWGxKdWRBVUp1YkNmbjU0eDZGSUp1bFI2QjhOSWVPdjc3OEY5LzAwR3ZJekdZOUJvQkRYdmlCZElYRVhnSmlRa0FHVVlJTnNHcTlWZ2xzdHZtR21DTjcvN0RrYXQxcDJrNld0ck9OeWJESWRRY1F3S0FrQ0lLejJncitoOGl5UVVZMUNtQ2FQVmdyMnk4cnJjYkhhdGNobmM2WFNnT1ljekh1L1hYUGVueFBPMml5U1ozdnVqNkx3NTZXdU1TSmNZVGM3Qk9RY2FEVmlkem0rdDlmWDl1NjZMU3EwR1htNDJvYlJHdzNVeDhmMFhhUlFkNUZuV0ZrVXhuVmhKQWloMUl3S0xTc3pCaVhQb2VoM1d2WHVqeHVycUMzZHpFL2ZYMXVBMEd1QldwWUlLRVpxdWl5Sk51M21lUHl1SzRyMFFvaTBCcUxNelVCeERTem05MlZ4VERkK1FNQXlRYVU1UGZ1L2VxUEh3NGJQT3hrYjM0ZVltVmpjMlVHKzF3RXVtQ2J0YWhkTnVReWtGSWVXdlVzb2RCYndseTlwV3RnMDFHazJyUTRqcFBMK2lINXcvTXdheTdXbk9PNTNmR3F1ckx6b2JHOTIxclMyc1BucUUrK3ZyY0pwTmNNTXd3QzBMWmNlQjFocUtDQnJvZ3ZNZllKcXZpTEU5U1hSK2s5R3pkTkFWYVNER1FLVVNqRm9OOXNySzY3dnI2L3Z1NWlZZWJtNWk5ZEVqdU92cnVMdXlnbksxQ2c3R1lCZ0dUTnRHMlhIUW1wVWVFVUZrMlg0V1JiK2tZYmhMNC9GekZjZWNMdmhoMmFWakZsS1hTdTlLNWZLYmNyUFp2ZXU2dUwrMmh0V05EZHlmZ1ZjZEI2Wmx6YjROR1FPYms2alZJUEljVHF1RmFxT0JPOVZxdDJUYlA4TTBkNG14SFdMc0tXbjlXQU1QTkZDZmdZY0VEQWc0Vk1BSEFnNWdHQWt6VFpqbE1pcTFHcHhHQS9WV0MwNnppWEsxQ3RPeVlKUksrQWZTeDFGeHBxUVlwQUFBQUFCSlJVNUVya0pnZ2c9PVwifSwsLCxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5yKHQpLHIuZCh0LFwiZGVmYXVsdFwiLGZ1bmN0aW9uKCl7cmV0dXJuIG59KTt2YXIgbz1yKDEpLGk9cig3KSxhPXIubihpKTtmdW5jdGlvbiBuKGUsdD0wLHI9MCl7by5kZWZhdWx0LmNhbGwodGhpcyxlKSx0aGlzLmNyZWF0ZVNwcml0ZSh0LHIpLHRoaXMucHJvdG9uLnJlbGVhc2VfYWZ0ZXJfcmFuZ2U9WzAsMmUzXX1uLnByb3RvdHlwZT1uZXcgby5kZWZhdWx0LG4ucHJvdG90eXBlLmltYWdlX3BhdGg9YS5hLG4ucHJvdG90eXBlLm5hbWU9XCJXZWFrQ29uanVnYXRlQmFzZVwifV0pfSk7IiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1tcInA1LmJlYWtlclwiXT1lKCk6dFtcInA1LmJlYWtlclwiXT1lKCl9KHdpbmRvdyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBvKGkpe2lmKGVbaV0pcmV0dXJuIGVbaV0uZXhwb3J0czt2YXIgcj1lW2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxvKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBvLm09dCxvLmM9ZSxvLmQ9ZnVuY3Rpb24odCxlLGkpe28ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG8ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxvLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW8odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihvLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciByIGluIHQpby5kKGkscixmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLHIpKTtyZXR1cm4gaX0sby5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBvLmQoZSxcImFcIixlKSxlfSxvLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG8ucD1cIlwiLG8oby5zPTEwKX0oezA6ZnVuY3Rpb24odCxlLG8pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCxlPTAsbz0wKXt0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJQYXJ0aWNsZVwiLFwicHJlXCIsdGhpcyksdGhpcy5wPXQsdGhpcy5jcmVhdGVTcHJpdGUoZSxvKSx0aGlzLmNsZWFudXBzPXt9LHRoaXMuZXhlY3V0ZV9jYWxsYmFjayhcIlBhcnRpY2xlXCIsXCJwb3N0XCIsdGhpcyl9by5kKGUsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pLGkucHJvdG90eXBlLmNvbGxpZGVyX29mZnNldF94PTAsaS5wcm90b3R5cGUuY29sbGlkZXJfb2Zmc2V0X3k9MCxpLnByb3RvdHlwZS5jb2xsaWRlcl9yYWRpdXM9MSxpLnByb3RvdHlwZS5pbWFnZV9wYXRoPW51bGwsaS5wcm90b3R5cGUubWF4X3ZlbG9jaXR5PTAsaS5wcm90b3R5cGUubmFtZT1cIlBhcnRpY2xlXCIsaS5wcm90b3R5cGUucmVhY3RzX3dpdGg9e30saS5wcm90b3R5cGUuY2FsbGJhY2tzPXt9LGkucHJvdG90eXBlLnJlZ2lzdGVyX2NhbGxiYWNrPWZ1bmN0aW9uKHQsZSxvKXtudWxsPT10aGlzLmNhbGxiYWNrc1t0XSYmKHRoaXMuY2FsbGJhY2tzW3RdPXt9KSx0aGlzLmNhbGxiYWNrc1t0XVtlXT1vfSxpLnByb3RvdHlwZS5leGVjdXRlX2NhbGxiYWNrPWZ1bmN0aW9uKHQsZSxvKXt2YXIgaT10aGlzLmNhbGxiYWNrc1t0XTtpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpW2VdJiZpW2VdKG8pfSxpLnByb3RvdHlwZS5wcmVsb2FkPWZ1bmN0aW9uKHQpe3RoaXMuaW1hZ2U9dC5sb2FkSW1hZ2UodGhpcy5pbWFnZV9wYXRoKX0saS5wcm90b3R5cGUuY3JlYXRlU3ByaXRlPWZ1bmN0aW9uKHQ9MCxlPTApe3ZhciBvPXRoaXMucDtvJiYodGhpcy5zcHJpdGU9by5jcmVhdGVTcHJpdGUodCxlKSxudWxsIT10aGlzLmltYWdlJiZ0aGlzLnNwcml0ZS5hZGRJbWFnZShcImRlZmF1bHRcIix0aGlzLmltYWdlKSx0aGlzLnNwcml0ZS5zZXRDb2xsaWRlcihcImNpcmNsZVwiLHRoaXMuY29sbGlkZXJfb2Zmc2V0X3gsdGhpcy5jb2xsaWRlcl9vZmZzZXRfeSx0aGlzLmNvbGxpZGVyX3JhZGl1cyksdGhpcy5zcHJpdGUudmVsb2NpdHkueD10aGlzLnJhbmRvbVZlbG9jaXR5KCksdGhpcy5zcHJpdGUudmVsb2NpdHkueT10aGlzLnJhbmRvbVZlbG9jaXR5KCksdGhpcy5zcHJpdGUucGFydGljbGU9dGhpcyl9LGkucHJvdG90eXBlLnJhbmRvbVZlbG9jaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4X3ZlbG9jaXR5LTIqTWF0aC5yYW5kb20oKSp0aGlzLm1heF92ZWxvY2l0eX0saS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5leGVjdXRlX2NhbGxiYWNrKFwicmVtb3ZlXCIsXCJwcmVcIix0aGlzKTt2YXIgdD10aGlzLmNsZWFudXBzO2Zvcih2YXIgZSBpbiBPYmplY3Qua2V5cyh0KSl7dFtPYmplY3Qua2V5cyh0KVtlXV0odGhpcyl9dGhpcy5zcHJpdGUucmVtb3ZlKCksZGVsZXRlIHRoaXMuc3ByaXRlLHRoaXMuZXhlY3V0ZV9jYWxsYmFjayhcInJlbW92ZVwiLFwicG9zdFwiLHRoaXMpfSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJ1cGRhdGVcIixcInByZVwiLHRoaXMpLHRoaXMuZXhlY3V0ZV9jYWxsYmFjayhcInVwZGF0ZVwiLFwicG9zdFwiLHRoaXMpfX0sMTA6ZnVuY3Rpb24odCxlLG8pe1widXNlIHN0cmljdFwiO28ucihlKSxvLmQoZSxcImRlZmF1bHRcIixmdW5jdGlvbigpe3JldHVybiBhfSk7dmFyIGk9bygwKSxyPW8oNiksbj1vLm4ocik7ZnVuY3Rpb24gYSh0LGU9MCxvPTApe3RoaXMuZXhlY3V0ZV9jYWxsYmFjayhcIlByb3RvblwiLFwicHJlXCIsdGhpcyksaS5hLmNhbGwodGhpcyx0KSx0aGlzLmNyZWF0ZVNwcml0ZShlLG8pLHRoaXMuYmFzZT17fSx0aGlzLmJhc2UucGFydGljbGU9bnVsbCx0aGlzLmV4ZWN1dGVfY2FsbGJhY2soXCJQcm90b25cIixcInBvc3RcIix0aGlzKX1hLnByb3RvdHlwZT1uZXcgaS5hLGEucHJvdG90eXBlLmNvbGxpZGVyX3JhZGl1cz02LGEucHJvdG90eXBlLmltYWdlX3BhdGg9bi5hLGEucHJvdG90eXBlLm1heF92ZWxvY2l0eT0zLGEucHJvdG90eXBlLm5hbWU9XCJQcm90b25cIn0sNjpmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBTUNBWUFBQUJXZFZ6bkFBQUFCSE5DU1ZRSUNBZ0lmQWhraUFBQUFBbHdTRmx6QUFBZDBRQUFIZEVCdWRQZ1hRQUFBQmwwUlZoMFUyOW1kSGRoY21VQWQzZDNMbWx1YTNOallYQmxMbTl5WjV2dVBCb0FBQUY0U1VSQlZDaVJkWS9OcWxKUkdJYmZ2ZFpTMmhrbTI2bml0bmtRNUtTZkF3MlNRemZSTmRTNWtMcUVKblVSRFRvR2dhTU5CaUU0MjV6aldDVjEvZXh2L1h4Tk1panNHVDhQdkcrRzN5eVh5M1pSRkc4Nm5jNHJJY1FEQUV4RU41dk41ck5TNnQxNFBIWW5GM1ZkbDd2ZDdodWZZYnZkOG1xMW1pOFdpeElBUkZWVmQ0dWkrTlRyOVo3akRFSUl0TnZ0Sjh6OHNhN3JPMkl3R0Z4MXU5Mm41MlFBU0NtQm1aRlNlclplcjY5RW51ZVgvNU9KQ041N2hCQVFRb0QzL2xKSUtVZm5aR2FHdFJiT09UUk5BeUpDQ0tGVUthWDByeHhqaE5ZYVd1dS9JdTk5VW9mRDRWWUlNWkpTQWdCQ0NDQWlXR3YvUk1ZWVdHc1JZN3hSKy8zK09xVjBJYVVFTXlQR0NPODluSE13eHNBWWcrUHhDSzAxOGp5L3pxcXF1dDlxdGI1S0tSK2Q1b1FRMERRTnJMVXd4a0JyRFFDTHNpeGZaQUF3bjg4ZkF2Z1FZM3g4Q29nSXpqbFlheUdsL043djkxOVBwOU1mMmVub2JEYTd4OHh2aWVpbDkzNFVZOHk4OTdkS3FTL0Q0ZkQ5WkRMNUNRQy9BT3hqQThJTC96R1ZBQUFBQUVsRlRrU3VRbUNDXCJ9fSl9KTsiLCIvKlxucDUucGxheVxuYnkgUGFvbG8gUGVkZXJjaW5pL21vbGxlaW5kdXN0cmlhLCAyMDE1XG5odHRwOi8vbW9sbGVpbmR1c3RyaWEub3JnL1xuKi9cblxuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbmlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5kZWZpbmUoJ3A1LnBsYXknLCBbJ0BjbXUtZWJlcmx5LWNlbnRlci9wNSddLCBmdW5jdGlvbihwNSkgeyAoZmFjdG9yeShwNSkpOyB9KTtcbmVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JylcbmZhY3RvcnkocmVxdWlyZSgnQGNtdS1lYmVybHktY2VudGVyL3A1JykpO1xuZWxzZVxuZmFjdG9yeShyb290LnA1KTtcbn0odGhpcywgZnVuY3Rpb24ocDUpIHtcbi8qKlxuICogcDUucGxheSBpcyBhIGxpYnJhcnkgZm9yIHA1LmpzIHRvIGZhY2lsaXRhdGUgdGhlIGNyZWF0aW9uIG9mIGdhbWVzIGFuZCBnYW1lbGlrZVxuICogcHJvamVjdHMuXG4gKlxuICogSXQgcHJvdmlkZXMgYSBmbGV4aWJsZSBTcHJpdGUgY2xhc3MgdG8gbWFuYWdlIHZpc3VhbCBvYmplY3RzIGluIDJEIHNwYWNlXG4gKiBhbmQgZmVhdHVyZXMgc3VjaCBhcyBhbmltYXRpb24gc3VwcG9ydCwgYmFzaWMgY29sbGlzaW9uIGRldGVjdGlvblxuICogYW5kIHJlc29sdXRpb24sIG1vdXNlIGFuZCBrZXlib2FyZCBpbnRlcmFjdGlvbnMsIGFuZCBhIHZpcnR1YWwgY2FtZXJhLlxuICpcbiAqIHA1LnBsYXkgaXMgbm90IGEgYm94MkQtZGVyaXZlZCBwaHlzaWNzIGVuZ2luZSwgaXQgZG9lc24ndCB1c2UgZXZlbnRzLCBhbmQgaXQnc1xuICogZGVzaWduZWQgdG8gYmUgdW5kZXJzdG9vZCBhbmQgcG9zc2libHkgbW9kaWZpZWQgYnkgaW50ZXJtZWRpYXRlIHByb2dyYW1tZXJzLlxuICpcbiAqIFNlZSB0aGUgZXhhbXBsZXMgZm9sZGVyIGZvciBtb3JlIGluZm8gb24gaG93IHRvIHVzZSB0aGlzIGxpYnJhcnkuXG4gKlxuICogQG1vZHVsZSBwNS5wbGF5XG4gKiBAc3VibW9kdWxlIHA1LnBsYXlcbiAqIEBmb3IgcDUucGxheVxuICogQG1haW5cbiAqL1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vIFRoaXMgaXMgdGhlIG5ldyB3YXkgdG8gaW5pdGlhbGl6ZSBjdXN0b20gcDUgcHJvcGVydGllcyBmb3IgYW55IHA1IGluc3RhbmNlLlxuLy8gVGhlIGdvYWwgaXMgdG8gbWlncmF0ZSBsYXp5IFA1IHByb3BlcnRpZXMgb3ZlciB0byB0aGlzIG1ldGhvZC5cbi8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21vbGxlaW5kdXN0cmlhL3A1LnBsYXkvaXNzdWVzLzQ2XG5wNS5wcm90b3R5cGUucmVnaXN0ZXJNZXRob2QoJ2luaXQnLCBmdW5jdGlvbiBwNVBsYXlJbml0KCkge1xuICAvKipcbiAgICogVGhlIHNrZXRjaCBjYW1lcmEgYXV0b21hdGljYWxseSBjcmVhdGVkIGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBza2V0Y2guXG4gICAqIEEgY2FtZXJhIGZhY2lsaXRhdGVzIHNjcm9sbGluZyBhbmQgem9vbWluZyBmb3Igc2NlbmVzIGV4dGVuZGluZyBiZXlvbmRcbiAgICogdGhlIGNhbnZhcy4gQSBjYW1lcmEgaGFzIGEgcG9zaXRpb24sIGEgem9vbSBmYWN0b3IsIGFuZCB0aGUgbW91c2VcbiAgICogY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGhlIHZpZXcuXG4gICAqXG4gICAqIEluIHA1LmpzIHRlcm1zIHRoZSBjYW1lcmEgd3JhcHMgdGhlIHdob2xlIGRyYXdpbmcgY3ljbGUgaW4gYVxuICAgKiB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggYnV0IGl0IGNhbiBiZSBkaXNhYmxlZCBhbnl0aW1lIGR1cmluZyB0aGUgZHJhd1xuICAgKiBjeWNsZSwgZm9yIGV4YW1wbGUgdG8gZHJhdyBpbnRlcmZhY2UgZWxlbWVudHMgaW4gYW4gYWJzb2x1dGUgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwcm9wZXJ0eSBjYW1lcmFcbiAgICogQHR5cGUge2NhbWVyYX1cbiAgICovXG4gIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLCAwLCAwLCAxKTtcbiAgdGhpcy5jYW1lcmEuaW5pdCA9IGZhbHNlO1xufSk7XG5cbi8vIFRoaXMgcHJvdmlkZXMgYSB3YXkgZm9yIHVzIHRvIGxhemlseSBkZWZpbmUgcHJvcGVydGllcyB0aGF0XG4vLyBhcmUgZ2xvYmFsIHRvIHA1IGluc3RhbmNlcy5cbi8vXG4vLyBOb3RlIHRoYXQgdGhpcyBpc24ndCBqdXN0IGFuIG9wdGltaXphdGlvbjogcDUgY3VycmVudGx5IHByb3ZpZGVzIG5vXG4vLyB3YXkgZm9yIGFkZC1vbnMgdG8gYmUgbm90aWZpZWQgd2hlbiBuZXcgcDUgaW5zdGFuY2VzIGFyZSBjcmVhdGVkLCBzb1xuLy8gbGF6aWx5IGNyZWF0aW5nIHRoZXNlIHByb3BlcnRpZXMgaXMgdGhlICpvbmx5KiBtZWNoYW5pc20gYXZhaWxhYmxlXG4vLyB0byB1cy4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTpcbi8vXG4vLyBodHRwczovL2dpdGh1Yi5jb20vcHJvY2Vzc2luZy9wNS5qcy9pc3N1ZXMvMTI2M1xuZnVuY3Rpb24gZGVmaW5lTGF6eVA1UHJvcGVydHkobmFtZSwgZ2V0dGVyKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwNS5wcm90b3R5cGUsIG5hbWUsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbnRleHQgPSAodGhpcyBpbnN0YW5jZW9mIHA1ICYmICF0aGlzLl9pc0dsb2JhbCkgPyB0aGlzIDogd2luZG93O1xuXG4gICAgICBpZiAodHlwZW9mKGNvbnRleHQuX3A1UGxheVByb3BlcnRpZXMpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb250ZXh0Ll9wNVBsYXlQcm9wZXJ0aWVzID0ge307XG4gICAgICB9XG4gICAgICBpZiAoIShuYW1lIGluIGNvbnRleHQuX3A1UGxheVByb3BlcnRpZXMpKSB7XG4gICAgICAgIGNvbnRleHQuX3A1UGxheVByb3BlcnRpZXNbbmFtZV0gPSBnZXR0ZXIuY2FsbChjb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZXh0Ll9wNVBsYXlQcm9wZXJ0aWVzW25hbWVdO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIFRoaXMgcmV0dXJucyBhIGZhY3RvcnkgZnVuY3Rpb24sIHN1aXRhYmxlIGZvciBwYXNzaW5nIHRvXG4vLyBkZWZpbmVMYXp5UDVQcm9wZXJ0eSwgdGhhdCByZXR1cm5zIGEgc3ViY2xhc3Mgb2YgdGhlIGdpdmVuXG4vLyBjb25zdHJ1Y3RvciB0aGF0IGlzIGFsd2F5cyBib3VuZCB0byBhIHBhcnRpY3VsYXIgcDUgaW5zdGFuY2UuXG5mdW5jdGlvbiBib3VuZENvbnN0cnVjdG9yRmFjdG9yeShjb25zdHJ1Y3Rvcikge1xuICBpZiAodHlwZW9mKGNvbnN0cnVjdG9yKSAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnN0cnVjdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVCb3VuZENvbnN0cnVjdG9yKCkge1xuICAgIHZhciBwSW5zdCA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBGKCkge1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICByZXR1cm4gY29uc3RydWN0b3IuYXBwbHkodGhpcywgW3BJbnN0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgICBGLnByb3RvdHlwZSA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuICAgIHJldHVybiBGO1xuICB9O1xufVxuXG4vLyBUaGlzIGlzIGEgdXRpbGl0eSB0aGF0IG1ha2VzIGl0IGVhc3kgdG8gZGVmaW5lIGNvbnZlbmllbnQgYWxpYXNlcyB0b1xuLy8gcHJlLWJvdW5kIHA1IGluc3RhbmNlIG1ldGhvZHMuXG4vL1xuLy8gRm9yIGV4YW1wbGU6XG4vL1xuLy8gICB2YXIgcEluc3RCaW5kID0gY3JlYXRlUEluc3RCaW5kZXIocEluc3QpO1xuLy9cbi8vICAgdmFyIGNyZWF0ZVZlY3RvciA9IHBJbnN0QmluZCgnY3JlYXRlVmVjdG9yJyk7XG4vLyAgIHZhciBsb2FkSW1hZ2UgPSBwSW5zdEJpbmQoJ2xvYWRJbWFnZScpO1xuLy9cbi8vIFRoZSBhYm92ZSB3aWxsIGNyZWF0ZSBmdW5jdGlvbnMgY3JlYXRlVmVjdG9yIGFuZCBsb2FkSW1hZ2UsIHdoaWNoIGNhbiBiZVxuLy8gdXNlZCBzaW1pbGFyIHRvIHA1IGdsb2JhbCBtb2RlLS1ob3dldmVyLCB0aGV5J3JlIGJvdW5kIHRvIHNwZWNpZmljIHA1XG4vLyBpbnN0YW5jZXMsIGFuZCBjYW4gdGh1cyBiZSB1c2VkIG91dHNpZGUgb2YgZ2xvYmFsIG1vZGUuXG5mdW5jdGlvbiBjcmVhdGVQSW5zdEJpbmRlcihwSW5zdCkge1xuICByZXR1cm4gZnVuY3Rpb24gcEluc3RCaW5kKG1ldGhvZE5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gcEluc3RbbWV0aG9kTmFtZV07XG5cbiAgICBpZiAodHlwZW9mKG1ldGhvZCkgIT09ICdmdW5jdGlvbicpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIG1ldGhvZE5hbWUgKyAnXCIgaXMgbm90IGEgcDUgbWV0aG9kJyk7XG4gICAgcmV0dXJuIG1ldGhvZC5iaW5kKHBJbnN0KTtcbiAgfTtcbn1cblxuLy8gVGhlc2UgYXJlIHV0aWxpdHkgcDUgZnVuY3Rpb25zIHRoYXQgZG9uJ3QgZGVwZW5kIG9uIHA1IGluc3RhbmNlIHN0YXRlIGluXG4vLyBvcmRlciB0byB3b3JrIHByb3Blcmx5LCBzbyB3ZSdsbCBnbyBhaGVhZCBhbmQgbWFrZSB0aGVtIGVhc3kgdG9cbi8vIGFjY2VzcyB3aXRob3V0IG5lZWRpbmcgdG8gYmluZCB0aGVtIHRvIGEgcDUgaW5zdGFuY2UuXG52YXIgYWJzID0gcDUucHJvdG90eXBlLmFicztcbnZhciByYWRpYW5zID0gcDUucHJvdG90eXBlLnJhZGlhbnM7XG52YXIgZGlzdCA9IHA1LnByb3RvdHlwZS5kaXN0O1xudmFyIGRlZ3JlZXMgPSBwNS5wcm90b3R5cGUuZGVncmVlcztcbnZhciBwb3cgPSBwNS5wcm90b3R5cGUucG93O1xudmFyIHJvdW5kID0gcDUucHJvdG90eXBlLnJvdW5kO1xuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBwNSBhZGRpdGlvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuKiBBIEdyb3VwIGNvbnRhaW5pbmcgYWxsIHRoZSBzcHJpdGVzIGluIHRoZSBza2V0Y2guXG4qXG4qIEBwcm9wZXJ0eSBhbGxTcHJpdGVzXG4qIEB0eXBlIHtHcm91cH1cbiovXG5cbmRlZmluZUxhenlQNVByb3BlcnR5KCdhbGxTcHJpdGVzJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgcDUucHJvdG90eXBlLkdyb3VwKCk7XG59KTtcblxucDUucHJvdG90eXBlLnNwcml0ZVVwZGF0ZSA9IHRydWU7XG5cbi8qKlxuICAgKiBBIFNwcml0ZSBpcyB0aGUgbWFpbiBidWlsZGluZyBibG9jayBvZiBwNS5wbGF5OlxuICAgKiBhbiBlbGVtZW50IGFibGUgdG8gc3RvcmUgaW1hZ2VzIG9yIGFuaW1hdGlvbnMgd2l0aCBhIHNldCBvZlxuICAgKiBwcm9wZXJ0aWVzIHN1Y2ggYXMgcG9zaXRpb24gYW5kIHZpc2liaWxpdHkuXG4gICAqIEEgU3ByaXRlIGNhbiBoYXZlIGEgY29sbGlkZXIgdGhhdCBkZWZpbmVzIHRoZSBhY3RpdmUgYXJlYSB0byBkZXRlY3RcbiAgICogY29sbGlzaW9ucyBvciBvdmVybGFwcGluZ3Mgd2l0aCBvdGhlciBzcHJpdGVzIGFuZCBtb3VzZSBpbnRlcmFjdGlvbnMuXG4gICAqXG4gICAqIFNwcml0ZXMgY3JlYXRlZCB1c2luZyBjcmVhdGVTcHJpdGUgKHRoZSBwcmVmZXJyZWQgd2F5KSBhcmUgYWRkZWQgdG8gdGhlXG4gICAqIGFsbFNwcml0ZXMgZ3JvdXAgYW5kIGdpdmVuIGEgZGVwdGggdmFsdWUgdGhhdCBwdXRzIGl0IGluIGZyb250IG9mIGFsbFxuICAgKiBvdGhlciBzcHJpdGVzLlxuICAgKlxuICAgKiBAbWV0aG9kIGNyZWF0ZVNwcml0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0geCBJbml0aWFsIHggY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0geSBJbml0aWFsIHkgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggV2lkdGggb2YgdGhlIHBsYWNlaG9sZGVyIHJlY3RhbmdsZSBhbmQgb2YgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBjb2xsaWRlciB1bnRpbCBhbiBpbWFnZSBvciBuZXcgY29sbGlkZXIgYXJlIHNldFxuICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IEhlaWdodCBvZiB0aGUgcGxhY2Vob2xkZXIgcmVjdGFuZ2xlIGFuZCBvZiB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgIGNvbGxpZGVyIHVudGlsIGFuIGltYWdlIG9yIG5ldyBjb2xsaWRlciBhcmUgc2V0XG4gICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG5ldyBzcHJpdGUgaW5zdGFuY2VcbiAgICovXG5cbnA1LnByb3RvdHlwZS5jcmVhdGVTcHJpdGUgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gIHZhciBzID0gbmV3IFNwcml0ZSh0aGlzLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgcy5kZXB0aCA9IHRoaXMuYWxsU3ByaXRlcy5tYXhEZXB0aCgpKzE7XG4gIHRoaXMuYWxsU3ByaXRlcy5hZGQocyk7XG4gIHJldHVybiBzO1xufTtcblxuXG4vKipcbiAgICogUmVtb3ZlcyBhIFNwcml0ZSBmcm9tIHRoZSBza2V0Y2guXG4gICAqIFRoZSByZW1vdmVkIFNwcml0ZSB3b24ndCBiZSBkcmF3biBvciB1cGRhdGVkIGFueW1vcmUuXG4gICAqIEVxdWl2YWxlbnQgdG8gU3ByaXRlLnJlbW92ZSgpXG4gICAqXG4gICAqIEBtZXRob2QgcmVtb3ZlU3ByaXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzcHJpdGUgU3ByaXRlIHRvIGJlIHJlbW92ZWRcbiovXG5wNS5wcm90b3R5cGUucmVtb3ZlU3ByaXRlID0gZnVuY3Rpb24oc3ByaXRlKSB7XG4gIHNwcml0ZS5yZW1vdmUoKTtcbn07XG5cbi8qKlxuKiBVcGRhdGVzIGFsbCB0aGUgc3ByaXRlcyBpbiB0aGUgc2tldGNoIChwb3NpdGlvbiwgYW5pbWF0aW9uLi4uKVxuKiBpdCdzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGF0IGV2ZXJ5IGRyYXcoKS5cbiogSXQgY2FuIGJlIHBhdXNlZCBieSBwYXNzaW5nIGEgcGFyYW1ldGVyIHRydWUgb3IgZmFsc2U7XG4qIE5vdGU6IGl0IGRvZXMgbm90IHJlbmRlciB0aGUgc3ByaXRlcy5cbipcbiogQG1ldGhvZCB1cGRhdGVTcHJpdGVzXG4qIEBwYXJhbSB7Qm9vbGVhbn0gdXBkYXRpbmcgZmFsc2UgdG8gcGF1c2UgdGhlIHVwZGF0ZSwgdHJ1ZSB0byByZXN1bWVcbiovXG5wNS5wcm90b3R5cGUudXBkYXRlU3ByaXRlcyA9IGZ1bmN0aW9uKHVwZCkge1xuXG4gIGlmKHVwZCA9PT0gZmFsc2UpXG4gICAgdGhpcy5zcHJpdGVVcGRhdGUgPSBmYWxzZTtcbiAgaWYodXBkID09PSB0cnVlKVxuICAgIHRoaXMuc3ByaXRlVXBkYXRlID0gdHJ1ZTtcblxuICBpZih0aGlzLnNwcml0ZVVwZGF0ZSlcbiAgZm9yKHZhciBpID0gMDsgaTx0aGlzLmFsbFNwcml0ZXMuc2l6ZSgpOyBpKyspXG4gIHtcbiAgICB0aGlzLmFsbFNwcml0ZXMuZ2V0KGkpLnVwZGF0ZSgpO1xuICB9XG59O1xuXG4vKipcbiogUmV0dXJucyBhbGwgdGhlIHNwcml0ZXMgaW4gdGhlIHNrZXRjaCBhcyBhbiBhcnJheVxuKlxuKiBAbWV0aG9kIGdldFNwcml0ZXNcbiogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIFNwcml0ZXNcbiovXG5wNS5wcm90b3R5cGUuZ2V0U3ByaXRlcyA9IGZ1bmN0aW9uKCkge1xuXG4gIC8vZHJhdyBldmVyeXRoaW5nXG4gIGlmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKVxuICB7XG4gICAgcmV0dXJuIHRoaXMuYWxsU3ByaXRlcy50b0FycmF5KCk7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgdmFyIGFyciA9IFtdO1xuICAgIC8vZm9yIGV2ZXJ5IHRhZ1xuICAgIGZvcih2YXIgaj0wOyBqPGFyZ3VtZW50cy5sZW5ndGg7IGorKylcbiAgICB7XG4gICAgICBmb3IodmFyIGkgPSAwOyBpPHRoaXMuYWxsU3ByaXRlcy5zaXplKCk7IGkrKylcbiAgICAgIHtcbiAgICAgICAgaWYodGhpcy5hbGxTcHJpdGVzLmdldChpKS5pc1RhZ2dlZChhcmd1bWVudHNbal0pKVxuICAgICAgICAgIGFyci5wdXNoKHRoaXMuYWxsU3ByaXRlcy5nZXQoaSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhcnI7XG4gIH1cblxufTtcblxuLyoqXG4qIERpc3BsYXlzIGEgR3JvdXAgb2Ygc3ByaXRlcy5cbiogSWYgbm8gcGFyYW1ldGVyIGlzIHNwZWNpZmllZCwgZHJhd3MgYWxsIHNwcml0ZXMgaW4gdGhlXG4qIHNrZXRjaC5cbiogVGhlIGRyYXdpbmcgb3JkZXIgaXMgZGV0ZXJtaW5lZCBieSB0aGUgU3ByaXRlIHByb3BlcnR5IFwiZGVwdGhcIlxuKlxuKiBAbWV0aG9kIGRyYXdTcHJpdGVzXG4qIEBwYXJhbSB7R3JvdXB9IFtncm91cF0gR3JvdXAgb2YgU3ByaXRlcyB0byBiZSBkaXNwbGF5ZWRcbiovXG5wNS5wcm90b3R5cGUuZHJhd1Nwcml0ZXMgPSBmdW5jdGlvbihncm91cCkge1xuICAvLyBJZiBubyBncm91cCBpcyBwcm92aWRlZCwgZHJhdyB0aGUgYWxsU3ByaXRlcyBncm91cC5cbiAgZ3JvdXAgPSBncm91cCB8fCB0aGlzLmFsbFNwcml0ZXM7XG5cbiAgaWYgKHR5cGVvZiBncm91cC5kcmF3ICE9PSAnZnVuY3Rpb24nKVxuICB7XG4gICAgdGhyb3coJ0Vycm9yOiB3aXRoIGRyYXdTcHJpdGVzIHlvdSBjYW4gb25seSBkcmF3IGFsbCBzcHJpdGVzIG9yIGEgZ3JvdXAnKTtcbiAgfVxuXG4gIGdyb3VwLmRyYXcoKTtcbn07XG5cbi8qKlxuKiBEaXNwbGF5cyBhIFNwcml0ZS5cbiogVG8gYmUgdHlwaWNhbGx5IHVzZWQgaW4gdGhlIG1haW4gZHJhdyBmdW5jdGlvbi5cbipcbiogQG1ldGhvZCBkcmF3U3ByaXRlXG4qIEBwYXJhbSB7U3ByaXRlfSBzcHJpdGUgU3ByaXRlIHRvIGJlIGRpc3BsYXllZFxuKi9cbnA1LnByb3RvdHlwZS5kcmF3U3ByaXRlID0gZnVuY3Rpb24oc3ByaXRlKSB7XG4gIGlmKHNwcml0ZSlcbiAgc3ByaXRlLmRpc3BsYXkoKTtcbn07XG5cbi8qKlxuKiBMb2FkcyBhbiBhbmltYXRpb24uXG4qIFRvIGJlIHR5cGljYWxseSB1c2VkIGluIHRoZSBwcmVsb2FkKCkgZnVuY3Rpb24gb2YgdGhlIHNrZXRjaC5cbipcbiogQG1ldGhvZCBsb2FkQW5pbWF0aW9uXG4qIEBwYXJhbSB7U3ByaXRlfSBzcHJpdGUgU3ByaXRlIHRvIGJlIGRpc3BsYXllZFxuKi9cbnA1LnByb3RvdHlwZS5sb2FkQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBjb25zdHJ1Y3QodGhpcy5BbmltYXRpb24sIGFyZ3VtZW50cyk7XG59O1xuXG4vKipcbiAqIExvYWRzIGEgU3ByaXRlIFNoZWV0LlxuICogVG8gYmUgdHlwaWNhbGx5IHVzZWQgaW4gdGhlIHByZWxvYWQoKSBmdW5jdGlvbiBvZiB0aGUgc2tldGNoLlxuICpcbiAqIEBtZXRob2QgbG9hZFNwcml0ZVNoZWV0XG4gKi9cbnA1LnByb3RvdHlwZS5sb2FkU3ByaXRlU2hlZXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGNvbnN0cnVjdCh0aGlzLlNwcml0ZVNoZWV0LCBhcmd1bWVudHMpO1xufTtcblxuLyoqXG4qIERpc3BsYXlzIGFuIGFuaW1hdGlvbi5cbipcbiogQG1ldGhvZCBhbmltYXRpb25cbiogQHBhcmFtIHtBbmltYXRpb259IGFuaW0gQW5pbWF0aW9uIHRvIGJlIGRpc3BsYXllZFxuKiBAcGFyYW0ge051bWJlcn0geCBYIGNvb3JkaW5hdGVcbiogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb29yZGluYXRlXG4qXG4qL1xucDUucHJvdG90eXBlLmFuaW1hdGlvbiA9IGZ1bmN0aW9uKGFuaW0sIHgsIHkpIHtcbiAgYW5pbS5kcmF3KHgsIHkpO1xufTtcblxuLy92YXJpYWJsZSB0byBkZXRlY3QgaW5zdGFudCBwcmVzc2VzXG5kZWZpbmVMYXp5UDVQcm9wZXJ0eSgnX3A1cGxheScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGtleVN0YXRlczoge30sXG4gICAgbW91c2VTdGF0ZXM6IHt9XG4gIH07XG59KTtcblxudmFyIEtFWV9JU19VUCA9IDA7XG52YXIgS0VZX1dFTlRfRE9XTiA9IDE7XG52YXIgS0VZX0lTX0RPV04gPSAyO1xudmFyIEtFWV9XRU5UX1VQID0gMztcblxuLyoqXG4qIERldGVjdHMgaWYgYSBrZXkgd2FzIHByZXNzZWQgZHVyaW5nIHRoZSBsYXN0IGN5Y2xlLlxuKiBJdCBjYW4gYmUgdXNlZCB0byB0cmlnZ2VyIGV2ZW50cyBvbmNlLCB3aGVuIGEga2V5IGlzIHByZXNzZWQgb3IgcmVsZWFzZWQuXG4qIEV4YW1wbGU6IFN1cGVyIE1hcmlvIGp1bXBpbmcuXG4qXG4qIEBtZXRob2Qga2V5V2VudERvd25cbiogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBrZXkgS2V5IGNvZGUgb3IgY2hhcmFjdGVyXG4qIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGtleSB3YXMgcHJlc3NlZFxuKi9cbnA1LnByb3RvdHlwZS5rZXlXZW50RG93biA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gdGhpcy5faXNLZXlJblN0YXRlKGtleSwgS0VZX1dFTlRfRE9XTik7XG59O1xuXG5cbi8qKlxuKiBEZXRlY3RzIGlmIGEga2V5IHdhcyByZWxlYXNlZCBkdXJpbmcgdGhlIGxhc3QgY3ljbGUuXG4qIEl0IGNhbiBiZSB1c2VkIHRvIHRyaWdnZXIgZXZlbnRzIG9uY2UsIHdoZW4gYSBrZXkgaXMgcHJlc3NlZCBvciByZWxlYXNlZC5cbiogRXhhbXBsZTogU3BhY2VzaGlwIHNob290aW5nLlxuKlxuKiBAbWV0aG9kIGtleVdlbnRVcFxuKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IGtleSBLZXkgY29kZSBvciBjaGFyYWN0ZXJcbiogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUga2V5IHdhcyByZWxlYXNlZFxuKi9cbnA1LnByb3RvdHlwZS5rZXlXZW50VXAgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX2lzS2V5SW5TdGF0ZShrZXksIEtFWV9XRU5UX1VQKTtcbn07XG5cbi8qKlxuKiBEZXRlY3RzIGlmIGEga2V5IGlzIGN1cnJlbnRseSBwcmVzc2VkXG4qIExpa2UgcDUga2V5SXNEb3duIGJ1dCBhY2NlcHRzIHN0cmluZ3MgYW5kIGNvZGVzXG4qXG4qIEBtZXRob2Qga2V5RG93blxuKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IGtleSBLZXkgY29kZSBvciBjaGFyYWN0ZXJcbiogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUga2V5IGlzIGRvd25cbiovXG5wNS5wcm90b3R5cGUua2V5RG93biA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gdGhpcy5faXNLZXlJblN0YXRlKGtleSwgS0VZX0lTX0RPV04pO1xufTtcblxuLyoqXG4gKiBEZXRlY3RzIGlmIGEga2V5IGlzIGluIHRoZSBnaXZlbiBzdGF0ZSBkdXJpbmcgdGhlIGxhc3QgY3ljbGUuXG4gKiBIZWxwZXIgbWV0aG9kIGVuY2Fwc3VsYXRpbmcgY29tbW9uIGtleSBzdGF0ZSBsb2dpYzsgaXQgbWF5IGJlIHByZWZlcmFibGVcbiAqIHRvIGNhbGwga2V5RG93biBvciBvdGhlciBtZXRob2RzIGRpcmVjdGx5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIF9pc0tleUluU3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30ga2V5IEtleSBjb2RlIG9yIGNoYXJhY3RlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXRlIEtleSBzdGF0ZSB0byBjaGVjayBhZ2FpbnN0XG4gKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBrZXkgaXMgaW4gdGhlIGdpdmVuIHN0YXRlXG4gKi9cbnA1LnByb3RvdHlwZS5faXNLZXlJblN0YXRlID0gZnVuY3Rpb24oa2V5LCBzdGF0ZSkge1xuICB2YXIga2V5Q29kZTtcbiAgdmFyIGtleVN0YXRlcyA9IHRoaXMuX3A1cGxheS5rZXlTdGF0ZXM7XG5cbiAgaWYodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpXG4gIHtcbiAgICBrZXlDb2RlID0gdGhpcy5fa2V5Q29kZUZyb21BbGlhcyhrZXkpO1xuICB9XG4gIGVsc2VcbiAge1xuICAgIGtleUNvZGUgPSBrZXk7XG4gIH1cblxuICAvL2lmIHVuZGVmaW5lZCBzdGFydCBjaGVja2luZyBpdFxuICBpZihrZXlTdGF0ZXNba2V5Q29kZV09PT11bmRlZmluZWQpXG4gIHtcbiAgICBpZih0aGlzLmtleUlzRG93bihrZXlDb2RlKSlcbiAgICAgIGtleVN0YXRlc1trZXlDb2RlXSA9IEtFWV9JU19ET1dOO1xuICAgIGVsc2VcbiAgICAgIGtleVN0YXRlc1trZXlDb2RlXSA9IEtFWV9JU19VUDtcbiAgfVxuXG4gIHJldHVybiAoa2V5U3RhdGVzW2tleUNvZGVdID09PSBzdGF0ZSk7XG59O1xuXG4vKipcbiogRGV0ZWN0cyBpZiBhIG1vdXNlIGJ1dHRvbiBpcyBjdXJyZW50bHkgZG93blxuKiBDb21iaW5lcyBtb3VzZUlzUHJlc3NlZCBhbmQgbW91c2VCdXR0b24gb2YgcDVcbipcbiogQG1ldGhvZCBtb3VzZURvd25cbiogQHBhcmFtIHtOdW1iZXJ9IFtidXR0b25Db2RlXSBNb3VzZSBidXR0b24gY29uc3RhbnQgTEVGVCwgUklHSFQgb3IgQ0VOVEVSXG4qIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGJ1dHRvbiBpcyBkb3duXG4qL1xucDUucHJvdG90eXBlLm1vdXNlRG93biA9IGZ1bmN0aW9uKGJ1dHRvbkNvZGUpIHtcbiAgcmV0dXJuIHRoaXMuX2lzTW91c2VCdXR0b25JblN0YXRlKGJ1dHRvbkNvZGUsIEtFWV9JU19ET1dOKTtcbn07XG5cbi8qKlxuKiBEZXRlY3RzIGlmIGEgbW91c2UgYnV0dG9uIGlzIGN1cnJlbnRseSB1cFxuKiBDb21iaW5lcyBtb3VzZUlzUHJlc3NlZCBhbmQgbW91c2VCdXR0b24gb2YgcDVcbipcbiogQG1ldGhvZCBtb3VzZVVwXG4qIEBwYXJhbSB7TnVtYmVyfSBbYnV0dG9uQ29kZV0gTW91c2UgYnV0dG9uIGNvbnN0YW50IExFRlQsIFJJR0hUIG9yIENFTlRFUlxuKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBidXR0b24gaXMgdXBcbiovXG5wNS5wcm90b3R5cGUubW91c2VVcCA9IGZ1bmN0aW9uKGJ1dHRvbkNvZGUpIHtcbiAgcmV0dXJuIHRoaXMuX2lzTW91c2VCdXR0b25JblN0YXRlKGJ1dHRvbkNvZGUsIEtFWV9JU19VUCk7XG59O1xuXG4vKipcbiAqIERldGVjdHMgaWYgYSBtb3VzZSBidXR0b24gd2FzIHJlbGVhc2VkIGR1cmluZyB0aGUgbGFzdCBjeWNsZS5cbiAqIEl0IGNhbiBiZSB1c2VkIHRvIHRyaWdnZXIgZXZlbnRzIG9uY2UsIHRvIGJlIGNoZWNrZWQgaW4gdGhlIGRyYXcgY3ljbGVcbiAqXG4gKiBAbWV0aG9kIG1vdXNlV2VudFVwXG4gKiBAcGFyYW0ge051bWJlcn0gW2J1dHRvbkNvZGVdIE1vdXNlIGJ1dHRvbiBjb25zdGFudCBMRUZULCBSSUdIVCBvciBDRU5URVJcbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGJ1dHRvbiB3YXMganVzdCByZWxlYXNlZFxuICovXG5wNS5wcm90b3R5cGUubW91c2VXZW50VXAgPSBmdW5jdGlvbihidXR0b25Db2RlKSB7XG4gIHJldHVybiB0aGlzLl9pc01vdXNlQnV0dG9uSW5TdGF0ZShidXR0b25Db2RlLCBLRVlfV0VOVF9VUCk7XG59O1xuXG5cbi8qKlxuICogRGV0ZWN0cyBpZiBhIG1vdXNlIGJ1dHRvbiB3YXMgcHJlc3NlZCBkdXJpbmcgdGhlIGxhc3QgY3ljbGUuXG4gKiBJdCBjYW4gYmUgdXNlZCB0byB0cmlnZ2VyIGV2ZW50cyBvbmNlLCB0byBiZSBjaGVja2VkIGluIHRoZSBkcmF3IGN5Y2xlXG4gKlxuICogQG1ldGhvZCBtb3VzZVdlbnREb3duXG4gKiBAcGFyYW0ge051bWJlcn0gW2J1dHRvbkNvZGVdIE1vdXNlIGJ1dHRvbiBjb25zdGFudCBMRUZULCBSSUdIVCBvciBDRU5URVJcbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGJ1dHRvbiB3YXMganVzdCBwcmVzc2VkXG4gKi9cbnA1LnByb3RvdHlwZS5tb3VzZVdlbnREb3duID0gZnVuY3Rpb24oYnV0dG9uQ29kZSkge1xuICByZXR1cm4gdGhpcy5faXNNb3VzZUJ1dHRvbkluU3RhdGUoYnV0dG9uQ29kZSwgS0VZX1dFTlRfRE9XTik7XG59O1xuXG4vKipcbiAqIERldGVjdHMgaWYgYSBtb3VzZSBidXR0b24gaXMgaW4gdGhlIGdpdmVuIHN0YXRlIGR1cmluZyB0aGUgbGFzdCBjeWNsZS5cbiAqIEhlbHBlciBtZXRob2QgZW5jYXBzdWxhdGluZyBjb21tb24gbW91c2UgYnV0dG9uIHN0YXRlIGxvZ2ljOyBpdCBtYXkgYmVcbiAqIHByZWZlcmFibGUgdG8gY2FsbCBtb3VzZVdlbnRVcCwgZXRjLCBkaXJlY3RseS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBfaXNNb3VzZUJ1dHRvbkluU3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbYnV0dG9uQ29kZV0gTW91c2UgYnV0dG9uIGNvbnN0YW50IExFRlQsIFJJR0hUIG9yIENFTlRFUlxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXRlXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBidXR0b24gd2FzIGluIHRoZSBnaXZlbiBzdGF0ZVxuICovXG5wNS5wcm90b3R5cGUuX2lzTW91c2VCdXR0b25JblN0YXRlID0gZnVuY3Rpb24oYnV0dG9uQ29kZSwgc3RhdGUpIHtcbiAgdmFyIG1vdXNlU3RhdGVzID0gdGhpcy5fcDVwbGF5Lm1vdXNlU3RhdGVzO1xuXG4gIGlmKGJ1dHRvbkNvZGUgPT09IHVuZGVmaW5lZClcbiAgICBidXR0b25Db2RlID0gdGhpcy5MRUZUO1xuXG4gIC8vdW5kZWZpbmVkID0gbm90IHRyYWNrZWQgeWV0LCBzdGFydCB0cmFja2luZ1xuICBpZihtb3VzZVN0YXRlc1tidXR0b25Db2RlXT09PXVuZGVmaW5lZClcbiAge1xuICBpZih0aGlzLm1vdXNlSXNQcmVzc2VkICYmIHRoaXMubW91c2VCdXR0b24gPT09IGJ1dHRvbkNvZGUpXG4gICAgbW91c2VTdGF0ZXNbYnV0dG9uQ29kZV0gPSBLRVlfSVNfRE9XTjtcbiAgZWxzZVxuICAgIG1vdXNlU3RhdGVzW2J1dHRvbkNvZGVdID0gS0VZX0lTX1VQO1xuICB9XG5cbiAgcmV0dXJuIChtb3VzZVN0YXRlc1tidXR0b25Db2RlXSA9PT0gc3RhdGUpO1xufTtcblxuXG4vKipcbiAqIEFuIG9iamVjdCBzdG9yaW5nIGFsbCB1c2VmdWwga2V5cyBmb3IgZWFzeSBhY2Nlc3NcbiAqIEtleS50YWIgPSA5XG4gKlxuICogQHByaXZhdGVcbiAqIEBwcm9wZXJ0eSBLRVlcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnA1LnByb3RvdHlwZS5LRVkgPSB7XG4gICAgJ0JBQ0tTUEFDRSc6IDgsXG4gICAgJ1RBQic6IDksXG4gICAgJ0VOVEVSJzogMTMsXG4gICAgJ1NISUZUJzogMTYsXG4gICAgJ0NUUkwnOiAxNyxcbiAgICAnQUxUJzogMTgsXG4gICAgJ1BBVVNFJzogMTksXG4gICAgJ0NBUFNfTE9DSyc6IDIwLFxuICAgICdFU0MnOiAyNyxcbiAgICAnU1BBQ0UnOiAzMixcbiAgICAnICc6IDMyLFxuICAgICdQQUdFX1VQJzogMzMsXG4gICAgJ1BBR0VfRE9XTic6IDM0LFxuICAgICdFTkQnOiAzNSxcbiAgICAnSE9NRSc6IDM2LFxuICAgICdMRUZUX0FSUk9XJzogMzcsXG4gICAgJ0xFRlQnOiAzNyxcbiAgICAnVVBfQVJST1cnOiAzOCxcbiAgICAnVVAnOiAzOCxcbiAgICAnUklHSFRfQVJST1cnOiAzOSxcbiAgICAnUklHSFQnOiAzOSxcbiAgICAnRE9XTl9BUlJPVyc6IDQwLFxuICAgICdET1dOJzogNDAsXG4gICAgJ0lOU0VSVCc6IDQ1LFxuICAgICdERUxFVEUnOiA0NixcbiAgICAnMCc6IDQ4LFxuICAgICcxJzogNDksXG4gICAgJzInOiA1MCxcbiAgICAnMyc6IDUxLFxuICAgICc0JzogNTIsXG4gICAgJzUnOiA1MyxcbiAgICAnNic6IDU0LFxuICAgICc3JzogNTUsXG4gICAgJzgnOiA1NixcbiAgICAnOSc6IDU3LFxuICAgICdBJzogNjUsXG4gICAgJ0InOiA2NixcbiAgICAnQyc6IDY3LFxuICAgICdEJzogNjgsXG4gICAgJ0UnOiA2OSxcbiAgICAnRic6IDcwLFxuICAgICdHJzogNzEsXG4gICAgJ0gnOiA3MixcbiAgICAnSSc6IDczLFxuICAgICdKJzogNzQsXG4gICAgJ0snOiA3NSxcbiAgICAnTCc6IDc2LFxuICAgICdNJzogNzcsXG4gICAgJ04nOiA3OCxcbiAgICAnTyc6IDc5LFxuICAgICdQJzogODAsXG4gICAgJ1EnOiA4MSxcbiAgICAnUic6IDgyLFxuICAgICdTJzogODMsXG4gICAgJ1QnOiA4NCxcbiAgICAnVSc6IDg1LFxuICAgICdWJzogODYsXG4gICAgJ1cnOiA4NyxcbiAgICAnWCc6IDg4LFxuICAgICdZJzogODksXG4gICAgJ1onOiA5MCxcbiAgICAnME5VTVBBRCc6IDk2LFxuICAgICcxTlVNUEFEJzogOTcsXG4gICAgJzJOVU1QQUQnOiA5OCxcbiAgICAnM05VTVBBRCc6IDk5LFxuICAgICc0TlVNUEFEJzogMTAwLFxuICAgICc1TlVNUEFEJzogMTAxLFxuICAgICc2TlVNUEFEJzogMTAyLFxuICAgICc3TlVNUEFEJzogMTAzLFxuICAgICc4TlVNUEFEJzogMTA0LFxuICAgICc5TlVNUEFEJzogMTA1LFxuICAgICdNVUxUSVBMWSc6IDEwNixcbiAgICAnUExVUyc6IDEwNyxcbiAgICAnTUlOVVMnOiAxMDksXG4gICAgJ0RPVCc6IDExMCxcbiAgICAnU0xBU0gxJzogMTExLFxuICAgICdGMSc6IDExMixcbiAgICAnRjInOiAxMTMsXG4gICAgJ0YzJzogMTE0LFxuICAgICdGNCc6IDExNSxcbiAgICAnRjUnOiAxMTYsXG4gICAgJ0Y2JzogMTE3LFxuICAgICdGNyc6IDExOCxcbiAgICAnRjgnOiAxMTksXG4gICAgJ0Y5JzogMTIwLFxuICAgICdGMTAnOiAxMjEsXG4gICAgJ0YxMSc6IDEyMixcbiAgICAnRjEyJzogMTIzLFxuICAgICdFUVVBTCc6IDE4NyxcbiAgICAnQ09NTUEnOiAxODgsXG4gICAgJ1NMQVNIJzogMTkxLFxuICAgICdCQUNLU0xBU0gnOiAyMjBcbn07XG5cbi8qKlxuICogQW4gb2JqZWN0IHN0b3JpbmcgZGVwcmVjYXRlZCBrZXkgYWxpYXNlcywgd2hpY2ggd2Ugc3RpbGwgc3VwcG9ydCBidXRcbiAqIHNob3VsZCBiZSBtYXBwZWQgdG8gdmFsaWQgYWxpYXNlcyBhbmQgZ2VuZXJhdGUgd2FybmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwcm9wZXJ0eSBLRVlfREVQUkVDQVRJT05TXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5wNS5wcm90b3R5cGUuS0VZX0RFUFJFQ0FUSU9OUyA9IHtcbiAgJ01JTlVUJzogJ01JTlVTJyxcbiAgJ0NPTUEnOiAnQ09NTUEnXG59O1xuXG4vKipcbiAqIEdpdmVuIGEgc3RyaW5nIGtleSBhbGlhcyAoYXMgZGVmaW5lZCBpbiB0aGUgS0VZIHByb3BlcnR5IGFib3ZlKSwgbG9vayB1cFxuICogYW5kIHJldHVybiB0aGUgbnVtZXJpYyBKYXZhU2NyaXB0IGtleSBjb2RlIGZvciB0aGF0IGtleS4gIElmIGEgZGVwcmVjYXRlZFxuICogYWxpYXMgaXMgcGFzc2VkIChhcyBkZWZpbmVkIGluIHRoZSBLRVlfREVQUkVDQVRJT05TIHByb3BlcnR5KSBpdCB3aWxsIGJlXG4gKiBtYXBwZWQgdG8gYSB2YWxpZCBrZXkgY29kZSwgYnV0IHdpbGwgYWxzbyBnZW5lcmF0ZSBhIHdhcm5pbmcgYWJvdXQgdXNlXG4gKiBvZiB0aGUgZGVwcmVjYXRlZCBhbGlhcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCBfa2V5Q29kZUZyb21BbGlhc1xuICogQHBhcmFtIHshc3RyaW5nfSBhbGlhcyAtIGEgY2FzZS1pbnNlbnNpdGl2ZSBrZXkgYWxpYXNcbiAqIEByZXR1cm4ge251bWJlcnx1bmRlZmluZWR9IGEgbnVtZXJpYyBKYXZhU2NyaXB0IGtleSBjb2RlLCBvciB1bmRlZmluZWRcbiAqICAgICAgICAgIGlmIG5vIGtleSBjb2RlIG1hdGNoaW5nIHRoZSBnaXZlbiBhbGlhcyBpcyBmb3VuZC5cbiAqL1xucDUucHJvdG90eXBlLl9rZXlDb2RlRnJvbUFsaWFzID0gZnVuY3Rpb24oYWxpYXMpIHtcbiAgYWxpYXMgPSBhbGlhcy50b1VwcGVyQ2FzZSgpO1xuICBpZiAodGhpcy5LRVlfREVQUkVDQVRJT05TW2FsaWFzXSkge1xuICAgIHRoaXMuX3dhcm4oJ0tleSBsaXRlcmFsIFwiJyArIGFsaWFzICsgJ1wiIGlzIGRlcHJlY2F0ZWQgYW5kIG1heSBiZSByZW1vdmVkICcgK1xuICAgICAgJ2luIGEgZnV0dXJlIHZlcnNpb24gb2YgcDUucGxheS4gJyArXG4gICAgICAnUGxlYXNlIHVzZSBcIicgKyB0aGlzLktFWV9ERVBSRUNBVElPTlNbYWxpYXNdICsgJ1wiIGluc3RlYWQuJyk7XG4gICAgYWxpYXMgPSB0aGlzLktFWV9ERVBSRUNBVElPTlNbYWxpYXNdO1xuICB9XG4gIHJldHVybiB0aGlzLktFWVthbGlhc107XG59O1xuXG4vL3ByZSBkcmF3OiBkZXRlY3Qga2V5U3RhdGVzXG5wNS5wcm90b3R5cGUucmVhZFByZXNzZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGtleVN0YXRlcyA9IHRoaXMuX3A1cGxheS5rZXlTdGF0ZXM7XG4gIHZhciBtb3VzZVN0YXRlcyA9IHRoaXMuX3A1cGxheS5tb3VzZVN0YXRlcztcblxuICBmb3IgKHZhciBrZXkgaW4ga2V5U3RhdGVzKSB7XG4gICAgaWYodGhpcy5rZXlJc0Rvd24oa2V5KSkgLy9pZiBpcyBkb3duXG4gICAge1xuICAgICAgaWYoa2V5U3RhdGVzW2tleV0gPT09IEtFWV9JU19VUCkvL2FuZCB3YXMgdXBcbiAgICAgICAga2V5U3RhdGVzW2tleV0gPSBLRVlfV0VOVF9ET1dOO1xuICAgICAgZWxzZVxuICAgICAgICBrZXlTdGF0ZXNba2V5XSA9IEtFWV9JU19ET1dOOyAvL25vdyBpcyBzaW1wbHkgZG93blxuICAgIH1cbiAgICBlbHNlIC8vaWYgaXQncyB1cFxuICAgIHtcbiAgICAgIGlmKGtleVN0YXRlc1trZXldID09PSBLRVlfSVNfRE9XTikvL2FuZCB3YXMgdXBcbiAgICAgICAga2V5U3RhdGVzW2tleV0gPSBLRVlfV0VOVF9VUDtcbiAgICAgIGVsc2VcbiAgICAgICAga2V5U3RhdGVzW2tleV0gPSBLRVlfSVNfVVA7IC8vbm93IGlzIHNpbXBseSBkb3duXG4gICAgfVxuICB9XG5cbiAgLy9tb3VzZVxuICBmb3IgKHZhciBidG4gaW4gbW91c2VTdGF0ZXMpIHtcblxuICAgIGlmKHRoaXMubW91c2VJc1ByZXNzZWQgJiYgdGhpcy5tb3VzZUJ1dHRvbiA9PT0gYnRuKSAvL2lmIGlzIGRvd25cbiAgICB7XG4gICAgICBpZihtb3VzZVN0YXRlc1tidG5dID09PSBLRVlfSVNfVVApLy9hbmQgd2FzIHVwXG4gICAgICAgIG1vdXNlU3RhdGVzW2J0bl0gPSBLRVlfV0VOVF9ET1dOO1xuICAgICAgZWxzZVxuICAgICAgICBtb3VzZVN0YXRlc1tidG5dID0gS0VZX0lTX0RPV047IC8vbm93IGlzIHNpbXBseSBkb3duXG4gICAgfVxuICAgIGVsc2UgLy9pZiBpdCdzIHVwXG4gICAge1xuICAgICAgaWYobW91c2VTdGF0ZXNbYnRuXSA9PT0gS0VZX0lTX0RPV04pLy9hbmQgd2FzIHVwXG4gICAgICAgIG1vdXNlU3RhdGVzW2J0bl0gPSBLRVlfV0VOVF9VUDtcbiAgICAgIGVsc2VcbiAgICAgICAgbW91c2VTdGF0ZXNbYnRuXSA9IEtFWV9JU19VUDsgLy9ub3cgaXMgc2ltcGx5IGRvd25cbiAgICB9XG4gIH1cblxufTtcblxuLyoqXG4qIFR1cm5zIHRoZSBxdWFkVHJlZSBvbiBvciBvZmYuXG4qIEEgcXVhZHRyZWUgaXMgYSBkYXRhIHN0cnVjdHVyZSB1c2VkIHRvIG9wdGltaXplIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4qIEl0IGNhbiBpbXByb3ZlIHBlcmZvcm1hbmNlIHdoZW4gdGhlcmUgaXMgYSBsYXJnZSBudW1iZXIgb2YgU3ByaXRlcyB0byBiZVxuKiBjaGVja2VkIGNvbnRpbnVvdXNseSBmb3Igb3ZlcmxhcHBpbmcuXG4qXG4qIHA1LnBsYXkgd2lsbCBjcmVhdGUgYW5kIHVwZGF0ZSBhIHF1YWR0cmVlIGF1dG9tYXRpY2FsbHkuXG4qXG4qIEBtZXRob2QgdXNlUXVhZFRyZWVcbiogQHBhcmFtIHtCb29sZWFufSB1c2UgUGFzcyB0cnVlIHRvIGVuYWJsZSwgZmFsc2UgdG8gZGlzYWJsZVxuKi9cbnA1LnByb3RvdHlwZS51c2VRdWFkVHJlZSA9IGZ1bmN0aW9uKHVzZSkge1xuXG4gIGlmKHRoaXMucXVhZFRyZWUgIT09IHVuZGVmaW5lZClcbiAge1xuICAgIGlmKHVzZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuIHRoaXMucXVhZFRyZWUuYWN0aXZlO1xuICAgIGVsc2UgaWYodXNlKVxuICAgICAgdGhpcy5xdWFkVHJlZS5hY3RpdmUgPSB0cnVlO1xuICAgIGVsc2VcbiAgICAgIHRoaXMucXVhZFRyZWUuYWN0aXZlID0gZmFsc2U7XG4gIH1cbiAgZWxzZVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8vdGhlIGFjdHVhbCBxdWFkVHJlZVxuZGVmaW5lTGF6eVA1UHJvcGVydHkoJ3F1YWRUcmVlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUXVhZHRyZWUoe1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDBcbiAgfSwgNCk7XG59KTtcblxuLypcbi8vZnJhbWVyYXRlIGluZGVwZW5kZW50IGRlbHRhLCBkb2Vzbid0IHJlYWxseSB3b3JrXG5wNS5wcm90b3R5cGUuZGVsdGFUaW1lID0gMTtcblxudmFyIG5vdyA9IERhdGUubm93KCk7XG52YXIgdGhlbiA9IERhdGUubm93KCk7XG52YXIgSU5URVJWQUxfNjAgPSAwLjAxNjY2NjY7IC8vNjAgZnBzXG5cbmZ1bmN0aW9uIHVwZGF0ZURlbHRhKCkge1xudGhlbiA9IG5vdztcbm5vdyA9IERhdGUubm93KCk7XG5kZWx0YVRpbWUgPSAoKG5vdyAtIHRoZW4pIC8gMTAwMCkvSU5URVJWQUxfNjA7IC8vIHNlY29uZHMgc2luY2UgbGFzdCBmcmFtZVxufVxuKi9cblxuLyoqXG4gICAqIEEgU3ByaXRlIGlzIHRoZSBtYWluIGJ1aWxkaW5nIGJsb2NrIG9mIHA1LnBsYXk6XG4gICAqIGFuIGVsZW1lbnQgYWJsZSB0byBzdG9yZSBpbWFnZXMgb3IgYW5pbWF0aW9ucyB3aXRoIGEgc2V0IG9mXG4gICAqIHByb3BlcnRpZXMgc3VjaCBhcyBwb3NpdGlvbiBhbmQgdmlzaWJpbGl0eS5cbiAgICogQSBTcHJpdGUgY2FuIGhhdmUgYSBjb2xsaWRlciB0aGF0IGRlZmluZXMgdGhlIGFjdGl2ZSBhcmVhIHRvIGRldGVjdFxuICAgKiBjb2xsaXNpb25zIG9yIG92ZXJsYXBwaW5ncyB3aXRoIG90aGVyIHNwcml0ZXMgYW5kIG1vdXNlIGludGVyYWN0aW9ucy5cbiAgICpcbiAgICogVG8gY3JlYXRlIGEgU3ByaXRlLCB1c2VcbiAgICoge3sjY3Jvc3NMaW5rIFwicDUucGxheS9jcmVhdGVTcHJpdGU6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319LlxuICAgKlxuICAgKiBAY2xhc3MgU3ByaXRlXG4gICAqL1xuXG4vLyBGb3IgZGV0YWlscyBvbiB3aHkgdGhlc2UgZG9jcyBhcmVuJ3QgaW4gYSBZVUlEb2MgY29tbWVudCBibG9jaywgc2VlOlxuLy9cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb2xsZWluZHVzdHJpYS9wNS5wbGF5L3B1bGwvNjdcbi8vXG4vLyBAcGFyYW0ge051bWJlcn0geCBJbml0aWFsIHggY29vcmRpbmF0ZVxuLy8gQHBhcmFtIHtOdW1iZXJ9IHkgSW5pdGlhbCB5IGNvb3JkaW5hdGVcbi8vIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgcGxhY2Vob2xkZXIgcmVjdGFuZ2xlIGFuZCBvZiB0aGVcbi8vICAgICAgICAgICAgICAgICAgICAgICBjb2xsaWRlciB1bnRpbCBhbiBpbWFnZSBvciBuZXcgY29sbGlkZXIgYXJlIHNldFxuLy8gQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIHBsYWNlaG9sZGVyIHJlY3RhbmdsZSBhbmQgb2YgdGhlXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpZGVyIHVudGlsIGFuIGltYWdlIG9yIG5ldyBjb2xsaWRlciBhcmUgc2V0XG5mdW5jdGlvbiBTcHJpdGUocEluc3QsIF94LCBfeSwgX3csIF9oKSB7XG4gIHZhciBwSW5zdEJpbmQgPSBjcmVhdGVQSW5zdEJpbmRlcihwSW5zdCk7XG5cbiAgdmFyIGNyZWF0ZVZlY3RvciA9IHBJbnN0QmluZCgnY3JlYXRlVmVjdG9yJyk7XG4gIHZhciBjb2xvciA9IHBJbnN0QmluZCgnY29sb3InKTtcbiAgdmFyIHJhbmRvbSA9IHBJbnN0QmluZCgncmFuZG9tJyk7XG4gIHZhciBwcmludCA9IHBJbnN0QmluZCgncHJpbnQnKTtcbiAgdmFyIHB1c2ggPSBwSW5zdEJpbmQoJ3B1c2gnKTtcbiAgdmFyIHBvcCA9IHBJbnN0QmluZCgncG9wJyk7XG4gIHZhciBjb2xvck1vZGUgPSBwSW5zdEJpbmQoJ2NvbG9yTW9kZScpO1xuICB2YXIgbm9TdHJva2UgPSBwSW5zdEJpbmQoJ25vU3Ryb2tlJyk7XG4gIHZhciByZWN0TW9kZSA9IHBJbnN0QmluZCgncmVjdE1vZGUnKTtcbiAgdmFyIGVsbGlwc2VNb2RlID0gcEluc3RCaW5kKCdlbGxpcHNlTW9kZScpO1xuICB2YXIgaW1hZ2VNb2RlID0gcEluc3RCaW5kKCdpbWFnZU1vZGUnKTtcbiAgdmFyIHRyYW5zbGF0ZSA9IHBJbnN0QmluZCgndHJhbnNsYXRlJyk7XG4gIHZhciBzY2FsZSA9IHBJbnN0QmluZCgnc2NhbGUnKTtcbiAgdmFyIHJvdGF0ZSA9IHBJbnN0QmluZCgncm90YXRlJyk7XG4gIHZhciBzdHJva2UgPSBwSW5zdEJpbmQoJ3N0cm9rZScpO1xuICB2YXIgc3Ryb2tlV2VpZ2h0ID0gcEluc3RCaW5kKCdzdHJva2VXZWlnaHQnKTtcbiAgdmFyIGxpbmUgPSBwSW5zdEJpbmQoJ2xpbmUnKTtcbiAgdmFyIG5vRmlsbCA9IHBJbnN0QmluZCgnbm9GaWxsJyk7XG4gIHZhciBmaWxsID0gcEluc3RCaW5kKCdmaWxsJyk7XG4gIHZhciB0ZXh0QWxpZ24gPSBwSW5zdEJpbmQoJ3RleHRBbGlnbicpO1xuICB2YXIgdGV4dFNpemUgPSBwSW5zdEJpbmQoJ3RleHRTaXplJyk7XG4gIHZhciB0ZXh0ID0gcEluc3RCaW5kKCd0ZXh0Jyk7XG4gIHZhciByZWN0ID0gcEluc3RCaW5kKCdyZWN0Jyk7XG4gIHZhciBjb3MgPSBwSW5zdEJpbmQoJ2NvcycpO1xuICB2YXIgc2luID0gcEluc3RCaW5kKCdzaW4nKTtcbiAgdmFyIGF0YW4yID0gcEluc3RCaW5kKCdhdGFuMicpO1xuXG4gIHZhciBxdWFkVHJlZSA9IHBJbnN0LnF1YWRUcmVlO1xuICB2YXIgY2FtZXJhID0gcEluc3QuY2FtZXJhO1xuXG5cbiAgLy8gVGhlc2UgYXJlIHA1IGNvbnN0YW50cyB0aGF0IHdlJ2QgbGlrZSBlYXN5IGFjY2VzcyB0by5cbiAgdmFyIFJHQiA9IHA1LnByb3RvdHlwZS5SR0I7XG4gIHZhciBDRU5URVIgPSBwNS5wcm90b3R5cGUuQ0VOVEVSO1xuICB2YXIgTEVGVCA9IHA1LnByb3RvdHlwZS5MRUZUO1xuICB2YXIgQk9UVE9NID0gcDUucHJvdG90eXBlLkJPVFRPTTtcblxuICAvKipcbiAgKiBUaGUgc3ByaXRlJ3MgcG9zaXRpb24gb2YgdGhlIHNwcml0ZSBhcyBhIHZlY3RvciAoeCx5KS5cbiAgKiBAcHJvcGVydHkgcG9zaXRpb25cbiAgKiBAdHlwZSB7cDUuVmVjdG9yfVxuICAqL1xuICB0aGlzLnBvc2l0aW9uID0gY3JlYXRlVmVjdG9yKF94LCBfeSk7XG5cbiAgLyoqXG4gICogVGhlIHNwcml0ZSdzIHBvc2l0aW9uIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxhc3QgdXBkYXRlIGFzIGEgdmVjdG9yICh4LHkpLlxuICAqIEBwcm9wZXJ0eSBwcmV2aW91c1Bvc2l0aW9uXG4gICogQHR5cGUge3A1LlZlY3Rvcn1cbiAgKi9cbiAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gY3JlYXRlVmVjdG9yKF94LCBfeSk7XG5cbiAgLypcbiAgVGhlIHNwcml0ZSdzIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIGxhc3QgdXBkYXRlIGFzIGEgdmVjdG9yICh4LHkpLlxuICBOb3RlOiB0aGlzIHdpbGwgZGlmZmVyIGZyb20gcG9zaXRpb24gd2hlbmV2ZXIgdGhlIHBvc2l0aW9uIGlzIGNoYW5nZWRcbiAgZGlyZWN0bHkgYnkgYXNzaWdubWVudC5cbiAgKi9cbiAgdGhpcy5uZXdQb3NpdGlvbiA9IGNyZWF0ZVZlY3RvcihfeCwgX3kpO1xuXG4gIC8vUG9zaXRpb24gZGlzcGxhY2VtZW50IG9uIHRoZSB4IGNvb3JkaW5hdGUgc2luY2UgdGhlIGxhc3QgdXBkYXRlXG4gIHRoaXMuZGVsdGFYID0gMDtcbiAgdGhpcy5kZWx0YVkgPSAwO1xuXG4gIC8qKlxuICAqIFRoZSBzcHJpdGUncyB2ZWxvY2l0eSBhcyBhIHZlY3RvciAoeCx5KVxuICAqIFZlbG9jaXR5IGlzIHNwZWVkIGJyb2tlbiBkb3duIHRvIGl0cyB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBjb21wb25lbnRzLlxuICAqXG4gICogQHByb3BlcnR5IHZlbG9jaXR5XG4gICogQHR5cGUge3A1LlZlY3Rvcn1cbiAgKi9cbiAgdGhpcy52ZWxvY2l0eSA9IGNyZWF0ZVZlY3RvcigwLCAwKTtcblxuICAvKipcbiAgKiBTZXQgYSBsaW1pdCB0byB0aGUgc3ByaXRlJ3Mgc2NhbGFyIHNwZWVkIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbi5cbiAgKiBUaGUgdmFsdWUgY2FuIG9ubHkgYmUgcG9zaXRpdmUuIElmIHNldCB0byAtMSwgdGhlcmUncyBubyBsaW1pdC5cbiAgKlxuICAqIEBwcm9wZXJ0eSBtYXhTcGVlZFxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICogQGRlZmF1bHQgLTFcbiAgKi9cbiAgdGhpcy5tYXhTcGVlZCA9IC0xO1xuXG4gIC8qKlxuICAqIEZyaWN0aW9uIGZhY3RvciwgcmVkdWNlcyB0aGUgc3ByaXRlJ3MgdmVsb2NpdHkuXG4gICogVGhlIGZyaWN0aW9uIHNob3VsZCBiZSBjbG9zZSB0byAwIChlZy4gMC4wMSlcbiAgKiAwOiBubyBmcmljdGlvblxuICAqIDE6IGZ1bGwgZnJpY3Rpb25cbiAgKlxuICAqIEBwcm9wZXJ0eSBmcmljdGlvblxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICogQGRlZmF1bHQgMFxuICAqL1xuICB0aGlzLmZyaWN0aW9uID0gMDtcblxuICAvKipcbiAgKiBUaGUgc3ByaXRlJ3MgY3VycmVudCBjb2xsaWRlci5cbiAgKiBJdCBjYW4gZWl0aGVyIGJlIGFuIEF4aXMgQWxpZ25lZCBCb3VuZGluZyBCb3ggKGEgbm9uLXJvdGF0ZWQgcmVjdGFuZ2xlKVxuICAqIG9yIGEgY2lyY3VsYXIgY29sbGlkZXIuXG4gICogSWYgdGhlIHNwcml0ZSBpcyBjaGVja2VkIGZvciBjb2xsaXNpb24sIGJvdW5jZSwgb3ZlcmxhcHBpbmcgb3IgbW91c2UgZXZlbnRzIHRoZVxuICAqIGNvbGxpZGVyIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBmcm9tIHRoZSB3aWR0aCBhbmQgaGVpZ2h0XG4gICogb2YgdGhlIHNwcml0ZSBvciBmcm9tIHRoZSBpbWFnZSBkaW1lbnNpb24gaW4gY2FzZSBvZiBhbmltYXRlIHNwcml0ZXNcbiAgKlxuICAqIFlvdSBjYW4gc2V0IGEgY3VzdG9tIGNvbGxpZGVyIHdpdGggU3ByaXRlLnNldENvbGxpZGVyXG4gICpcbiAgKiBAcHJvcGVydHkgY29sbGlkZXJcbiAgKiBAdHlwZSB7T2JqZWN0fVxuICAqL1xuICB0aGlzLmNvbGxpZGVyID0gdW5kZWZpbmVkO1xuXG4gIC8vaW50ZXJuYWwgdXNlXG4gIC8vXCJkZWZhdWx0XCIgLSBubyBpbWFnZSBvciBjdXN0b20gY29sbGlkZXIgaXMgc3BlY2lmaWVkLCB1c2UgdGhlIHNoYXBlIHdpZHRoIC8gaGVpZ2h0XG4gIC8vXCJjdXN0b21cIiAtIHNwZWNpZmllZCB3aXRoIHNldENvbGxpZGVyXG4gIC8vXCJpbWFnZVwiIC0gbm8gY29sbGlkZXIgaXMgc2V0IHdpdGggc2V0Q29sbGlkZXIgYW5kIGFuIGltYWdlIGlzIGFkZGVkXG4gIHRoaXMuY29sbGlkZXJUeXBlID0gJ25vbmUnO1xuXG4gIC8qKlxuICAqIE9iamVjdCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtb3N0IHJlY2VudCBjb2xsaXNpb24vb3ZlcmxhcHBpbmdcbiAgKiBUbyBiZSB0eXBpY2FsbHkgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIFNwcml0ZS5vdmVybGFwIG9yIFNwcml0ZS5jb2xsaWRlXG4gICogZnVuY3Rpb25zLlxuICAqIFRoZSBwcm9wZXJ0aWVzIGFyZSB0b3VjaGluZy5sZWZ0LCB0b3VjaGluZy5yaWdodCwgdG91Y2hpbmcudG9wLFxuICAqIHRvdWNoaW5nLmJvdHRvbSBhbmQgYXJlIGVpdGhlciB0cnVlIG9yIGZhbHNlIGRlcGVuZGluZyBvbiB0aGUgc2lkZSBvZiB0aGVcbiAgKiBjb2xsaWRlci5cbiAgKlxuICAqIEBwcm9wZXJ0eSB0b3VjaGluZ1xuICAqIEB0eXBlIHtPYmplY3R9XG4gICovXG4gIHRoaXMudG91Y2hpbmcgPSB7fTtcbiAgdGhpcy50b3VjaGluZy5sZWZ0ID0gZmFsc2U7XG4gIHRoaXMudG91Y2hpbmcucmlnaHQgPSBmYWxzZTtcbiAgdGhpcy50b3VjaGluZy50b3AgPSBmYWxzZTtcbiAgdGhpcy50b3VjaGluZy5ib3R0b20gPSBmYWxzZTtcblxuICAvKipcbiAgKiBUaGUgbWFzcyBkZXRlcm1pbmVzIHRoZSB2ZWxvY2l0eSB0cmFuc2ZlciB3aGVuIHNwcml0ZXMgYm91bmNlXG4gICogYWdhaW5zdCBlYWNoIG90aGVyLiBTZWUgU3ByaXRlLmJvdW5jZVxuICAqIFRoZSBoaWdoZXIgdGhlIG1hc3MgdGhlIGxlYXN0IHRoZSBzcHJpdGUgd2lsbCBiZSBhZmZlY3RlZCBieSBjb2xsaXNpb25zLlxuICAqXG4gICogQHByb3BlcnR5IG1hc3NcbiAgKiBAdHlwZSB7TnVtYmVyfVxuICAqIEBkZWZhdWx0IDFcbiAgKi9cbiAgdGhpcy5tYXNzID0gMTtcblxuICAvKipcbiAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgc3ByaXRlIHdvbid0IGJvdW5jZSBvciBiZSBkaXNwbGFjZWQgYnkgY29sbGlzaW9uc1xuICAqIFNpbXVsYXRlcyBhbiBpbmZpbml0ZSBtYXNzIG9yIGFuIGFuY2hvcmVkIG9iamVjdC5cbiAgKlxuICAqIEBwcm9wZXJ0eSBpbW1vdmFibGVcbiAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgKiBAZGVmYXVsdCBmYWxzZVxuICAqL1xuICB0aGlzLmltbW92YWJsZSA9IGZhbHNlO1xuXG4gIC8vQ29lZmZpY2llbnQgb2YgcmVzdGl0dXRpb24gLSB2ZWxvY2l0eSBsb3N0IGluIHRoZSBib3VuY2luZ1xuICAvLzAgcGVyZmVjdGx5IGluZWxhc3RpYyAsIDEgZWxhc3RpYywgPiAxIGh5cGVyIGVsYXN0aWNcblxuICAvKipcbiAgKiBDb2VmZmljaWVudCBvZiByZXN0aXR1dGlvbi4gVGhlIHZlbG9jaXR5IGxvc3QgYWZ0ZXIgYm91bmNpbmcuXG4gICogMTogcGVyZmVjdGx5IGVsYXN0aWMsIG5vIGVuZXJneSBpcyBsb3N0XG4gICogMDogcGVyZmVjdGx5IGluZWxhc3RpYywgbm8gYm91bmNpbmdcbiAgKiBsZXNzIHRoYW4gMTogaW5lbGFzdGljLCB0aGlzIGlzIHRoZSBtb3N0IGNvbW1vbiBpbiBuYXR1cmVcbiAgKiBncmVhdGVyIHRoYW4gMTogaHlwZXIgZWxhc3RpYywgZW5lcmd5IGlzIGluY3JlYXNlZCBsaWtlIGluIGEgcGluYmFsbCBidW1wZXJcbiAgKlxuICAqIEBwcm9wZXJ0eSByZXN0aXR1dGlvblxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICogQGRlZmF1bHQgMVxuICAqL1xuICB0aGlzLnJlc3RpdHV0aW9uID0gMTtcblxuICAvKipcbiAgKiBSb3RhdGlvbiBpbiBkZWdyZWVzIG9mIHRoZSB2aXN1YWwgZWxlbWVudCAoaW1hZ2Ugb3IgYW5pbWF0aW9uKVxuICAqIE5vdGU6IHRoaXMgaXMgbm90IHRoZSBtb3ZlbWVudCdzIGRpcmVjdGlvbiwgc2VlIGdldERpcmVjdGlvbi5cbiAgKlxuICAqIEBwcm9wZXJ0eSByb3RhdGlvblxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICogQGRlZmF1bHQgMFxuICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JvdGF0aW9uJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICBpZiAodGhpcy5yb3RhdGVUb0RpcmVjdGlvbikge1xuICAgICAgICB0aGlzLnNldFNwZWVkKHRoaXMuZ2V0U3BlZWQoKSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICogSW50ZXJuYWwgcm90YXRpb24gdmFyaWFibGUgKGV4cHJlc3NlZCBpbiBkZWdyZWVzKS5cbiAgKiBOb3RlOiBleHRlcm5hbCBjYWxsZXJzIGFjY2VzcyB0aGlzIHRocm91Z2ggdGhlIHJvdGF0aW9uIHByb3BlcnR5IGFib3ZlLlxuICAqXG4gICogQHByaXZhdGVcbiAgKiBAcHJvcGVydHkgX3JvdGF0aW9uXG4gICogQHR5cGUge051bWJlcn1cbiAgKiBAZGVmYXVsdCAwXG4gICovXG4gIHRoaXMuX3JvdGF0aW9uID0gMDtcblxuICAvKipcbiAgKiBSb3RhdGlvbiBjaGFuZ2UgaW4gZGVncmVlcyBwZXIgZnJhbWUgb2YgdGhldmlzdWFsIGVsZW1lbnQgKGltYWdlIG9yIGFuaW1hdGlvbilcbiAgKiBOb3RlOiB0aGlzIGlzIG5vdCB0aGUgbW92ZW1lbnQncyBkaXJlY3Rpb24sIHNlZSBnZXREaXJlY3Rpb24uXG4gICpcbiAgKiBAcHJvcGVydHkgcm90YXRpb25TcGVlZFxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICogQGRlZmF1bHQgMFxuICAqL1xuICB0aGlzLnJvdGF0aW9uU3BlZWQgPSAwO1xuXG5cbiAgLyoqXG4gICogQXV0b21hdGljYWxseSBsb2NrIHRoZSByb3RhdGlvbiBwcm9wZXJ0eSBvZiB0aGUgdmlzdWFsIGVsZW1lbnRcbiAgKiAoaW1hZ2Ugb3IgYW5pbWF0aW9uKSB0byB0aGUgc3ByaXRlJ3MgbW92ZW1lbnQgZGlyZWN0aW9uIGFuZCB2aWNlIHZlcnNhLlxuICAqXG4gICogQHByb3BlcnR5IHJvdGF0ZVRvRGlyZWN0aW9uXG4gICogQHR5cGUge0Jvb2xlYW59XG4gICogQGRlZmF1bHQgZmFsc2VcbiAgKi9cbiAgdGhpcy5yb3RhdGVUb0RpcmVjdGlvbiA9IGZhbHNlO1xuXG5cbiAgLyoqXG4gICogRGV0ZXJtaW5lcyB0aGUgcmVuZGVyaW5nIG9yZGVyIHdpdGhpbiBhIGdyb3VwOiBhIHNwcml0ZSB3aXRoXG4gICogbG93ZXIgZGVwdGggd2lsbCBhcHBlYXIgYmVsb3cgdGhlIG9uZXMgd2l0aCBoaWdoZXIgZGVwdGguXG4gICpcbiAgKiBOb3RlOiBkcmF3aW5nIGEgZ3JvdXAgYmVmb3JlIGFub3RoZXIgd2l0aCBkcmF3U3ByaXRlcyB3aWxsIG1ha2VcbiAgKiBpdHMgbWVtYmVycyBhcHBlYXIgYmVsb3cgdGhlIHNlY29uZCBvbmUsIGxpa2UgaW4gbm9ybWFsIHA1IGNhbnZhc1xuICAqIGRyYXdpbmcuXG4gICpcbiAgKiBAcHJvcGVydHkgZGVwdGhcbiAgKiBAdHlwZSB7TnVtYmVyfVxuICAqIEBkZWZhdWx0IE9uZSBtb3JlIHRoYW4gdGhlIGdyZWF0ZXN0IGV4aXN0aW5nIHNwcml0ZSBkZXB0aCwgd2hlbiBjYWxsaW5nXG4gICogICAgICAgICAgY3JlYXRlU3ByaXRlKCkuICBXaGVuIGNhbGxpbmcgbmV3IFNwcml0ZSgpIGRpcmVjdGx5LCBkZXB0aCB3aWxsXG4gICogICAgICAgICAgaW5pdGlhbGl6ZSB0byAwIChub3QgcmVjb21tZW5kZWQpLlxuICAqL1xuICB0aGlzLmRlcHRoID0gMDtcblxuICAvKipcbiAgKiBEZXRlcm1pbmVzIHRoZSBzcHJpdGUncyBzY2FsZS5cbiAgKiBFeGFtcGxlOiAyIHdpbGwgYmUgdHdpY2UgdGhlIG5hdGl2ZSBzaXplIG9mIHRoZSB2aXN1YWxzLFxuICAqIDAuNSB3aWxsIGJlIGhhbGYuIFNjYWxpbmcgdXAgbWF5IG1ha2UgaW1hZ2VzIGJsdXJyeS5cbiAgKlxuICAqIEBwcm9wZXJ0eSBzY2FsZVxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICogQGRlZmF1bHQgMVxuICAqL1xuICB0aGlzLnNjYWxlID0gMTtcblxuICB2YXIgZGlyWCA9IDE7XG4gIHZhciBkaXJZID0gMTtcblxuICAvKipcbiAgKiBUaGUgc3ByaXRlJ3MgdmlzaWJpbGl0eS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB2aXNpYmxlXG4gICogQHR5cGUge0Jvb2xlYW59XG4gICogQGRlZmF1bHQgdHJ1ZVxuICAqL1xuICB0aGlzLnZpc2libGUgPSB0cnVlO1xuXG4gIC8qKlxuICAqIElmIHNldCB0byB0cnVlIHNwcml0ZSB3aWxsIHRyYWNrIGl0cyBtb3VzZSBzdGF0ZS5cbiAgKiB0aGUgcHJvcGVydGllcyBtb3VzZUlzUHJlc3NlZCBhbmQgbW91c2VJc092ZXIgd2lsbCBiZSB1cGRhdGVkLlxuICAqIE5vdGU6IGF1dG9tYXRpY2FsbHkgc2V0IHRvIHRydWUgaWYgdGhlIGZ1bmN0aW9uc1xuICAqIG9uTW91c2VSZWxlYXNlZCBvciBvbk1vdXNlUHJlc3NlZCBhcmUgc2V0LlxuICAqXG4gICogQHByb3BlcnR5IG1vdXNlQWN0aXZlXG4gICogQHR5cGUge0Jvb2xlYW59XG4gICogQGRlZmF1bHQgZmFsc2VcbiAgKi9cbiAgdGhpcy5tb3VzZUFjdGl2ZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAqIFRydWUgaWYgbW91c2UgaXMgb24gdGhlIHNwcml0ZSdzIGNvbGxpZGVyLlxuICAqIFJlYWQgb25seS5cbiAgKlxuICAqIEBwcm9wZXJ0eSBtb3VzZUlzT3ZlclxuICAqIEB0eXBlIHtCb29sZWFufVxuICAqL1xuICB0aGlzLm1vdXNlSXNPdmVyID0gZmFsc2U7XG5cbiAgLyoqXG4gICogVHJ1ZSBpZiBtb3VzZSBpcyBwcmVzc2VkIG9uIHRoZSBzcHJpdGUncyBjb2xsaWRlci5cbiAgKiBSZWFkIG9ubHkuXG4gICpcbiAgKiBAcHJvcGVydHkgbW91c2VJc1ByZXNzZWRcbiAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgKi9cbiAgdGhpcy5tb3VzZUlzUHJlc3NlZCA9IGZhbHNlO1xuXG4gIC8qXG4gICogV2lkdGggb2YgdGhlIHNwcml0ZSdzIGN1cnJlbnQgaW1hZ2UuXG4gICogSWYgbm8gaW1hZ2VzIG9yIGFuaW1hdGlvbnMgYXJlIHNldCBpdCdzIHRoZSB3aWR0aCBvZiB0aGVcbiAgKiBwbGFjZWhvbGRlciByZWN0YW5nbGUuXG4gICogVXNlZCBpbnRlcm5hbGx5IHRvIG1ha2UgY2FsY3VsYXRpb25zIGFuZCBkcmF3IHRoZSBzcHJpdGUuXG4gICpcbiAgKiBAcHJpdmF0ZVxuICAqIEBwcm9wZXJ0eSBfaW50ZXJuYWxXaWR0aFxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICogQGRlZmF1bHQgMTAwXG4gICovXG4gIHRoaXMuX2ludGVybmFsV2lkdGggPSBfdztcblxuICAvKlxuICAqIEhlaWdodCBvZiB0aGUgc3ByaXRlJ3MgY3VycmVudCBpbWFnZS5cbiAgKiBJZiBubyBpbWFnZXMgb3IgYW5pbWF0aW9ucyBhcmUgc2V0IGl0J3MgdGhlIGhlaWdodCBvZiB0aGVcbiAgKiBwbGFjZWhvbGRlciByZWN0YW5nbGUuXG4gICogVXNlZCBpbnRlcm5hbGx5IHRvIG1ha2UgY2FsY3VsYXRpb25zIGFuZCBkcmF3IHRoZSBzcHJpdGUuXG4gICpcbiAgKiBAcHJpdmF0ZVxuICAqIEBwcm9wZXJ0eSBfaW50ZXJuYWxIZWlnaHRcbiAgKiBAdHlwZSB7TnVtYmVyfVxuICAqIEBkZWZhdWx0IDEwMFxuICAqL1xuICB0aGlzLl9pbnRlcm5hbEhlaWdodCA9IF9oO1xuXG4gIC8qXG4gICAqIF9pbnRlcm5hbFdpZHRoIGFuZCBfaW50ZXJuYWxIZWlnaHQgYXJlIHVzZWQgZm9yIGFsbCBwNS5wbGF5XG4gICAqIGNhbGN1bGF0aW9ucywgYnV0IHdpZHRoIGFuZCBoZWlnaHQgY2FuIGJlIGV4dGVuZGVkLiBGb3IgZXhhbXBsZSxcbiAgICogeW91IG1heSB3YW50IHVzZXJzIHRvIGFsd2F5cyBnZXQgYW5kIHNldCBhIHNjYWxlZCB3aWR0aDpcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnd2lkdGgnLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxXaWR0aCAqIHRoaXMuc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB0aGlzLl9pbnRlcm5hbFdpZHRoID0gdmFsdWUgLyB0aGlzLnNjYWxlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICovXG5cbiAgLyoqXG4gICogV2lkdGggb2YgdGhlIHNwcml0ZSdzIGN1cnJlbnQgaW1hZ2UuXG4gICogSWYgbm8gaW1hZ2VzIG9yIGFuaW1hdGlvbnMgYXJlIHNldCBpdCdzIHRoZSB3aWR0aCBvZiB0aGVcbiAgKiBwbGFjZWhvbGRlciByZWN0YW5nbGUuXG4gICpcbiAgKiBAcHJvcGVydHkgd2lkdGhcbiAgKiBAdHlwZSB7TnVtYmVyfVxuICAqIEBkZWZhdWx0IDEwMFxuICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3dpZHRoJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxXaWR0aDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHRoaXMuX2ludGVybmFsV2lkdGggPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmKF93ID09PSB1bmRlZmluZWQpXG4gICAgdGhpcy53aWR0aCA9IDEwMDtcbiAgZWxzZVxuICAgIHRoaXMud2lkdGggPSBfdztcblxuICAvKipcbiAgKiBIZWlnaHQgb2YgdGhlIHNwcml0ZSdzIGN1cnJlbnQgaW1hZ2UuXG4gICogSWYgbm8gaW1hZ2VzIG9yIGFuaW1hdGlvbnMgYXJlIHNldCBpdCdzIHRoZSBoZWlnaHQgb2YgdGhlXG4gICogcGxhY2Vob2xkZXIgcmVjdGFuZ2xlLlxuICAqXG4gICogQHByb3BlcnR5IGhlaWdodFxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICogQGRlZmF1bHQgMTAwXG4gICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaGVpZ2h0Jywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxIZWlnaHQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB0aGlzLl9pbnRlcm5hbEhlaWdodCA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYoX2ggPT09IHVuZGVmaW5lZClcbiAgICB0aGlzLmhlaWdodCA9IDEwMDtcbiAgZWxzZVxuICAgIHRoaXMuaGVpZ2h0ID0gX2g7XG5cbiAgLyoqXG4gICogVW5zY2FsZWQgd2lkdGggb2YgdGhlIHNwcml0ZVxuICAqIElmIG5vIGltYWdlcyBvciBhbmltYXRpb25zIGFyZSBzZXQgaXQncyB0aGUgd2lkdGggb2YgdGhlXG4gICogcGxhY2Vob2xkZXIgcmVjdGFuZ2xlLlxuICAqXG4gICogQHByb3BlcnR5IG9yaWdpbmFsV2lkdGhcbiAgKiBAdHlwZSB7TnVtYmVyfVxuICAqIEBkZWZhdWx0IDEwMFxuICAqL1xuICB0aGlzLm9yaWdpbmFsV2lkdGggPSB0aGlzLl9pbnRlcm5hbFdpZHRoO1xuXG4gIC8qKlxuICAqIFVuc2NhbGVkIGhlaWdodCBvZiB0aGUgc3ByaXRlXG4gICogSWYgbm8gaW1hZ2VzIG9yIGFuaW1hdGlvbnMgYXJlIHNldCBpdCdzIHRoZSBoZWlnaHQgb2YgdGhlXG4gICogcGxhY2Vob2xkZXIgcmVjdGFuZ2xlLlxuICAqXG4gICogQHByb3BlcnR5IG9yaWdpbmFsSGVpZ2h0XG4gICogQHR5cGUge051bWJlcn1cbiAgKiBAZGVmYXVsdCAxMDBcbiAgKi9cbiAgdGhpcy5vcmlnaW5hbEhlaWdodCA9IHRoaXMuX2ludGVybmFsSGVpZ2h0O1xuXG4gIC8qKlxuICAqIFRydWUgaWYgdGhlIHNwcml0ZSBoYXMgYmVlbiByZW1vdmVkLlxuICAqXG4gICogQHByb3BlcnR5IHJlbW92ZWRcbiAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgKi9cbiAgdGhpcy5yZW1vdmVkID0gZmFsc2U7XG5cbiAgLyoqXG4gICogQ3ljbGVzIGJlZm9yZSBzZWxmIHJlbW92YWwuXG4gICogU2V0IGl0IHRvIGluaXRpYXRlIGEgY291bnRkb3duLCBldmVyeSBkcmF3IGN5Y2xlIHRoZSBwcm9wZXJ0eSBpc1xuICAqIHJlZHVjZWQgYnkgMSB1bml0LiBBdCAwIGl0IHdpbGwgY2FsbCBhIHNwcml0ZS5yZW1vdmUoKVxuICAqIERpc2FibGVkIGlmIHNldCB0byAtMS5cbiAgKlxuICAqIEBwcm9wZXJ0eSBsaWZlXG4gICogQHR5cGUge051bWJlcn1cbiAgKiBAZGVmYXVsdCAtMVxuICAqL1xuICB0aGlzLmxpZmUgPSAtMTtcblxuICAvKipcbiAgKiBJZiBzZXQgdG8gdHJ1ZSwgZHJhd3MgYW4gb3V0bGluZSBvZiB0aGUgY29sbGlkZXIsIHRoZSBkZXB0aCwgYW5kIGNlbnRlci5cbiAgKlxuICAqIEBwcm9wZXJ0eSBkZWJ1Z1xuICAqIEB0eXBlIHtCb29sZWFufVxuICAqIEBkZWZhdWx0IGZhbHNlXG4gICovXG4gIHRoaXMuZGVidWcgPSBmYWxzZTtcblxuICAvKipcbiAgKiBJZiBubyBpbWFnZSBvciBhbmltYXRpb25zIGFyZSBzZXQgdGhpcyBpcyBjb2xvciBvZiB0aGVcbiAgKiBwbGFjZWhvbGRlciByZWN0YW5nbGVcbiAgKlxuICAqIEBwcm9wZXJ0eSBzaGFwZUNvbG9yXG4gICogQHR5cGUge2NvbG9yfVxuICAqL1xuICB0aGlzLnNoYXBlQ29sb3IgPSBjb2xvcihyYW5kb20oMjU1KSwgcmFuZG9tKDI1NSksIHJhbmRvbSgyNTUpKTtcblxuICAvKipcbiAgKiBHcm91cHMgdGhlIHNwcml0ZSBiZWxvbmdzIHRvLCBpbmNsdWRpbmcgYWxsU3ByaXRlc1xuICAqXG4gICogQHByb3BlcnR5IGdyb3Vwc1xuICAqIEB0eXBlIHtBcnJheX1cbiAgKi9cbiAgdGhpcy5ncm91cHMgPSBbXTtcblxuICB2YXIgYW5pbWF0aW9ucyA9IHt9O1xuXG4gIC8vVGhlIGN1cnJlbnQgYW5pbWF0aW9uJ3MgbGFiZWwuXG4gIHZhciBjdXJyZW50QW5pbWF0aW9uID0gJyc7XG5cbiAgLyoqXG4gICogUmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IGFuaW1hdGlvbi5cbiAgKlxuICAqIEBwcm9wZXJ0eSBhbmltYXRpb25cbiAgKiBAdHlwZSB7QW5pbWF0aW9ufVxuICAqL1xuICB0aGlzLmFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcblxuICAvKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBLZWVwIGFuaW1hdGlvbiBwcm9wZXJ0aWVzIGluIHN5bmMgd2l0aCBob3cgdGhlIGFuaW1hdGlvbiBjaGFuZ2VzLlxuICAgKi9cbiAgdGhpcy5fc3luY0FuaW1hdGlvblNpemVzID0gZnVuY3Rpb24oKSB7XG4gICAgLy9oYXMgYW4gYW5pbWF0aW9uIGJ1dCB0aGUgY29sbGlkZXIgaXMgc3RpbGwgZGVmYXVsdFxuICAgIC8vdGhlIGFuaW1hdGlvbiB3YXNuJ3QgbG9hZGVkLiBpZiB0aGUgYW5pbWF0aW9uIGlzIG5vdCBhIDF4MSBpbWFnZVxuICAgIC8vaXQgbWVhbnMgaXQganVzdCBmaW5pc2hlZCBsb2FkaW5nXG4gICAgaWYodGhpcy5jb2xsaWRlclR5cGUgPT09ICdkZWZhdWx0JyAmJlxuICAgICAgYW5pbWF0aW9uc1tjdXJyZW50QW5pbWF0aW9uXS5nZXRXaWR0aCgpICE9PSAxICYmIGFuaW1hdGlvbnNbY3VycmVudEFuaW1hdGlvbl0uZ2V0SGVpZ2h0KCkgIT09IDEpXG4gICAge1xuICAgICAgdGhpcy5jb2xsaWRlciA9IHRoaXMuZ2V0Qm91bmRpbmdCb3goKTtcbiAgICAgIHRoaXMuY29sbGlkZXJUeXBlID0gJ2ltYWdlJztcbiAgICAgIHRoaXMuX2ludGVybmFsV2lkdGggPSBhbmltYXRpb25zW2N1cnJlbnRBbmltYXRpb25dLmdldFdpZHRoKCkqYWJzKHRoaXMuX2dldFNjYWxlWCgpKTtcbiAgICAgIHRoaXMuX2ludGVybmFsSGVpZ2h0ID0gYW5pbWF0aW9uc1tjdXJyZW50QW5pbWF0aW9uXS5nZXRIZWlnaHQoKSphYnModGhpcy5fZ2V0U2NhbGVZKCkpO1xuICAgICAgLy9xdWFkVHJlZS5pbnNlcnQodGhpcyk7XG4gICAgfVxuXG4gICAgLy91cGRhdGUgc2l6ZSBhbmQgY29sbGlkZXJcbiAgICBpZihhbmltYXRpb25zW2N1cnJlbnRBbmltYXRpb25dLmZyYW1lQ2hhbmdlZCB8fCB0aGlzLndpZHRoID09PSB1bmRlZmluZWQgfHwgdGhpcy5oZWlnaHQgPT09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAvL3RoaXMuY29sbGlkZXIgPSB0aGlzLmdldEJvdW5kaW5nQm94KCk7XG4gICAgICB0aGlzLl9pbnRlcm5hbFdpZHRoID0gYW5pbWF0aW9uc1tjdXJyZW50QW5pbWF0aW9uXS5nZXRXaWR0aCgpKmFicyh0aGlzLl9nZXRTY2FsZVgoKSk7XG4gICAgICB0aGlzLl9pbnRlcm5hbEhlaWdodCA9IGFuaW1hdGlvbnNbY3VycmVudEFuaW1hdGlvbl0uZ2V0SGVpZ2h0KCkqYWJzKHRoaXMuX2dldFNjYWxlWSgpKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogVXBkYXRlcyB0aGUgc3ByaXRlLlxuICAqIENhbGxlZCBhdXRvbWF0aWNhbGx5IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGRyYXcgY3ljbGUuXG4gICpcbiAgKiBAbWV0aG9kIHVwZGF0ZVxuICAqL1xuICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYoIXRoaXMucmVtb3ZlZClcbiAgICB7XG4gICAgICAvL2lmIHRoZXJlIGhhcyBiZWVuIGEgY2hhbmdlIHNvbWV3aGVyZSBhZnRlciB0aGUgbGFzdCB1cGRhdGVcbiAgICAgIC8vdGhlIG9sZCBwb3NpdGlvbiBpcyB0aGUgbGFzdCBwb3NpdGlvbiByZWdpc3RlcmVkIGluIHRoZSB1cGRhdGVcbiAgICAgIGlmKHRoaXMubmV3UG9zaXRpb24gIT09IHRoaXMucG9zaXRpb24pXG4gICAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IGNyZWF0ZVZlY3Rvcih0aGlzLm5ld1Bvc2l0aW9uLngsIHRoaXMubmV3UG9zaXRpb24ueSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IGNyZWF0ZVZlY3Rvcih0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG5cbiAgICAgIHRoaXMudmVsb2NpdHkueCAqPSAxIC0gdGhpcy5mcmljdGlvbjtcbiAgICAgIHRoaXMudmVsb2NpdHkueSAqPSAxIC0gdGhpcy5mcmljdGlvbjtcblxuICAgICAgaWYodGhpcy5tYXhTcGVlZCAhPT0gLTEpXG4gICAgICAgIHRoaXMubGltaXRTcGVlZCh0aGlzLm1heFNwZWVkKTtcblxuICAgICAgaWYodGhpcy5yb3RhdGVUb0RpcmVjdGlvbiAmJiB0aGlzLnZlbG9jaXR5Lm1hZygpID4gMClcbiAgICAgICAgdGhpcy5fcm90YXRpb24gPSB0aGlzLmdldERpcmVjdGlvbigpO1xuXG4gICAgICB0aGlzLnJvdGF0aW9uICs9IHRoaXMucm90YXRpb25TcGVlZDtcblxuICAgICAgdGhpcy5wb3NpdGlvbi54ICs9IHRoaXMudmVsb2NpdHkueDtcbiAgICAgIHRoaXMucG9zaXRpb24ueSArPSB0aGlzLnZlbG9jaXR5Lnk7XG5cbiAgICAgIHRoaXMubmV3UG9zaXRpb24gPSBjcmVhdGVWZWN0b3IodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnkpO1xuXG4gICAgICB0aGlzLmRlbHRhWCA9IHRoaXMucG9zaXRpb24ueCAtIHRoaXMucHJldmlvdXNQb3NpdGlvbi54O1xuICAgICAgdGhpcy5kZWx0YVkgPSB0aGlzLnBvc2l0aW9uLnkgLSB0aGlzLnByZXZpb3VzUG9zaXRpb24ueTtcblxuICAgICAgLy9pZiB0aGVyZSBpcyBhbiBhbmltYXRpb25cbiAgICAgIGlmKGFuaW1hdGlvbnNbY3VycmVudEFuaW1hdGlvbl0pXG4gICAgICB7XG4gICAgICAgIC8vdXBkYXRlIGl0XG4gICAgICAgIGFuaW1hdGlvbnNbY3VycmVudEFuaW1hdGlvbl0udXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5fc3luY0FuaW1hdGlvblNpemVzKCk7XG4gICAgICB9XG5cbiAgICAgIC8vYSBjb2xsaWRlciBpcyBjcmVhdGVkIGVpdGhlciBtYW51YWxseSB3aXRoIHNldENvbGxpZGVyIG9yXG4gICAgICAvL3doZW4gSSBjaGVjayB0aGlzIHNwcml0ZSBmb3IgY29sbGlzaW9ucyBvciBvdmVybGFwc1xuICAgICAgaWYodGhpcy5jb2xsaWRlcilcbiAgICAgIHtcbiAgICAgICAgaWYodGhpcy5jb2xsaWRlciBpbnN0YW5jZW9mIEFBQkIpXG4gICAgICAgIHtcbiAgICAgICAgLy9zY2FsZSAvIHJvdGF0ZSBjb2xsaWRlclxuICAgICAgICB2YXIgdDtcbiAgICAgICAgaWYgKHBJbnN0Ll9hbmdsZU1vZGUgPT09IHBJbnN0LlJBRElBTlMpIHtcbiAgICAgICAgICB0ID0gcmFkaWFucyh0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ID0gdGhpcy5yb3RhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuY29sbGlkZXJUeXBlID09PSAnY3VzdG9tJylcbiAgICAgICAgICB7XG4gICAgICAgICAgdGhpcy5jb2xsaWRlci5leHRlbnRzLnggPSB0aGlzLmNvbGxpZGVyLm9yaWdpbmFsRXh0ZW50cy54ICogYWJzKHRoaXMuX2dldFNjYWxlWCgpKSAqIGFicyhjb3ModCkpICtcbiAgICAgICAgICB0aGlzLmNvbGxpZGVyLm9yaWdpbmFsRXh0ZW50cy55ICogYWJzKHRoaXMuX2dldFNjYWxlWSgpKSAqIGFicyhzaW4odCkpO1xuXG4gICAgICAgICAgdGhpcy5jb2xsaWRlci5leHRlbnRzLnkgPSB0aGlzLmNvbGxpZGVyLm9yaWdpbmFsRXh0ZW50cy54ICogYWJzKHRoaXMuX2dldFNjYWxlWCgpKSAqIGFicyhzaW4odCkpICtcbiAgICAgICAgICB0aGlzLmNvbGxpZGVyLm9yaWdpbmFsRXh0ZW50cy55ICogYWJzKHRoaXMuX2dldFNjYWxlWSgpKSAqIGFicyhjb3ModCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZih0aGlzLmNvbGxpZGVyVHlwZSA9PT0gJ2RlZmF1bHQnKVxuICAgICAgICAgIHtcbiAgICAgICAgICB0aGlzLmNvbGxpZGVyLmV4dGVudHMueCA9IHRoaXMuX2ludGVybmFsV2lkdGggKiBhYnModGhpcy5fZ2V0U2NhbGVYKCkpICogYWJzKGNvcyh0KSkgK1xuICAgICAgICAgIHRoaXMuX2ludGVybmFsSGVpZ2h0ICogYWJzKHRoaXMuX2dldFNjYWxlWSgpKSAqIGFicyhzaW4odCkpO1xuICAgICAgICAgIHRoaXMuY29sbGlkZXIuZXh0ZW50cy55ID0gdGhpcy5faW50ZXJuYWxXaWR0aCAqIGFicyh0aGlzLl9nZXRTY2FsZVgoKSkgKiBhYnMoc2luKHQpKSArXG4gICAgICAgICAgdGhpcy5faW50ZXJuYWxIZWlnaHQgKiBhYnModGhpcy5fZ2V0U2NhbGVZKCkpICogYWJzKGNvcyh0KSk7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHRoaXMuY29sbGlkZXJUeXBlID09PSAnaW1hZ2UnKVxuICAgICAgICAgIHtcbiAgICAgICAgICB0aGlzLmNvbGxpZGVyLmV4dGVudHMueCA9IHRoaXMuX2ludGVybmFsV2lkdGggKiBhYnMoY29zKHQpKSArXG4gICAgICAgICAgdGhpcy5faW50ZXJuYWxIZWlnaHQgKiBhYnMoc2luKHQpKTtcblxuICAgICAgICAgIHRoaXMuY29sbGlkZXIuZXh0ZW50cy55ID0gdGhpcy5faW50ZXJuYWxXaWR0aCAqIGFicyhzaW4odCkpICtcbiAgICAgICAgICB0aGlzLl9pbnRlcm5hbEhlaWdodCAqIGFicyhjb3ModCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuY29sbGlkZXIgaW5zdGFuY2VvZiBDaXJjbGVDb2xsaWRlcilcbiAgICAgICAge1xuICAgICAgICAvL3ByaW50KHRoaXMuc2NhbGUpO1xuICAgICAgICB0aGlzLmNvbGxpZGVyLnJhZGl1cyA9IHRoaXMuY29sbGlkZXIub3JpZ2luYWxSYWRpdXMgKiBhYnModGhpcy5zY2FsZSk7XG4gICAgICAgIH1cblxuICAgICAgfS8vZW5kIGNvbGxpZGVyICE9IG51bGxcblxuICAgICAgLy9tb3VzZSBhY3Rpb25zXG4gICAgICBpZiAodGhpcy5tb3VzZUFjdGl2ZSlcbiAgICAgIHtcbiAgICAgICAgLy9pZiBubyBjb2xsaWRlciBzZXQgaXRcbiAgICAgICAgICBpZighdGhpcy5jb2xsaWRlcilcbiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdENvbGxpZGVyKCk7XG5cbiAgICAgICAgdGhpcy5tb3VzZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBpZiAodHlwZW9mKHRoaXMub25Nb3VzZU92ZXIpID09PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICB0eXBlb2YodGhpcy5vbk1vdXNlT3V0KSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgdHlwZW9mKHRoaXMub25Nb3VzZVByZXNzZWQpID09PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICB0eXBlb2YodGhpcy5vbk1vdXNlUmVsZWFzZWQpID09PSAnZnVuY3Rpb24nKVxuICAgICAgICB7XG4gICAgICAgICAgLy9pZiBhIG1vdXNlIGZ1bmN0aW9uIGlzIHNldFxuICAgICAgICAgIC8vaXQncyBpbXBsaWVkIHdlIHdhbnQgdG8gaGF2ZSBpdCBtb3VzZSBhY3RpdmUgc29cbiAgICAgICAgICAvL3dlIGRvIHRoaXMgYXV0b21hdGljYWxseVxuICAgICAgICAgIHRoaXMubW91c2VBY3RpdmUgPSB0cnVlO1xuXG4gICAgICAgICAgLy9pZiBubyBjb2xsaWRlciBzZXQgaXRcbiAgICAgICAgICBpZighdGhpcy5jb2xsaWRlcilcbiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdENvbGxpZGVyKCk7XG5cbiAgICAgICAgICB0aGlzLm1vdXNlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9zZWxmIGRlc3RydWN0aW9uIGNvdW50ZG93blxuICAgICAgaWYgKHRoaXMubGlmZT4wKVxuICAgICAgICB0aGlzLmxpZmUtLTtcbiAgICAgIGlmICh0aGlzLmxpZmUgPT09IDApXG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgfVxuICB9Oy8vZW5kIHVwZGF0ZVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZGVmYXVsdCBjb2xsaWRlciBtYXRjaGluZyB0aGUgc2l6ZSBvZiB0aGVcbiAgICogcGxhY2Vob2xkZXIgcmVjdGFuZ2xlIG9yIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIGltYWdlLlxuICAgKlxuICAgKiBAbWV0aG9kIHNldERlZmF1bHRDb2xsaWRlclxuICAgKi9cbiAgdGhpcy5zZXREZWZhdWx0Q29sbGlkZXIgPSBmdW5jdGlvbigpIHtcblxuICAgIC8vaWYgaGFzIGFuaW1hdGlvbiBnZXQgdGhlIGFuaW1hdGlvbiBib3VuZGluZyBib3hcbiAgICAvL3dvcmtpbmcgb25seSBmb3IgcHJlbG9hZGVkIGltYWdlc1xuICAgIGlmKGFuaW1hdGlvbnNbY3VycmVudEFuaW1hdGlvbl0gJiYgKGFuaW1hdGlvbnNbY3VycmVudEFuaW1hdGlvbl0uZ2V0V2lkdGgoKSAhPT0gMSAmJiBhbmltYXRpb25zW2N1cnJlbnRBbmltYXRpb25dLmdldEhlaWdodCgpICE9PSAxKSlcbiAgICB7XG4gICAgICB0aGlzLmNvbGxpZGVyID0gdGhpcy5nZXRCb3VuZGluZ0JveCgpO1xuICAgICAgdGhpcy5faW50ZXJuYWxXaWR0aCA9IGFuaW1hdGlvbnNbY3VycmVudEFuaW1hdGlvbl0uZ2V0V2lkdGgoKSphYnModGhpcy5fZ2V0U2NhbGVYKCkpO1xuICAgICAgdGhpcy5faW50ZXJuYWxIZWlnaHQgPSBhbmltYXRpb25zW2N1cnJlbnRBbmltYXRpb25dLmdldEhlaWdodCgpKmFicyh0aGlzLl9nZXRTY2FsZVkoKSk7XG4gICAgICAvL3F1YWRUcmVlLmluc2VydCh0aGlzKTtcbiAgICAgIHRoaXMuY29sbGlkZXJUeXBlID0gJ2ltYWdlJztcbiAgICAgIC8vcHJpbnQoXCJJTUFHRSBDT0xMSURFUiBBRERFRFwiKTtcbiAgICB9XG4gICAgZWxzZSBpZihhbmltYXRpb25zW2N1cnJlbnRBbmltYXRpb25dICYmIGFuaW1hdGlvbnNbY3VycmVudEFuaW1hdGlvbl0uZ2V0V2lkdGgoKSA9PT0gMSAmJiBhbmltYXRpb25zW2N1cnJlbnRBbmltYXRpb25dLmdldEhlaWdodCgpID09PSAxKVxuICAgIHtcbiAgICAvL2FuaW1hdGlvbiBpcyBzdGlsbCBsb2FkaW5nXG4gICAgLy9wcmludChcIndhaXRcIik7XG4gICAgfVxuICAgIGVsc2UgLy9nZXQgdGhlIHdpdGggYW5kIGhlaWdodCBkZWZpbmVkIGF0IHRoZSBjcmVhdGlvblxuICAgIHtcbiAgICAgIHRoaXMuY29sbGlkZXIgPSBuZXcgQUFCQihwSW5zdCwgdGhpcy5wb3NpdGlvbiwgY3JlYXRlVmVjdG9yKHRoaXMuX2ludGVybmFsV2lkdGgsIHRoaXMuX2ludGVybmFsSGVpZ2h0KSk7XG4gICAgICAvL3F1YWRUcmVlLmluc2VydCh0aGlzKTtcbiAgICAgIHRoaXMuY29sbGlkZXJUeXBlID0gJ2RlZmF1bHQnO1xuICAgIH1cblxuICAgIHBJbnN0LnF1YWRUcmVlLmluc2VydCh0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgc3ByaXRlIG1vdXNlIHN0YXRlcyBhbmQgdHJpZ2dlcnMgdGhlIG1vdXNlIGV2ZW50czpcbiAgICogb25Nb3VzZU92ZXIsIG9uTW91c2VPdXQsIG9uTW91c2VQcmVzc2VkLCBvbk1vdXNlUmVsZWFzZWRcbiAgICpcbiAgICogQG1ldGhvZCBtb3VzZVVwZGF0ZVxuICAgKi9cbiAgdGhpcy5tb3VzZVVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIG1vdXNlV2FzT3ZlciA9IHRoaXMubW91c2VJc092ZXI7XG4gICAgdmFyIG1vdXNlV2FzUHJlc3NlZCA9IHRoaXMubW91c2VJc1ByZXNzZWQ7XG5cbiAgICB0aGlzLm1vdXNlSXNPdmVyID0gZmFsc2U7XG4gICAgdGhpcy5tb3VzZUlzUHJlc3NlZCA9IGZhbHNlO1xuXG4gICAgdmFyIG1vdXNlUG9zaXRpb247XG5cbiAgICBpZihjYW1lcmEuYWN0aXZlKVxuICAgICAgbW91c2VQb3NpdGlvbiA9IGNyZWF0ZVZlY3RvcihjYW1lcmEubW91c2VYLCBjYW1lcmEubW91c2VZKTtcbiAgICBlbHNlXG4gICAgICBtb3VzZVBvc2l0aW9uID0gY3JlYXRlVmVjdG9yKHBJbnN0Lm1vdXNlWCwgcEluc3QubW91c2VZKTtcblxuICAgICAgLy9yb2xsb3ZlclxuICAgICAgaWYodGhpcy5jb2xsaWRlcilcbiAgICAgIHtcblxuICAgICAgICBpZiAodGhpcy5jb2xsaWRlciBpbnN0YW5jZW9mIENpcmNsZUNvbGxpZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgaWYgKGRpc3QobW91c2VQb3NpdGlvbi54LCBtb3VzZVBvc2l0aW9uLnksIHRoaXMuY29sbGlkZXIuY2VudGVyLngsIHRoaXMuY29sbGlkZXIuY2VudGVyLnkpIDwgdGhpcy5jb2xsaWRlci5yYWRpdXMpXG4gICAgICAgICAgICB0aGlzLm1vdXNlSXNPdmVyID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbGxpZGVyIGluc3RhbmNlb2YgQUFCQilcbiAgICAgICAge1xuICAgICAgICAgIGlmIChtb3VzZVBvc2l0aW9uLnggPiB0aGlzLmNvbGxpZGVyLmxlZnQoKSAmJlxuICAgICAgICAgICAgICBtb3VzZVBvc2l0aW9uLnkgPiB0aGlzLmNvbGxpZGVyLnRvcCgpICYmXG4gICAgICAgICAgICAgIG1vdXNlUG9zaXRpb24ueCA8IHRoaXMuY29sbGlkZXIucmlnaHQoKSAmJlxuICAgICAgICAgICAgICBtb3VzZVBvc2l0aW9uLnkgPCB0aGlzLmNvbGxpZGVyLmJvdHRvbSgpKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VJc092ZXIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vZ2xvYmFsIHA1IHZhclxuICAgICAgICBpZih0aGlzLm1vdXNlSXNPdmVyICYmIHBJbnN0Lm1vdXNlSXNQcmVzc2VkKVxuICAgICAgICAgIHRoaXMubW91c2VJc1ByZXNzZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vZXZlbnQgY2hhbmdlIC0gY2FsbCBmdW5jdGlvbnNcbiAgICAgICAgaWYoIW1vdXNlV2FzT3ZlciAmJiB0aGlzLm1vdXNlSXNPdmVyICYmIHRoaXMub25Nb3VzZU92ZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICBpZih0eXBlb2YodGhpcy5vbk1vdXNlT3ZlcikgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICB0aGlzLm9uTW91c2VPdmVyLmNhbGwodGhpcywgdGhpcyk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcHJpbnQoJ1dhcm5pbmc6IG9uTW91c2VPdmVyIHNob3VsZCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgICAgICAgaWYobW91c2VXYXNPdmVyICYmICF0aGlzLm1vdXNlSXNPdmVyICYmIHRoaXMub25Nb3VzZU91dCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIGlmKHR5cGVvZih0aGlzLm9uTW91c2VPdXQpID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhpcy5vbk1vdXNlT3V0LmNhbGwodGhpcywgdGhpcyk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcHJpbnQoJ1dhcm5pbmc6IG9uTW91c2VPdXQgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcblxuICAgICAgICBpZighbW91c2VXYXNQcmVzc2VkICYmIHRoaXMubW91c2VJc1ByZXNzZWQgJiYgdGhpcy5vbk1vdXNlUHJlc3NlZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIGlmKHR5cGVvZih0aGlzLm9uTW91c2VQcmVzc2VkKSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVByZXNzZWQuY2FsbCh0aGlzLCB0aGlzKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBwcmludCgnV2FybmluZzogb25Nb3VzZVByZXNzZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcblxuICAgICAgICBpZihtb3VzZVdhc1ByZXNzZWQgJiYgIXBJbnN0Lm1vdXNlSXNQcmVzc2VkICYmICF0aGlzLm1vdXNlSXNQcmVzc2VkICYmIHRoaXMub25Nb3VzZVJlbGVhc2VkICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgaWYodHlwZW9mKHRoaXMub25Nb3VzZVJlbGVhc2VkKSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVJlbGVhc2VkLmNhbGwodGhpcywgdGhpcyk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcHJpbnQoJ1dhcm5pbmc6IG9uTW91c2VSZWxlYXNlZCBzaG91bGQgYmUgYSBmdW5jdGlvbicpO1xuXG4gICAgICB9XG5cbiAgfTtcblxuICAvKipcbiAgKiBTZXRzIGEgY29sbGlkZXIgZm9yIHRoZSBzcHJpdGUuXG4gICpcbiAgKiBJbiBwNS5wbGF5IGEgQ29sbGlkZXIgaXMgYW4gaW52aXNpYmxlIGNpcmNsZSBvciByZWN0YW5nbGVcbiAgKiB0aGF0IGNhbiBoYXZlIGFueSBzaXplIG9yIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBzcHJpdGUgYW5kIHdoaWNoXG4gICogd2lsbCBiZSB1c2VkIHRvIGRldGVjdCBjb2xsaXNpb25zIGFuZCBvdmVybGFwcGluZyB3aXRoIG90aGVyIHNwcml0ZXMsXG4gICogb3IgdGhlIG1vdXNlIGN1cnNvci5cbiAgKlxuICAqIElmIHRoZSBzcHJpdGUgaXMgY2hlY2tlZCBmb3IgY29sbGlzaW9uLCBib3VuY2UsIG92ZXJsYXBwaW5nIG9yIG1vdXNlIGV2ZW50c1xuICAqIGEgY29sbGlkZXIgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGZyb20gdGhlIHdpZHRoIGFuZCBoZWlnaHQgcGFyYW1ldGVyXG4gICogcGFzc2VkIGF0IHRoZSBjcmVhdGlvbiBvZiB0aGUgc3ByaXRlIG9yIHRoZSBmcm9tIHRoZSBpbWFnZSBkaW1lbnNpb24gaW4gY2FzZVxuICAqIG9mIGFuaW1hdGVkIHNwcml0ZXMuXG4gICpcbiAgKiBPZnRlbiB0aGUgaW1hZ2UgYm91bmRpbmcgYm94IGlzIG5vdCBhcHByb3ByaWF0ZSBhcyB0aGUgYWN0aXZlIGFyZWEgZm9yXG4gICogY29sbGlzaW9uIGRldGVjdGlvbiBzbyB5b3UgY2FuIHNldCBhIGNpcmN1bGFyIG9yIHJlY3Rhbmd1bGFyIHNwcml0ZSB3aXRoXG4gICogZGlmZmVyZW50IGRpbWVuc2lvbnMgYW5kIG9mZnNldCBmcm9tIHRoZSBzcHJpdGUncyBjZW50ZXIuXG4gICpcbiAgKiBUaGVyZSBhcmUgZm91ciB3YXlzIHRvIGNhbGwgdGhpcyBtZXRob2Q6XG4gICpcbiAgKiAxLiBzZXRDb2xsaWRlcihcInJlY3RhbmdsZVwiKVxuICAqIDIuIHNldENvbGxpZGVyKFwicmVjdGFuZ2xlXCIsIG9mZnNldFgsIG9mZnNldFksIHdpZHRoLCBoZWlnaHQpXG4gICogMy4gc2V0Q29sbGlkZXIoXCJjaXJjbGVcIilcbiAgKiA0LiBzZXRDb2xsaWRlcihcImNpcmNsZVwiLCBvZmZzZXRYLCBvZmZzZXRZLCByYWRpdXMpXG4gICpcbiAgKiBAbWV0aG9kIHNldENvbGxpZGVyXG4gICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgRWl0aGVyIFwicmVjdGFuZ2xlXCIgb3IgXCJjaXJjbGVcIlxuICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRYIENvbGxpZGVyIHggcG9zaXRpb24gZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBzcHJpdGVcbiAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0WSBDb2xsaWRlciB5IHBvc2l0aW9uIGZyb20gdGhlIGNlbnRlciBvZiB0aGUgc3ByaXRlXG4gICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIENvbGxpZGVyIHdpZHRoIG9yIHJhZGl1c1xuICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgQ29sbGlkZXIgaGVpZ2h0XG4gICogQHRocm93cyB7VHlwZUVycm9yfSBpZiBnaXZlbiBpbnZhbGlkIHBhcmFtZXRlcnMuXG4gICovXG4gIHRoaXMuc2V0Q29sbGlkZXIgPSBmdW5jdGlvbih0eXBlLCBvZmZzZXRYLCBvZmZzZXRZLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgaWYgKCEodHlwZSA9PT0gJ3JlY3RhbmdsZScgfHwgdHlwZSA9PT0gJ2NpcmNsZScpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzZXRDb2xsaWRlciBleHBlY3RzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBiZSBlaXRoZXIgXCJjaXJjbGVcIiBvciBcInJlY3RhbmdsZVwiJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnY2lyY2xlJyAmJiBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHMubGVuZ3RoIDwgNCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVXNhZ2U6IHNldENvbGxpZGVyKFwiY2lyY2xlXCIpIG9yIHNldENvbGxpZGVyKFwiY2lyY2xlXCIsIG9mZnNldFgsIG9mZnNldFksIHJhZGl1cyknKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjaXJjbGUnICYmIGFyZ3VtZW50cy5sZW5ndGggPiA0KSB7XG4gICAgICBwSW5zdC5fd2FybignRXh0cmEgcGFyYW1ldGVycyB0byBzZXRDb2xsaWRlciB3ZXJlIGlnbm9yZWQuIFVzYWdlOiBzZXRDb2xsaWRlcihcImNpcmNsZVwiKSBvciBzZXRDb2xsaWRlcihcImNpcmNsZVwiLCBvZmZzZXRYLCBvZmZzZXRZLCByYWRpdXMpJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAncmVjdGFuZ2xlJyAmJiBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHMubGVuZ3RoIDwgNSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVXNhZ2U6IHNldENvbGxpZGVyKFwicmVjdGFuZ2xlXCIpIG9yIHNldENvbGxpZGVyKFwicmVjdGFuZ2xlXCIsIG9mZnNldFgsIG9mZnNldFksIHdpZHRoLCBoZWlnaHQpJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAncmVjdGFuZ2xlJyAmJiBhcmd1bWVudHMubGVuZ3RoID4gNSkge1xuICAgICAgcEluc3QuX3dhcm4oJ0V4dHJhIHBhcmFtZXRlcnMgdG8gc2V0Q29sbGlkZXIgd2VyZSBpZ25vcmVkLiBVc2FnZTogc2V0Q29sbGlkZXIoXCJyZWN0YW5nbGVcIikgb3Igc2V0Q29sbGlkZXIoXCJyZWN0YW5nbGVcIiwgb2Zmc2V0WCwgb2Zmc2V0WSwgd2lkdGgsIGhlaWdodCknKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbGxpZGVyVHlwZSA9ICdjdXN0b20nO1xuXG4gICAgdmFyIHYgPSBjcmVhdGVWZWN0b3Iob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgaWYgKHR5cGUgPT09ICdyZWN0YW5nbGUnICYmIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRoaXMuY29sbGlkZXIgPSBuZXcgQUFCQihwSW5zdCwgdGhpcy5wb3NpdGlvbiwgY3JlYXRlVmVjdG9yKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAncmVjdGFuZ2xlJyAmJiBhcmd1bWVudHMubGVuZ3RoID49IDUpIHtcbiAgICAgIHRoaXMuY29sbGlkZXIgPSBuZXcgQUFCQihwSW5zdCwgdGhpcy5wb3NpdGlvbiwgY3JlYXRlVmVjdG9yKHdpZHRoLCBoZWlnaHQpLCB2KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjaXJjbGUnICYmIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRoaXMuY29sbGlkZXIgPSBuZXcgQ2lyY2xlQ29sbGlkZXIocEluc3QsIHRoaXMucG9zaXRpb24sIE1hdGguZmxvb3IoTWF0aC5tYXgodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpIC8gMikpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NpcmNsZScgJiYgYXJndW1lbnRzLmxlbmd0aCA+PSA0KSB7XG4gICAgICB0aGlzLmNvbGxpZGVyID0gbmV3IENpcmNsZUNvbGxpZGVyKHBJbnN0LCB0aGlzLnBvc2l0aW9uLCB3aWR0aCwgdik7XG4gICAgfVxuXG4gICAgcXVhZFRyZWUuaW5zZXJ0KHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgY3VycmVudCBpbWFnZVxuICAgKiBAbWV0aG9kIGdldEJvdW5kaW5nQm94XG4gICAqL1xuICB0aGlzLmdldEJvdW5kaW5nQm94ID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgdyA9IGFuaW1hdGlvbnNbY3VycmVudEFuaW1hdGlvbl0uZ2V0V2lkdGgoKSphYnModGhpcy5fZ2V0U2NhbGVYKCkpO1xuICAgIHZhciBoID0gYW5pbWF0aW9uc1tjdXJyZW50QW5pbWF0aW9uXS5nZXRIZWlnaHQoKSphYnModGhpcy5fZ2V0U2NhbGVZKCkpO1xuXG4gICAgLy9pZiB0aGUgYm91bmRpbmcgYm94IGlzIDF4MSB0aGUgaW1hZ2UgaXMgbm90IGxvYWRlZFxuICAgIC8vcG90ZW50aWFsIGlzc3VlIHdpdGggYWN0dWFsIDF4MSBpbWFnZXNcbiAgICBpZih3ID09PSAxICYmIGggPT09IDEpIHtcbiAgICAgIC8vbm90IGxvYWRlZCB5ZXRcbiAgICAgIHJldHVybiBuZXcgQUFCQihwSW5zdCwgdGhpcy5wb3NpdGlvbiwgY3JlYXRlVmVjdG9yKHcsIGgpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEFBQkIocEluc3QsIHRoaXMucG9zaXRpb24sIGNyZWF0ZVZlY3Rvcih3LCBoKSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIFNldHMgdGhlIHNwcml0ZSdzIGhvcml6b250YWwgbWlycm9yaW5nLlxuICAqIElmIDEgdGhlIGltYWdlcyBkaXNwbGF5ZWQgbm9ybWFsbHlcbiAgKiBJZiAtMSB0aGUgaW1hZ2VzIGFyZSBmbGlwcGVkIGhvcml6b250YWxseVxuICAqIElmIG5vIGFyZ3VtZW50IHJldHVybnMgdGhlIGN1cnJlbnQgeCBtaXJyb3JpbmdcbiAgKlxuICAqIEBtZXRob2QgbWlycm9yWFxuICAqIEBwYXJhbSB7TnVtYmVyfSBkaXIgRWl0aGVyIDEgb3IgLTFcbiAgKiBAcmV0dXJuIHtOdW1iZXJ9IEN1cnJlbnQgbWlycm9yaW5nIGlmIG5vIHBhcmFtZXRlciBpcyBzcGVjaWZpZWRcbiAgKi9cbiAgdGhpcy5taXJyb3JYID0gZnVuY3Rpb24oZGlyKSB7XG4gICAgaWYoZGlyID09PSAxIHx8IGRpciA9PT0gLTEpXG4gICAgICBkaXJYID0gZGlyO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBkaXJYO1xuICB9O1xuXG4gIC8qKlxuICAqIFNldHMgdGhlIHNwcml0ZSdzIHZlcnRpY2FsIG1pcnJvcmluZy5cbiAgKiBJZiAxIHRoZSBpbWFnZXMgZGlzcGxheWVkIG5vcm1hbGx5XG4gICogSWYgLTEgdGhlIGltYWdlcyBhcmUgZmxpcHBlZCB2ZXJ0aWNhbGx5XG4gICogSWYgbm8gYXJndW1lbnQgcmV0dXJucyB0aGUgY3VycmVudCB5IG1pcnJvcmluZ1xuICAqXG4gICogQG1ldGhvZCBtaXJyb3JZXG4gICogQHBhcmFtIHtOdW1iZXJ9IGRpciBFaXRoZXIgMSBvciAtMVxuICAqIEByZXR1cm4ge051bWJlcn0gQ3VycmVudCBtaXJyb3JpbmcgaWYgbm8gcGFyYW1ldGVyIGlzIHNwZWNpZmllZFxuICAqL1xuICB0aGlzLm1pcnJvclkgPSBmdW5jdGlvbihkaXIpIHtcbiAgICBpZihkaXIgPT09IDEgfHwgZGlyID09PSAtMSlcbiAgICAgIGRpclkgPSBkaXI7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIGRpclk7XG4gIH07XG5cbiAgLypcbiAgICogUmV0dXJucyB0aGUgdmFsdWUgdGhlIHNwcml0ZSBzaG91bGQgYmUgc2NhbGVkIGluIHRoZSBYIGRpcmVjdGlvbi5cbiAgICogVXNlZCB0byBjYWxjdWxhdGUgcmVuZGVyaW5nIGFuZCBjb2xsaXNpb25zLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5fZ2V0U2NhbGVYID0gZnVuY3Rpb24oKVxuICB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGU7XG4gIH07XG5cbiAgLypcbiAgICogUmV0dXJucyB0aGUgdmFsdWUgdGhlIHNwcml0ZSBzaG91bGQgYmUgc2NhbGVkIGluIHRoZSBZIGRpcmVjdGlvbi5cbiAgICogVXNlZCB0byBjYWxjdWxhdGUgcmVuZGVyaW5nIGFuZCBjb2xsaXNpb25zLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5fZ2V0U2NhbGVZID0gZnVuY3Rpb24oKVxuICB7XG4gICAgcmV0dXJuIHRoaXMuc2NhbGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hbmFnZXMgdGhlIHBvc2l0aW9uaW5nLCBzY2FsZSBhbmQgcm90YXRpb24gb2YgdGhlIHNwcml0ZVxuICAgKiBDYWxsZWQgYXV0b21hdGljYWxseSwgaXQgc2hvdWxkIG5vdCBiZSBvdmVycmlkZGVuXG4gICAqIEBwcml2YXRlXG4gICAqIEBmaW5hbFxuICAgKiBAbWV0aG9kIGRpc3BsYXlcbiAgICovXG4gIHRoaXMuZGlzcGxheSA9IGZ1bmN0aW9uKClcbiAge1xuICAgIGlmICh0aGlzLnZpc2libGUgJiYgIXRoaXMucmVtb3ZlZClcbiAgICB7XG4gICAgICBwdXNoKCk7XG4gICAgICBjb2xvck1vZGUoUkdCKTtcblxuICAgICAgbm9TdHJva2UoKTtcbiAgICAgIHJlY3RNb2RlKENFTlRFUik7XG4gICAgICBlbGxpcHNlTW9kZShDRU5URVIpO1xuICAgICAgaW1hZ2VNb2RlKENFTlRFUik7XG5cbiAgICAgIHRyYW5zbGF0ZSh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG4gICAgICBzY2FsZSh0aGlzLl9nZXRTY2FsZVgoKSpkaXJYLCB0aGlzLl9nZXRTY2FsZVkoKSpkaXJZKTtcbiAgICAgIGlmIChwSW5zdC5fYW5nbGVNb2RlID09PSBwSW5zdC5SQURJQU5TKSB7XG4gICAgICAgIHJvdGF0ZShyYWRpYW5zKHRoaXMucm90YXRpb24pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvdGF0ZSh0aGlzLnJvdGF0aW9uKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgLy9kcmF3IGRlYnVnIGluZm9cbiAgICAgIHBvcCgpO1xuXG5cbiAgICAgIGlmKHRoaXMuZGVidWcpXG4gICAgICB7XG4gICAgICAgIHB1c2goKTtcbiAgICAgICAgLy9kcmF3IHRoZSBhbmNob3IgcG9pbnRcbiAgICAgICAgc3Ryb2tlKDAsIDI1NSwgMCk7XG4gICAgICAgIHN0cm9rZVdlaWdodCgxKTtcbiAgICAgICAgbGluZSh0aGlzLnBvc2l0aW9uLngtMTAsIHRoaXMucG9zaXRpb24ueSwgdGhpcy5wb3NpdGlvbi54KzEwLCB0aGlzLnBvc2l0aW9uLnkpO1xuICAgICAgICBsaW5lKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55LTEwLCB0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSsxMCk7XG4gICAgICAgIG5vRmlsbCgpO1xuXG4gICAgICAgIC8vZGVwdGggbnVtYmVyXG4gICAgICAgIG5vU3Ryb2tlKCk7XG4gICAgICAgIGZpbGwoMCwgMjU1LCAwKTtcbiAgICAgICAgdGV4dEFsaWduKExFRlQsIEJPVFRPTSk7XG4gICAgICAgIHRleHRTaXplKDE2KTtcbiAgICAgICAgdGV4dCh0aGlzLmRlcHRoKycnLCB0aGlzLnBvc2l0aW9uLngrNCwgdGhpcy5wb3NpdGlvbi55LTIpO1xuXG4gICAgICAgIG5vRmlsbCgpO1xuICAgICAgICBzdHJva2UoMCwgMjU1LCAwKTtcblxuICAgICAgICAvL2JvdW5kaW5nIGJveFxuICAgICAgICBpZih0aGlzLmNvbGxpZGVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLmNvbGxpZGVyLmRyYXcoKTtcbiAgICAgICAgfVxuICAgICAgICBwb3AoKTtcbiAgICAgIH1cblxuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAqIE1hbmFnZXMgdGhlIHZpc3VhbHMgb2YgdGhlIHNwcml0ZS5cbiAgKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB3aXRoIGEgY3VzdG9tIGRyYXdpbmcgZnVuY3Rpb24uXG4gICogVGhlIDAsMCBwb2ludCB3aWxsIGJlIHRoZSBjZW50ZXIgb2YgdGhlIHNwcml0ZS5cbiAgKiBFeGFtcGxlOlxuICAqIHNwcml0ZS5kcmF3ID0gZnVuY3Rpb24oKSB7IGVsbGlwc2UoMCwwLDEwLDEwKSB9XG4gICogV2lsbCBkaXNwbGF5IHRoZSBzcHJpdGUgYXMgY2lyY2xlLlxuICAqXG4gICogQG1ldGhvZCBkcmF3XG4gICovXG4gIHRoaXMuZHJhdyA9IGZ1bmN0aW9uKClcbiAge1xuICAgIGlmKGN1cnJlbnRBbmltYXRpb24gIT09ICcnICYmIGFuaW1hdGlvbnMpXG4gICAge1xuICAgICAgaWYoYW5pbWF0aW9uc1tjdXJyZW50QW5pbWF0aW9uXSlcbiAgICAgICAgYW5pbWF0aW9uc1tjdXJyZW50QW5pbWF0aW9uXS5kcmF3KDAsIDAsIDApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgbm9TdHJva2UoKTtcbiAgICAgIGZpbGwodGhpcy5zaGFwZUNvbG9yKTtcbiAgICAgIHJlY3QoMCwgMCwgdGhpcy5faW50ZXJuYWxXaWR0aCwgdGhpcy5faW50ZXJuYWxIZWlnaHQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgU3ByaXRlIGZyb20gdGhlIHNrZXRjaC5cbiAgICogVGhlIHJlbW92ZWQgU3ByaXRlIHdvbid0IGJlIGRyYXduIG9yIHVwZGF0ZWQgYW55bW9yZS5cbiAgICpcbiAgICogQG1ldGhvZCByZW1vdmVcbiAgICovXG4gIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZW1vdmVkID0gdHJ1ZTtcblxuICAgIHF1YWRUcmVlLnJlbW92ZU9iamVjdCh0aGlzKTtcblxuICAgIC8vd2hlbiByZW1vdmVkIGZyb20gdGhlIFwic2NlbmVcIiBhbHNvIHJlbW92ZSBhbGwgdGhlIHJlZmVyZW5jZXMgaW4gYWxsIHRoZSBncm91cHNcbiAgICB3aGlsZSAodGhpcy5ncm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5ncm91cHNbMF0ucmVtb3ZlKHRoaXMpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBTZXRzIHRoZSB2ZWxvY2l0eSB2ZWN0b3IuXG4gICpcbiAgKiBAbWV0aG9kIHNldFZlbG9jaXR5XG4gICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAgKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICAqL1xuICB0aGlzLnNldFZlbG9jaXR5ID0gZnVuY3Rpb24oeCwgeSkge1xuICAgIHRoaXMudmVsb2NpdHkueCA9IHg7XG4gICAgdGhpcy52ZWxvY2l0eS55ID0geTtcbiAgfTtcblxuICAvKipcbiAgKiBDYWxjdWxhdGVzIHRoZSBzY2FsYXIgc3BlZWQuXG4gICpcbiAgKiBAbWV0aG9kIGdldFNwZWVkXG4gICogQHJldHVybiB7TnVtYmVyfSBTY2FsYXIgc3BlZWRcbiAgKi9cbiAgdGhpcy5nZXRTcGVlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnZlbG9jaXR5Lm1hZygpO1xuICB9O1xuXG4gIC8qKlxuICAqIENhbGN1bGF0ZXMgdGhlIG1vdmVtZW50J3MgZGlyZWN0aW9uIGluIGRlZ3JlZXMuXG4gICpcbiAgKiBAbWV0aG9kIGdldERpcmVjdGlvblxuICAqIEByZXR1cm4ge051bWJlcn0gQW5nbGUgaW4gZGVncmVlc1xuICAqL1xuICB0aGlzLmdldERpcmVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGRpcmVjdGlvbiA9IGF0YW4yKHRoaXMudmVsb2NpdHkueSwgdGhpcy52ZWxvY2l0eS54KTtcblxuICAgIGlmKGlzTmFOKGRpcmVjdGlvbikpXG4gICAgICBkaXJlY3Rpb24gPSAwO1xuXG4gICAgLy8gVW5saWtlIE1hdGguYXRhbjIsIHRoZSBhdGFuMiBtZXRob2QgYWJvdmUgd2lsbCByZXR1cm4gZGVncmVlcyBpZlxuICAgIC8vIHRoZSBjdXJyZW50IHA1IGFuZ2xlTW9kZSBpcyBERUdSRUVTLCBhbmQgcmFkaWFucyBpZiB0aGUgcDUgYW5nbGVNb2RlIGlzXG4gICAgLy8gUkFESUFOUy4gIFRoaXMgbWV0aG9kIHNob3VsZCBhbHdheXMgcmV0dXJuIGRlZ3JlZXMgKGZvciBub3cpLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW9sbGVpbmR1c3RyaWEvcDUucGxheS9pc3N1ZXMvOTRcbiAgICBpZiAocEluc3QuX2FuZ2xlTW9kZSA9PT0gcEluc3QuUkFESUFOUykge1xuICAgICAgZGlyZWN0aW9uID0gZGVncmVlcyhkaXJlY3Rpb24pO1xuICAgIH1cblxuICAgIHJldHVybiBkaXJlY3Rpb247XG4gIH07XG5cbiAgLyoqXG4gICogQWRkcyB0aGUgc3ByaXRlIHRvIGFuIGV4aXN0aW5nIGdyb3VwXG4gICpcbiAgKiBAbWV0aG9kIGFkZFRvR3JvdXBcbiAgKiBAcGFyYW0ge09iamVjdH0gZ3JvdXBcbiAgKi9cbiAgdGhpcy5hZGRUb0dyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICBpZihncm91cCBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgZ3JvdXAuYWRkKHRoaXMpO1xuICAgIGVsc2VcbiAgICAgIHByaW50KCdhZGRUb0dyb3VwIGVycm9yOiAnK2dyb3VwKycgaXMgbm90IGEgZ3JvdXAnKTtcbiAgfTtcblxuICAvKipcbiAgKiBMaW1pdHMgdGhlIHNjYWxhciBzcGVlZC5cbiAgKlxuICAqIEBtZXRob2QgbGltaXRTcGVlZFxuICAqIEBwYXJhbSB7TnVtYmVyfSBtYXggTWF4IHNwZWVkOiBwb3NpdGl2ZSBudW1iZXJcbiAgKi9cbiAgdGhpcy5saW1pdFNwZWVkID0gZnVuY3Rpb24obWF4KSB7XG5cbiAgICAvL3VwZGF0ZSBsaW5lYXIgc3BlZWRcbiAgICB2YXIgc3BlZWQgPSB0aGlzLmdldFNwZWVkKCk7XG5cbiAgICBpZihhYnMoc3BlZWQpPm1heClcbiAgICB7XG4gICAgICAvL2ZpbmQgcmVkdWN0aW9uIGZhY3RvclxuICAgICAgdmFyIGsgPSBtYXgvYWJzKHNwZWVkKTtcbiAgICAgIHRoaXMudmVsb2NpdHkueCAqPSBrO1xuICAgICAgdGhpcy52ZWxvY2l0eS55ICo9IGs7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIFNldCB0aGUgc3BlZWQgYW5kIGRpcmVjdGlvbiBvZiB0aGUgc3ByaXRlLlxuICAqIFRoZSBhY3Rpb24gb3ZlcndyaXRlcyB0aGUgY3VycmVudCB2ZWxvY2l0eS5cbiAgKiBJZiBkaXJlY3Rpb24gaXMgbm90IHN1cHBsaWVkLCB0aGUgY3VycmVudCBkaXJlY3Rpb24gaXMgbWFpbnRhaW5lZC5cbiAgKiBJZiBkaXJlY3Rpb24gaXMgbm90IHN1cHBsaWVkIGFuZCB0aGVyZSBpcyBubyBjdXJyZW50IHZlbG9jaXR5LCB0aGUgY3VycmVudFxuICAqIHJvdGF0aW9uIGFuZ2xlIHVzZWQgZm9yIHRoZSBkaXJlY3Rpb24uXG4gICpcbiAgKiBAbWV0aG9kIHNldFNwZWVkXG4gICogQHBhcmFtIHtOdW1iZXJ9ICBzcGVlZCBTY2FsYXIgc3BlZWRcbiAgKiBAcGFyYW0ge051bWJlcn0gIFthbmdsZV0gRGlyZWN0aW9uIGluIGRlZ3JlZXNcbiAgKi9cbiAgdGhpcy5zZXRTcGVlZCA9IGZ1bmN0aW9uKHNwZWVkLCBhbmdsZSkge1xuICAgIHZhciBhO1xuICAgIGlmICh0eXBlb2YgYW5nbGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodGhpcy52ZWxvY2l0eS54ICE9PSAwIHx8IHRoaXMudmVsb2NpdHkueSAhPT0gMCkge1xuICAgICAgICBhID0gcEluc3QuYXRhbjIodGhpcy52ZWxvY2l0eS55LCB0aGlzLnZlbG9jaXR5LngpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBJbnN0Ll9hbmdsZU1vZGUgPT09IHBJbnN0LlJBRElBTlMpIHtcbiAgICAgICAgICBhID0gcmFkaWFucyh0aGlzLl9yb3RhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYSA9IHRoaXMuX3JvdGF0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwSW5zdC5fYW5nbGVNb2RlID09PSBwSW5zdC5SQURJQU5TKSB7XG4gICAgICAgIGEgPSByYWRpYW5zKGFuZ2xlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGEgPSBhbmdsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy52ZWxvY2l0eS54ID0gY29zKGEpKnNwZWVkO1xuICAgIHRoaXMudmVsb2NpdHkueSA9IHNpbihhKSpzcGVlZDtcbiAgfTtcblxuICAvKipcbiAgKiBQdXNoZXMgdGhlIHNwcml0ZSBpbiBhIGRpcmVjdGlvbiBkZWZpbmVkIGJ5IGFuIGFuZ2xlLlxuICAqIFRoZSBmb3JjZSBpcyBhZGRlZCB0byB0aGUgY3VycmVudCB2ZWxvY2l0eS5cbiAgKlxuICAqIEBtZXRob2QgYWRkU3BlZWRcbiAgKiBAcGFyYW0ge051bWJlcn0gIHNwZWVkIFNjYWxhciBzcGVlZCB0byBhZGRcbiAgKiBAcGFyYW0ge051bWJlcn0gIGFuZ2xlIERpcmVjdGlvbiBpbiBkZWdyZWVzXG4gICovXG4gIHRoaXMuYWRkU3BlZWQgPSBmdW5jdGlvbihzcGVlZCwgYW5nbGUpIHtcbiAgICB2YXIgYTtcbiAgICBpZiAocEluc3QuX2FuZ2xlTW9kZSA9PT0gcEluc3QuUkFESUFOUykge1xuICAgICAgYSA9IHJhZGlhbnMoYW5nbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhID0gYW5nbGU7XG4gICAgfVxuICAgIHRoaXMudmVsb2NpdHkueCArPSBjb3MoYSkgKiBzcGVlZDtcbiAgICB0aGlzLnZlbG9jaXR5LnkgKz0gc2luKGEpICogc3BlZWQ7XG4gIH07XG5cbiAgLyoqXG4gICogUHVzaGVzIHRoZSBzcHJpdGUgdG93YXJkIGEgcG9pbnQuXG4gICogVGhlIGZvcmNlIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHZlbG9jaXR5LlxuICAqXG4gICogQG1ldGhvZCBhdHRyYWN0aW9uUG9pbnRcbiAgKiBAcGFyYW0ge051bWJlcn0gIG1hZ25pdHVkZSBTY2FsYXIgc3BlZWQgdG8gYWRkXG4gICogQHBhcmFtIHtOdW1iZXJ9ICBwb2ludFggRGlyZWN0aW9uIHggY29vcmRpbmF0ZVxuICAqIEBwYXJhbSB7TnVtYmVyfSAgcG9pbnRZIERpcmVjdGlvbiB5IGNvb3JkaW5hdGVcbiAgKi9cbiAgdGhpcy5hdHRyYWN0aW9uUG9pbnQgPSBmdW5jdGlvbihtYWduaXR1ZGUsIHBvaW50WCwgcG9pbnRZKSB7XG4gICAgdmFyIGFuZ2xlID0gYXRhbjIocG9pbnRZLXRoaXMucG9zaXRpb24ueSwgcG9pbnRYLXRoaXMucG9zaXRpb24ueCk7XG4gICAgdGhpcy52ZWxvY2l0eS54ICs9IGNvcyhhbmdsZSkgKiBtYWduaXR1ZGU7XG4gICAgdGhpcy52ZWxvY2l0eS55ICs9IHNpbihhbmdsZSkgKiBtYWduaXR1ZGU7XG4gIH07XG5cblxuICAvKipcbiAgKiBBZGRzIGFuIGltYWdlIHRvIHRoZSBzcHJpdGUuXG4gICogQW4gaW1hZ2Ugd2lsbCBiZSBjb25zaWRlcmVkIGEgb25lLWZyYW1lIGFuaW1hdGlvbi5cbiAgKiBUaGUgaW1hZ2Ugc2hvdWxkIGJlIHByZWxvYWRlZCBpbiB0aGUgcHJlbG9hZCgpIGZ1bmN0aW9uIHVzaW5nIHA1IGxvYWRJbWFnZS5cbiAgKiBBbmltYXRpb25zIHJlcXVpcmUgYSBpZGVudGlmeWluZyBsYWJlbCAoc3RyaW5nKSB0byBjaGFuZ2UgdGhlbS5cbiAgKiBUaGUgaW1hZ2UgaXMgc3RvcmVkIGluIHRoZSBzcHJpdGUgYnV0IG5vdCBuZWNlc3NhcmlseSBkaXNwbGF5ZWRcbiAgKiB1bnRpbCBTcHJpdGUuY2hhbmdlQW5pbWF0aW9uKGxhYmVsKSBpcyBjYWxsZWRcbiAgKlxuICAqIFVzYWdlczpcbiAgKiAtIHNwcml0ZS5hZGRJbWFnZShsYWJlbCwgaW1hZ2UpO1xuICAqIC0gc3ByaXRlLmFkZEltYWdlKGltYWdlKTtcbiAgKlxuICAqIElmIG9ubHkgYW4gaW1hZ2UgaXMgcGFzc2VkIG5vIGxhYmVsIGlzIHNwZWNpZmllZFxuICAqXG4gICogQG1ldGhvZCBhZGRJbWFnZVxuICAqIEBwYXJhbSB7U3RyaW5nfHA1LkltYWdlfSBsYWJlbCBMYWJlbCBvciBpbWFnZVxuICAqIEBwYXJhbSB7cDUuSW1hZ2V9IFtpbWddIEltYWdlXG4gICovXG4gIHRoaXMuYWRkSW1hZ2UgPSBmdW5jdGlvbigpXG4gIHtcbiAgICBpZih0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJyAmJiBhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBwNS5JbWFnZSlcbiAgICAgIHRoaXMuYWRkQW5pbWF0aW9uKGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKTtcbiAgICBlbHNlIGlmKGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIHA1LkltYWdlKVxuICAgICAgdGhpcy5hZGRBbmltYXRpb24oJ25vcm1hbCcsIGFyZ3VtZW50c1swXSk7XG4gICAgZWxzZVxuICAgICAgdGhyb3coJ2FkZEltYWdlIGVycm9yOiBhbGxvd2VkIHVzYWdlcyBhcmUgPGltYWdlPiBvciA8bGFiZWw+LCA8aW1hZ2U+Jyk7XG4gIH07XG5cbiAgLyoqXG4gICogQWRkcyBhbiBhbmltYXRpb24gdG8gdGhlIHNwcml0ZS5cbiAgKiBUaGUgYW5pbWF0aW9uIHNob3VsZCBiZSBwcmVsb2FkZWQgaW4gdGhlIHByZWxvYWQoKSBmdW5jdGlvblxuICAqIHVzaW5nIGxvYWRBbmltYXRpb24uXG4gICogQW5pbWF0aW9ucyByZXF1aXJlIGEgaWRlbnRpZnlpbmcgbGFiZWwgKHN0cmluZykgdG8gY2hhbmdlIHRoZW0uXG4gICogQW5pbWF0aW9ucyBhcmUgc3RvcmVkIGluIHRoZSBzcHJpdGUgYnV0IG5vdCBuZWNlc3NhcmlseSBkaXNwbGF5ZWRcbiAgKiB1bnRpbCBTcHJpdGUuY2hhbmdlQW5pbWF0aW9uKGxhYmVsKSBpcyBjYWxsZWQuXG4gICpcbiAgKiBVc2FnZTpcbiAgKiAtIHNwcml0ZS5hZGRBbmltYXRpb24obGFiZWwsIGFuaW1hdGlvbik7XG4gICpcbiAgKiBBbHRlcm5hdGl2ZSB1c2FnZXMuIFNlZSBBbmltYXRpb24gZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gZmlsZSBzZXF1ZW5jZXM6XG4gICogLSBzcHJpdGUuYWRkQW5pbWF0aW9uKGxhYmVsLCBmaXJzdEZyYW1lLCBsYXN0RnJhbWUpO1xuICAqIC0gc3ByaXRlLmFkZEFuaW1hdGlvbihsYWJlbCwgZnJhbWUxLCBmcmFtZTIsIGZyYW1lMy4uLik7XG4gICpcbiAgKiBAbWV0aG9kIGFkZEFuaW1hdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBBbmltYXRpb24gaWRlbnRpZmllclxuICAqIEBwYXJhbSB7QW5pbWF0aW9ufSBhbmltYXRpb24gVGhlIHByZWxvYWRlZCBhbmltYXRpb25cbiAgKi9cbiAgdGhpcy5hZGRBbmltYXRpb24gPSBmdW5jdGlvbihsYWJlbClcbiAge1xuICAgIHZhciBhbmltO1xuXG4gICAgaWYodHlwZW9mIGxhYmVsICE9PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICBwcmludCgnU3ByaXRlLmFkZEFuaW1hdGlvbiBlcnJvcjogdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBsYWJlbCAoU3RyaW5nKScpO1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGggPCAyKVxuICAgIHtcbiAgICAgIHByaW50KCdhZGRBbmltYXRpb24gZXJyb3I6IHlvdSBtdXN0IHNwZWNpZnkgYSBsYWJlbCBhbmQgbiBmcmFtZSBpbWFnZXMnKTtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSBpZihhcmd1bWVudHNbMV0gaW5zdGFuY2VvZiBBbmltYXRpb24pXG4gICAge1xuXG4gICAgICB2YXIgc291cmNlQW5pbWF0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgICB2YXIgbmV3QW5pbWF0aW9uID0gc291cmNlQW5pbWF0aW9uLmNsb25lKCk7XG5cbiAgICAgIGFuaW1hdGlvbnNbbGFiZWxdID0gbmV3QW5pbWF0aW9uO1xuXG4gICAgICBpZihjdXJyZW50QW5pbWF0aW9uID09PSAnJylcbiAgICAgIHtcbiAgICAgICAgY3VycmVudEFuaW1hdGlvbiA9IGxhYmVsO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IG5ld0FuaW1hdGlvbjtcbiAgICAgIH1cblxuICAgICAgbmV3QW5pbWF0aW9uLmlzU3ByaXRlQW5pbWF0aW9uID0gdHJ1ZTtcblxuICAgICAgdGhpcy5faW50ZXJuYWxXaWR0aCA9IG5ld0FuaW1hdGlvbi5nZXRXaWR0aCgpKmFicyh0aGlzLl9nZXRTY2FsZVgoKSk7XG4gICAgICB0aGlzLl9pbnRlcm5hbEhlaWdodCA9IG5ld0FuaW1hdGlvbi5nZXRIZWlnaHQoKSphYnModGhpcy5fZ2V0U2NhbGVZKCkpO1xuXG4gICAgICByZXR1cm4gbmV3QW5pbWF0aW9uO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgdmFyIGFuaW1GcmFtZXMgPSBbXTtcbiAgICAgIGZvcih2YXIgaT0xOyBpPGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgICAgYW5pbUZyYW1lcy5wdXNoKGFyZ3VtZW50c1tpXSk7XG5cbiAgICAgIGFuaW0gPSBjb25zdHJ1Y3QocEluc3QuQW5pbWF0aW9uLCBhbmltRnJhbWVzKTtcbiAgICAgIGFuaW1hdGlvbnNbbGFiZWxdID0gYW5pbTtcblxuICAgICAgaWYoY3VycmVudEFuaW1hdGlvbiA9PT0gJycpXG4gICAgICB7XG4gICAgICAgIGN1cnJlbnRBbmltYXRpb24gPSBsYWJlbDtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBhbmltO1xuICAgICAgfVxuICAgICAgYW5pbS5pc1Nwcml0ZUFuaW1hdGlvbiA9IHRydWU7XG5cbiAgICAgIHRoaXMuX2ludGVybmFsV2lkdGggPSBhbmltLmdldFdpZHRoKCkqYWJzKHRoaXMuX2dldFNjYWxlWCgpKTtcbiAgICAgIHRoaXMuX2ludGVybmFsSGVpZ2h0ID0gYW5pbS5nZXRIZWlnaHQoKSphYnModGhpcy5fZ2V0U2NhbGVZKCkpO1xuXG4gICAgICByZXR1cm4gYW5pbTtcbiAgICB9XG5cbiAgfTtcblxuICAvKipcbiAgKiBDaGFuZ2VzIHRoZSBkaXNwbGF5ZWQgaW1hZ2UvYW5pbWF0aW9uLlxuICAqIEVxdWl2YWxlbnQgdG8gY2hhbmdlQW5pbWF0aW9uXG4gICpcbiAgKiBAbWV0aG9kIGNoYW5nZUltYWdlXG4gICogQHBhcmFtIHtTdHJpbmd9IGxhYmVsIEltYWdlL0FuaW1hdGlvbiBpZGVudGlmaWVyXG4gICovXG4gIHRoaXMuY2hhbmdlSW1hZ2UgPSBmdW5jdGlvbihsYWJlbCkge1xuICAgIHRoaXMuY2hhbmdlQW5pbWF0aW9uKGxhYmVsKTtcbiAgfTtcblxuICAgLyoqXG4gICogUmV0dXJucyB0aGUgbGFiZWwgb2YgdGhlIGN1cnJlbnQgYW5pbWF0aW9uXG4gICpcbiAgKiBAbWV0aG9kIGdldEFuaW1hdGlvbkxhYmVsXG4gICogQHJldHVybiB7U3RyaW5nfSBsYWJlbCBJbWFnZS9BbmltYXRpb24gaWRlbnRpZmllclxuICAqL1xuICB0aGlzLmdldEFuaW1hdGlvbkxhYmVsID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRBbmltYXRpb247XG4gIH07XG5cbiAgLyoqXG4gICogQ2hhbmdlcyB0aGUgZGlzcGxheWVkIGFuaW1hdGlvbi5cbiAgKiBTZWUgQW5pbWF0aW9uIGZvciBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2VxdWVuY2UuXG4gICpcbiAgKiBAbWV0aG9kIGNoYW5nZUFuaW1hdGlvblxuICAqIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBBbmltYXRpb24gaWRlbnRpZmllclxuICAqL1xuICB0aGlzLmNoYW5nZUFuaW1hdGlvbiA9IGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgaWYoIWFuaW1hdGlvbnNbbGFiZWxdKVxuICAgICAgcHJpbnQoJ2NoYW5nZUFuaW1hdGlvbiBlcnJvcjogbm8gYW5pbWF0aW9uIGxhYmVsZWQgJytsYWJlbCk7XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIGN1cnJlbnRBbmltYXRpb24gPSBsYWJlbDtcbiAgICAgIHRoaXMuYW5pbWF0aW9uID0gYW5pbWF0aW9uc1tsYWJlbF07XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gcG9pbnQgY29ycmVzcG9uZHMgdG8gYSB0cmFuc3BhcmVudCBwaXhlbFxuICAqIGluIHRoZSBzcHJpdGUncyBjdXJyZW50IGltYWdlLiBJdCBjYW4gYmUgdXNlZCB0byBjaGVjayBhIHBvaW50IGNvbGxpc2lvblxuICAqIGFnYWluc3Qgb25seSB0aGUgdmlzaWJsZSBwYXJ0IG9mIHRoZSBzcHJpdGUuXG4gICpcbiAgKiBAbWV0aG9kIG92ZXJsYXBQaXhlbFxuICAqIEBwYXJhbSB7TnVtYmVyfSBwb2ludFggeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byBjaGVja1xuICAqIEBwYXJhbSB7TnVtYmVyfSBwb2ludFkgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byBjaGVja1xuICAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdCBUcnVlIGlmIG5vbi10cmFuc3BhcmVudFxuICAqL1xuICB0aGlzLm92ZXJsYXBQaXhlbCA9IGZ1bmN0aW9uKHBvaW50WCwgcG9pbnRZKSB7XG4gICAgdmFyIHBvaW50ID0gY3JlYXRlVmVjdG9yKHBvaW50WCwgcG9pbnRZKTtcblxuICAgIHZhciBpbWcgPSB0aGlzLmFuaW1hdGlvbi5nZXRGcmFtZUltYWdlKCk7XG5cbiAgICAvL2NvbnZlcnQgcG9pbnQgdG8gaW1nIHJlbGF0aXZlIHBvc2l0aW9uXG4gICAgcG9pbnQueCAtPSB0aGlzLnBvc2l0aW9uLngtaW1nLndpZHRoLzI7XG4gICAgcG9pbnQueSAtPSB0aGlzLnBvc2l0aW9uLnktaW1nLmhlaWdodC8yO1xuXG4gICAgLy9vdXQgb2YgdGhlIGltYWdlIGVudGlyZWx5XG4gICAgaWYocG9pbnQueDwwIHx8IHBvaW50Lng+aW1nLndpZHRoIHx8IHBvaW50Lnk8MCB8fCBwb2ludC55PmltZy5oZWlnaHQpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZWxzZSBpZih0aGlzLnJvdGF0aW9uID09PSAwICYmIHRoaXMuc2NhbGUgPT09IDEpXG4gICAge1xuICAgICAgLy90cnVlIGlmIGZ1bGwgb3BhY2l0eVxuICAgICAgdmFyIHZhbHVlcyA9IGltZy5nZXQocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICByZXR1cm4gdmFsdWVzWzNdID09PSAyNTU7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICBwcmludCgnRXJyb3I6IG92ZXJsYXBQaXhlbCBkb2VzblxcJ3Qgd29yayB3aXRoIHNjYWxlZCBvciByb3RhdGVkIHNwcml0ZXMgeWV0Jyk7XG4gICAgICAvL29mZnNjcmVlbiBwcmludGluZyB0byBiZSBpbXBsZW1lbnRlZCBibGV1cmNoXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgaW5zaWRlIHRoZSBzcHJpdGUncyBjb2xsaWRlci5cbiAgKlxuICAqIEBtZXRob2Qgb3ZlcmxhcFBvaW50XG4gICogQHBhcmFtIHtOdW1iZXJ9IHBvaW50WCB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIGNoZWNrXG4gICogQHBhcmFtIHtOdW1iZXJ9IHBvaW50WSB5IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIGNoZWNrXG4gICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0IFRydWUgaWYgaW5zaWRlXG4gICovXG4gIHRoaXMub3ZlcmxhcFBvaW50ID0gZnVuY3Rpb24ocG9pbnRYLCBwb2ludFkpIHtcbiAgICB2YXIgcG9pbnQgPSBjcmVhdGVWZWN0b3IocG9pbnRYLCBwb2ludFkpO1xuXG4gICAgaWYoIXRoaXMuY29sbGlkZXIpXG4gICAgICB0aGlzLnNldERlZmF1bHRDb2xsaWRlcigpO1xuXG4gICAgaWYodGhpcy5jb2xsaWRlciAhPT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgIGlmKHRoaXMuY29sbGlkZXIgaW5zdGFuY2VvZiBBQUJCKVxuICAgICAgICByZXR1cm4gKHBvaW50LnggPiB0aGlzLmNvbGxpZGVyLmxlZnQoKSAmJiBwb2ludC54IDwgdGhpcy5jb2xsaWRlci5yaWdodCgpICYmIHBvaW50LnkgPiB0aGlzLmNvbGxpZGVyLnRvcCgpICYmIHBvaW50LnkgPCB0aGlzLmNvbGxpZGVyLmJvdHRvbSgpKTtcbiAgICAgIGlmKHRoaXMuY29sbGlkZXIgaW5zdGFuY2VvZiBDaXJjbGVDb2xsaWRlcilcbiAgICAgIHtcbiAgICAgICAgdmFyIHNxUmFkaXVzID0gdGhpcy5jb2xsaWRlci5yYWRpdXMgKiB0aGlzLmNvbGxpZGVyLnJhZGl1cztcbiAgICAgICAgdmFyIHNxRGlzdCA9IHBvdyh0aGlzLmNvbGxpZGVyLmNlbnRlci54IC0gcG9pbnQueCwgMikgKyBwb3codGhpcy5jb2xsaWRlci5jZW50ZXIueSAtIHBvaW50LnksIDIpO1xuICAgICAgICByZXR1cm4gc3FEaXN0PHNxUmFkaXVzO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICB9O1xuXG5cbiAgLyoqXG4gICogQ2hlY2tzIGlmIHRoZSB0aGUgc3ByaXRlIGlzIG92ZXJsYXBwaW5nIGFub3RoZXIgc3ByaXRlIG9yIGEgZ3JvdXAuXG4gICogVGhlIGNoZWNrIGlzIHBlcmZvcm1lZCB1c2luZyB0aGUgY29sbGlkZXJzLiBJZiBjb2xsaWRlcnMgYXJlIG5vdCBzZXRcbiAgKiB0aGV5IHdpbGwgYmUgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IGZyb20gdGhlIGltYWdlL2FuaW1hdGlvbiBib3VuZGluZyBib3guXG4gICpcbiAgKiBBIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSBzcGVjaWZpZWQgdG8gcGVyZm9ybSBhZGRpdGlvbmFsIG9wZXJhdGlvbnNcbiAgKiB3aGVuIHRoZSBvdmVybGFwIG9jY291cnMuXG4gICogSWYgdGhlIHRhcmdldCBpcyBhIGdyb3VwIHRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBzaW5nbGVcbiAgKiBzcHJpdGUgb3ZlcmxhcHBpbmcuIFRoZSBwYXJhbWV0ZXIgb2YgdGhlIGZ1bmN0aW9uIGFyZSByZXNwZWN0aXZlbHkgdGhlXG4gICogY3VycmVudCBzcHJpdGUgYW5kIHRoZSBjb2xsaWRpbmcgc3ByaXRlLlxuICAqXG4gICogQGV4YW1wbGVcbiAgKiAgICAgc3ByaXRlLm92ZXJsYXAob3RoZXJTcHJpdGUsIGV4cGxvc2lvbik7XG4gICpcbiAgKiAgICAgZnVuY3Rpb24gZXhwbG9zaW9uKHNwcml0ZUEsIHNwcml0ZUIpIHtcbiAgKiAgICAgICBzcHJpdGVBLnJlbW92ZSgpO1xuICAqICAgICAgIHNwcml0ZUIuc2NvcmUrKztcbiAgKiAgICAgfVxuICAqXG4gICogQG1ldGhvZCBvdmVybGFwXG4gICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBTcHJpdGUgb3IgZ3JvdXAgdG8gY2hlY2sgYWdhaW5zdCB0aGUgY3VycmVudCBvbmVcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgb3ZlcmxhcCBpcyBwb3NpdGl2ZVxuICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgb3ZlcmxhcHBpbmdcbiAgKi9cbiAgdGhpcy5vdmVybGFwID0gZnVuY3Rpb24odGFyZ2V0LCBjYWxsYmFjaykge1xuICAgIC8vaWYodGhpcy5jb2xsaWRlciBpbnN0YW5jZW9mIEFBQkIgJiYgdGFyZ2V0LmNvbGxpZGVyIGluc3RhbmNlb2YgQUFCQilcbiAgICByZXR1cm4gdGhpcy5BQUJCb3BzKCdvdmVybGFwJywgdGFyZ2V0LCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICogQ2hlY2tzIGlmIHRoZSB0aGUgc3ByaXRlIGlzIG92ZXJsYXBwaW5nIGFub3RoZXIgc3ByaXRlIG9yIGEgZ3JvdXAuXG4gICogSWYgdGhlIG92ZXJsYXAgaXMgcG9zaXRpdmUgdGhlIGN1cnJlbnQgc3ByaXRlIHdpbGwgYmUgZGlzcGxhY2UgYnlcbiAgKiB0aGUgY29sbGlkaW5nIG9uZSBpbiB0aGUgY2xvc2VzdCBub24tb3ZlcmxhcHBpbmcgcG9zaXRpb24uXG4gICpcbiAgKiBUaGUgY2hlY2sgaXMgcGVyZm9ybWVkIHVzaW5nIHRoZSBjb2xsaWRlcnMuIElmIGNvbGxpZGVycyBhcmUgbm90IHNldFxuICAqIHRoZXkgd2lsbCBiZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgZnJvbSB0aGUgaW1hZ2UvYW5pbWF0aW9uIGJvdW5kaW5nIGJveC5cbiAgKlxuICAqIEEgY2FsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHNwZWNpZmllZCB0byBwZXJmb3JtIGFkZGl0aW9uYWwgb3BlcmF0aW9uc1xuICAqIHdoZW4gdGhlIGNvbGxpc2lvbiBvY2NvdXJzLlxuICAqIElmIHRoZSB0YXJnZXQgaXMgYSBncm91cCB0aGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggc2luZ2xlXG4gICogc3ByaXRlIGNvbGxpZGluZy4gVGhlIHBhcmFtZXRlciBvZiB0aGUgZnVuY3Rpb24gYXJlIHJlc3BlY3RpdmVseSB0aGVcbiAgKiBjdXJyZW50IHNwcml0ZSBhbmQgdGhlIGNvbGxpZGluZyBzcHJpdGUuXG4gICpcbiAgKiBAZXhhbXBsZVxuICAqICAgICBzcHJpdGUuY29sbGlkZShvdGhlclNwcml0ZSwgZXhwbG9zaW9uKTtcbiAgKlxuICAqICAgICBmdW5jdGlvbiBleHBsb3Npb24oc3ByaXRlQSwgc3ByaXRlQikge1xuICAqICAgICAgIHNwcml0ZUEucmVtb3ZlKCk7XG4gICogICAgICAgc3ByaXRlQi5zY29yZSsrO1xuICAqICAgICB9XG4gICpcbiAgKiBAbWV0aG9kIGNvbGxpZGVcbiAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFNwcml0ZSBvciBncm91cCB0byBjaGVjayBhZ2FpbnN0IHRoZSBjdXJyZW50IG9uZVxuICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiBvdmVybGFwIGlzIHBvc2l0aXZlXG4gICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBvdmVybGFwcGluZ1xuICAqL1xuICB0aGlzLmNvbGxpZGUgPSBmdW5jdGlvbih0YXJnZXQsIGNhbGxiYWNrKSB7XG4gICAgLy9pZih0aGlzLmNvbGxpZGVyIGluc3RhbmNlb2YgQUFCQiAmJiB0YXJnZXQuY29sbGlkZXIgaW5zdGFuY2VvZiBBQUJCKVxuICAgIHJldHVybiB0aGlzLkFBQkJvcHMoJ2NvbGxpZGUnLCB0YXJnZXQsIGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgKiBDaGVja3MgaWYgdGhlIHRoZSBzcHJpdGUgaXMgb3ZlcmxhcHBpbmcgYW5vdGhlciBzcHJpdGUgb3IgYSBncm91cC5cbiAgKiBJZiB0aGUgb3ZlcmxhcCBpcyBwb3NpdGl2ZSB0aGUgY3VycmVudCBzcHJpdGUgd2lsbCBkaXNwbGFjZVxuICAqIHRoZSBjb2xsaWRpbmcgb25lIHRvIHRoZSBjbG9zZXN0IG5vbi1vdmVybGFwcGluZyBwb3NpdGlvbi5cbiAgKlxuICAqIFRoZSBjaGVjayBpcyBwZXJmb3JtZWQgdXNpbmcgdGhlIGNvbGxpZGVycy4gSWYgY29sbGlkZXJzIGFyZSBub3Qgc2V0XG4gICogdGhleSB3aWxsIGJlIGNyZWF0ZWQgYXV0b21hdGljYWxseSBmcm9tIHRoZSBpbWFnZS9hbmltYXRpb24gYm91bmRpbmcgYm94LlxuICAqXG4gICogQSBjYWxsYmFjayBmdW5jdGlvbiBjYW4gYmUgc3BlY2lmaWVkIHRvIHBlcmZvcm0gYWRkaXRpb25hbCBvcGVyYXRpb25zXG4gICogd2hlbiB0aGUgY29sbGlzaW9uIG9jY291cnMuXG4gICogSWYgdGhlIHRhcmdldCBpcyBhIGdyb3VwIHRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBzaW5nbGVcbiAgKiBzcHJpdGUgY29sbGlkaW5nLiBUaGUgcGFyYW1ldGVyIG9mIHRoZSBmdW5jdGlvbiBhcmUgcmVzcGVjdGl2ZWx5IHRoZVxuICAqIGN1cnJlbnQgc3ByaXRlIGFuZCB0aGUgY29sbGlkaW5nIHNwcml0ZS5cbiAgKlxuICAqIEBleGFtcGxlXG4gICogICAgIHNwcml0ZS5kaXNwbGFjZShvdGhlclNwcml0ZSwgZXhwbG9zaW9uKTtcbiAgKlxuICAqICAgICBmdW5jdGlvbiBleHBsb3Npb24oc3ByaXRlQSwgc3ByaXRlQikge1xuICAqICAgICAgIHNwcml0ZUEucmVtb3ZlKCk7XG4gICogICAgICAgc3ByaXRlQi5zY29yZSsrO1xuICAqICAgICB9XG4gICpcbiAgKiBAbWV0aG9kIGRpc3BsYWNlXG4gICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBTcHJpdGUgb3IgZ3JvdXAgdG8gY2hlY2sgYWdhaW5zdCB0aGUgY3VycmVudCBvbmVcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgb3ZlcmxhcCBpcyBwb3NpdGl2ZVxuICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgb3ZlcmxhcHBpbmdcbiAgKi9cbiAgdGhpcy5kaXNwbGFjZSA9IGZ1bmN0aW9uKHRhcmdldCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5BQUJCb3BzKCdkaXNwbGFjZScsIHRhcmdldCwgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAqIENoZWNrcyBpZiB0aGUgdGhlIHNwcml0ZSBpcyBvdmVybGFwcGluZyBhbm90aGVyIHNwcml0ZSBvciBhIGdyb3VwLlxuICAqIElmIHRoZSBvdmVybGFwIGlzIHBvc2l0aXZlIHRoZSBzcHJpdGVzIHdpbGwgYm91bmNlIGFmZmVjdGluZyBlYWNoXG4gICogb3RoZXIncyB0cmFqZWN0b3JpZXMgZGVwZW5kaW5nIG9uIHRoZWlyIC52ZWxvY2l0eSwgLm1hc3MgYW5kIC5yZXN0aXR1dGlvblxuICAqXG4gICogVGhlIGNoZWNrIGlzIHBlcmZvcm1lZCB1c2luZyB0aGUgY29sbGlkZXJzLiBJZiBjb2xsaWRlcnMgYXJlIG5vdCBzZXRcbiAgKiB0aGV5IHdpbGwgYmUgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IGZyb20gdGhlIGltYWdlL2FuaW1hdGlvbiBib3VuZGluZyBib3guXG4gICpcbiAgKiBBIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSBzcGVjaWZpZWQgdG8gcGVyZm9ybSBhZGRpdGlvbmFsIG9wZXJhdGlvbnNcbiAgKiB3aGVuIHRoZSBjb2xsaXNpb24gb2Njb3Vycy5cbiAgKiBJZiB0aGUgdGFyZ2V0IGlzIGEgZ3JvdXAgdGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIHNpbmdsZVxuICAqIHNwcml0ZSBjb2xsaWRpbmcuIFRoZSBwYXJhbWV0ZXIgb2YgdGhlIGZ1bmN0aW9uIGFyZSByZXNwZWN0aXZlbHkgdGhlXG4gICogY3VycmVudCBzcHJpdGUgYW5kIHRoZSBjb2xsaWRpbmcgc3ByaXRlLlxuICAqXG4gICogQGV4YW1wbGVcbiAgKiAgICAgc3ByaXRlLmJvdW5jZShvdGhlclNwcml0ZSwgZXhwbG9zaW9uKTtcbiAgKlxuICAqICAgICBmdW5jdGlvbiBleHBsb3Npb24oc3ByaXRlQSwgc3ByaXRlQikge1xuICAqICAgICAgIHNwcml0ZUEucmVtb3ZlKCk7XG4gICogICAgICAgc3ByaXRlQi5zY29yZSsrO1xuICAqICAgICB9XG4gICpcbiAgKiBAbWV0aG9kIGJvdW5jZVxuICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgU3ByaXRlIG9yIGdyb3VwIHRvIGNoZWNrIGFnYWluc3QgdGhlIGN1cnJlbnQgb25lXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIG92ZXJsYXAgaXMgcG9zaXRpdmVcbiAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIG92ZXJsYXBwaW5nXG4gICovXG4gIHRoaXMuYm91bmNlID0gZnVuY3Rpb24odGFyZ2V0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLkFBQkJvcHMoJ2JvdW5jZScsIHRhcmdldCwgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGNvbGxpc2lvbiBkZXRlY3Rpb24gZnVuY3Rpb24uIERvIG5vdCB1c2UgZGlyZWN0bHkuXG4gIHRoaXMuQUFCQm9wcyA9IGZ1bmN0aW9uKHR5cGUsIHRhcmdldCwgY2FsbGJhY2spIHtcblxuICAgIHRoaXMudG91Y2hpbmcubGVmdCA9IGZhbHNlO1xuICAgIHRoaXMudG91Y2hpbmcucmlnaHQgPSBmYWxzZTtcbiAgICB0aGlzLnRvdWNoaW5nLnRvcCA9IGZhbHNlO1xuICAgIHRoaXMudG91Y2hpbmcuYm90dG9tID0gZmFsc2U7XG5cbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAvL2lmIHNpbmdsZSBzcHJpdGUgdHVybiBpbnRvIGFycmF5IGFueXdheVxuICAgIHZhciBvdGhlcnMgPSBbXTtcblxuICAgIGlmKHRhcmdldCBpbnN0YW5jZW9mIFNwcml0ZSlcbiAgICAgIG90aGVycy5wdXNoKHRhcmdldCk7XG4gICAgZWxzZSBpZih0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSlcbiAgICB7XG4gICAgICBpZihxdWFkVHJlZSAhPT0gdW5kZWZpbmVkICYmIHF1YWRUcmVlLmFjdGl2ZSlcbiAgICAgICAgb3RoZXJzID0gcXVhZFRyZWUucmV0cmlldmVGcm9tR3JvdXAoIHRoaXMsIHRhcmdldCk7XG5cbiAgICAgIGlmKG90aGVycy5sZW5ndGggPT09IDApXG4gICAgICAgIG90aGVycyA9IHRhcmdldDtcblxuICAgIH1cbiAgICBlbHNlXG4gICAgICB0aHJvdygnRXJyb3I6IG92ZXJsYXAgY2FuIG9ubHkgYmUgY2hlY2tlZCBiZXR3ZWVuIHNwcml0ZXMgb3IgZ3JvdXBzJyk7XG5cbiAgICBmb3IodmFyIGk9MDsgaTxvdGhlcnMubGVuZ3RoOyBpKyspXG4gICAgICBpZih0aGlzICE9PSBvdGhlcnNbaV0gJiYgIXRoaXMucmVtb3ZlZCkgLy95b3UgY2FuIGNoZWNrIGNvbGxpc2lvbnMgd2l0aGluIHRoZSBzYW1lIGdyb3VwIGJ1dCBub3Qgb24gaXRzZWxmXG4gICAgICB7XG4gICAgICAgIHZhciBkaXNwbGFjZW1lbnQ7XG4gICAgICAgIHZhciBvdGhlciA9IG90aGVyc1tpXTtcblxuICAgICAgICBpZih0aGlzLmNvbGxpZGVyID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5zZXREZWZhdWx0Q29sbGlkZXIoKTtcblxuICAgICAgICBpZihvdGhlci5jb2xsaWRlciA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgIG90aGVyLnNldERlZmF1bHRDb2xsaWRlcigpO1xuXG4gICAgICAgIC8qXG4gICAgICAgIGlmKHRoaXMuY29sbGlkZXJUeXBlPT1cImRlZmF1bHRcIiAmJiBhbmltYXRpb25zW2N1cnJlbnRBbmltYXRpb25dIT1udWxsKVxuICAgICAgICB7XG4gICAgICAgICAgcHJpbnQoXCJidXN0ZWRcIik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9Ki9cbiAgICAgICAgaWYodGhpcy5jb2xsaWRlciAhPT0gdW5kZWZpbmVkICYmIG90aGVyLmNvbGxpZGVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgaWYodHlwZSA9PT0gJ292ZXJsYXAnKSB7XG4gICAgICAgICAgICB2YXIgb3ZlcjtcblxuICAgICAgICAgICAgLy9pZiB0aGUgb3RoZXIgaXMgYSBjaXJjbGUgSSBjYWxjdWxhdGUgdGhlIGRpc3BsYWNlbWVudCBmcm9tIGhlcmVcbiAgICAgICAgICAgIGlmKHRoaXMuY29sbGlkZXIgaW5zdGFuY2VvZiBDaXJjbGVDb2xsaWRlcilcbiAgICAgICAgICAgICAgICBvdmVyID0gb3RoZXIuY29sbGlkZXIub3ZlcmxhcCh0aGlzLmNvbGxpZGVyKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBvdmVyID0gdGhpcy5jb2xsaWRlci5vdmVybGFwKG90aGVyLmNvbGxpZGVyKTtcblxuICAgICAgICAgICAgaWYob3ZlcilcbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIGlmKGNhbGxiYWNrICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgdGhpcywgb3RoZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZih0eXBlID09PSAnY29sbGlkZScgfHwgdHlwZSA9PT0gJ2Rpc3BsYWNlJyB8fCB0eXBlID09PSAnYm91bmNlJylcbiAgICAgICAgICB7XG4gICAgICAgICAgICBkaXNwbGFjZW1lbnQgPSBjcmVhdGVWZWN0b3IoMCwgMCk7XG5cbiAgICAgICAgICAgIC8vaWYgdGhlIHN1bSBvZiB0aGUgc3BlZWQgaXMgbW9yZSB0aGFuIHRoZSBjb2xsaWRlciBpIG1heVxuICAgICAgICAgICAgLy9oYXZlIGEgdHVubmVsbGluZyBwcm9ibGVtXG4gICAgICAgICAgICB2YXIgdHVubmVsWCA9IGFicyh0aGlzLnZlbG9jaXR5Lngtb3RoZXIudmVsb2NpdHkueCkgPj0gb3RoZXIuY29sbGlkZXIuZXh0ZW50cy54LzIgJiYgcm91bmQodGhpcy5kZWx0YVggLSB0aGlzLnZlbG9jaXR5LngpID09PSAwO1xuXG4gICAgICAgICAgICB2YXIgdHVubmVsWSA9IGFicyh0aGlzLnZlbG9jaXR5Lnktb3RoZXIudmVsb2NpdHkueSkgPj0gb3RoZXIuY29sbGlkZXIuc2l6ZSgpLnkvMiAmJiByb3VuZCh0aGlzLmRlbHRhWSAtIHRoaXMudmVsb2NpdHkueSkgPT09IDA7XG5cblxuICAgICAgICAgICAgaWYodHVubmVsWCB8fCB0dW5uZWxZKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvL2luc3RlYWQgb2YgdXNpbmcgdGhlIGNvbGxpZGVycyBJIHVzZSB0aGUgYm91bmRpbmcgYm94XG4gICAgICAgICAgICAgIC8vYXJvdW5kIHRoZSBwcmV2aW91cyBwb3NpdGlvbiBhbmQgY3VycmVudCBwb3NpdGlvblxuICAgICAgICAgICAgICAvL3RoaXMgaXMgcmVnYXJkbGVzcyBvZiB0aGUgY29sbGlkZXIgdHlwZVxuXG4gICAgICAgICAgICAgIC8vdGhlIGNlbnRlciBpcyB0aGUgYXZlcmFnZSBvZiB0aGUgY29sbCBjZW50ZXJzXG4gICAgICAgICAgICAgIHZhciBjID0gY3JlYXRlVmVjdG9yKFxuICAgICAgICAgICAgICAgICh0aGlzLnBvc2l0aW9uLngrdGhpcy5wcmV2aW91c1Bvc2l0aW9uLngpLzIsXG4gICAgICAgICAgICAgICAgKHRoaXMucG9zaXRpb24ueSt0aGlzLnByZXZpb3VzUG9zaXRpb24ueSkvMik7XG5cbiAgICAgICAgICAgICAgLy90aGUgZXh0ZW50cyBhcmUgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGNvbGwgY2VudGVyc1xuICAgICAgICAgICAgICAvL3BsdXMgdGhlIGV4dGVudHMgb2YgYm90aFxuICAgICAgICAgICAgICB2YXIgZSA9IGNyZWF0ZVZlY3RvcihcbiAgICAgICAgICAgICAgICBhYnModGhpcy5wb3NpdGlvbi54IC10aGlzLnByZXZpb3VzUG9zaXRpb24ueCkgKyB0aGlzLmNvbGxpZGVyLmV4dGVudHMueCxcbiAgICAgICAgICAgICAgICBhYnModGhpcy5wb3NpdGlvbi55IC10aGlzLnByZXZpb3VzUG9zaXRpb24ueSkgKyB0aGlzLmNvbGxpZGVyLmV4dGVudHMueSk7XG5cbiAgICAgICAgICAgICAgdmFyIGJib3ggPSBuZXcgQUFCQihwSW5zdCwgYywgZSwgdGhpcy5jb2xsaWRlci5vZmZzZXQpO1xuXG4gICAgICAgICAgICAgIC8vYmJveC5kcmF3KCk7XG5cbiAgICAgICAgICAgICAgaWYoYmJveC5vdmVybGFwKG90aGVyLmNvbGxpZGVyKSlcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmKHR1bm5lbFgpIHtcblxuICAgICAgICAgICAgICAgICAgLy9lbnRlcmluZyBmcm9tIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgaWYodGhpcy52ZWxvY2l0eS54IDwgMClcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxhY2VtZW50LnggPSBvdGhlci5jb2xsaWRlci5yaWdodCgpIC0gdGhpcy5jb2xsaWRlci5sZWZ0KCkgKyAxO1xuICAgICAgICAgICAgICAgICAgZWxzZSBpZih0aGlzLnZlbG9jaXR5LnggPiAwIClcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxhY2VtZW50LnggPSBvdGhlci5jb2xsaWRlci5sZWZ0KCkgLSB0aGlzLmNvbGxpZGVyLnJpZ2h0KCkgLTE7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZih0dW5uZWxZKSB7XG4gICAgICAgICAgICAgICAgICAvL2Zyb20gdG9wXG4gICAgICAgICAgICAgICAgICBpZih0aGlzLnZlbG9jaXR5LnkgPiAwKVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGFjZW1lbnQueSA9IG90aGVyLmNvbGxpZGVyLnRvcCgpIC0gdGhpcy5jb2xsaWRlci5ib3R0b20oKSAtIDE7XG4gICAgICAgICAgICAgICAgICBlbHNlIGlmKHRoaXMudmVsb2NpdHkueSA8IDAgKVxuICAgICAgICAgICAgICAgICAgICBkaXNwbGFjZW1lbnQueSA9IG90aGVyLmNvbGxpZGVyLmJvdHRvbSgpIC0gdGhpcy5jb2xsaWRlci50b3AoKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9Ly9lbmQgb3ZlcmxhcFxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIC8vbm9uIHR1bm5lbCBvdmVybGFwXG4gICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgLy9pZiB0aGUgb3RoZXIgaXMgYSBjaXJjbGUgSSBjYWxjdWxhdGUgdGhlIGRpc3BsYWNlbWVudCBmcm9tIGhlcmVcbiAgICAgICAgICAgICAgLy9hbmQgcmV2ZXJzZSBpdFxuICAgICAgICAgICAgICBpZih0aGlzLmNvbGxpZGVyIGluc3RhbmNlb2YgQ2lyY2xlQ29sbGlkZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYWNlbWVudCA9IG90aGVyLmNvbGxpZGVyLmNvbGxpZGUodGhpcy5jb2xsaWRlcikubXVsdCgtMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZGlzcGxhY2VtZW50ID0gdGhpcy5jb2xsaWRlci5jb2xsaWRlKG90aGVyLmNvbGxpZGVyKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihkaXNwbGFjZW1lbnQueCAhPT0gMCB8fCBkaXNwbGFjZW1lbnQueSAhPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIG5ld1ZlbFgxLCBuZXdWZWxZMSwgbmV3VmVsWDIsIG5ld1ZlbFkyO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZGlzcGxhY2UnICYmICFvdGhlci5pbW1vdmFibGUpIHtcbiAgICAgICAgICAgICAgICBvdGhlci5wb3NpdGlvbi5zdWIoZGlzcGxhY2VtZW50KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICgodHlwZSA9PT0gJ2NvbGxpZGUnIHx8IHR5cGUgPT09ICdib3VuY2UnKSAmJiAhdGhpcy5pbW1vdmFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLmFkZChkaXNwbGFjZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IGNyZWF0ZVZlY3Rvcih0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXdQb3NpdGlvbiA9IGNyZWF0ZVZlY3Rvcih0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZihkaXNwbGFjZW1lbnQueCA+IDApXG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaGluZy5sZWZ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYoZGlzcGxhY2VtZW50LnggPCAwKVxuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hpbmcucmlnaHQgPSB0cnVlO1xuICAgICAgICAgICAgICBpZihkaXNwbGFjZW1lbnQueSA8IDApXG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaGluZy5ib3R0b20gPSB0cnVlO1xuICAgICAgICAgICAgICBpZihkaXNwbGFjZW1lbnQueSA+IDApXG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaGluZy50b3AgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIGlmKHR5cGUgPT09ICdib3VuY2UnKVxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sbGlkZXIgaW5zdGFuY2VvZiBDaXJjbGVDb2xsaWRlciAmJiBvdGhlci5jb2xsaWRlciBpbnN0YW5jZW9mIENpcmNsZUNvbGxpZGVyKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgZHgxID0gcDUuVmVjdG9yLnN1Yih0aGlzLnBvc2l0aW9uLCBvdGhlci5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICB2YXIgZHgyID0gcDUuVmVjdG9yLnN1YihvdGhlci5wb3NpdGlvbiwgdGhpcy5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFnbml0dWRlID0gZHgxLm1hZ1NxKCk7XG4gICAgICAgICAgICAgICAgICB2YXIgdG90YWxNYXNzID0gdGhpcy5tYXNzICsgb3RoZXIubWFzcztcbiAgICAgICAgICAgICAgICAgIHZhciBtMSA9IDAsIG0yID0gMDtcbiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmltbW92YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBtMiA9IDI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG90aGVyLmltbW92YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBtMSA9IDI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtMSA9IDIgKiBvdGhlci5tYXNzIC8gdG90YWxNYXNzO1xuICAgICAgICAgICAgICAgICAgICBtMiA9IDIgKiB0aGlzLm1hc3MgLyB0b3RhbE1hc3M7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB2YXIgbmV3VmVsMSA9IGR4MS5tdWx0KG0xICogcDUuVmVjdG9yLnN1Yih0aGlzLnZlbG9jaXR5LCBvdGhlci52ZWxvY2l0eSkuZG90KGR4MSkgLyBtYWduaXR1ZGUpO1xuICAgICAgICAgICAgICAgICAgdmFyIG5ld1ZlbDIgPSBkeDIubXVsdChtMiAqIHA1LlZlY3Rvci5zdWIob3RoZXIudmVsb2NpdHksIHRoaXMudmVsb2NpdHkpLmRvdChkeDIpIC8gbWFnbml0dWRlKTtcblxuICAgICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS5zdWIobmV3VmVsMS5tdWx0KHRoaXMucmVzdGl0dXRpb24pKTtcbiAgICAgICAgICAgICAgICAgIG90aGVyLnZlbG9jaXR5LnN1YihuZXdWZWwyLm11bHQob3RoZXIucmVzdGl0dXRpb24pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYob3RoZXIuaW1tb3ZhYmxlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5ld1ZlbFgxID0gLXRoaXMudmVsb2NpdHkueCtvdGhlci52ZWxvY2l0eS54O1xuICAgICAgICAgICAgICAgICAgbmV3VmVsWTEgPSAtdGhpcy52ZWxvY2l0eS55K290aGVyLnZlbG9jaXR5Lnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuZXdWZWxYMSA9ICh0aGlzLnZlbG9jaXR5LnggKiAodGhpcy5tYXNzIC0gb3RoZXIubWFzcykgKyAoMiAqIG90aGVyLm1hc3MgKiBvdGhlci52ZWxvY2l0eS54KSkgLyAodGhpcy5tYXNzICsgb3RoZXIubWFzcyk7XG4gICAgICAgICAgICAgICAgICBuZXdWZWxZMSA9ICh0aGlzLnZlbG9jaXR5LnkgKiAodGhpcy5tYXNzIC0gb3RoZXIubWFzcykgKyAoMiAqIG90aGVyLm1hc3MgKiBvdGhlci52ZWxvY2l0eS55KSkgLyAodGhpcy5tYXNzICsgb3RoZXIubWFzcyk7XG4gICAgICAgICAgICAgICAgICBuZXdWZWxYMiA9IChvdGhlci52ZWxvY2l0eS54ICogKG90aGVyLm1hc3MgLSB0aGlzLm1hc3MpICsgKDIgKiB0aGlzLm1hc3MgKiB0aGlzLnZlbG9jaXR5LngpKSAvICh0aGlzLm1hc3MgKyBvdGhlci5tYXNzKTtcbiAgICAgICAgICAgICAgICAgIG5ld1ZlbFkyID0gKG90aGVyLnZlbG9jaXR5LnkgKiAob3RoZXIubWFzcyAtIHRoaXMubWFzcykgKyAoMiAqIHRoaXMubWFzcyAqIHRoaXMudmVsb2NpdHkueSkpIC8gKHRoaXMubWFzcyArIG90aGVyLm1hc3MpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vdmFyIGJvdGhDaXJjbGVzID0gKHRoaXMuY29sbGlkZXIgaW5zdGFuY2VvZiBDaXJjbGVDb2xsaWRlciAmJlxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgIG90aGVyLmNvbGxpZGVyICBpbnN0YW5jZW9mIENpcmNsZUNvbGxpZGVyKTtcblxuICAgICAgICAgICAgICAgIC8vaWYodGhpcy50b3VjaGluZy5sZWZ0IHx8IHRoaXMudG91Y2hpbmcucmlnaHQgfHwgdGhpcy5jb2xsaWRlciBpbnN0YW5jZW9mIENpcmNsZUNvbGxpZGVyKVxuXG4gICAgICAgICAgICAgICAgLy9wcmludChkaXNwbGFjZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYoYWJzKGRpc3BsYWNlbWVudC54KT5hYnMoZGlzcGxhY2VtZW50LnkpKVxuICAgICAgICAgICAgICAgIHtcblxuXG4gICAgICAgICAgICAgICAgICBpZighdGhpcy5pbW1vdmFibGUpXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVsb2NpdHkueCA9IG5ld1ZlbFgxKnRoaXMucmVzdGl0dXRpb247XG5cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYoIW90aGVyLmltbW92YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIudmVsb2NpdHkueCA9IG5ld1ZlbFgyKm90aGVyLnJlc3RpdHV0aW9uO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vaWYodGhpcy50b3VjaGluZy50b3AgfHwgdGhpcy50b3VjaGluZy5ib3R0b20gfHwgdGhpcy5jb2xsaWRlciBpbnN0YW5jZW9mIENpcmNsZUNvbGxpZGVyKVxuICAgICAgICAgICAgICAgIGlmKGFicyhkaXNwbGFjZW1lbnQueCk8YWJzKGRpc3BsYWNlbWVudC55KSlcbiAgICAgICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmltbW92YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eS55ID0gbmV3VmVsWTEqdGhpcy5yZXN0aXR1dGlvbjtcblxuICAgICAgICAgICAgICAgICAgaWYoIW90aGVyLmltbW92YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgb3RoZXIudmVsb2NpdHkueSA9IG5ld1ZlbFkyKm90aGVyLnJlc3RpdHV0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy9lbHNlIGlmKHR5cGUgPT0gXCJjb2xsaWRlXCIpXG4gICAgICAgICAgICAgICAgLy90aGlzLnZlbG9jaXR5ID0gY3JlYXRlVmVjdG9yKDAsMCk7XG5cbiAgICAgICAgICAgICAgaWYoY2FsbGJhY2sgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLCBvdGhlcik7XG5cbiAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0vL2VuZCBjb2xsaWRlciBleGlzdHNcbiAgICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59IC8vZW5kIFNwcml0ZSBjbGFzc1xuXG5kZWZpbmVMYXp5UDVQcm9wZXJ0eSgnU3ByaXRlJywgYm91bmRDb25zdHJ1Y3RvckZhY3RvcnkoU3ByaXRlKSk7XG5cbi8qKlxuICAgKiBBIGNhbWVyYSBmYWNpbGl0YXRlcyBzY3JvbGxpbmcgYW5kIHpvb21pbmcgZm9yIHNjZW5lcyBleHRlbmRpbmcgYmV5b25kXG4gICAqIHRoZSBjYW52YXMuIEEgY2FtZXJhIGhhcyBhIHBvc2l0aW9uLCBhIHpvb20gZmFjdG9yLCBhbmQgdGhlIG1vdXNlXG4gICAqIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSB2aWV3LlxuICAgKiBUaGUgY2FtZXJhIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBvbiB0aGUgZmlyc3QgZHJhdyBjeWNsZS5cbiAgICpcbiAgICogSW4gcDUuanMgdGVybXMgdGhlIGNhbWVyYSB3cmFwcyB0aGUgd2hvbGUgZHJhd2luZyBjeWNsZSBpbiBhXG4gICAqIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCBidXQgaXQgY2FuIGJlIGRpc2FibGUgYW55dGltZSBkdXJpbmcgdGhlIGRyYXdcbiAgICogY3ljbGUgZm9yIGV4YW1wbGUgdG8gZHJhdyBpbnRlcmZhY2UgZWxlbWVudHMgaW4gYW4gYWJzb2x1dGUgcG9zaXRpb24uXG4gICAqXG4gICAqIEBjbGFzcyBDYW1lcmFcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IEluaXRpYWwgeCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IEluaXRpYWwgeSBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB6b29tIG1hZ25pZmljYXRpb25cbiAgICoqL1xuZnVuY3Rpb24gQ2FtZXJhKHBJbnN0LCB4LCB5LCB6b29tKSB7XG4gIC8qKlxuICAqIENhbWVyYSBwb3NpdGlvbi4gRGVmaW5lcyB0aGUgZ2xvYmFsIG9mZnNldCBvZiB0aGUgc2tldGNoLlxuICAqXG4gICogQHByb3BlcnR5IHBvc2l0aW9uXG4gICogQHR5cGUge3A1LlZlY3Rvcn1cbiAgKi9cbiAgdGhpcy5wb3NpdGlvbiA9IHBJbnN0LmNyZWF0ZVZlY3Rvcih4LCB5KTtcblxuICAvKipcbiAgKiBDYW1lcmEgem9vbS4gRGVmaW5lcyB0aGUgZ2xvYmFsIHNjYWxlIG9mIHRoZSBza2V0Y2guXG4gICogQSBzY2FsZSBvZiAxIHdpbGwgYmUgdGhlIG5vcm1hbCBzaXplLiBTZXR0aW5nIGl0IHRvIDIgd2lsbCBtYWtlIGV2ZXJ5dGhpbmdcbiAgKiB0d2ljZSB0aGUgc2l6ZS4gLjUgd2lsbCBtYWtlIGV2ZXJ5dGhpbmcgaGFsZiBzaXplLlxuICAqXG4gICogQHByb3BlcnR5IHpvb21cbiAgKiBAdHlwZSB7TnVtYmVyfVxuICAqL1xuICB0aGlzLnpvb20gPSB6b29tO1xuXG4gIC8qKlxuICAqIE1vdXNlWCB0cmFuc2xhdGVkIHRvIHRoZSBjYW1lcmEgdmlldy5cbiAgKiBPZmZzZXR0aW5nIGFuZCBzY2FsaW5nIHRoZSBjYW52YXMgd2lsbCBub3QgY2hhbmdlIHRoZSBzcHJpdGVzJyBwb3NpdGlvblxuICAqIG5vciB0aGUgbW91c2VYIGFuZCBtb3VzZVkgdmFyaWFibGVzLiBVc2UgdGhpcyBwcm9wZXJ0eSB0byByZWFkIHRoZSBtb3VzZVxuICAqIHBvc2l0aW9uIGlmIHRoZSBjYW1lcmEgbW92ZWQgb3Igem9vbWVkLlxuICAqXG4gICogQHByb3BlcnR5IG1vdXNlWFxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICovXG4gIHRoaXMubW91c2VYID0gcEluc3QubW91c2VYO1xuXG4gIC8qKlxuICAqIE1vdXNlWSB0cmFuc2xhdGVkIHRvIHRoZSBjYW1lcmEgdmlldy5cbiAgKiBPZmZzZXR0aW5nIGFuZCBzY2FsaW5nIHRoZSBjYW52YXMgd2lsbCBub3QgY2hhbmdlIHRoZSBzcHJpdGVzJyBwb3NpdGlvblxuICAqIG5vciB0aGUgbW91c2VYIGFuZCBtb3VzZVkgdmFyaWFibGVzLiBVc2UgdGhpcyBwcm9wZXJ0eSB0byByZWFkIHRoZSBtb3VzZVxuICAqIHBvc2l0aW9uIGlmIHRoZSBjYW1lcmEgbW92ZWQgb3Igem9vbWVkLlxuICAqXG4gICogQHByb3BlcnR5IG1vdXNlWVxuICAqIEB0eXBlIHtOdW1iZXJ9XG4gICovXG4gIHRoaXMubW91c2VZID0gcEluc3QubW91c2VZO1xuXG4gIC8qKlxuICAqIFRydWUgaWYgdGhlIGNhbWVyYSBpcyBhY3RpdmUuXG4gICogUmVhZCBvbmx5IHByb3BlcnR5LiBVc2UgdGhlIG1ldGhvZHMgQ2FtZXJhLm9uKCkgYW5kIENhbWVyYS5vZmYoKVxuICAqIHRvIGVuYWJsZSBvciBkaXNhYmxlIHRoZSBjYW1lcmEuXG4gICpcbiAgKiBAcHJvcGVydHkgYWN0aXZlXG4gICogQHR5cGUge0Jvb2xlYW59XG4gICovXG4gIHRoaXMuYWN0aXZlID0gZmFsc2U7XG5cbiAgLyoqXG4gICogQWN0aXZhdGVzIHRoZSBjYW1lcmEuXG4gICogVGhlIGNhbnZhcyB3aWxsIGJlIGRyYXduIGFjY29yZGluZyB0byB0aGUgY2FtZXJhIHBvc2l0aW9uIGFuZCBzY2FsZSB1bnRpbFxuICAqIENhbWVyYS5vZmYoKSBpcyBjYWxsZWRcbiAgKlxuICAqIEBtZXRob2Qgb25cbiAgKi9cbiAgdGhpcy5vbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmKCF0aGlzLmFjdGl2ZSlcbiAgICB7XG4gICAgICBjYW1lcmFQdXNoLmNhbGwocEluc3QpO1xuICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBEZWFjdGl2YXRlcyB0aGUgY2FtZXJhLlxuICAqIFRoZSBjYW52YXMgd2lsbCBiZSBkcmF3biBub3JtYWxseSwgaWdub3JpbmcgdGhlIGNhbWVyYSdzIHBvc2l0aW9uXG4gICogYW5kIHNjYWxlIHVudGlsIENhbWVyYS5vbigpIGlzIGNhbGxlZFxuICAqXG4gICogQG1ldGhvZCBvZmZcbiAgKi9cbiAgdGhpcy5vZmYgPSBmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLmFjdGl2ZSlcbiAgICB7XG4gICAgICBjYW1lcmFQb3AuY2FsbChwSW5zdCk7XG4gICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbn0gLy9lbmQgY2FtZXJhIGNsYXNzXG5cbmRlZmluZUxhenlQNVByb3BlcnR5KCdDYW1lcmEnLCBib3VuZENvbnN0cnVjdG9yRmFjdG9yeShDYW1lcmEpKTtcblxuLy9jYWxsZWQgcHJlIGRyYXcgYnkgZGVmYXVsdFxuZnVuY3Rpb24gY2FtZXJhUHVzaCgpIHtcbiAgdmFyIHBJbnN0ID0gdGhpcztcbiAgdmFyIGNhbWVyYSA9IHBJbnN0LmNhbWVyYTtcblxuICAvL2F3a3dhcmQgYnV0IG5lY2Vzc2FyeSBpbiBvcmRlciB0byBoYXZlIHRoZSBjYW1lcmEgYXQgdGhlIGNlbnRlclxuICAvL29mIHRoZSBjYW52YXMgYnkgZGVmYXVsdFxuICBpZighY2FtZXJhLmluaXQgJiYgY2FtZXJhLnBvc2l0aW9uLnggPT09IDAgJiYgY2FtZXJhLnBvc2l0aW9uLnkgPT09IDApXG4gICAge1xuICAgIGNhbWVyYS5wb3NpdGlvbi54PXBJbnN0LndpZHRoLzI7XG4gICAgY2FtZXJhLnBvc2l0aW9uLnk9cEluc3QuaGVpZ2h0LzI7XG4gICAgY2FtZXJhLmluaXQgPSB0cnVlO1xuICAgIH1cblxuICBjYW1lcmEubW91c2VYID0gcEluc3QubW91c2VYK2NhbWVyYS5wb3NpdGlvbi54LXBJbnN0LndpZHRoLzI7XG4gIGNhbWVyYS5tb3VzZVkgPSBwSW5zdC5tb3VzZVkrY2FtZXJhLnBvc2l0aW9uLnktcEluc3QuaGVpZ2h0LzI7XG5cbiAgaWYoIWNhbWVyYS5hY3RpdmUpXG4gIHtcbiAgICBjYW1lcmEuYWN0aXZlID0gdHJ1ZTtcbiAgICBwSW5zdC5wdXNoKCk7XG4gICAgcEluc3Quc2NhbGUoY2FtZXJhLnpvb20pO1xuICAgIHBJbnN0LnRyYW5zbGF0ZSgtY2FtZXJhLnBvc2l0aW9uLngrcEluc3Qud2lkdGgvMi9jYW1lcmEuem9vbSwgLWNhbWVyYS5wb3NpdGlvbi55K3BJbnN0LmhlaWdodC8yL2NhbWVyYS56b29tKTtcbiAgfVxufVxuXG4vL2NhbGxlZCBwb3N0ZHJhdyBieSBkZWZhdWx0XG5mdW5jdGlvbiBjYW1lcmFQb3AoKSB7XG4gIHZhciBwSW5zdCA9IHRoaXM7XG5cbiAgaWYocEluc3QuY2FtZXJhLmFjdGl2ZSlcbiAge1xuICAgIHBJbnN0LnBvcCgpO1xuICAgIHBJbnN0LmNhbWVyYS5hY3RpdmUgPSBmYWxzZTtcbiAgfVxufVxuXG5cblxuXG4vKipcbiAgICogSW4gcDUucGxheSBncm91cHMgYXJlIGNvbGxlY3Rpb25zIG9mIHNwcml0ZXMgd2l0aCBzaW1pbGFyIGJlaGF2aW9yLlxuICAgKiBGb3IgZXhhbXBsZSBhIGdyb3VwIG1heSBjb250YWluIGFsbCB0aGUgc3ByaXRlcyBpbiB0aGUgYmFja2dyb3VuZFxuICAgKiBvciBhbGwgdGhlIHNwcml0ZXMgdGhhdCBcImtpbGxcIiB0aGUgcGxheWVyLlxuICAgKlxuICAgKiBHcm91cHMgYXJlIFwiZXh0ZW5kZWRcIiBhcnJheXMgYW5kIGluaGVyaXQgYWxsIHRoZWlyIHByb3BlcnRpZXNcbiAgICogZS5nLiBncm91cC5sZW5ndGhcbiAgICpcbiAgICogU2luY2UgZ3JvdXBzIGNvbnRhaW4gb25seSByZWZlcmVuY2VzLCBhIHNwcml0ZSBjYW4gYmUgaW4gbXVsdGlwbGVcbiAgICogZ3JvdXBzIGFuZCBkZWxldGluZyBhIGdyb3VwIGRvZXNuJ3QgYWZmZWN0IHRoZSBzcHJpdGVzIHRoZW1zZWx2ZXMuXG4gICAqXG4gICAqIFNwcml0ZS5yZW1vdmUoKSB3aWxsIGFsc28gcmVtb3ZlIHRoZSBzcHJpdGUgZnJvbSBhbGwgdGhlIGdyb3Vwc1xuICAgKiBpdCBiZWxvbmdzIHRvLlxuICAgKlxuICAgKiBAY2xhc3MgR3JvdXBcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuZnVuY3Rpb24gR3JvdXAoKSB7XG5cbiAgLy9iYXNpY2FsbHkgZXh0ZW5kaW5nIHRoZSBhcnJheVxuICB2YXIgYXJyYXkgPSBbXTtcblxuICAvKipcbiAgKiBHZXRzIHRoZSBtZW1iZXIgYXQgaW5kZXggaS5cbiAgKlxuICAqIEBtZXRob2QgZ2V0XG4gICogQHBhcmFtIHtOdW1iZXJ9IGkgVGhlIGluZGV4IG9mIHRoZSBvYmplY3QgdG8gcmV0cmlldmVcbiAgKi9cbiAgYXJyYXkuZ2V0ID0gZnVuY3Rpb24oaSkge1xuICAgIHJldHVybiBhcnJheVtpXTtcbiAgfTtcblxuICAvKipcbiAgKiBDaGVja3MgaWYgdGhlIGdyb3VwIGNvbnRhaW5zIGEgc3ByaXRlLlxuICAqXG4gICogQG1ldGhvZCBjb250YWluc1xuICAqIEBwYXJhbSB7U3ByaXRlfSBzcHJpdGUgVGhlIHNwcml0ZSB0byBzZWFyY2hcbiAgKiBAcmV0dXJuIHtOdW1iZXJ9IEluZGV4IG9yIC0xIGlmIG5vdCBmb3VuZFxuICAqL1xuICBhcnJheS5jb250YWlucyA9IGZ1bmN0aW9uKHNwcml0ZSkge1xuICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc3ByaXRlKT4tMTtcbiAgfTtcblxuICAvKipcbiAgICogU2FtZSBhcyBHcm91cC5jb250YWluc1xuICAgKiBAbWV0aG9kIGluZGV4T2ZcbiAgICovXG4gIGFycmF5LmluZGV4T2YgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBpZiAodmlydEVxdWFscyhpdGVtLCBhcnJheVtpXSkpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvKipcbiAgKiBBZGRzIGEgc3ByaXRlIHRvIHRoZSBncm91cC5cbiAgKlxuICAqIEBtZXRob2QgYWRkXG4gICogQHBhcmFtIHtTcHJpdGV9IHMgVGhlIHNwcml0ZSB0byBiZSBhZGRlZFxuICAqL1xuICBhcnJheS5hZGQgPSBmdW5jdGlvbihzKSB7XG4gICAgaWYoIShzIGluc3RhbmNlb2YgU3ByaXRlKSkge1xuICAgICAgdGhyb3coJ0Vycm9yOiB5b3UgY2FuIG9ubHkgYWRkIHNwcml0ZXMgdG8gYSBncm91cCcpO1xuICAgIH1cblxuICAgIGlmICgtMSA9PT0gdGhpcy5pbmRleE9mKHMpKSB7XG4gICAgICBhcnJheS5wdXNoKHMpO1xuICAgICAgcy5ncm91cHMucHVzaCh0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNhbWUgYXMgZ3JvdXAubGVuZ3RoXG4gICAqIEBtZXRob2Qgc2l6ZVxuICAgKi9cbiAgYXJyYXkuc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBhcnJheS5sZW5ndGg7XG4gIH07XG5cbiAgLyoqXG4gICogUmVtb3ZlcyBhbGwgdGhlIHNwcml0ZXMgaW4gdGhlIGdyb3VwXG4gICogZnJvbSB0aGUgc2NlbmUuXG4gICpcbiAgKiBAbWV0aG9kIHJlbW92ZVNwcml0ZXNcbiAgKi9cbiAgYXJyYXkucmVtb3ZlU3ByaXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHdoaWxlIChhcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICBhcnJheVswXS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICogUmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byB0aGUgZ3JvdXAuXG4gICogRG9lcyBub3QgcmVtb3ZlIHRoZSBhY3R1YWwgc3ByaXRlcy5cbiAgKlxuICAqIEBtZXRob2QgY2xlYXJcbiAgKi9cbiAgYXJyYXkuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICBhcnJheS5sZW5ndGggPSAwO1xuICB9O1xuXG4gIC8qKlxuICAqIFJlbW92ZXMgYSBzcHJpdGUgZnJvbSB0aGUgZ3JvdXAuXG4gICogRG9lcyBub3QgcmVtb3ZlIHRoZSBhY3R1YWwgc3ByaXRlLCBvbmx5IHRoZSBhZmZpbGlhdGlvbiAocmVmZXJlbmNlKS5cbiAgKlxuICAqIEBtZXRob2QgcmVtb3ZlXG4gICogQHBhcmFtIHtTcHJpdGV9IGl0ZW0gVGhlIHNwcml0ZSB0byBiZSByZW1vdmVkXG4gICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBzcHJpdGUgd2FzIGZvdW5kIGFuZCByZW1vdmVkXG4gICovXG4gIGFycmF5LnJlbW92ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpZighKGl0ZW0gaW5zdGFuY2VvZiBTcHJpdGUpKSB7XG4gICAgICB0aHJvdygnRXJyb3I6IHlvdSBjYW4gb25seSByZW1vdmUgc3ByaXRlcyBmcm9tIGEgZ3JvdXAnKTtcbiAgICB9XG5cbiAgICB2YXIgaSwgcmVtb3ZlZCA9IGZhbHNlO1xuICAgIGZvciAoaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHtcbiAgICAgICAgYXJyYXkuc3BsaWNlKGksIDEpO1xuICAgICAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgZm9yIChpID0gaXRlbS5ncm91cHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGl0ZW0uZ3JvdXBzW2ldID09PSB0aGlzKSB7XG4gICAgICAgICAgaXRlbS5ncm91cHMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbW92ZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSBncm91cCBhcyBzdGFuZGFyZCBhcnJheS5cbiAgICogQG1ldGhvZCB0b0FycmF5XG4gICAqL1xuICBhcnJheS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGFycmF5LnNsaWNlKDApO1xuICB9O1xuXG4gIC8qKlxuICAqIFJldHVybnMgdGhlIGhpZ2hlc3QgZGVwdGggaW4gYSBncm91cFxuICAqXG4gICogQG1ldGhvZCBtYXhEZXB0aFxuICAqIEByZXR1cm4ge051bWJlcn0gVGhlIGRlcHRoIG9mIHRoZSBzcHJpdGUgZHJhd24gb24gdGhlIHRvcFxuICAqL1xuICBhcnJheS5tYXhEZXB0aCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24obWF4RGVwdGgsIHNwcml0ZSkge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KG1heERlcHRoLCBzcHJpdGUuZGVwdGgpO1xuICAgIH0sIC1JbmZpbml0eSk7XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgbG93ZXN0IGRlcHRoIGluIGEgZ3JvdXBcbiAgKlxuICAqIEBtZXRob2QgbWluRGVwdGhcbiAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBkZXB0aCBvZiB0aGUgc3ByaXRlIGRyYXduIG9uIHRoZSBib3R0b21cbiAgKi9cbiAgYXJyYXkubWluRGVwdGggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gOTk5OTk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5LnJlZHVjZShmdW5jdGlvbihtaW5EZXB0aCwgc3ByaXRlKSB7XG4gICAgICByZXR1cm4gTWF0aC5taW4obWluRGVwdGgsIHNwcml0ZS5kZXB0aCk7XG4gICAgfSwgSW5maW5pdHkpO1xuICB9O1xuXG4gIC8qKlxuICAqIERyYXdzIGFsbCB0aGUgc3ByaXRlcyBpbiB0aGUgZ3JvdXAuXG4gICpcbiAgKiBAbWV0aG9kIGRyYXdcbiAgKi9cbiAgYXJyYXkuZHJhdyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgLy9zb3J0IGJ5IGRlcHRoXG4gICAgdGhpcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLmRlcHRoIC0gYi5kZXB0aDtcbiAgICB9KTtcblxuICAgIGZvcih2YXIgaSA9IDA7IGk8dGhpcy5zaXplKCk7IGkrKylcbiAgICB7XG4gICAgICB0aGlzLmdldChpKS5kaXNwbGF5KCk7XG4gICAgfVxuICB9O1xuXG4gIC8vaW50ZXJuYWwgdXNlXG4gIGZ1bmN0aW9uIHZpcnRFcXVhbHMob2JqLCBvdGhlcikge1xuICAgIGlmIChvYmogPT09IG51bGwgfHwgb3RoZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAob2JqID09PSBudWxsKSAmJiAob3RoZXIgPT09IG51bGwpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChvYmopID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG9iaiA9PT0gb3RoZXI7XG4gICAgfVxuICAgIGlmICh0eXBlb2Yob2JqKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBvYmogPT09IG90aGVyO1xuICAgIH1cbiAgICBpZiAob2JqLmVxdWFscyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICByZXR1cm4gb2JqLmVxdWFscyhvdGhlcik7XG4gICAgfVxuICAgIHJldHVybiBvYmogPT09IG90aGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbGxpZGUgZWFjaCBtZW1iZXIgb2YgZ3JvdXAgYWdhaW5zdCB0aGUgdGFyZ2V0IHVzaW5nIHRoZSBnaXZlbiBjb2xsaXNpb25cbiAgICogdHlwZS4gIFJldHVybiB0cnVlIGlmIGFueSBjb2xsaXNpb24gb2NjdXJyZWQuXG4gICAqIEludGVybmFsIHVzZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9ncm91cENvbGxpZGVcbiAgICogQHBhcmFtIHshc3RyaW5nfSB0eXBlIG9uZSBvZiAnb3ZlcmxhcCcsICdjb2xsaWRlJywgJ2Rpc3BsYWNlJywgJ2JvdW5jZSdcbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBHcm91cCBvciBTcHJpdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBvbiBjb2xsaXNpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGNvbGxpc2lvbi9vdmVybGFwIG9jY3VycmVkXG4gICAqL1xuICBmdW5jdGlvbiBfZ3JvdXBDb2xsaWRlKHR5cGUsIHRhcmdldCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZGlkQ29sbGlkZSA9IGZhbHNlO1xuICAgIGZvcih2YXIgaSA9IDA7IGk8dGhpcy5zaXplKCk7IGkrKylcbiAgICAgIGRpZENvbGxpZGUgPSB0aGlzLmdldChpKS5BQUJCb3BzKHR5cGUsIHRhcmdldCwgY2FsbGJhY2spIHx8IGRpZENvbGxpZGU7XG4gICAgcmV0dXJuIGRpZENvbGxpZGU7XG4gIH1cblxuICAvKipcbiAgKiBDaGVja3MgaWYgdGhlIHRoZSBncm91cCBpcyBvdmVybGFwcGluZyBhbm90aGVyIGdyb3VwIG9yIHNwcml0ZS5cbiAgKiBUaGUgY2hlY2sgaXMgcGVyZm9ybWVkIHVzaW5nIHRoZSBjb2xsaWRlcnMuIElmIGNvbGxpZGVycyBhcmUgbm90IHNldFxuICAqIHRoZXkgd2lsbCBiZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgZnJvbSB0aGUgaW1hZ2UvYW5pbWF0aW9uIGJvdW5kaW5nIGJveC5cbiAgKlxuICAqIEEgY2FsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHNwZWNpZmllZCB0byBwZXJmb3JtIGFkZGl0aW9uYWwgb3BlcmF0aW9uc1xuICAqIHdoZW4gdGhlIG92ZXJsYXAgb2NjdXJzLlxuICAqIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBzaW5nbGUgc3ByaXRlIG92ZXJsYXBwaW5nLlxuICAqIFRoZSBwYXJhbWV0ZXIgb2YgdGhlIGZ1bmN0aW9uIGFyZSByZXNwZWN0aXZlbHkgdGhlXG4gICogbWVtYmVyIG9mIHRoZSBjdXJyZW50IGdyb3VwIGFuZCB0aGUgb3RoZXIgc3ByaXRlIHBhc3NlZCBhcyBwYXJhbWV0ZXIuXG4gICpcbiAgKiBAZXhhbXBsZVxuICAqICAgICBncm91cC5vdmVybGFwKG90aGVyU3ByaXRlLCBleHBsb3Npb24pO1xuICAqXG4gICogICAgIGZ1bmN0aW9uIGV4cGxvc2lvbihzcHJpdGVBLCBzcHJpdGVCKSB7XG4gICogICAgICAgc3ByaXRlQS5yZW1vdmUoKTtcbiAgKiAgICAgICBzcHJpdGVCLnNjb3JlKys7XG4gICogICAgIH1cbiAgKlxuICAqIEBtZXRob2Qgb3ZlcmxhcFxuICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgR3JvdXAgb3IgU3ByaXRlIHRvIGNoZWNrIGFnYWluc3QgdGhlIGN1cnJlbnQgb25lXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIG92ZXJsYXAgaXMgcG9zaXRpdmVcbiAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIG92ZXJsYXBwaW5nXG4gICovXG4gIGFycmF5Lm92ZXJsYXAgPSBfZ3JvdXBDb2xsaWRlLmJpbmQoYXJyYXksICdvdmVybGFwJyk7XG5cblxuICAvKipcbiAgKiBDaGVja3MgaWYgdGhlIHRoZSBncm91cCBpcyBvdmVybGFwcGluZyBhbm90aGVyIGdyb3VwIG9yIHNwcml0ZS5cbiAgKiBJZiB0aGUgb3ZlcmxhcCBpcyBwb3NpdGl2ZSB0aGUgc3ByaXRlcyBpbiB0aGUgZ3JvdXAgd2lsbCBiZSBkaXNwbGFjZWRcbiAgKiBieSB0aGUgY29sbGlkaW5nIG9uZSB0byB0aGUgY2xvc2VzdCBub24tb3ZlcmxhcHBpbmcgcG9zaXRpb25zLlxuICAqXG4gICogVGhlIGNoZWNrIGlzIHBlcmZvcm1lZCB1c2luZyB0aGUgY29sbGlkZXJzLiBJZiBjb2xsaWRlcnMgYXJlIG5vdCBzZXRcbiAgKiB0aGV5IHdpbGwgYmUgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IGZyb20gdGhlIGltYWdlL2FuaW1hdGlvbiBib3VuZGluZyBib3guXG4gICpcbiAgKiBBIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSBzcGVjaWZpZWQgdG8gcGVyZm9ybSBhZGRpdGlvbmFsIG9wZXJhdGlvbnNcbiAgKiB3aGVuIHRoZSBvdmVybGFwIG9jY291cnMuXG4gICogVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIHNpbmdsZSBzcHJpdGUgb3ZlcmxhcHBpbmcuXG4gICogVGhlIHBhcmFtZXRlciBvZiB0aGUgZnVuY3Rpb24gYXJlIHJlc3BlY3RpdmVseSB0aGVcbiAgKiBtZW1iZXIgb2YgdGhlIGN1cnJlbnQgZ3JvdXAgYW5kIHRoZSBvdGhlciBzcHJpdGUgcGFzc2VkIGFzIHBhcmFtZXRlci5cbiAgKlxuICAqIEBleGFtcGxlXG4gICogICAgIGdyb3VwLmNvbGxpZGUob3RoZXJTcHJpdGUsIGV4cGxvc2lvbik7XG4gICpcbiAgKiAgICAgZnVuY3Rpb24gZXhwbG9zaW9uKHNwcml0ZUEsIHNwcml0ZUIpIHtcbiAgKiAgICAgICBzcHJpdGVBLnJlbW92ZSgpO1xuICAqICAgICAgIHNwcml0ZUIuc2NvcmUrKztcbiAgKiAgICAgfVxuICAqXG4gICogQG1ldGhvZCBjb2xsaWRlXG4gICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBHcm91cCBvciBTcHJpdGUgdG8gY2hlY2sgYWdhaW5zdCB0aGUgY3VycmVudCBvbmVcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgb3ZlcmxhcCBpcyBwb3NpdGl2ZVxuICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgb3ZlcmxhcHBpbmdcbiAgKi9cbiAgYXJyYXkuY29sbGlkZSA9IF9ncm91cENvbGxpZGUuYmluZChhcnJheSwgJ2NvbGxpZGUnKTtcblxuICAvKipcbiAgKiBDaGVja3MgaWYgdGhlIHRoZSBncm91cCBpcyBvdmVybGFwcGluZyBhbm90aGVyIGdyb3VwIG9yIHNwcml0ZS5cbiAgKiBJZiB0aGUgb3ZlcmxhcCBpcyBwb3NpdGl2ZSB0aGUgc3ByaXRlcyBpbiB0aGUgZ3JvdXAgd2lsbCBkaXNwbGFjZVxuICAqIHRoZSBjb2xsaWRpbmcgb25lcyB0byB0aGUgY2xvc2VzdCBub24tb3ZlcmxhcHBpbmcgcG9zaXRpb25zLlxuICAqXG4gICogVGhlIGNoZWNrIGlzIHBlcmZvcm1lZCB1c2luZyB0aGUgY29sbGlkZXJzLiBJZiBjb2xsaWRlcnMgYXJlIG5vdCBzZXRcbiAgKiB0aGV5IHdpbGwgYmUgY3JlYXRlZCBhdXRvbWF0aWNhbGx5IGZyb20gdGhlIGltYWdlL2FuaW1hdGlvbiBib3VuZGluZyBib3guXG4gICpcbiAgKiBBIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbiBiZSBzcGVjaWZpZWQgdG8gcGVyZm9ybSBhZGRpdGlvbmFsIG9wZXJhdGlvbnNcbiAgKiB3aGVuIHRoZSBvdmVybGFwIG9jY3Vycy5cbiAgKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggc2luZ2xlIHNwcml0ZSBvdmVybGFwcGluZy5cbiAgKiBUaGUgcGFyYW1ldGVyIG9mIHRoZSBmdW5jdGlvbiBhcmUgcmVzcGVjdGl2ZWx5IHRoZVxuICAqIG1lbWJlciBvZiB0aGUgY3VycmVudCBncm91cCBhbmQgdGhlIG90aGVyIHNwcml0ZSBwYXNzZWQgYXMgcGFyYW1ldGVyLlxuICAqXG4gICogQGV4YW1wbGVcbiAgKiAgICAgZ3JvdXAuZGlzcGxhY2Uob3RoZXJTcHJpdGUsIGV4cGxvc2lvbik7XG4gICpcbiAgKiAgICAgZnVuY3Rpb24gZXhwbG9zaW9uKHNwcml0ZUEsIHNwcml0ZUIpIHtcbiAgKiAgICAgICBzcHJpdGVBLnJlbW92ZSgpO1xuICAqICAgICAgIHNwcml0ZUIuc2NvcmUrKztcbiAgKiAgICAgfVxuICAqXG4gICogQG1ldGhvZCBkaXNwbGFjZVxuICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgR3JvdXAgb3IgU3ByaXRlIHRvIGNoZWNrIGFnYWluc3QgdGhlIGN1cnJlbnQgb25lXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIG92ZXJsYXAgaXMgcG9zaXRpdmVcbiAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIG92ZXJsYXBwaW5nXG4gICovXG4gIGFycmF5LmRpc3BsYWNlID0gX2dyb3VwQ29sbGlkZS5iaW5kKGFycmF5LCAnZGlzcGxhY2UnKTtcblxuICAvKipcbiAgKiBDaGVja3MgaWYgdGhlIHRoZSBncm91cCBpcyBvdmVybGFwcGluZyBhbm90aGVyIGdyb3VwIG9yIHNwcml0ZS5cbiAgKiBJZiB0aGUgb3ZlcmxhcCBpcyBwb3NpdGl2ZSB0aGUgc3ByaXRlcyB3aWxsIGJvdW5jZSBhZmZlY3RpbmcgZWFjaFxuICAqIG90aGVyJ3MgdHJhamVjdG9yaWVzIGRlcGVuZGluZyBvbiB0aGVpciAudmVsb2NpdHksIC5tYXNzIGFuZCAucmVzdGl0dXRpb24uXG4gICpcbiAgKiBUaGUgY2hlY2sgaXMgcGVyZm9ybWVkIHVzaW5nIHRoZSBjb2xsaWRlcnMuIElmIGNvbGxpZGVycyBhcmUgbm90IHNldFxuICAqIHRoZXkgd2lsbCBiZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgZnJvbSB0aGUgaW1hZ2UvYW5pbWF0aW9uIGJvdW5kaW5nIGJveC5cbiAgKlxuICAqIEEgY2FsbGJhY2sgZnVuY3Rpb24gY2FuIGJlIHNwZWNpZmllZCB0byBwZXJmb3JtIGFkZGl0aW9uYWwgb3BlcmF0aW9uc1xuICAqIHdoZW4gdGhlIG92ZXJsYXAgb2Njb3Vycy5cbiAgKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggc2luZ2xlIHNwcml0ZSBvdmVybGFwcGluZy5cbiAgKiBUaGUgcGFyYW1ldGVyIG9mIHRoZSBmdW5jdGlvbiBhcmUgcmVzcGVjdGl2ZWx5IHRoZVxuICAqIG1lbWJlciBvZiB0aGUgY3VycmVudCBncm91cCBhbmQgdGhlIG90aGVyIHNwcml0ZSBwYXNzZWQgYXMgcGFyYW1ldGVyLlxuICAqXG4gICogQGV4YW1wbGVcbiAgKiAgICAgZ3JvdXAuYm91bmNlKG90aGVyU3ByaXRlLCBleHBsb3Npb24pO1xuICAqXG4gICogICAgIGZ1bmN0aW9uIGV4cGxvc2lvbihzcHJpdGVBLCBzcHJpdGVCKSB7XG4gICogICAgICAgc3ByaXRlQS5yZW1vdmUoKTtcbiAgKiAgICAgICBzcHJpdGVCLnNjb3JlKys7XG4gICogICAgIH1cbiAgKlxuICAqIEBtZXRob2QgYm91bmNlXG4gICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBHcm91cCBvciBTcHJpdGUgdG8gY2hlY2sgYWdhaW5zdCB0aGUgY3VycmVudCBvbmVcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgb3ZlcmxhcCBpcyBwb3NpdGl2ZVxuICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgb3ZlcmxhcHBpbmdcbiAgKi9cbiAgYXJyYXkuYm91bmNlID0gX2dyb3VwQ29sbGlkZS5iaW5kKGFycmF5LCAnYm91bmNlJyk7XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5wNS5wcm90b3R5cGUuR3JvdXAgPSBHcm91cDtcblxuLy9jaXJjbGUgY29sbGlkZXIgLSB1c2VkIGludGVybmFsbHlcbmZ1bmN0aW9uIENpcmNsZUNvbGxpZGVyKHBJbnN0LCBfY2VudGVyLCBfcmFkaXVzLCBfb2Zmc2V0KSB7XG4gIHZhciBwSW5zdEJpbmQgPSBjcmVhdGVQSW5zdEJpbmRlcihwSW5zdCk7XG5cbiAgdmFyIGNyZWF0ZVZlY3RvciA9IHBJbnN0QmluZCgnY3JlYXRlVmVjdG9yJyk7XG5cbiAgdmFyIENFTlRFUiA9IHA1LnByb3RvdHlwZS5DRU5URVI7XG5cbiAgdGhpcy5jZW50ZXIgPSBfY2VudGVyO1xuICB0aGlzLnJhZGl1cyA9IF9yYWRpdXM7XG4gIHRoaXMub3JpZ2luYWxSYWRpdXMgPSBfcmFkaXVzO1xuXG4gIGlmKF9vZmZzZXQgPT09IHVuZGVmaW5lZClcbiAgICB0aGlzLm9mZnNldCA9IGNyZWF0ZVZlY3RvcigwLCAwKTtcbiAgZWxzZVxuICAgIHRoaXMub2Zmc2V0ID0gX29mZnNldDtcbiAgdGhpcy5leHRlbnRzID0gY3JlYXRlVmVjdG9yKF9yYWRpdXMqMiwgX3JhZGl1cyoyKTtcblxuICB0aGlzLmRyYXcgPSBmdW5jdGlvbigpXG4gIHtcbiAgICBwSW5zdC5ub0ZpbGwoKTtcbiAgICBwSW5zdC5zdHJva2UoMCwgMjU1LCAwKTtcbiAgICBwSW5zdC5yZWN0TW9kZShDRU5URVIpO1xuICAgIHBJbnN0LmVsbGlwc2UodGhpcy5jZW50ZXIueCt0aGlzLm9mZnNldC54LCB0aGlzLmNlbnRlci55K3RoaXMub2Zmc2V0LnksIHRoaXMucmFkaXVzKjIsIHRoaXMucmFkaXVzKjIpO1xuICB9O1xuXG4gIC8vc2hvdWxkIGJlIGNhbGxlZCBvbmx5IGZvciBjaXJjbGUgdnMgY2lyY2xlXG4gIHRoaXMub3ZlcmxhcCA9IGZ1bmN0aW9uKG90aGVyKVxuICB7XG4gICAgLy9zcXVhcmUgZGlzdFxuICAgIHZhciByID0gdGhpcy5yYWRpdXMgKyBvdGhlci5yYWRpdXM7XG4gICAgciAqPSByO1xuICAgIHZhciB0aGlzQ2VudGVyWCA9IHRoaXMuY2VudGVyLnggKyB0aGlzLm9mZnNldC54O1xuICAgIHZhciB0aGlzQ2VudGVyWSA9IHRoaXMuY2VudGVyLnkgKyB0aGlzLm9mZnNldC55O1xuICAgIHZhciBvdGhlckNlbnRlclggPSBvdGhlci5jZW50ZXIueCArIG90aGVyLm9mZnNldC54O1xuICAgIHZhciBvdGhlckNlbnRlclkgPSBvdGhlci5jZW50ZXIueSArIG90aGVyLm9mZnNldC55O1xuICAgIHZhciBzcURpc3QgPSBwb3codGhpc0NlbnRlclggLSBvdGhlckNlbnRlclgsIDIpICsgcG93KHRoaXNDZW50ZXJZIC0gb3RoZXJDZW50ZXJZLCAyKTtcbiAgICByZXR1cm4gciA+IHNxRGlzdDtcbiAgfTtcblxuICAvL3Nob3VsZCBiZSBjYWxsZWQgb25seSBmb3IgY2lyY2xlIHZzIGNpcmNsZVxuICB0aGlzLmNvbGxpZGUgPSBmdW5jdGlvbihvdGhlcilcbiAge1xuICAgIGlmKHRoaXMub3ZlcmxhcChvdGhlcikpIHtcbiAgICAgIHZhciB0aGlzQ2VudGVyWCA9IHRoaXMuY2VudGVyLnggKyB0aGlzLm9mZnNldC54O1xuICAgICAgdmFyIHRoaXNDZW50ZXJZID0gdGhpcy5jZW50ZXIueSArIHRoaXMub2Zmc2V0Lnk7XG4gICAgICB2YXIgb3RoZXJDZW50ZXJYID0gb3RoZXIuY2VudGVyLnggKyBvdGhlci5vZmZzZXQueDtcbiAgICAgIHZhciBvdGhlckNlbnRlclkgPSBvdGhlci5jZW50ZXIueSArIG90aGVyLm9mZnNldC55O1xuICAgICAgdmFyIGEgPSBwSW5zdC5hdGFuMih0aGlzQ2VudGVyWS1vdGhlckNlbnRlclksIHRoaXNDZW50ZXJYLW90aGVyQ2VudGVyWCk7XG4gICAgICB2YXIgcmFkaWkgPSB0aGlzLnJhZGl1cytvdGhlci5yYWRpdXM7XG4gICAgICB2YXIgaW50ZXJzZWN0aW9uID0gYWJzKHJhZGlpIC0gZGlzdCh0aGlzQ2VudGVyWCwgdGhpc0NlbnRlclksIG90aGVyQ2VudGVyWCwgb3RoZXJDZW50ZXJZKSk7XG5cbiAgICAgIHZhciBkaXNwbGFjZW1lbnQgPSBjcmVhdGVWZWN0b3IocEluc3QuY29zKGEpKmludGVyc2VjdGlvbiwgcEluc3Quc2luKGEpKmludGVyc2VjdGlvbik7XG5cbiAgICAgIHJldHVybiBkaXNwbGFjZW1lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjcmVhdGVWZWN0b3IoMCwgMCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uKClcbiAge1xuICAgIHJldHVybiBjcmVhdGVWZWN0b3IodGhpcy5yYWRpdXMqMiwgdGhpcy5yYWRpdXMqMik7XG4gIH07XG5cbiAgdGhpcy5sZWZ0ID0gZnVuY3Rpb24oKVxuICB7XG4gICAgcmV0dXJuIHRoaXMuY2VudGVyLngrdGhpcy5vZmZzZXQueCAtIHRoaXMucmFkaXVzO1xuICB9O1xuXG4gIHRoaXMucmlnaHQgPSBmdW5jdGlvbigpXG4gIHtcbiAgICByZXR1cm4gdGhpcy5jZW50ZXIueCt0aGlzLm9mZnNldC54ICsgdGhpcy5yYWRpdXM7XG4gIH07XG5cbiAgdGhpcy50b3AgPSBmdW5jdGlvbigpXG4gIHtcbiAgICByZXR1cm4gdGhpcy5jZW50ZXIueSt0aGlzLm9mZnNldC55IC0gdGhpcy5yYWRpdXM7XG4gIH07XG5cbiAgdGhpcy5ib3R0b20gPSBmdW5jdGlvbigpXG4gIHtcbiAgICByZXR1cm4gdGhpcy5jZW50ZXIueSt0aGlzLm9mZnNldC55ICsgdGhpcy5yYWRpdXM7XG4gIH07XG5cblxuXG59XG5kZWZpbmVMYXp5UDVQcm9wZXJ0eSgnQ2lyY2xlQ29sbGlkZXInLCBib3VuZENvbnN0cnVjdG9yRmFjdG9yeShDaXJjbGVDb2xsaWRlcikpO1xuXG4vL2F4aXMgYWxpZ25lZCBib3VuZGluZyBib3ggLSBleHRlbnRzIGFyZSB0aGUgaGFsZiBzaXplcyAtIHVzZWQgaW50ZXJuYWxseVxuZnVuY3Rpb24gQUFCQihwSW5zdCwgX2NlbnRlciwgX2V4dGVudHMsIF9vZmZzZXQpIHtcbiAgdmFyIHBJbnN0QmluZCA9IGNyZWF0ZVBJbnN0QmluZGVyKHBJbnN0KTtcblxuICB2YXIgY3JlYXRlVmVjdG9yID0gcEluc3RCaW5kKCdjcmVhdGVWZWN0b3InKTtcblxuICB2YXIgQ0VOVEVSID0gcDUucHJvdG90eXBlLkNFTlRFUjtcbiAgdmFyIFBJID0gcDUucHJvdG90eXBlLlBJO1xuXG4gIHRoaXMuY2VudGVyID0gX2NlbnRlcjtcbiAgdGhpcy5leHRlbnRzID0gX2V4dGVudHM7XG4gIHRoaXMub3JpZ2luYWxFeHRlbnRzID0gX2V4dGVudHMuY29weSgpO1xuXG4gIGlmKF9vZmZzZXQgPT09IHVuZGVmaW5lZClcbiAgICB0aGlzLm9mZnNldCA9IGNyZWF0ZVZlY3RvcigwLCAwKTtcbiAgZWxzZVxuICAgIHRoaXMub2Zmc2V0ID0gX29mZnNldDtcblxuICB0aGlzLm1pbiA9IGZ1bmN0aW9uKClcbiAge1xuICAgIHJldHVybiBjcmVhdGVWZWN0b3IodGhpcy5jZW50ZXIueCt0aGlzLm9mZnNldC54IC0gdGhpcy5leHRlbnRzLngsIHRoaXMuY2VudGVyLnkrdGhpcy5vZmZzZXQueSAtIHRoaXMuZXh0ZW50cy55KTtcbiAgfTtcblxuICB0aGlzLm1heCA9IGZ1bmN0aW9uKClcbiAge1xuICAgIHJldHVybiBjcmVhdGVWZWN0b3IodGhpcy5jZW50ZXIueCt0aGlzLm9mZnNldC54ICsgdGhpcy5leHRlbnRzLngsIHRoaXMuY2VudGVyLnkrdGhpcy5vZmZzZXQueSArIHRoaXMuZXh0ZW50cy55KTtcbiAgfTtcblxuICB0aGlzLnJpZ2h0ID0gZnVuY3Rpb24oKVxuICB7XG4gICAgcmV0dXJuIHRoaXMuY2VudGVyLngrdGhpcy5vZmZzZXQueCArIHRoaXMuZXh0ZW50cy54LzI7XG4gIH07XG5cbiAgdGhpcy5sZWZ0ID0gZnVuY3Rpb24oKVxuICB7XG4gICAgcmV0dXJuIHRoaXMuY2VudGVyLngrdGhpcy5vZmZzZXQueCAtIHRoaXMuZXh0ZW50cy54LzI7XG4gIH07XG5cbiAgdGhpcy50b3AgPSBmdW5jdGlvbigpXG4gIHtcbiAgICByZXR1cm4gdGhpcy5jZW50ZXIueSt0aGlzLm9mZnNldC55IC0gdGhpcy5leHRlbnRzLnkvMjtcbiAgfTtcblxuICB0aGlzLmJvdHRvbSA9IGZ1bmN0aW9uKClcbiAge1xuICAgIHJldHVybiB0aGlzLmNlbnRlci55K3RoaXMub2Zmc2V0LnkgKyB0aGlzLmV4dGVudHMueS8yO1xuICB9O1xuXG4gIHRoaXMuc2l6ZSA9IGZ1bmN0aW9uKClcbiAge1xuICAgIHJldHVybiBjcmVhdGVWZWN0b3IodGhpcy5leHRlbnRzLnggKiAyLCB0aGlzLmV4dGVudHMueSAqIDIpO1xuICB9O1xuXG4gIHRoaXMucm90YXRlID0gZnVuY3Rpb24ocilcbiAge1xuICAgIC8vcm90YXRlIHRoZSBiYm94XG4gICAgdmFyIHQ7XG4gICAgaWYgKHBJbnN0Ll9hbmdsZU1vZGUgPT09IHBJbnN0LlJBRElBTlMpIHtcbiAgICAgIHQgPSByYWRpYW5zKHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ID0gcjtcbiAgICB9XG5cbiAgICB2YXIgdzIgPSB0aGlzLmV4dGVudHMueCAqIGFicyhwSW5zdC5jb3ModCkpICsgdGhpcy5leHRlbnRzLnkgKiBhYnMocEluc3Quc2luKHQpKTtcbiAgICB2YXIgaDIgPSB0aGlzLmV4dGVudHMueCAqIGFicyhwSW5zdC5zaW4odCkpICsgdGhpcy5leHRlbnRzLnkgKiBhYnMocEluc3QuY29zKHQpKTtcblxuICAgIHRoaXMuZXh0ZW50cy54ID0gdzI7XG4gICAgdGhpcy5leHRlbnRzLnkgPSBoMjtcblxuICB9O1xuXG4gIHRoaXMuZHJhdyA9IGZ1bmN0aW9uKClcbiAge1xuICAgIC8vZmlsbChjb2wpO1xuICAgIHBJbnN0Lm5vRmlsbCgpO1xuICAgIHBJbnN0LnN0cm9rZSgwLCAyNTUsIDApO1xuICAgIHBJbnN0LnJlY3RNb2RlKENFTlRFUik7XG4gICAgcEluc3QucmVjdCh0aGlzLmNlbnRlci54K3RoaXMub2Zmc2V0LngsIHRoaXMuY2VudGVyLnkrdGhpcy5vZmZzZXQueSwgdGhpcy5zaXplKCkueC8yLCB0aGlzLnNpemUoKS55LzIpO1xuICB9O1xuXG4gIHRoaXMub3ZlcmxhcCA9IGZ1bmN0aW9uKG90aGVyKVxuICB7XG4gICAgLy9ib3ggdnMgYm94XG4gICAgaWYob3RoZXIgaW5zdGFuY2VvZiBBQUJCKVxuICAgIHtcbiAgICAgIHZhciBtZCA9IG90aGVyLm1pbmtvd3NraURpZmZlcmVuY2UodGhpcyk7XG5cbiAgICAgIGlmIChtZC5taW4oKS54IDw9IDAgJiZcbiAgICAgICAgICBtZC5tYXgoKS54ID49IDAgJiZcbiAgICAgICAgICBtZC5taW4oKS55IDw9IDAgJiZcbiAgICAgICAgICBtZC5tYXgoKS55ID49IDApXG4gICAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vYm94IHZzIGNpcmNsZVxuICAgIGVsc2UgaWYob3RoZXIgaW5zdGFuY2VvZiBDaXJjbGVDb2xsaWRlcilcbiAgICB7XG5cbiAgICAgIC8vZmluZCBjbG9zZXN0IHBvaW50IHRvIHRoZSBjaXJjbGUgb24gdGhlIGJveFxuICAgICAgdmFyIHB0ID0gY3JlYXRlVmVjdG9yKG90aGVyLmNlbnRlci54LCBvdGhlci5jZW50ZXIueSk7XG5cbiAgICAgIC8vSSBkb24ndCBrbm93IHdoYXQncyBnb2luZyBvIHRyeSB0byB0cmFjZSBhIGxpbmUgZnJvbSBjZW50ZXJzIHRvIHNlZVxuICAgICAgaWYoIG90aGVyLmNlbnRlci54IDwgdGhpcy5sZWZ0KCkgKVxuICAgICAgICBwdC54ID0gdGhpcy5sZWZ0KCk7XG4gICAgICBlbHNlIGlmKCBvdGhlci5jZW50ZXIueCA+IHRoaXMucmlnaHQoKSlcbiAgICAgICAgcHQueCA9IHRoaXMucmlnaHQoKTtcblxuICAgICAgaWYoIG90aGVyLmNlbnRlci55IDwgdGhpcy50b3AoKSApXG4gICAgICAgIHB0LnkgPSB0aGlzLnRvcCgpO1xuICAgICAgZWxzZSBpZiggb3RoZXIuY2VudGVyLnkgPiB0aGlzLmJvdHRvbSgpKVxuICAgICAgICBwdC55ID0gdGhpcy5ib3R0b20oKTtcblxuICAgICAgdmFyIGRpc3RhbmNlID0gcHQuZGlzdChvdGhlci5jZW50ZXIpO1xuXG4gICAgICByZXR1cm4gZGlzdGFuY2U8b3RoZXIucmFkaXVzO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmNvbGxpZGUgPSBmdW5jdGlvbihvdGhlcilcbiAge1xuXG4gICAgaWYob3RoZXIgaW5zdGFuY2VvZiBBQUJCKVxuICAgIHtcbiAgICAgIHZhciBtZCA9IG90aGVyLm1pbmtvd3NraURpZmZlcmVuY2UodGhpcyk7XG5cbiAgICAgIGlmIChtZC5taW4oKS54IDw9IDAgJiZcbiAgICAgICAgICBtZC5tYXgoKS54ID49IDAgJiZcbiAgICAgICAgICBtZC5taW4oKS55IDw9IDAgJiZcbiAgICAgICAgICBtZC5tYXgoKS55ID49IDApXG4gICAgICB7XG4gICAgICAgIHZhciBib3VuZHNQb2ludCA9IG1kLmNsb3Nlc3RQb2ludE9uQm91bmRzVG9Qb2ludChjcmVhdGVWZWN0b3IoMCwgMCkpO1xuXG4gICAgICAgIHJldHVybiBib3VuZHNQb2ludDtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZlY3RvcigwLCAwKTtcbiAgICB9XG4gICAgLy9ib3ggdnMgY2lyY2xlXG4gICAgZWxzZSBpZihvdGhlciBpbnN0YW5jZW9mIENpcmNsZUNvbGxpZGVyKVxuICAgIHtcblxuICAgICAgLy9maW5kIGNsb3Nlc3QgcG9pbnQgdG8gdGhlIGNpcmNsZSBvbiB0aGUgYm94XG4gICAgICB2YXIgcHQgPSBjcmVhdGVWZWN0b3Iob3RoZXIuY2VudGVyLngsIG90aGVyLmNlbnRlci55KTtcblxuICAgICAgLy9JIGRvbid0IGtub3cgd2hhdCdzIGdvaW5nIG8gdHJ5IHRvIHRyYWNlIGEgbGluZSBmcm9tIGNlbnRlcnMgdG8gc2VlXG4gICAgICBpZiggb3RoZXIuY2VudGVyLnggPCB0aGlzLmxlZnQoKSApXG4gICAgICAgIHB0LnggPSB0aGlzLmxlZnQoKTtcbiAgICAgIGVsc2UgaWYoIG90aGVyLmNlbnRlci54ID4gdGhpcy5yaWdodCgpKVxuICAgICAgICBwdC54ID0gdGhpcy5yaWdodCgpO1xuXG4gICAgICBpZiggb3RoZXIuY2VudGVyLnkgPCB0aGlzLnRvcCgpIClcbiAgICAgICAgcHQueSA9IHRoaXMudG9wKCk7XG4gICAgICBlbHNlIGlmKCBvdGhlci5jZW50ZXIueSA+IHRoaXMuYm90dG9tKCkpXG4gICAgICAgIHB0LnkgPSB0aGlzLmJvdHRvbSgpO1xuXG5cbiAgICAgIHZhciBkaXN0YW5jZSA9IHB0LmRpc3Qob3RoZXIuY2VudGVyKTtcbiAgICAgIHZhciBhO1xuXG4gICAgICBpZihkaXN0YW5jZTxvdGhlci5yYWRpdXMpXG4gICAgICB7XG4gICAgICAgIC8vcmVjbGFtcCBwb2ludFxuICAgICAgICBpZihwdC54ID09PSBvdGhlci5jZW50ZXIueCAmJiBwdC55ID09PSBvdGhlci5jZW50ZXIueSlcbiAgICAgICAge1xuICAgICAgICAgIHZhciB4T3ZlcmxhcCA9IHB0LnggLSB0aGlzLmNlbnRlci54O1xuICAgICAgICAgIHZhciB5T3ZlcmxhcCA9IHB0LnkgLSB0aGlzLmNlbnRlci55O1xuXG5cbiAgICAgICAgICBpZihhYnMoeE92ZXJsYXApIDwgYWJzKHlPdmVybGFwKSlcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZih4T3ZlcmxhcCA+IDAgKVxuICAgICAgICAgICAgICBwdC54ID0gdGhpcy5yaWdodCgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBwdC54ID0gdGhpcy5sZWZ0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZih5T3ZlcmxhcCA8IDAgKVxuICAgICAgICAgICAgICBwdC55ID0gdGhpcy50b3AoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgcHQueSA9IHRoaXMuYm90dG9tKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYSA9IHBJbnN0LmF0YW4yKG90aGVyLmNlbnRlci55LXB0LnksIG90aGVyLmNlbnRlci54LXB0LngpO1xuXG4gICAgICAgICAgLy9maXggZXhjZXB0aW9uc1xuICAgICAgICAgIGlmKGEgPT09IDApXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYocHQueCA9PT0gdGhpcy5yaWdodCgpKSBhID0gUEk7XG4gICAgICAgICAgICBpZihwdC55ID09PSB0aGlzLnRvcCgpKSBhID0gUEkvMjtcbiAgICAgICAgICAgIGlmKHB0LnkgPT09IHRoaXMuYm90dG9tKCkpIGEgPSAtUEkvMjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgLy9hbmdsZSBidyBwb2ludCBhbmQgY2VudGVyXG4gICAgICAgICAgYSA9IHBJbnN0LmF0YW4yKHB0Lnktb3RoZXIuY2VudGVyLnksIHB0Lngtb3RoZXIuY2VudGVyLngpO1xuICAgICAgICAgIC8vcHJvamVjdCB0aGUgbm9ybWFsIChsaW5lIGJldHdlZW4gcHQgYW5kIGNlbnRlcikgb250byB0aGUgY2lyY2xlXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZCA9IGNyZWF0ZVZlY3RvcihwdC54LW90aGVyLmNlbnRlci54LCBwdC55LW90aGVyLmNlbnRlci55KTtcbiAgICAgICAgdmFyIGRpc3BsYWNlbWVudCA9IGNyZWF0ZVZlY3RvcihwSW5zdC5jb3MoYSkqb3RoZXIucmFkaXVzLWQueCwgcEluc3Quc2luKGEpKm90aGVyLnJhZGl1cy1kLnkpO1xuXG4gICAgICAgIC8vaWYocHQueCA9PT0gb3RoZXIuY2VudGVyLnggJiYgcHQueSA9PT0gb3RoZXIuY2VudGVyLnkpXG4gICAgICAgIC8vZGlzcGxhY2VtZW50ID0gZGlzcGxhY2VtZW50Lm11bHQoLTEpO1xuXG4gICAgICAgIHJldHVybiBkaXNwbGFjZW1lbnQ7XG4gICAgICAgIC8vcmV0dXJuIGNyZWF0ZVZlY3RvcigwLDApO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gY3JlYXRlVmVjdG9yKDAsIDApO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLm1pbmtvd3NraURpZmZlcmVuY2UgPSBmdW5jdGlvbihvdGhlcilcbiAge1xuICAgIHZhciB0b3BMZWZ0ID0gdGhpcy5taW4oKS5zdWIob3RoZXIubWF4KCkpO1xuICAgIHZhciBmdWxsU2l6ZSA9IHRoaXMuc2l6ZSgpLmFkZChvdGhlci5zaXplKCkpO1xuICAgIHJldHVybiBuZXcgQUFCQihwSW5zdCwgdG9wTGVmdC5hZGQoZnVsbFNpemUuZGl2KDIpKSwgZnVsbFNpemUuZGl2KDIpKTtcbiAgfTtcblxuXG4gIHRoaXMuY2xvc2VzdFBvaW50T25Cb3VuZHNUb1BvaW50ID0gZnVuY3Rpb24ocG9pbnQpXG4gIHtcbiAgICAvLyB0ZXN0IHggZmlyc3RcbiAgICB2YXIgbWluRGlzdCA9IGFicyhwb2ludC54IC0gdGhpcy5taW4oKS54KTtcbiAgICB2YXIgYm91bmRzUG9pbnQgPSBjcmVhdGVWZWN0b3IodGhpcy5taW4oKS54LCBwb2ludC55KTtcblxuICAgIGlmIChhYnModGhpcy5tYXgoKS54IC0gcG9pbnQueCkgPCBtaW5EaXN0KVxuICAgIHtcbiAgICAgIG1pbkRpc3QgPSBhYnModGhpcy5tYXgoKS54IC0gcG9pbnQueCk7XG4gICAgICBib3VuZHNQb2ludCA9IGNyZWF0ZVZlY3Rvcih0aGlzLm1heCgpLngsIHBvaW50LnkpO1xuICAgIH1cblxuICAgIGlmIChhYnModGhpcy5tYXgoKS55IC0gcG9pbnQueSkgPCBtaW5EaXN0KVxuICAgIHtcbiAgICAgIG1pbkRpc3QgPSBhYnModGhpcy5tYXgoKS55IC0gcG9pbnQueSk7XG4gICAgICBib3VuZHNQb2ludCA9IGNyZWF0ZVZlY3Rvcihwb2ludC54LCB0aGlzLm1heCgpLnkpO1xuICAgIH1cblxuICAgIGlmIChhYnModGhpcy5taW4oKS55IC0gcG9pbnQueSkgPCBtaW5EaXN0KVxuICAgIHtcbiAgICAgIG1pbkRpc3QgPSBhYnModGhpcy5taW4ueSAtIHBvaW50LnkpO1xuICAgICAgYm91bmRzUG9pbnQgPSBjcmVhdGVWZWN0b3IocG9pbnQueCwgdGhpcy5taW4oKS55KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYm91bmRzUG9pbnQ7XG4gIH07XG5cblxufS8vZW5kIEFBQkJcbmRlZmluZUxhenlQNVByb3BlcnR5KCdBQUJCJywgYm91bmRDb25zdHJ1Y3RvckZhY3RvcnkoQUFCQikpO1xuXG5cblxuLyoqXG4gKiBBbiBBbmltYXRpb24gb2JqZWN0IGNvbnRhaW5zIGEgc2VyaWVzIG9mIGltYWdlcyAocDUuSW1hZ2UpIHRoYXRcbiAqIGNhbiBiZSBkaXNwbGF5ZWQgc2VxdWVudGlhbGx5LlxuICpcbiAqIEFsbCBmaWxlcyBtdXN0IGJlIHBuZyBpbWFnZXMuIFlvdSBtdXN0IGluY2x1ZGUgdGhlIGRpcmVjdG9yeSBmcm9tIHRoZSBza2V0Y2ggcm9vdCxcbiAqIGFuZCB0aGUgZXh0ZW5zaW9uIC5wbmdcbiAqXG4gKiBBIHNwcml0ZSBjYW4gaGF2ZSBtdWx0aXBsZSBsYWJlbGVkIGFuaW1hdGlvbnMsIHNlZSBTcHJpdGUuYWRkQW5pbWF0aW9uXG4gKiBhbmQgU3ByaXRlLmNoYW5nZUFuaW1hdGlvbiwgaG93ZXZlciBhbiBhbmltYXRpb24gY2FuIGJlIHVzZWQgaW5kZXBlbmRlbnRseS5cbiAqXG4gKiBBbiBhbmltYXRpb24gY2FuIGJlIGNyZWF0ZWQgZWl0aGVyIGJ5IHBhc3NpbmcgYSBzZXJpZXMgb2YgZmlsZSBuYW1lcyxcbiAqIG5vIG1hdHRlciBob3cgbWFueSBvciBieSBwYXNzaW5nIHRoZSBmaXJzdCBhbmQgdGhlIGxhc3QgZmlsZSBuYW1lXG4gKiBvZiBhIG51bWJlcmVkIHNlcXVlbmNlLlxuICogcDUucGxheSB3aWxsIHRyeSB0byBkZXRlY3QgdGhlIHNlcXVlbmNlIHBhdHRlcm4uXG4gKlxuICogRm9yIGV4YW1wbGUgaWYgdGhlIGdpdmVuIGZpbGVuYW1lcyBhcmVcbiAqIFwiZGF0YS9maWxlMDAwMS5wbmdcIiBhbmQgXCJkYXRhL2ZpbGUwMDA1LnBuZ1wiIHRoZSBpbWFnZXNcbiAqIFwiZGF0YS9maWxlMDAwMy5wbmdcIiBhbmQgXCJkYXRhL2ZpbGUwMDA0LnBuZ1wiIHdpbGwgYmUgbG9hZGVkIGFzIHdlbGwuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICB2YXIgc2VxdWVuY2VBbmltYXRpb247XG4gKiAgICAgdmFyIGdsaXRjaDtcbiAqXG4gKiAgICAgZnVuY3Rpb24gcHJlbG9hZCgpIHtcbiAqICAgICAgIHNlcXVlbmNlQW5pbWF0aW9uID0gbG9hZEFuaW1hdGlvbihcImRhdGEvd2Fsa2luZzAwMDEucG5nXCIsIFwiZGF0YS93YWxraW5nMDAwNS5wbmdcIik7XG4gKiAgICAgICBnbGl0Y2ggPSBsb2FkQW5pbWF0aW9uKFwiZGF0YS9kb2cucG5nXCIsIFwiZGF0YS9ob3JzZS5wbmdcIiwgXCJkYXRhL2NhdC5wbmdcIiwgXCJkYXRhL3NuYWtlLnBuZ1wiKTtcbiAqICAgICB9XG4gKlxuICogICAgIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICAgICAgY3JlYXRlQ2FudmFzKDgwMCwgNjAwKTtcbiAqICAgICB9XG4gKlxuICogICAgIGZ1bmN0aW9uIGRyYXcoKSB7XG4gKiAgICAgICBiYWNrZ3JvdW5kKDApO1xuICogICAgICAgYW5pbWF0aW9uKHNlcXVlbmNlQW5pbWF0aW9uLCAxMDAsIDEwMCk7XG4gKiAgICAgICBhbmltYXRpb24oZ2xpdGNoLCAyMDAsIDEwMCk7XG4gKiAgICAgfVxuICpcbiAqIEBjbGFzcyBBbmltYXRpb25cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVOYW1lMSBGaXJzdCBmaWxlIGluIGEgc2VxdWVuY2UgT1IgZmlyc3QgaW1hZ2UgZmlsZVxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVOYW1lMiBMYXN0IGZpbGUgaW4gYSBzZXF1ZW5jZSBPUiBzZWNvbmQgaW1hZ2UgZmlsZVxuICogQHBhcmFtIHtTdHJpbmd9IFsuLi5maWxlTmFtZU5dIEFueSBudW1iZXIgb2YgaW1hZ2UgZmlsZXMgYWZ0ZXIgdGhlIGZpcnN0IHR3b1xuICovXG5mdW5jdGlvbiBBbmltYXRpb24ocEluc3QpIHtcbiAgdmFyIGZyYW1lQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgdmFyIGk7XG5cbiAgdmFyIENFTlRFUiA9IHA1LnByb3RvdHlwZS5DRU5URVI7XG5cbiAgLyoqXG4gICogQXJyYXkgb2YgZnJhbWVzIChwNS5JbWFnZSlcbiAgKlxuICAqIEBwcm9wZXJ0eSBpbWFnZXNcbiAgKiBAdHlwZSB7QXJyYXl9XG4gICovXG4gIHRoaXMuaW1hZ2VzID0gW107XG5cbiAgdmFyIGZyYW1lID0gMDtcbiAgdmFyIGN5Y2xlcyA9IDA7XG4gIHZhciB0YXJnZXRGcmFtZSA9IC0xO1xuXG4gIHRoaXMub2ZmWCA9IDA7XG4gIHRoaXMub2ZmWSA9IDA7XG5cbiAgLyoqXG4gICogRGVsYXkgYmV0d2VlbiBmcmFtZXMgaW4gbnVtYmVyIG9mIGRyYXcgY3ljbGVzLlxuICAqIElmIHNldCB0byA0IHRoZSBmcmFtZXJhdGUgb2YgdGhlIGFuaW1hdGlvbiB3b3VsZCBiZSB0aGVcbiAgKiBza2V0Y2ggZnJhbWVyYXRlIGRpdmlkZWQgYnkgNCAoNjBmcHMgPSAxNWZwcylcbiAgKlxuICAqIEBwcm9wZXJ0eSBmcmFtZURlbGF5XG4gICogQHR5cGUge051bWJlcn1cbiAgKiBAZGVmYXVsdCA0XG4gICovXG4gIHRoaXMuZnJhbWVEZWxheSA9IDQ7XG5cbiAgLyoqXG4gICogVHJ1ZSBpZiB0aGUgYW5pbWF0aW9uIGlzIGN1cnJlbnRseSBwbGF5aW5nLlxuICAqXG4gICogQHByb3BlcnR5IHBsYXlpbmdcbiAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgKiBAZGVmYXVsdCB0cnVlXG4gICovXG4gIHRoaXMucGxheWluZyA9IHRydWU7XG5cbiAgLyoqXG4gICogQW5pbWF0aW9uIHZpc2liaWxpdHkuXG4gICpcbiAgKiBAcHJvcGVydHkgdmlzaWJsZVxuICAqIEB0eXBlIHtCb29sZWFufVxuICAqIEBkZWZhdWx0IHRydWVcbiAgKi9cbiAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcblxuICAvKipcbiAgKiBJZiBzZXQgdG8gZmFsc2UgdGhlIGFuaW1hdGlvbiB3aWxsIHN0b3AgYWZ0ZXIgcmVhY2hpbmcgdGhlIGxhc3QgZnJhbWVcbiAgKlxuICAqIEBwcm9wZXJ0eSBsb29waW5nXG4gICogQHR5cGUge0Jvb2xlYW59XG4gICogQGRlZmF1bHQgdHJ1ZVxuICAqL1xuICB0aGlzLmxvb3BpbmcgPSB0cnVlO1xuXG4gIC8qKlxuICAqIFRydWUgaWYgZnJhbWUgY2hhbmdlZCBkdXJpbmcgdGhlIGxhc3QgZHJhdyBjeWNsZVxuICAqXG4gICogQHByb3BlcnR5IGZyYW1lQ2hhbmdlZFxuICAqIEB0eXBlIHtCb29sZWFufVxuICAqL1xuICB0aGlzLmZyYW1lQ2hhbmdlZCA9IGZhbHNlO1xuXG4gIC8vaXMgdGhlIGNvbGxpZGVyIGRlZmluZWQgbWFudWFsbHkgb3IgZGVmaW5lZFxuICAvL2J5IHRoZSBjdXJyZW50IGZyYW1lIHNpemVcbiAgdGhpcy5pbWFnZUNvbGxpZGVyID0gZmFsc2U7XG5cblxuICAvL3NlcXVlbmNlIG1vZGVcbiAgaWYoZnJhbWVBcmd1bWVudHMubGVuZ3RoID09PSAyICYmIHR5cGVvZiBmcmFtZUFyZ3VtZW50c1swXSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGZyYW1lQXJndW1lbnRzWzFdID09PSAnc3RyaW5nJylcbiAge1xuICAgIHZhciBmcm9tID0gZnJhbWVBcmd1bWVudHNbMF07XG4gICAgdmFyIHRvID0gZnJhbWVBcmd1bWVudHNbMV07XG5cbiAgICAvL3ByaW50KFwic2VxdWVuY2UgbW9kZSBcIitmcm9tK1wiIC0+IFwiK3RvKTtcblxuICAgIC8vbWFrZSBzdXJlIHRoZSBleHRlbnNpb25zIGFyZSBmaW5lXG4gICAgdmFyIGV4dDEgPSBmcm9tLnN1YnN0cmluZyhmcm9tLmxlbmd0aC00LCBmcm9tLmxlbmd0aCk7XG4gICAgaWYoZXh0MSAhPT0gJy5wbmcnKVxuICAgIHtcbiAgICAgIHBJbnN0LnByaW50KCdBbmltYXRpb24gZXJyb3I6IHlvdSBuZWVkIHRvIHVzZSAucG5nIGZpbGVzIChmaWxlbmFtZSAnK2Zyb20rJyknKTtcbiAgICAgIGZyb20gPSAtMTtcbiAgICB9XG5cbiAgICB2YXIgZXh0MiA9IHRvLnN1YnN0cmluZyh0by5sZW5ndGgtNCwgdG8ubGVuZ3RoKTtcbiAgICBpZihleHQyICE9PSAnLnBuZycpXG4gICAge1xuICAgICAgcEluc3QucHJpbnQoJ0FuaW1hdGlvbiBlcnJvcjogeW91IG5lZWQgdG8gdXNlIC5wbmcgZmlsZXMgKGZpbGVuYW1lICcrdG8rJyknKTtcbiAgICAgIHRvID0gLTE7XG4gICAgfVxuXG4gICAgLy9leHRlbnNpb25zIGFyZSBmaW5lXG4gICAgaWYoZnJvbSAhPT0gLTEgJiYgdG8gIT09IC0xKVxuICAgIHtcbiAgICAgIHZhciBkaWdpdHMxID0gMDtcbiAgICAgIHZhciBkaWdpdHMyID0gMDtcblxuICAgICAgLy9za2lwIGV4dGVuc2lvbiB3b3JrIGJhY2t3YXJkcyB0byBmaW5kIHRoZSBudW1iZXJzXG4gICAgICBmb3IgKGkgPSBmcm9tLmxlbmd0aC01OyBpID49IDA7IGktLSkge1xuICAgICAgICBpZihmcm9tLmNoYXJBdChpKSA+PSAnMCcgJiYgZnJvbS5jaGFyQXQoaSkgPD0gJzknKVxuICAgICAgICAgIGRpZ2l0czErKztcbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gdG8ubGVuZ3RoLTU7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmKHRvLmNoYXJBdChpKSA+PSAnMCcgJiYgdG8uY2hhckF0KGkpIDw9ICc5JylcbiAgICAgICAgICBkaWdpdHMyKys7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmVmaXgxID0gZnJvbS5zdWJzdHJpbmcoMCwgZnJvbS5sZW5ndGgtKDQrZGlnaXRzMSkpO1xuICAgICAgdmFyIHByZWZpeDIgPSB0by5zdWJzdHJpbmcoMCwgdG8ubGVuZ3RoLSg0K2RpZ2l0czIpICk7XG5cbiAgICAgIC8vIE91ciBudW1iZXJzIGxpa2VseSBoYXZlIGxlYWRpbmcgemVyb2VzLCB3aGljaCBtZWFucyB0aGF0IHNvbWVcbiAgICAgIC8vIGJyb3dzZXJzIChlLmcuLCBQaGFudG9tSlMpIHdpbGwgaW50ZXJwcmV0IHRoZW0gYXMgYmFzZSA4IChvY3RhbClcbiAgICAgIC8vIGluc3RlYWQgb2YgZGVjaW1hbC4gVG8gZml4IHRoaXMsIHdlJ2xsIGV4cGxpY2l0eSB0ZWxsIHBhcnNlSW50IHRvXG4gICAgICAvLyB1c2UgYSBiYXNlIG9mIDEwIChkZWNpbWFsKS4gRm9yIG1vcmUgZGV0YWlscyBvbiB0aGlzIGlzc3VlLCBzZWVcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg3NjM0MjcvMjQyMjM5OC5cbiAgICAgIHZhciBudW1iZXIxID0gcGFyc2VJbnQoZnJvbS5zdWJzdHJpbmcoZnJvbS5sZW5ndGgtKDQrZGlnaXRzMSksIGZyb20ubGVuZ3RoLTQpLCAxMCk7XG4gICAgICB2YXIgbnVtYmVyMiA9IHBhcnNlSW50KHRvLnN1YnN0cmluZyh0by5sZW5ndGgtKDQrZGlnaXRzMiksIHRvLmxlbmd0aC00KSwgMTApO1xuXG4gICAgICAvL3N3YXAgaWYgaW52ZXJ0ZWRcbiAgICAgIGlmKG51bWJlcjI8bnVtYmVyMSlcbiAgICAgIHtcbiAgICAgICAgdmFyIHQgPSBudW1iZXIyO1xuICAgICAgICBudW1iZXIyID0gbnVtYmVyMTtcbiAgICAgICAgbnVtYmVyMSA9IHQ7XG4gICAgICB9XG5cbiAgICAgIC8vdHdvIGRpZmZlcmVudCBmcmFtZXNcbiAgICAgIGlmKHByZWZpeDEgIT09IHByZWZpeDIgKVxuICAgICAge1xuICAgICAgICAvL3ByaW50KFwiMiBzZXBhcmF0ZSBpbWFnZXNcIik7XG4gICAgICAgIHRoaXMuaW1hZ2VzLnB1c2gocEluc3QubG9hZEltYWdlKGZyb20pKTtcbiAgICAgICAgdGhpcy5pbWFnZXMucHVzaChwSW5zdC5sb2FkSW1hZ2UodG8pKTtcbiAgICAgIH1cbiAgICAgIC8vc2FtZSBkaWdpdHM6IGNhc2UgaW1nMDAwMSwgaW1nMDAwMlxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICB2YXIgZmlsZU5hbWU7XG4gICAgICAgIGlmKGRpZ2l0czEgPT09IGRpZ2l0czIpXG4gICAgICAgIHtcblxuICAgICAgICAgIC8vbG9hZCBhbGwgaW1hZ2VzXG4gICAgICAgICAgZm9yIChpID0gbnVtYmVyMTsgaSA8PSBudW1iZXIyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFVzZSBuZigpIHRvIG51bWJlciBmb3JtYXQgJ2knIGludG8gZm91ciBkaWdpdHNcbiAgICAgICAgICAgIGZpbGVOYW1lID0gcHJlZml4MSArIHBJbnN0Lm5mKGksIGRpZ2l0czEpICsgJy5wbmcnO1xuICAgICAgICAgICAgdGhpcy5pbWFnZXMucHVzaChwSW5zdC5sb2FkSW1hZ2UoZmlsZU5hbWUpKTtcblxuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICAgIGVsc2UgLy9jYXNlOiBjYXNlIGltZzEsIGltZzJcbiAgICAgICAge1xuICAgICAgICAgIC8vcHJpbnQoXCJmcm9tIFwiK3ByZWZpeDErXCIgXCIrbnVtYmVyMSArXCIgdG8gXCIrbnVtYmVyMik7XG4gICAgICAgICAgZm9yIChpID0gbnVtYmVyMTsgaSA8PSBudW1iZXIyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFVzZSBuZigpIHRvIG51bWJlciBmb3JtYXQgJ2knIGludG8gZm91ciBkaWdpdHNcbiAgICAgICAgICAgIGZpbGVOYW1lID0gcHJlZml4MSArIGkgKyAnLnBuZyc7XG4gICAgICAgICAgICB0aGlzLmltYWdlcy5wdXNoKHBJbnN0LmxvYWRJbWFnZShmaWxlTmFtZSkpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH0vL2VuZCBubyBleHQgZXJyb3JcblxuICB9Ly9lbmQgc2VxdWVuY2UgbW9kZVxuICAvLyBTcHJpdGUgc2hlZXQgbW9kZVxuICBlbHNlIGlmIChmcmFtZUFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgKGZyYW1lQXJndW1lbnRzWzBdIGluc3RhbmNlb2YgU3ByaXRlU2hlZXQpKVxuICB7XG4gICAgdGhpcy5zcHJpdGVTaGVldCA9IGZyYW1lQXJndW1lbnRzWzBdO1xuICAgIHRoaXMuaW1hZ2VzID0gdGhpcy5zcHJpdGVTaGVldC5mcmFtZXM7XG4gIH1cbiAgZWxzZSBpZihmcmFtZUFyZ3VtZW50cy5sZW5ndGggIT09IDApLy9hcmJpdHJhcnkgbGlzdCBvZiBpbWFnZXNcbiAge1xuICAgIC8vcHJpbnQoXCJBbmltYXRpb24gYXJiaXRyYXJ5IG1vZGVcIik7XG4gICAgZm9yIChpID0gMDsgaSA8IGZyYW1lQXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvL3ByaW50KFwibG9hZGluZyBcIitmaWxlTmFtZXNbaV0pO1xuICAgICAgaWYoZnJhbWVBcmd1bWVudHNbaV0gaW5zdGFuY2VvZiBwNS5JbWFnZSlcbiAgICAgICAgdGhpcy5pbWFnZXMucHVzaChmcmFtZUFyZ3VtZW50c1tpXSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMuaW1hZ2VzLnB1c2gocEluc3QubG9hZEltYWdlKGZyYW1lQXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogT2JqZWN0cyBhcmUgcGFzc2VkIGJ5IHJlZmVyZW5jZSBzbyB0byBoYXZlIGRpZmZlcmVudCBzcHJpdGVzXG4gICogdXNpbmcgdGhlIHNhbWUgYW5pbWF0aW9uIHlvdSBuZWVkIHRvIGNsb25lIGl0LlxuICAqXG4gICogQG1ldGhvZCBjbG9uZVxuICAqIEByZXR1cm4ge0FuaW1hdGlvbn0gQSBjbG9uZSBvZiB0aGUgY3VycmVudCBhbmltYXRpb25cbiAgKi9cbiAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBteUNsb25lID0gbmV3IEFuaW1hdGlvbihwSW5zdCk7IC8vZW1wdHlcbiAgICBteUNsb25lLmltYWdlcyA9IFtdO1xuXG4gICAgaWYgKHRoaXMuc3ByaXRlU2hlZXQpIHtcbiAgICAgIG15Q2xvbmUuc3ByaXRlU2hlZXQgPSB0aGlzLnNwcml0ZVNoZWV0LmNsb25lKCk7XG4gICAgfVxuICAgIG15Q2xvbmUuaW1hZ2VzID0gdGhpcy5pbWFnZXMuc2xpY2UoKTtcblxuICAgIG15Q2xvbmUub2ZmWCA9IHRoaXMub2ZmWDtcbiAgICBteUNsb25lLm9mZlkgPSB0aGlzLm9mZlk7XG4gICAgbXlDbG9uZS5mcmFtZURlbGF5ID0gdGhpcy5mcmFtZURlbGF5O1xuICAgIG15Q2xvbmUucGxheWluZyA9IHRoaXMucGxheWluZztcbiAgICBteUNsb25lLmxvb3BpbmcgPSB0aGlzLmxvb3Bpbmc7XG5cbiAgICByZXR1cm4gbXlDbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogRHJhd3MgdGhlIGFuaW1hdGlvbiBhdCBjb29yZGluYXRlIHggYW5kIHkuXG4gICAqIFVwZGF0ZXMgdGhlIGZyYW1lcyBhdXRvbWF0aWNhbGx5LlxuICAgKlxuICAgKiBAbWV0aG9kIGRyYXdcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggeCBjb29yZGluYXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IHkgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gW3I9MF0gcm90YXRpb25cbiAgICovXG4gIHRoaXMuZHJhdyA9IGZ1bmN0aW9uKHgsIHksIHIpIHtcbiAgICB0aGlzLnhwb3MgPSB4O1xuICAgIHRoaXMueXBvcyA9IHk7XG4gICAgdGhpcy5yb3RhdGlvbiA9IHIgfHwgMDtcblxuICAgIGlmICh0aGlzLnZpc2libGUpXG4gICAge1xuXG4gICAgICAvL29ubHkgY29ubmVjdGlvbiB3aXRoIHRoZSBzcHJpdGUgY2xhc3NcbiAgICAgIC8vaWYgYW5pbWF0aW9uIGlzIHVzZWQgaW5kZXBlbmRlbnRseSBkcmF3IGFuZCB1cGRhdGUgYXJlIHRoZSBzYW1cbiAgICAgIGlmKCF0aGlzLmlzU3ByaXRlQW5pbWF0aW9uKVxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAvL3RoaXMuY3VycmVudEltYWdlTW9kZSA9IGcuaW1hZ2VNb2RlO1xuICAgICAgcEluc3QucHVzaCgpO1xuICAgICAgcEluc3QuaW1hZ2VNb2RlKENFTlRFUik7XG5cbiAgICAgIHBJbnN0LnRyYW5zbGF0ZSh0aGlzLnhwb3MsIHRoaXMueXBvcyk7XG4gICAgICBpZiAocEluc3QuX2FuZ2xlTW9kZSA9PT0gcEluc3QuUkFESUFOUykge1xuICAgICAgICBwSW5zdC5yb3RhdGUocmFkaWFucyh0aGlzLnJvdGF0aW9uKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwSW5zdC5yb3RhdGUodGhpcy5yb3RhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMuaW1hZ2VzW2ZyYW1lXSAhPT0gdW5kZWZpbmVkKVxuICAgICAge1xuICAgICAgICBpZiAodGhpcy5zcHJpdGVTaGVldCkge1xuICAgICAgICAgIHZhciBmcmFtZV9pbmZvID0gdGhpcy5pbWFnZXNbZnJhbWVdLmZyYW1lO1xuICAgICAgICAgIHBJbnN0LmltYWdlKHRoaXMuc3ByaXRlU2hlZXQuaW1hZ2UsIGZyYW1lX2luZm8ueCwgZnJhbWVfaW5mby55LCBmcmFtZV9pbmZvLndpZHRoLFxuICAgICAgICAgICAgZnJhbWVfaW5mby5oZWlnaHQsIHRoaXMub2ZmWCwgdGhpcy5vZmZZLCBmcmFtZV9pbmZvLndpZHRoLCBmcmFtZV9pbmZvLmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcEluc3QuaW1hZ2UodGhpcy5pbWFnZXNbZnJhbWVdLCB0aGlzLm9mZlgsIHRoaXMub2ZmWSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgcEluc3QucHJpbnQoJ1dhcm5pbmcgdW5kZWZpbmVkIGZyYW1lICcrZnJhbWUpO1xuICAgICAgICAvL3RoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcEluc3QucG9wKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vY2FsbGVkIGJ5IGRyYXdcbiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICBjeWNsZXMrKztcbiAgICB2YXIgcHJldmlvdXNGcmFtZSA9IGZyYW1lO1xuICAgIHRoaXMuZnJhbWVDaGFuZ2VkID0gZmFsc2U7XG5cblxuICAgIC8vZ28gdG8gZnJhbWVcbiAgICBpZih0aGlzLmltYWdlcy5sZW5ndGggPT09IDEpXG4gICAge1xuICAgICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgICBmcmFtZSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCB0aGlzLnBsYXlpbmcgJiYgY3ljbGVzJXRoaXMuZnJhbWVEZWxheSA9PT0gMClcbiAgICB7XG4gICAgICAvL2dvaW5nIHRvIHRhcmdldCBmcmFtZSB1cFxuICAgICAgaWYodGFyZ2V0RnJhbWU+ZnJhbWUgJiYgdGFyZ2V0RnJhbWUgIT09IC0xKVxuICAgICAge1xuICAgICAgICBmcmFtZSsrO1xuICAgICAgfVxuICAgICAgLy9nb2luZyB0byB0YWdldCBmcmFtZSBkb3duXG4gICAgICBlbHNlIGlmKHRhcmdldEZyYW1lPGZyYW1lICYmIHRhcmdldEZyYW1lICE9PSAtMSlcbiAgICAgIHtcbiAgICAgICAgZnJhbWUtLTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYodGFyZ2V0RnJhbWUgPT09IGZyYW1lICYmIHRhcmdldEZyYW1lICE9PSAtMSlcbiAgICAgIHtcbiAgICAgICAgdGhpcy5wbGF5aW5nPWZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5sb29waW5nKSAvL2FkdmFuY2UgZnJhbWVcbiAgICAgIHtcbiAgICAgICAgLy9pZiBuZXh0IGZyYW1lIGlzIHRvbyBoaWdoXG4gICAgICAgIGlmIChmcmFtZT49dGhpcy5pbWFnZXMubGVuZ3RoLTEpXG4gICAgICAgICAgZnJhbWUgPSAwO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZnJhbWUrKztcbiAgICAgIH0gZWxzZVxuICAgICAge1xuICAgICAgICAvL2lmIG5leHQgZnJhbWUgaXMgdG9vIGhpZ2hcbiAgICAgICAgaWYgKGZyYW1lPHRoaXMuaW1hZ2VzLmxlbmd0aC0xKVxuICAgICAgICAgIGZyYW1lKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYocHJldmlvdXNGcmFtZSAhPT0gZnJhbWUpXG4gICAgICB0aGlzLmZyYW1lQ2hhbmdlZCA9IHRydWU7XG5cbiAgfTsvL2VuZCB1cGRhdGVcblxuICAvKipcbiAgKiBQbGF5cyB0aGUgYW5pbWF0aW9uLlxuICAqXG4gICogQG1ldGhvZCBwbGF5XG4gICovXG4gIHRoaXMucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgdGFyZ2V0RnJhbWUgPSAtMTtcbiAgfTtcblxuICAvKipcbiAgKiBTdG9wcyB0aGUgYW5pbWF0aW9uLlxuICAqXG4gICogQG1ldGhvZCBzdG9wXG4gICovXG4gIHRoaXMuc3RvcCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICogUmV3aW5kcyB0aGUgYW5pbWF0aW9uIHRvIHRoZSBmaXJzdCBmcmFtZS5cbiAgKlxuICAqIEBtZXRob2QgcmV3aW5kXG4gICovXG4gIHRoaXMucmV3aW5kID0gZnVuY3Rpb24oKSB7XG4gICAgZnJhbWUgPSAwO1xuICB9O1xuXG4gIC8qKlxuICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICpcbiAgKiBAbWV0aG9kIGNoYW5nZUZyYW1lXG4gICogQHBhcmFtIHtOdW1iZXJ9IGZyYW1lIEZyYW1lIG51bWJlciAoc3RhcnRzIGZyb20gMCkuXG4gICovXG4gIHRoaXMuY2hhbmdlRnJhbWUgPSBmdW5jdGlvbihmKSB7XG4gICAgaWYgKGY8dGhpcy5pbWFnZXMubGVuZ3RoKVxuICAgICAgZnJhbWUgPSBmO1xuICAgIGVsc2VcbiAgICAgIGZyYW1lID0gdGhpcy5pbWFnZXMubGVuZ3RoIC0gMTtcblxuICAgIHRhcmdldEZyYW1lID0gLTE7XG4gICAgLy90aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgfTtcblxuICAgLyoqXG4gICogR29lcyB0byB0aGUgbmV4dCBmcmFtZSBhbmQgc3RvcHMuXG4gICpcbiAgKiBAbWV0aG9kIG5leHRGcmFtZVxuICAqL1xuICB0aGlzLm5leHRGcmFtZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKGZyYW1lPHRoaXMuaW1hZ2VzLmxlbmd0aC0xKVxuICAgICAgZnJhbWUgPSBmcmFtZSsxO1xuICAgIGVsc2UgaWYodGhpcy5sb29waW5nKVxuICAgICAgZnJhbWUgPSAwO1xuXG4gICAgdGFyZ2V0RnJhbWUgPSAtMTtcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgfTtcblxuICAgLyoqXG4gICogR29lcyB0byB0aGUgcHJldmlvdXMgZnJhbWUgYW5kIHN0b3BzLlxuICAqXG4gICogQG1ldGhvZCBwcmV2aW91c0ZyYW1lXG4gICovXG4gIHRoaXMucHJldmlvdXNGcmFtZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKGZyYW1lPjApXG4gICAgICBmcmFtZSA9IGZyYW1lLTE7XG4gICAgZWxzZSBpZih0aGlzLmxvb3BpbmcpXG4gICAgICBmcmFtZSA9IHRoaXMuaW1hZ2VzLmxlbmd0aC0xO1xuXG4gICAgdGFyZ2V0RnJhbWUgPSAtMTtcbiAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgKiBQbGF5cyB0aGUgYW5pbWF0aW9uIGZvcndhcmQgb3IgYmFja3dhcmQgdG93YXJkIGEgdGFyZ2V0IGZyYW1lLlxuICAqXG4gICogQG1ldGhvZCBnb1RvRnJhbWVcbiAgKiBAcGFyYW0ge051bWJlcn0gdG9GcmFtZSBGcmFtZSBudW1iZXIgZGVzdGluYXRpb24gKHN0YXJ0cyBmcm9tIDApXG4gICovXG4gIHRoaXMuZ29Ub0ZyYW1lID0gZnVuY3Rpb24odG9GcmFtZSkge1xuICAgIGlmKHRvRnJhbWUgPCAwIHx8IHRvRnJhbWUgPj0gdGhpcy5pbWFnZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gdGFyZ2V0RnJhbWUgZ2V0cyB1c2VkIGJ5IHRoZSB1cGRhdGUoKSBtZXRob2QgdG8gZGVjaWRlIHdoYXQgZnJhbWUgdG9cbiAgICAvLyBzZWxlY3QgbmV4dC4gIFdoZW4gaXQncyBub3QgYmVpbmcgdXNlZCBpdCBnZXRzIHNldCB0byAtMS5cbiAgICB0YXJnZXRGcmFtZSA9IHRvRnJhbWU7XG5cbiAgICBpZih0YXJnZXRGcmFtZSAhPT0gZnJhbWUpIHtcbiAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIFJldHVybnMgdGhlIGN1cnJlbnQgZnJhbWUgbnVtYmVyLlxuICAqXG4gICogQG1ldGhvZCBnZXRGcmFtZVxuICAqIEByZXR1cm4ge051bWJlcn0gQ3VycmVudCBmcmFtZSAoc3RhcnRzIGZyb20gMClcbiAgKi9cbiAgdGhpcy5nZXRGcmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmcmFtZTtcbiAgfTtcblxuICAvKipcbiAgKiBSZXR1cm5zIHRoZSBsYXN0IGZyYW1lIG51bWJlci5cbiAgKlxuICAqIEBtZXRob2QgZ2V0TGFzdEZyYW1lXG4gICogQHJldHVybiB7TnVtYmVyfSBMYXN0IGZyYW1lIG51bWJlciAoc3RhcnRzIGZyb20gMClcbiAgKi9cbiAgdGhpcy5nZXRMYXN0RnJhbWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZXMubGVuZ3RoLTE7XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgY3VycmVudCBmcmFtZSBpbWFnZSBhcyBwNS5JbWFnZS5cbiAgKlxuICAqIEBtZXRob2QgZ2V0RnJhbWVJbWFnZVxuICAqIEByZXR1cm4ge3A1LkltYWdlfSBDdXJyZW50IGZyYW1lIGltYWdlXG4gICovXG4gIHRoaXMuZ2V0RnJhbWVJbWFnZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmltYWdlc1tmcmFtZV07XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgZnJhbWUgaW1hZ2UgYXQgdGhlIHNwZWNpZmllZCBmcmFtZSBudW1iZXIuXG4gICpcbiAgKiBAbWV0aG9kIGdldEltYWdlQXRcbiAgKiBAcGFyYW0ge051bWJlcn0gZnJhbWUgRnJhbWUgbnVtYmVyXG4gICogQHJldHVybiB7cDUuSW1hZ2V9IEZyYW1lIGltYWdlXG4gICovXG4gIHRoaXMuZ2V0SW1hZ2VBdCA9IGZ1bmN0aW9uKGYpIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZXNbZl07XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJucyB0aGUgY3VycmVudCBmcmFtZSB3aWR0aCBpbiBwaXhlbHMuXG4gICogSWYgdGhlcmUgaXMgbm8gaW1hZ2UgbG9hZGVkLCByZXR1cm5zIDEuXG4gICpcbiAgKiBAbWV0aG9kIGdldFdpZHRoXG4gICogQHJldHVybiB7TnVtYmVyfSBGcmFtZSB3aWR0aFxuICAqL1xuICB0aGlzLmdldFdpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaW1hZ2VzW2ZyYW1lXSBpbnN0YW5jZW9mIHA1LkltYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbWFnZXNbZnJhbWVdLndpZHRoO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pbWFnZXNbZnJhbWVdKSB7XG4gICAgICAvLyBTcGVjaWFsIGNhc2U6IEFuaW1hdGlvbi1mcm9tLXNwcml0ZXNoZWV0IHRyZWF0cyBpdHMgaW1hZ2VzIGFycmF5IGRpZmZlcmVudGx5LlxuICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VzW2ZyYW1lXS5mcmFtZS53aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAqIFJldHVybnMgdGhlIGN1cnJlbnQgZnJhbWUgaGVpZ2h0IGluIHBpeGVscy5cbiAgKiBJZiB0aGVyZSBpcyBubyBpbWFnZSBsb2FkZWQsIHJldHVybnMgMS5cbiAgKlxuICAqIEBtZXRob2QgZ2V0SGVpZ2h0XG4gICogQHJldHVybiB7TnVtYmVyfSBGcmFtZSBoZWlnaHRcbiAgKi9cbiAgdGhpcy5nZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5pbWFnZXNbZnJhbWVdIGluc3RhbmNlb2YgcDUuSW1hZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmltYWdlc1tmcmFtZV0uaGVpZ2h0O1xuICAgIH0gZWxzZSBpZiAodGhpcy5pbWFnZXNbZnJhbWVdKSB7XG4gICAgICAvLyBTcGVjaWFsIGNhc2U6IEFuaW1hdGlvbi1mcm9tLXNwcml0ZXNoZWV0IHRyZWF0cyBpdHMgaW1hZ2VzIGFycmF5IGRpZmZlcmVudGx5LlxuICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VzW2ZyYW1lXS5mcmFtZS5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfTtcblxufVxuXG5kZWZpbmVMYXp5UDVQcm9wZXJ0eSgnQW5pbWF0aW9uJywgYm91bmRDb25zdHJ1Y3RvckZhY3RvcnkoQW5pbWF0aW9uKSk7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHNwcml0ZSBzaGVldCBhbmQgYWxsIGl0J3MgZnJhbWVzLiAgVG8gYmUgdXNlZCB3aXRoIEFuaW1hdGlvbixcbiAqIG9yIHN0YXRpYyBkcmF3aW5nIHNpbmdsZSBmcmFtZXMuXG4gKlxuICogIFRoZXJlIGFyZSB0d28gZGlmZmVyZW50IHdheXMgdG8gbG9hZCBhIFNwcml0ZVNoZWV0XG4gKlxuICogMS4gR2l2ZW4gd2lkdGgsIGhlaWdodCB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgZXZlcnkgZnJhbWUgYW5kIHRoZVxuICogICAgbnVtYmVyIG9mIGZyYW1lcyB0byBjeWNsZSB0aHJvdWdoLiBUaGUgc3ByaXRlIHNoZWV0IG11c3QgaGF2ZSBhXG4gKiAgICB1bmlmb3JtIGdyaWQgd2l0aCBjb25zaXN0ZW50IHJvd3MgYW5kIGNvbHVtbnMuXG4gKlxuICogMi4gR2l2ZW4gYW4gYXJyYXkgb2YgZnJhbWUgb2JqZWN0cyB0aGF0IGRlZmluZSB0aGUgcG9zaXRpb24gYW5kXG4gKiAgICBkaW1lbnNpb25zIG9mIGVhY2ggZnJhbWUuICBUaGlzIGlzIEZsZXhpYmxlIGJlY2F1c2UgeW91IGNhbiB1c2VcbiAqICAgIHNwcml0ZSBzaGVldHMgdGhhdCBkb24ndCBoYXZlIHVuaWZvcm0gcm93cyBhbmQgY29sdW1ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIC8vIE1ldGhvZCAxIC0gVXNpbmcgd2lkdGgsIGhlaWdodCBmb3IgZWFjaCBmcmFtZSBhbmQgbnVtYmVyIG9mIGZyYW1lc1xuICogICAgIGV4cGxvZGVfc3ByaXRlX3NoZWV0ID0gbG9hZFNwcml0ZVNoZWV0KCdhc3NldHMvZXhwbG9kZV9zcHJpdGVfc2hlZXQucG5nJywgMTcxLCAxNTgsIDExKTtcbiAqXG4gKiAgICAgLy8gTWV0aG9kIDIgLSBVc2luZyBhbiBhcnJheSBvZiBvYmplY3RzIHRoYXQgZGVmaW5lIGVhY2ggZnJhbWVcbiAqICAgICB2YXIgcGxheWVyX2ZyYW1lcyA9IGxvYWRKU09OKCdhc3NldHMvdGlsZXMuanNvbicpO1xuICogICAgIHBsYXllcl9zcHJpdGVfc2hlZXQgPSBsb2FkU3ByaXRlU2hlZXQoJ2Fzc2V0cy9wbGF5ZXJfc3ByaXRlc2hlZXQucG5nJywgcGxheWVyX2ZyYW1lcyk7XG4gKlxuICogQGNsYXNzIFNwcml0ZVNoZWV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSBpbWFnZSBTdHJpbmcgaW1hZ2UgcGF0aCBvciBwNS5JbWFnZSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gU3ByaXRlU2hlZXQocEluc3QpIHtcbiAgdmFyIHNwcml0ZVNoZWV0QXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgdGhpcy5pbWFnZSA9IG51bGw7XG4gIHRoaXMuZnJhbWVzID0gW107XG4gIHRoaXMuZnJhbWVfd2lkdGggPSAwO1xuICB0aGlzLmZyYW1lX2hlaWdodCA9IDA7XG4gIHRoaXMubnVtX2ZyYW1lcyA9IDA7XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBmcmFtZXMgZGF0YSBmb3IgdGhpcyBzcHJpdGUgc2hlZXQgYmFlc2Qgb24gdXNlciBwYXJhbXNcbiAgICogQHByaXZhdGVcbiAgICogQG1ldGhvZCBfZ2VuZXJhdGVTaGVldEZyYW1lc1xuICAgKi9cbiAgdGhpcy5fZ2VuZXJhdGVTaGVldEZyYW1lcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzWCA9IDAsIHNZID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubnVtX2ZyYW1lczsgaSsrKSB7XG4gICAgICB0aGlzLmZyYW1lcy5wdXNoKFxuICAgICAgICB7XG4gICAgICAgICAgJ25hbWUnOiBpLFxuICAgICAgICAgICdmcmFtZSc6IHtcbiAgICAgICAgICAgICd4Jzogc1gsXG4gICAgICAgICAgICAneSc6IHNZLFxuICAgICAgICAgICAgJ3dpZHRoJzogdGhpcy5mcmFtZV93aWR0aCxcbiAgICAgICAgICAgICdoZWlnaHQnOiB0aGlzLmZyYW1lX2hlaWdodFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICBzWCArPSB0aGlzLmZyYW1lX3dpZHRoO1xuICAgICAgaWYgKHNYID49IHRoaXMuaW1hZ2Uud2lkdGgpIHtcbiAgICAgICAgc1ggPSAwO1xuICAgICAgICBzWSArPSB0aGlzLmZyYW1lX2hlaWdodDtcbiAgICAgICAgaWYgKHNZID49IHRoaXMuaW1hZ2UuaGVpZ2h0KSB7XG4gICAgICAgICAgc1kgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGlmIChzcHJpdGVTaGVldEFyZ3MubGVuZ3RoID09PSAyICYmIEFycmF5LmlzQXJyYXkoc3ByaXRlU2hlZXRBcmdzWzFdKSkge1xuICAgIHRoaXMuZnJhbWVzID0gc3ByaXRlU2hlZXRBcmdzWzFdO1xuICAgIHRoaXMubnVtX2ZyYW1lcyA9IHRoaXMuZnJhbWVzLmxlbmd0aDtcbiAgfSBlbHNlIGlmIChzcHJpdGVTaGVldEFyZ3MubGVuZ3RoID09PSA0ICYmXG4gICAgKHR5cGVvZiBzcHJpdGVTaGVldEFyZ3NbMV0gPT09ICdudW1iZXInKSAmJlxuICAgICh0eXBlb2Ygc3ByaXRlU2hlZXRBcmdzWzJdID09PSAnbnVtYmVyJykgJiZcbiAgICAodHlwZW9mIHNwcml0ZVNoZWV0QXJnc1szXSA9PT0gJ251bWJlcicpKSB7XG4gICAgdGhpcy5mcmFtZV93aWR0aCA9IHNwcml0ZVNoZWV0QXJnc1sxXTtcbiAgICB0aGlzLmZyYW1lX2hlaWdodCA9IHNwcml0ZVNoZWV0QXJnc1syXTtcbiAgICB0aGlzLm51bV9mcmFtZXMgPSBzcHJpdGVTaGVldEFyZ3NbM107XG4gIH1cblxuICBpZihzcHJpdGVTaGVldEFyZ3NbMF0gaW5zdGFuY2VvZiBwNS5JbWFnZSkge1xuICAgIHRoaXMuaW1hZ2UgPSBzcHJpdGVTaGVldEFyZ3NbMF07XG4gICAgaWYgKHNwcml0ZVNoZWV0QXJncy5sZW5ndGggPT09IDQpIHtcbiAgICAgIHRoaXMuX2dlbmVyYXRlU2hlZXRGcmFtZXMoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNwcml0ZVNoZWV0QXJncy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHRoaXMuaW1hZ2UgPSBwSW5zdC5sb2FkSW1hZ2Uoc3ByaXRlU2hlZXRBcmdzWzBdKTtcbiAgICB9IGVsc2UgaWYgKHNwcml0ZVNoZWV0QXJncy5sZW5ndGggPT09IDQpIHtcbiAgICAgIHRoaXMuaW1hZ2UgPSBwSW5zdC5sb2FkSW1hZ2Uoc3ByaXRlU2hlZXRBcmdzWzBdLCB0aGlzLl9nZW5lcmF0ZVNoZWV0RnJhbWVzLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyBhIHNwZWNpZmljIGZyYW1lIHRvIHRoZSBjYW52YXMuXG4gICAqIEBwYXJhbSBmcmFtZV9uYW1lICBDYW4gZWl0aGVyIGJlIGEgc3RyaW5nIG5hbWUsIG9yIGEgbnVtZXJpYyBpbmRleC5cbiAgICogQHBhcmFtIHggICB4IHBvc2l0aW9uIHRvIGRyYXcgdGhlIGZyYW1lIGF0XG4gICAqIEBwYXJhbSB5ICAgeSBwb3NpdGlvbiB0byBkcmF3IHRoZSBmcmFtZSBhdFxuICAgKiBAcGFyYW0gW3dpZHRoXSAgIG9wdGlvbmFsIHdpZHRoIHRvIGRyYXcgdGhlIGZyYW1lXG4gICAqIEBwYXJhbSBbaGVpZ2h0XSAgb3B0aW9uYWwgaGVpZ2h0IHRvIGRyYXcgdGhlIGZyYW1lXG4gICAqIEBtZXRob2QgZHJhd0ZyYW1lXG4gICAqL1xuICB0aGlzLmRyYXdGcmFtZSA9IGZ1bmN0aW9uKGZyYW1lX25hbWUsIHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICB2YXIgZnJhbWVUb0RyYXc7XG4gICAgaWYgKHR5cGVvZiBmcmFtZV9uYW1lID09PSAnbnVtYmVyJykge1xuICAgICAgZnJhbWVUb0RyYXcgPSB0aGlzLmZyYW1lc1tmcmFtZV9uYW1lXS5mcmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5mcmFtZXNbaV0ubmFtZSA9PT0gZnJhbWVfbmFtZSkge1xuICAgICAgICAgIGZyYW1lVG9EcmF3ID0gdGhpcy5mcmFtZXNbaV0uZnJhbWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGRXaWR0aCA9IHdpZHRoIHx8IGZyYW1lVG9EcmF3LndpZHRoO1xuICAgIHZhciBkSGVpZ2h0ID0gaGVpZ2h0IHx8IGZyYW1lVG9EcmF3LmhlaWdodDtcbiAgICBwSW5zdC5pbWFnZSh0aGlzLmltYWdlLCBmcmFtZVRvRHJhdy54LCBmcmFtZVRvRHJhdy55LFxuICAgICAgZnJhbWVUb0RyYXcud2lkdGgsIGZyYW1lVG9EcmF3LmhlaWdodCwgeCwgeSwgZFdpZHRoLCBkSGVpZ2h0KTtcbiAgfTtcblxuICAvKipcbiAgICogT2JqZWN0cyBhcmUgcGFzc2VkIGJ5IHJlZmVyZW5jZSBzbyB0byBoYXZlIGRpZmZlcmVudCBzcHJpdGVzXG4gICAqIHVzaW5nIHRoZSBzYW1lIGFuaW1hdGlvbiB5b3UgbmVlZCB0byBjbG9uZSBpdC5cbiAgICpcbiAgICogQG1ldGhvZCBjbG9uZVxuICAgKiBAcmV0dXJuIHtTcHJpdGVTaGVldH0gQSBjbG9uZSBvZiB0aGUgY3VycmVudCBTcHJpdGVTaGVldFxuICAgKi9cbiAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBteUNsb25lID0gbmV3IFNwcml0ZVNoZWV0KHBJbnN0KTsgLy9lbXB0eVxuXG4gICAgLy8gRGVlcCBjbG9uZSB0aGUgZnJhbWVzIGJ5IHZhbHVlIG5vdCByZWZlcmVuY2VcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5mcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBmcmFtZSA9IHRoaXMuZnJhbWVzW2ldLmZyYW1lO1xuICAgICAgdmFyIGNsb25lRnJhbWUgPSB7XG4gICAgICAgICduYW1lJzpmcmFtZS5uYW1lLFxuICAgICAgICAnZnJhbWUnOiB7XG4gICAgICAgICAgJ3gnOmZyYW1lLngsXG4gICAgICAgICAgJ3knOmZyYW1lLnksXG4gICAgICAgICAgJ3dpZHRoJzpmcmFtZS53aWR0aCxcbiAgICAgICAgICAnaGVpZ2h0JzpmcmFtZS5oZWlnaHRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG15Q2xvbmUuZnJhbWVzLnB1c2goY2xvbmVGcmFtZSk7XG4gICAgfVxuXG4gICAgLy8gY2xvbmUgb3RoZXIgZmllbGRzXG4gICAgbXlDbG9uZS5pbWFnZSA9IHRoaXMuaW1hZ2U7XG4gICAgbXlDbG9uZS5mcmFtZV93aWR0aCA9IHRoaXMuZnJhbWVfd2lkdGg7XG4gICAgbXlDbG9uZS5mcmFtZV9oZWlnaHQgPSB0aGlzLmZyYW1lX2hlaWdodDtcbiAgICBteUNsb25lLm51bV9mcmFtZXMgPSB0aGlzLm51bV9mcmFtZXM7XG5cbiAgICByZXR1cm4gbXlDbG9uZTtcbiAgfTtcbn1cblxuZGVmaW5lTGF6eVA1UHJvcGVydHkoJ1Nwcml0ZVNoZWV0JywgYm91bmRDb25zdHJ1Y3RvckZhY3RvcnkoU3ByaXRlU2hlZXQpKTtcblxuLy9nZW5lcmFsIGNvbnN0cnVjdG9yIHRvIGJlIGFibGUgdG8gZmVlZCBhcmd1bWVudHMgYXMgYXJyYXlcbmZ1bmN0aW9uIGNvbnN0cnVjdChjb25zdHJ1Y3RvciwgYXJncykge1xuICBmdW5jdGlvbiBGKCkge1xuICAgIHJldHVybiBjb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuICBGLnByb3RvdHlwZSA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgcmV0dXJuIG5ldyBGKCk7XG59XG5cblxuXG5cblxuLypcbiAqIEphdmFzY3JpcHQgUXVhZHRyZWVcbiAqIGJhc2VkIG9uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdGltb2hhdXNtYW5uL3F1YWR0cmVlLWpzL1xuICogQ29weXJpZ2h0IMKpIDIwMTIgVGltbyBIYXVzbWFublxuKi9cblxuZnVuY3Rpb24gUXVhZHRyZWUoIGJvdW5kcywgbWF4X29iamVjdHMsIG1heF9sZXZlbHMsIGxldmVsICkge1xuXG4gIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgdGhpcy5tYXhfb2JqZWN0c1x0PSBtYXhfb2JqZWN0cyB8fCAxMDtcbiAgdGhpcy5tYXhfbGV2ZWxzXHRcdD0gbWF4X2xldmVscyB8fCA0O1xuXG4gIHRoaXMubGV2ZWwgXHRcdFx0PSBsZXZlbCB8fCAwO1xuICB0aGlzLmJvdW5kcyBcdFx0PSBib3VuZHM7XG5cbiAgdGhpcy5vYmplY3RzIFx0XHQ9IFtdO1xuICB0aGlzLm9iamVjdF9yZWZzXHQ9IFtdO1xuICB0aGlzLm5vZGVzIFx0XHRcdD0gW107XG59XG5cblF1YWR0cmVlLnByb3RvdHlwZS51cGRhdGVCb3VuZHMgPSBmdW5jdGlvbigpIHtcblxuICAvL2ZpbmQgbWF4aW11bSBhcmVhXG4gIHZhciBvYmplY3RzID0gdGhpcy5nZXRBbGwoKTtcbiAgdmFyIHggPSAxMDAwMDtcbiAgdmFyIHkgPSAxMDAwMDtcbiAgdmFyIHcgPSAtMTAwMDA7XG4gIHZhciBoID0gLTEwMDAwO1xuXG4gIGZvciggdmFyIGk9MDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKysgKVxuICAgIHtcbiAgICAgIGlmKG9iamVjdHNbaV0ucG9zaXRpb24ueCA8IHgpXG4gICAgICAgIHggPSBvYmplY3RzW2ldLnBvc2l0aW9uLng7XG4gICAgICBpZihvYmplY3RzW2ldLnBvc2l0aW9uLnkgPCB5KVxuICAgICAgICB5ID0gb2JqZWN0c1tpXS5wb3NpdGlvbi55O1xuICAgICAgaWYob2JqZWN0c1tpXS5wb3NpdGlvbi54ID4gdylcbiAgICAgICAgdyA9IG9iamVjdHNbaV0ucG9zaXRpb24ueDtcbiAgICAgIGlmKG9iamVjdHNbaV0ucG9zaXRpb24ueSA+IGgpXG4gICAgICAgIGggPSBvYmplY3RzW2ldLnBvc2l0aW9uLnk7XG4gICAgfVxuXG5cbiAgdGhpcy5ib3VuZHMgPSB7XG4gICAgeDp4LFxuICAgIHk6eSxcbiAgICB3aWR0aDp3LFxuICAgIGhlaWdodDpoXG4gIH07XG4gIC8vcHJpbnQodGhpcy5ib3VuZHMpO1xufTtcblxuLypcblx0ICogU3BsaXQgdGhlIG5vZGUgaW50byA0IHN1Ym5vZGVzXG5cdCAqL1xuUXVhZHRyZWUucHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIG5leHRMZXZlbFx0PSB0aGlzLmxldmVsICsgMSxcbiAgICAgIHN1YldpZHRoXHQ9IE1hdGgucm91bmQoIHRoaXMuYm91bmRzLndpZHRoIC8gMiApLFxuICAgICAgc3ViSGVpZ2h0IFx0PSBNYXRoLnJvdW5kKCB0aGlzLmJvdW5kcy5oZWlnaHQgLyAyICksXG4gICAgICB4IFx0XHRcdD0gTWF0aC5yb3VuZCggdGhpcy5ib3VuZHMueCApLFxuICAgICAgeSBcdFx0XHQ9IE1hdGgucm91bmQoIHRoaXMuYm91bmRzLnkgKTtcblxuICAvL3RvcCByaWdodCBub2RlXG4gIHRoaXMubm9kZXNbMF0gPSBuZXcgUXVhZHRyZWUoe1xuICAgIHhcdDogeCArIHN1YldpZHRoLFxuICAgIHlcdDogeSxcbiAgICB3aWR0aFx0OiBzdWJXaWR0aCxcbiAgICBoZWlnaHRcdDogc3ViSGVpZ2h0XG4gIH0sIHRoaXMubWF4X29iamVjdHMsIHRoaXMubWF4X2xldmVscywgbmV4dExldmVsKTtcblxuICAvL3RvcCBsZWZ0IG5vZGVcbiAgdGhpcy5ub2Rlc1sxXSA9IG5ldyBRdWFkdHJlZSh7XG4gICAgeFx0OiB4LFxuICAgIHlcdDogeSxcbiAgICB3aWR0aFx0OiBzdWJXaWR0aCxcbiAgICBoZWlnaHRcdDogc3ViSGVpZ2h0XG4gIH0sIHRoaXMubWF4X29iamVjdHMsIHRoaXMubWF4X2xldmVscywgbmV4dExldmVsKTtcblxuICAvL2JvdHRvbSBsZWZ0IG5vZGVcbiAgdGhpcy5ub2Rlc1syXSA9IG5ldyBRdWFkdHJlZSh7XG4gICAgeFx0OiB4LFxuICAgIHlcdDogeSArIHN1YkhlaWdodCxcbiAgICB3aWR0aFx0OiBzdWJXaWR0aCxcbiAgICBoZWlnaHRcdDogc3ViSGVpZ2h0XG4gIH0sIHRoaXMubWF4X29iamVjdHMsIHRoaXMubWF4X2xldmVscywgbmV4dExldmVsKTtcblxuICAvL2JvdHRvbSByaWdodCBub2RlXG4gIHRoaXMubm9kZXNbM10gPSBuZXcgUXVhZHRyZWUoe1xuICAgIHhcdDogeCArIHN1YldpZHRoLFxuICAgIHlcdDogeSArIHN1YkhlaWdodCxcbiAgICB3aWR0aFx0OiBzdWJXaWR0aCxcbiAgICBoZWlnaHRcdDogc3ViSGVpZ2h0XG4gIH0sIHRoaXMubWF4X29iamVjdHMsIHRoaXMubWF4X2xldmVscywgbmV4dExldmVsKTtcbn07XG5cblxuLypcblx0ICogRGV0ZXJtaW5lIHRoZSBxdWFkdHJhbnQgZm9yIGFuIGFyZWEgaW4gdGhpcyBub2RlXG5cdCAqL1xuUXVhZHRyZWUucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24oIHBSZWN0ICkge1xuICBpZighcFJlY3QuY29sbGlkZXIpXG4gICAgcmV0dXJuIC0xO1xuICBlbHNlXG4gIHtcbiAgICB2YXIgaW5kZXggXHRcdFx0XHQ9IC0xLFxuICAgICAgICB2ZXJ0aWNhbE1pZHBvaW50IFx0PSB0aGlzLmJvdW5kcy54ICsgKHRoaXMuYm91bmRzLndpZHRoIC8gMiksXG4gICAgICAgIGhvcml6b250YWxNaWRwb2ludCBcdD0gdGhpcy5ib3VuZHMueSArICh0aGlzLmJvdW5kcy5oZWlnaHQgLyAyKSxcblxuICAgICAgICAvL3BSZWN0IGNhbiBjb21wbGV0ZWx5IGZpdCB3aXRoaW4gdGhlIHRvcCBxdWFkcmFudHNcbiAgICAgICAgdG9wUXVhZHJhbnQgPSAocFJlY3QuY29sbGlkZXIudG9wKCkgPCBob3Jpem9udGFsTWlkcG9pbnQgJiYgcFJlY3QuY29sbGlkZXIudG9wKCkgKyBwUmVjdC5jb2xsaWRlci5zaXplKCkueSA8IGhvcml6b250YWxNaWRwb2ludCksXG5cbiAgICAgICAgLy9wUmVjdCBjYW4gY29tcGxldGVseSBmaXQgd2l0aGluIHRoZSBib3R0b20gcXVhZHJhbnRzXG4gICAgICAgIGJvdHRvbVF1YWRyYW50ID0gKHBSZWN0LmNvbGxpZGVyLnRvcCgpID4gaG9yaXpvbnRhbE1pZHBvaW50KTtcblxuICAgIC8vcFJlY3QgY2FuIGNvbXBsZXRlbHkgZml0IHdpdGhpbiB0aGUgbGVmdCBxdWFkcmFudHNcbiAgICBpZiggcFJlY3QuY29sbGlkZXIubGVmdCgpIDwgdmVydGljYWxNaWRwb2ludCAmJiBwUmVjdC5jb2xsaWRlci5sZWZ0KCkgKyBwUmVjdC5jb2xsaWRlci5zaXplKCkueCA8IHZlcnRpY2FsTWlkcG9pbnQgKSB7XG4gICAgICBpZiggdG9wUXVhZHJhbnQgKSB7XG4gICAgICAgIGluZGV4ID0gMTtcbiAgICAgIH0gZWxzZSBpZiggYm90dG9tUXVhZHJhbnQgKSB7XG4gICAgICAgIGluZGV4ID0gMjtcbiAgICAgIH1cblxuICAgICAgLy9wUmVjdCBjYW4gY29tcGxldGVseSBmaXQgd2l0aGluIHRoZSByaWdodCBxdWFkcmFudHNcbiAgICB9IGVsc2UgaWYoIHBSZWN0LmNvbGxpZGVyLmxlZnQoKSA+IHZlcnRpY2FsTWlkcG9pbnQgKSB7XG4gICAgICBpZiggdG9wUXVhZHJhbnQgKSB7XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgIH0gZWxzZSBpZiggYm90dG9tUXVhZHJhbnQgKSB7XG4gICAgICAgIGluZGV4ID0gMztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbn07XG5cblxuLypcblx0ICogSW5zZXJ0IGFuIG9iamVjdCBpbnRvIHRoZSBub2RlLiBJZiB0aGUgbm9kZVxuXHQgKiBleGNlZWRzIHRoZSBjYXBhY2l0eSwgaXQgd2lsbCBzcGxpdCBhbmQgYWRkIGFsbFxuXHQgKiBvYmplY3RzIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgc3Vibm9kZXMuXG5cdCAqL1xuUXVhZHRyZWUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uKCBvYmogKSB7XG4gIC8vYXZvaWQgZG91YmxlIGluc2VydGlvblxuICBpZih0aGlzLm9iamVjdHMuaW5kZXhPZihvYmopID09PSAtMSlcbiAge1xuXG4gICAgdmFyIGkgPSAwLFxuICAgICAgICBpbmRleDtcblxuICAgIC8vaWYgd2UgaGF2ZSBzdWJub2RlcyAuLi5cbiAgICBpZiggdHlwZW9mIHRoaXMubm9kZXNbMF0gIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgaW5kZXggPSB0aGlzLmdldEluZGV4KCBvYmogKTtcblxuICAgICAgaWYoIGluZGV4ICE9PSAtMSApIHtcbiAgICAgICAgdGhpcy5ub2Rlc1tpbmRleF0uaW5zZXJ0KCBvYmogKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub2JqZWN0cy5wdXNoKCBvYmogKTtcblxuICAgIGlmKCB0aGlzLm9iamVjdHMubGVuZ3RoID4gdGhpcy5tYXhfb2JqZWN0cyAmJiB0aGlzLmxldmVsIDwgdGhpcy5tYXhfbGV2ZWxzICkge1xuXG4gICAgICAvL3NwbGl0IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBzdWJub2Rlc1xuICAgICAgaWYoIHR5cGVvZiB0aGlzLm5vZGVzWzBdID09PSAndW5kZWZpbmVkJyApIHtcbiAgICAgICAgdGhpcy5zcGxpdCgpO1xuICAgICAgfVxuXG4gICAgICAvL2FkZCBhbGwgb2JqZWN0cyB0byB0aGVyZSBjb3JyZXNwb25kaW5nIHN1Ym5vZGVzXG4gICAgICB3aGlsZSggaSA8IHRoaXMub2JqZWN0cy5sZW5ndGggKSB7XG5cbiAgICAgICAgaW5kZXggPSB0aGlzLmdldEluZGV4KCB0aGlzLm9iamVjdHNbaV0gKTtcblxuICAgICAgICBpZiggaW5kZXggIT09IC0xICkge1xuICAgICAgICAgIHRoaXMubm9kZXNbaW5kZXhdLmluc2VydCggdGhpcy5vYmplY3RzLnNwbGljZShpLCAxKVswXSApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuXG4vKlxuXHQgKiBSZXR1cm4gYWxsIG9iamVjdHMgdGhhdCBjb3VsZCBjb2xsaWRlIHdpdGggYSBnaXZlbiBhcmVhXG5cdCAqL1xuUXVhZHRyZWUucHJvdG90eXBlLnJldHJpZXZlID0gZnVuY3Rpb24oIHBSZWN0ICkge1xuXG5cbiAgdmFyIGluZGV4ID0gdGhpcy5nZXRJbmRleCggcFJlY3QgKSxcbiAgICAgIHJldHVybk9iamVjdHMgPSB0aGlzLm9iamVjdHM7XG5cbiAgLy9pZiB3ZSBoYXZlIHN1Ym5vZGVzIC4uLlxuICBpZiggdHlwZW9mIHRoaXMubm9kZXNbMF0gIT09ICd1bmRlZmluZWQnICkge1xuXG4gICAgLy9pZiBwUmVjdCBmaXRzIGludG8gYSBzdWJub2RlIC4uXG4gICAgaWYoIGluZGV4ICE9PSAtMSApIHtcbiAgICAgIHJldHVybk9iamVjdHMgPSByZXR1cm5PYmplY3RzLmNvbmNhdCggdGhpcy5ub2Rlc1tpbmRleF0ucmV0cmlldmUoIHBSZWN0ICkgKTtcblxuICAgICAgLy9pZiBwUmVjdCBkb2VzIG5vdCBmaXQgaW50byBhIHN1Ym5vZGUsIGNoZWNrIGl0IGFnYWluc3QgYWxsIHN1Ym5vZGVzXG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciggdmFyIGk9MDsgaSA8IHRoaXMubm9kZXMubGVuZ3RoOyBpPWkrMSApIHtcbiAgICAgICAgcmV0dXJuT2JqZWN0cyA9IHJldHVybk9iamVjdHMuY29uY2F0KCB0aGlzLm5vZGVzW2ldLnJldHJpZXZlKCBwUmVjdCApICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJldHVybk9iamVjdHM7XG59O1xuXG5RdWFkdHJlZS5wcm90b3R5cGUucmV0cmlldmVGcm9tR3JvdXAgPSBmdW5jdGlvbiggcFJlY3QsIGdyb3VwICkge1xuXG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBjYW5kaWRhdGVzID0gdGhpcy5yZXRyaWV2ZShwUmVjdCk7XG5cbiAgZm9yKHZhciBpPTA7IGk8Y2FuZGlkYXRlcy5sZW5ndGg7IGkrKylcbiAgICBpZihncm91cC5jb250YWlucyhjYW5kaWRhdGVzW2ldKSlcbiAgICByZXN1bHRzLnB1c2goY2FuZGlkYXRlc1tpXSk7XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vKlxuXHQgKiBHZXQgYWxsIG9iamVjdHMgc3RvcmVkIGluIHRoZSBxdWFkdHJlZVxuXHQgKi9cblF1YWR0cmVlLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbigpIHtcblxuICB2YXIgb2JqZWN0cyA9IHRoaXMub2JqZWN0cztcblxuICBmb3IoIHZhciBpPTA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaT1pKzEgKSB7XG4gICAgb2JqZWN0cyA9IG9iamVjdHMuY29uY2F0KCB0aGlzLm5vZGVzW2ldLmdldEFsbCgpICk7XG4gIH1cblxuICByZXR1cm4gb2JqZWN0cztcbn07XG5cblxuLypcblx0ICogR2V0IHRoZSBub2RlIGluIHdoaWNoIGEgY2VydGFpbiBvYmplY3QgaXMgc3RvcmVkXG5cdCAqL1xuUXVhZHRyZWUucHJvdG90eXBlLmdldE9iamVjdE5vZGUgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gIHZhciBpbmRleDtcblxuICAvL2lmIHRoZXJlIGFyZSBubyBzdWJub2Rlcywgb2JqZWN0IG11c3QgYmUgaGVyZVxuICBpZiggIXRoaXMubm9kZXMubGVuZ3RoICkge1xuXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgfSBlbHNlIHtcblxuICAgIGluZGV4ID0gdGhpcy5nZXRJbmRleCggb2JqICk7XG5cbiAgICAvL2lmIHRoZSBvYmplY3QgZG9lcyBub3QgZml0IGludG8gYSBzdWJub2RlLCBpdCBtdXN0IGJlIGhlcmVcbiAgICBpZiggaW5kZXggPT09IC0xICkge1xuXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy9pZiBpdCBmaXRzIGludG8gYSBzdWJub2RlLCBjb250aW51ZSBkZWVwZXIgc2VhcmNoIHRoZXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5ub2Rlc1tpbmRleF0uZ2V0T2JqZWN0Tm9kZSggb2JqICk7XG4gICAgICBpZiggbm9kZSApIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cblxuLypcblx0ICogUmVtb3ZlcyBhIHNwZWNpZmljIG9iamVjdCBmcm9tIHRoZSBxdWFkdHJlZVxuXHQgKiBEb2VzIG5vdCBkZWxldGUgZW1wdHkgc3Vibm9kZXMuIFNlZSBjbGVhbnVwLWZ1bmN0aW9uXG5cdCAqL1xuUXVhZHRyZWUucHJvdG90eXBlLnJlbW92ZU9iamVjdCA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cbiAgdmFyIG5vZGUgPSB0aGlzLmdldE9iamVjdE5vZGUoIG9iaiApLFxuICAgICAgaW5kZXggPSBub2RlLm9iamVjdHMuaW5kZXhPZiggb2JqICk7XG5cbiAgaWYoIGluZGV4ID09PSAtMSApIHJldHVybiBmYWxzZTtcblxuICBub2RlLm9iamVjdHMuc3BsaWNlKCBpbmRleCwgMSk7XG59O1xuXG5cbi8qXG5cdCAqIENsZWFyIHRoZSBxdWFkdHJlZSBhbmQgZGVsZXRlIGFsbCBvYmplY3RzXG5cdCAqL1xuUXVhZHRyZWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cbiAgdGhpcy5vYmplY3RzID0gW107XG5cbiAgaWYoICF0aGlzLm5vZGVzLmxlbmd0aCApIHJldHVybjtcblxuICBmb3IoIHZhciBpPTA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaT1pKzEgKSB7XG5cbiAgICB0aGlzLm5vZGVzW2ldLmNsZWFyKCk7XG4gIH1cblxuICB0aGlzLm5vZGVzID0gW107XG59O1xuXG5cbi8qXG5cdCAqIENsZWFuIHVwIHRoZSBxdWFkdHJlZVxuXHQgKiBMaWtlIGNsZWFyLCBidXQgb2JqZWN0cyB3b24ndCBiZSBkZWxldGVkIGJ1dCByZS1pbnNlcnRlZFxuXHQgKi9cblF1YWR0cmVlLnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIG9iamVjdHMgPSB0aGlzLmdldEFsbCgpO1xuXG4gIHRoaXMuY2xlYXIoKTtcblxuICBmb3IoIHZhciBpPTA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSsrICkge1xuICAgIHRoaXMuaW5zZXJ0KCBvYmplY3RzW2ldICk7XG4gIH1cbn07XG5cblxuXG5mdW5jdGlvbiB1cGRhdGVUcmVlKCkge1xuICBpZih0aGlzLnF1YWRUcmVlLmFjdGl2ZSlcbiAge1xuICAgIHRoaXMucXVhZFRyZWUudXBkYXRlQm91bmRzKCk7XG4gICAgdGhpcy5xdWFkVHJlZS5jbGVhbnVwKCk7XG4gIH1cbn1cblxuLy9rZXlib2FyZCBpbnB1dFxucDUucHJvdG90eXBlLnJlZ2lzdGVyTWV0aG9kKCdwcmUnLCBwNS5wcm90b3R5cGUucmVhZFByZXNzZXMpO1xuXG4vL2F1dG9tYXRpYyBzcHJpdGUgdXBkYXRlXG5wNS5wcm90b3R5cGUucmVnaXN0ZXJNZXRob2QoJ3ByZScsIHA1LnByb3RvdHlwZS51cGRhdGVTcHJpdGVzKTtcblxuLy9xdWFkdHJlZSB1cGRhdGVcbnA1LnByb3RvdHlwZS5yZWdpc3Rlck1ldGhvZCgncG9zdCcsIHVwZGF0ZVRyZWUpO1xuXG4vL2NhbWVyYSBwdXNoIGFuZCBwb3BcbnA1LnByb3RvdHlwZS5yZWdpc3Rlck1ldGhvZCgncHJlJywgY2FtZXJhUHVzaCk7XG5wNS5wcm90b3R5cGUucmVnaXN0ZXJNZXRob2QoJ3Bvc3QnLCBjYW1lcmFQb3ApO1xuXG4vL2RlbHRhVGltZVxuLy9wNS5wcm90b3R5cGUucmVnaXN0ZXJNZXRob2QoJ3ByZScsIHVwZGF0ZURlbHRhKTtcblxuLyoqXG4gKiBMb2cgYSB3YXJuaW5nIG1lc3NhZ2UgdG8gdGhlIGhvc3QgY29uc29sZSwgdXNpbmcgbmF0aXZlIGBjb25zb2xlLndhcm5gXG4gKiBpZiBpdCBpcyBhdmFpbGFibGUgYnV0IGZhbGxpbmcgYmFjayBvbiBgY29uc29sZS5sb2dgIGlmIG5vdC4gIElmIG5vXG4gKiBjb25zb2xlIGlzIGF2YWlsYWJsZSwgdGhpcyBtZXRob2Qgd2lsbCBmYWlsIHNpbGVudGx5LlxuICogQG1ldGhvZCBfd2FyblxuICogQHBhcmFtIHshc3RyaW5nfSBtZXNzYWdlXG4gKiBAcHJpdmF0ZVxuICovXG5wNS5wcm90b3R5cGUuX3dhcm4gPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIHZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG5cbiAgaWYoY29uc29sZSlcbiAge1xuICAgIGlmKCdmdW5jdGlvbicgPT09IHR5cGVvZiBjb25zb2xlLndhcm4pXG4gICAge1xuICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIGlmKCdmdW5jdGlvbicgPT09IHR5cGVvZiBjb25zb2xlLmxvZylcbiAgICB7XG4gICAgICBjb25zb2xlLmxvZygnV2FybmluZzogJyArIG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxufTtcblxufSkpO1xuIiwiLyohIHA1LmRvbS5qcyB2MC40LjAgQXVndXN0IDksIDIwMTggKi9cbi8qKlxuICogPHA+VGhlIHdlYiBpcyBtdWNoIG1vcmUgdGhhbiBqdXN0IGNhbnZhcyBhbmQgcDUuZG9tIG1ha2VzIGl0IGVhc3kgdG8gaW50ZXJhY3RcbiAqIHdpdGggb3RoZXIgSFRNTDUgb2JqZWN0cywgaW5jbHVkaW5nIHRleHQsIGh5cGVybGluaywgaW1hZ2UsIGlucHV0LCB2aWRlbyxcbiAqIGF1ZGlvLCBhbmQgd2ViY2FtLjwvcD5cbiAqIDxwPlRoZXJlIGlzIGEgc2V0IG9mIGNyZWF0aW9uIG1ldGhvZHMsIERPTSBtYW5pcHVsYXRpb24gbWV0aG9kcywgYW5kXG4gKiBhbiBleHRlbmRlZCA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4gdGhhdCBzdXBwb3J0cyBhIHJhbmdlIG9mIEhUTUwgZWxlbWVudHMuIFNlZSB0aGVcbiAqIDxhIGhyZWY9J2h0dHBzOi8vZ2l0aHViLmNvbS9wcm9jZXNzaW5nL3A1LmpzL3dpa2kvQmV5b25kLXRoZS1jYW52YXMnPlxuICogYmV5b25kIHRoZSBjYW52YXMgdHV0b3JpYWw8L2E+IGZvciBhIGZ1bGwgb3ZlcnZpZXcgb2YgaG93IHRoaXMgYWRkb24gd29ya3MuXG4gKlxuICogPHA+TWV0aG9kcyBhbmQgcHJvcGVydGllcyBzaG93biBpbiBibGFjayBhcmUgcGFydCBvZiB0aGUgcDUuanMgY29yZSwgaXRlbXMgaW5cbiAqIGJsdWUgYXJlIHBhcnQgb2YgdGhlIHA1LmRvbSBsaWJyYXJ5LiBZb3Ugd2lsbCBuZWVkIHRvIGluY2x1ZGUgYW4gZXh0cmEgZmlsZVxuICogaW4gb3JkZXIgdG8gYWNjZXNzIHRoZSBibHVlIGZ1bmN0aW9ucy4gU2VlIHRoZVxuICogPGEgaHJlZj0naHR0cDovL3A1anMub3JnL2xpYnJhcmllcy8jdXNpbmctYS1saWJyYXJ5Jz51c2luZyBhIGxpYnJhcnk8L2E+XG4gKiBzZWN0aW9uIGZvciBpbmZvcm1hdGlvbiBvbiBob3cgdG8gaW5jbHVkZSB0aGlzIGxpYnJhcnkuIHA1LmRvbSBjb21lcyB3aXRoXG4gKiA8YSBocmVmPSdodHRwOi8vcDVqcy5vcmcvZG93bmxvYWQnPnA1IGNvbXBsZXRlPC9hPiBvciB5b3UgY2FuIGRvd25sb2FkIHRoZSBzaW5nbGUgZmlsZVxuICogPGEgaHJlZj0naHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2xtY2NhcnQvcDUuanMvbWFzdGVyL2xpYi9hZGRvbnMvcDUuZG9tLmpzJz5cbiAqIGhlcmU8L2E+LjwvcD5cbiAqIDxwPlNlZSA8YSBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vcHJvY2Vzc2luZy9wNS5qcy93aWtpL0JleW9uZC10aGUtY2FudmFzJz50dXRvcmlhbDogYmV5b25kIHRoZSBjYW52YXM8L2E+XG4gKiBmb3IgbW9yZSBpbmZvIG9uIGhvdyB0byB1c2UgdGhpcyBsaWJyYXJ5LjwvYT5cbiAqXG4gKiBAbW9kdWxlIHA1LmRvbVxuICogQHN1Ym1vZHVsZSBwNS5kb21cbiAqIEBmb3IgcDVcbiAqIEBtYWluXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcbiAgICBkZWZpbmUoJ3A1LmRvbScsIFsnLi4vcDUubWluLmpzJ10sIGZ1bmN0aW9uKHA1KSB7XG4gICAgICBmYWN0b3J5KHA1KTtcbiAgICB9KTtcbiAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSBmYWN0b3J5KHJlcXVpcmUoJy4uL3A1Lm1pbi5qcycpKTtcbiAgZWxzZSBmYWN0b3J5KHJvb3RbJ3A1J10pO1xufSkodGhpcywgZnVuY3Rpb24ocDUpIHtcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgcDUgYWRkaXRpb25zXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgLyoqXG4gICAqIFNlYXJjaGVzIHRoZSBwYWdlIGZvciBhbiBlbGVtZW50IHdpdGggdGhlIGdpdmVuIElELCBjbGFzcywgb3IgdGFnIG5hbWUgKHVzaW5nIHRoZSAnIycgb3IgJy4nXG4gICAqIHByZWZpeGVzIHRvIHNwZWNpZnkgYW4gSUQgb3IgY2xhc3MgcmVzcGVjdGl2ZWx5LCBhbmQgbm9uZSBmb3IgYSB0YWcpIGFuZCByZXR1cm5zIGl0IGFzXG4gICAqIGEgPGEgaHJlZj1cIiMvcDUuRWxlbWVudFwiPnA1LkVsZW1lbnQ8L2E+LiBJZiBhIGNsYXNzIG9yIHRhZyBuYW1lIGlzIGdpdmVuIHdpdGggbW9yZSB0aGFuIDEgZWxlbWVudCxcbiAgICogb25seSB0aGUgZmlyc3QgZWxlbWVudCB3aWxsIGJlIHJldHVybmVkLlxuICAgKiBUaGUgRE9NIG5vZGUgaXRzZWxmIGNhbiBiZSBhY2Nlc3NlZCB3aXRoIC5lbHQuXG4gICAqIFJldHVybnMgbnVsbCBpZiBub25lIGZvdW5kLiBZb3UgY2FuIGFsc28gc3BlY2lmeSBhIGNvbnRhaW5lciB0byBzZWFyY2ggd2l0aGluLlxuICAgKlxuICAgKiBAbWV0aG9kIHNlbGVjdFxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgaWQsIGNsYXNzLCBvciB0YWcgbmFtZSBvZiBlbGVtZW50IHRvIHNlYXJjaCBmb3JcbiAgICogQHBhcmFtICB7U3RyaW5nfHA1LkVsZW1lbnR8SFRNTEVsZW1lbnR9IFtjb250YWluZXJdIGlkLCA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4sIG9yXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFRNTCBlbGVtZW50IHRvIHNlYXJjaCB3aXRoaW5cbiAgICogQHJldHVybiB7cDUuRWxlbWVudHxudWxsfSA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4gY29udGFpbmluZyBub2RlIGZvdW5kXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgPjxjb2RlIGNsYXNzPSdub3JlbmRlcic+XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGNyZWF0ZUNhbnZhcygxMDAsIDEwMCk7XG4gICAqICAgLy90cmFuc2xhdGVzIGNhbnZhcyA1MHB4IGRvd25cbiAgICogICBzZWxlY3QoJ2NhbnZhcycpLnBvc2l0aW9uKDEwMCwgMTAwKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqIDxkaXY+PGNvZGUgY2xhc3M9J25vcmVuZGVyJz5cbiAgICogLy8gdGhlc2UgYXJlIGFsbCB2YWxpZCBjYWxscyB0byBzZWxlY3QoKVxuICAgKiB2YXIgYSA9IHNlbGVjdCgnI21vbycpO1xuICAgKiB2YXIgYiA9IHNlbGVjdCgnI2JsYWgnLCAnI215Q29udGFpbmVyJyk7XG4gICAqIHZhciBjLCBlO1xuICAgKiBpZiAoYikge1xuICAgKiAgIGMgPSBzZWxlY3QoJyNmb28nLCBiKTtcbiAgICogfVxuICAgKiB2YXIgZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZWVwJyk7XG4gICAqIGlmIChkKSB7XG4gICAqICAgZSA9IHNlbGVjdCgncCcsIGQpO1xuICAgKiB9XG4gICAqIFthLCBiLCBjLCBkLCBlXTsgLy8gdW51c2VkXG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICpcbiAgICovXG4gIHA1LnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbihlLCBwKSB7XG4gICAgcDUuX3ZhbGlkYXRlUGFyYW1ldGVycygnc2VsZWN0JywgYXJndW1lbnRzKTtcbiAgICB2YXIgcmVzID0gbnVsbDtcbiAgICB2YXIgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKHApO1xuICAgIGlmIChlWzBdID09PSAnLicpIHtcbiAgICAgIGUgPSBlLnNsaWNlKDEpO1xuICAgICAgcmVzID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSk7XG4gICAgICBpZiAocmVzLmxlbmd0aCkge1xuICAgICAgICByZXMgPSByZXNbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZVswXSA9PT0gJyMnKSB7XG4gICAgICBlID0gZS5zbGljZSgxKTtcbiAgICAgIHJlcyA9IGNvbnRhaW5lci5nZXRFbGVtZW50QnlJZChlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO1xuICAgICAgaWYgKHJlcy5sZW5ndGgpIHtcbiAgICAgICAgcmVzID0gcmVzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlcykge1xuICAgICAgcmV0dXJuIHRoaXMuX3dyYXBFbGVtZW50KHJlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2VhcmNoZXMgdGhlIHBhZ2UgZm9yIGVsZW1lbnRzIHdpdGggdGhlIGdpdmVuIGNsYXNzIG9yIHRhZyBuYW1lICh1c2luZyB0aGUgJy4nIHByZWZpeFxuICAgKiB0byBzcGVjaWZ5IGEgY2xhc3MgYW5kIG5vIHByZWZpeCBmb3IgYSB0YWcpIGFuZCByZXR1cm5zIHRoZW0gYXMgPGEgaHJlZj1cIiMvcDUuRWxlbWVudFwiPnA1LkVsZW1lbnQ8L2E+c1xuICAgKiBpbiBhbiBhcnJheS5cbiAgICogVGhlIERPTSBub2RlIGl0c2VsZiBjYW4gYmUgYWNjZXNzZWQgd2l0aCAuZWx0LlxuICAgKiBSZXR1cm5zIGFuIGVtcHR5IGFycmF5IGlmIG5vbmUgZm91bmQuXG4gICAqIFlvdSBjYW4gYWxzbyBzcGVjaWZ5IGEgY29udGFpbmVyIHRvIHNlYXJjaCB3aXRoaW4uXG4gICAqXG4gICAqIEBtZXRob2Qgc2VsZWN0QWxsXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSBjbGFzcyBvciB0YWcgbmFtZSBvZiBlbGVtZW50cyB0byBzZWFyY2ggZm9yXG4gICAqIEBwYXJhbSAge1N0cmluZ30gW2NvbnRhaW5lcl0gaWQsIDxhIGhyZWY9XCIjL3A1LkVsZW1lbnRcIj5wNS5FbGVtZW50PC9hPiwgb3IgSFRNTCBlbGVtZW50IHRvIHNlYXJjaCB3aXRoaW5cbiAgICogQHJldHVybiB7cDUuRWxlbWVudFtdfSBBcnJheSBvZiA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT5zIGNvbnRhaW5pbmcgbm9kZXMgZm91bmRcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICBjcmVhdGVCdXR0b24oJ2J0bicpO1xuICAgKiAgIGNyZWF0ZUJ1dHRvbignMm5kIGJ0bicpO1xuICAgKiAgIGNyZWF0ZUJ1dHRvbignM3JkIGJ0bicpO1xuICAgKiAgIHZhciBidXR0b25zID0gc2VsZWN0QWxsKCdidXR0b24nKTtcbiAgICpcbiAgICogICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICogICAgIGJ1dHRvbnNbaV0uc2l6ZSgxMDAsIDEwMCk7XG4gICAqICAgfVxuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiAvLyB0aGVzZSBhcmUgYWxsIHZhbGlkIGNhbGxzIHRvIHNlbGVjdEFsbCgpXG4gICAqIHZhciBhID0gc2VsZWN0QWxsKCcubW9vJyk7XG4gICAqIGEgPSBzZWxlY3RBbGwoJ2RpdicpO1xuICAgKiBhID0gc2VsZWN0QWxsKCdidXR0b24nLCAnI215Q29udGFpbmVyJyk7XG4gICAqXG4gICAqIHZhciBkID0gc2VsZWN0KCcjY29udGFpbmVyJyk7XG4gICAqIGEgPSBzZWxlY3RBbGwoJ3AnLCBkKTtcbiAgICpcbiAgICogdmFyIGYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmVlcCcpO1xuICAgKiBhID0gc2VsZWN0KCcuYmxhaCcsIGYpO1xuICAgKlxuICAgKiBhOyAvLyB1bnVzZWRcbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKlxuICAgKi9cbiAgcDUucHJvdG90eXBlLnNlbGVjdEFsbCA9IGZ1bmN0aW9uKGUsIHApIHtcbiAgICBwNS5fdmFsaWRhdGVQYXJhbWV0ZXJzKCdzZWxlY3RBbGwnLCBhcmd1bWVudHMpO1xuICAgIHZhciBhcnIgPSBbXTtcbiAgICB2YXIgcmVzO1xuICAgIHZhciBjb250YWluZXIgPSBnZXRDb250YWluZXIocCk7XG4gICAgaWYgKGVbMF0gPT09ICcuJykge1xuICAgICAgZSA9IGUuc2xpY2UoMSk7XG4gICAgICByZXMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO1xuICAgIH1cbiAgICBpZiAocmVzKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgb2JqID0gdGhpcy5fd3JhcEVsZW1lbnQocmVzW2pdKTtcbiAgICAgICAgYXJyLnB1c2gob2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfTtcblxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBzZWxlY3QgYW5kIHNlbGVjdEFsbFxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0Q29udGFpbmVyKHApIHtcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQ7XG4gICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJyAmJiBwWzBdID09PSAnIycpIHtcbiAgICAgIHAgPSBwLnNsaWNlKDEpO1xuICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocCkgfHwgZG9jdW1lbnQ7XG4gICAgfSBlbHNlIGlmIChwIGluc3RhbmNlb2YgcDUuRWxlbWVudCkge1xuICAgICAgY29udGFpbmVyID0gcC5lbHQ7XG4gICAgfSBlbHNlIGlmIChwIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGNvbnRhaW5lciA9IHA7XG4gICAgfVxuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIGZvciBnZXRFbGVtZW50IGFuZCBnZXRFbGVtZW50cy5cbiAgICovXG4gIHA1LnByb3RvdHlwZS5fd3JhcEVsZW1lbnQgPSBmdW5jdGlvbihlbHQpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlbHQuY2hpbGRyZW4pO1xuICAgIGlmIChlbHQudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBlbHQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgdmFyIGNvbnZlcnRlZCA9IG5ldyBwNS5FbGVtZW50KGVsdCwgdGhpcyk7XG4gICAgICBjb252ZXJ0ZWQuY2hlY2tlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmVsdC5jaGVja2VkO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgIHRoaXMuZWx0LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZWx0LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgICByZXR1cm4gY29udmVydGVkO1xuICAgIH0gZWxzZSBpZiAoZWx0LnRhZ05hbWUgPT09ICdWSURFTycgfHwgZWx0LnRhZ05hbWUgPT09ICdBVURJTycpIHtcbiAgICAgIHJldHVybiBuZXcgcDUuTWVkaWFFbGVtZW50KGVsdCwgdGhpcyk7XG4gICAgfSBlbHNlIGlmIChlbHQudGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlbGVjdChuZXcgcDUuRWxlbWVudChlbHQsIHRoaXMpKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgY2hpbGRyZW4ubGVuZ3RoID4gMCAmJlxuICAgICAgY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24oYykge1xuICAgICAgICByZXR1cm4gYy50YWdOYW1lID09PSAnSU5QVVQnIHx8IGMudGFnTmFtZSA9PT0gJ0xBQkVMJztcbiAgICAgIH0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVSYWRpbyhuZXcgcDUuRWxlbWVudChlbHQsIHRoaXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBwNS5FbGVtZW50KGVsdCwgdGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBjcmVhdGVkIGJ5IHA1LCBleGNlcHQgYW55IGNhbnZhcyAvIGdyYXBoaWNzXG4gICAqIGVsZW1lbnRzIGNyZWF0ZWQgYnkgPGEgaHJlZj1cIiMvcDUvY3JlYXRlQ2FudmFzXCI+Y3JlYXRlQ2FudmFzPC9hPiBvciA8YSBocmVmPVwiIy9wNS9jcmVhdGVHcmFwaGljc1wiPmNyZWF0ZUdyYXBoaWNzPC9hPi5cbiAgICogRXZlbnQgaGFuZGxlcnMgYXJlIHJlbW92ZWQsIGFuZCBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgKiBAbWV0aG9kIHJlbW92ZUVsZW1lbnRzXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgY3JlYXRlQ2FudmFzKDEwMCwgMTAwKTtcbiAgICogICBjcmVhdGVEaXYoJ3RoaXMgaXMgc29tZSB0ZXh0Jyk7XG4gICAqICAgY3JlYXRlUCgndGhpcyBpcyBhIHBhcmFncmFwaCcpO1xuICAgKiB9XG4gICAqIGZ1bmN0aW9uIG1vdXNlUHJlc3NlZCgpIHtcbiAgICogICByZW1vdmVFbGVtZW50cygpOyAvLyB0aGlzIHdpbGwgcmVtb3ZlIHRoZSBkaXYgYW5kIHAsIG5vdCBjYW52YXNcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqXG4gICAqL1xuICBwNS5wcm90b3R5cGUucmVtb3ZlRWxlbWVudHMgPSBmdW5jdGlvbihlKSB7XG4gICAgcDUuX3ZhbGlkYXRlUGFyYW1ldGVycygncmVtb3ZlRWxlbWVudHMnLCBhcmd1bWVudHMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghKHRoaXMuX2VsZW1lbnRzW2ldLmVsdCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSkge1xuICAgICAgICB0aGlzLl9lbGVtZW50c1tpXS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSAuPGEgaHJlZj1cIiMvcDUuRWxlbWVudC9jaGFuZ2VkXCI+Y2hhbmdlZCgpPC9hPiBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB0aGUgdmFsdWUgb2YgYW5cbiAgICogZWxlbWVudCBjaGFuZ2VzLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGF0dGFjaCBhbiBlbGVtZW50IHNwZWNpZmljIGV2ZW50IGxpc3RlbmVyLlxuICAgKlxuICAgKiBAbWV0aG9kIGNoYW5nZWRcbiAgICogQHBhcmFtICB7RnVuY3Rpb258Qm9vbGVhbn0gZnhuIGZ1bmN0aW9uIHRvIGJlIGZpcmVkIHdoZW4gdGhlIHZhbHVlIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbiBlbGVtZW50IGNoYW5nZXMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBgZmFsc2VgIGlzIHBhc3NlZCBpbnN0ZWFkLCB0aGUgcHJldmlvdXNseVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyaW5nIGZ1bmN0aW9uIHdpbGwgbm8gbG9uZ2VyIGZpcmUuXG4gICAqIEBjaGFpbmFibGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdj48Y29kZT5cbiAgICogdmFyIHNlbDtcbiAgICpcbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIHNlbCA9IGNyZWF0ZVNlbGVjdCgpO1xuICAgKiAgIHNlbC5wb3NpdGlvbigxMCwgMTApO1xuICAgKiAgIHNlbC5vcHRpb24oJ3BlYXInKTtcbiAgICogICBzZWwub3B0aW9uKCdraXdpJyk7XG4gICAqICAgc2VsLm9wdGlvbignZ3JhcGUnKTtcbiAgICogICBzZWwuY2hhbmdlZChteVNlbGVjdEV2ZW50KTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBteVNlbGVjdEV2ZW50KCkge1xuICAgKiAgIHZhciBpdGVtID0gc2VsLnZhbHVlKCk7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIHRleHQoXCJpdCdzIGEgXCIgKyBpdGVtICsgJyEnLCA1MCwgNTApO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICpcbiAgICogPGRpdj48Y29kZT5cbiAgICogdmFyIGNoZWNrYm94O1xuICAgKiB2YXIgY252O1xuICAgKlxuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICBjaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KCcgZmlsbCcpO1xuICAgKiAgIGNoZWNrYm94LmNoYW5nZWQoY2hhbmdlRmlsbCk7XG4gICAqICAgY252ID0gY3JlYXRlQ2FudmFzKDEwMCwgMTAwKTtcbiAgICogICBjbnYucG9zaXRpb24oMCwgMzApO1xuICAgKiAgIG5vRmlsbCgpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIGVsbGlwc2UoNTAsIDUwLCA1MCwgNTApO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIGNoYW5nZUZpbGwoKSB7XG4gICAqICAgaWYgKGNoZWNrYm94LmNoZWNrZWQoKSkge1xuICAgKiAgICAgZmlsbCgwKTtcbiAgICogICB9IGVsc2Uge1xuICAgKiAgICAgbm9GaWxsKCk7XG4gICAqICAgfVxuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICpcbiAgICogQGFsdFxuICAgKiBkcm9wZG93bjogcGVhciwga2l3aSwgZ3JhcGUuIFdoZW4gc2VsZWN0ZWQgdGV4dCBcIml0cyBhXCIgKyBzZWxlY3Rpb24gc2hvd24uXG4gICAqXG4gICAqL1xuICBwNS5FbGVtZW50LnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24oZnhuKSB7XG4gICAgcDUuRWxlbWVudC5fYWRqdXN0TGlzdGVuZXIoJ2NoYW5nZScsIGZ4biwgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSAuPGEgaHJlZj1cIiMvcDUuRWxlbWVudC9pbnB1dFwiPmlucHV0KCk8L2E+IGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIGFueSB1c2VyIGlucHV0IGlzXG4gICAqIGRldGVjdGVkIHdpdGggYW4gZWxlbWVudC4gVGhlIGlucHV0IGV2ZW50IGlzIG9mdGVuIHVzZWRcbiAgICogdG8gZGV0ZWN0IGtleXN0cm9rZXMgaW4gYSBpbnB1dCBlbGVtZW50LCBvciBjaGFuZ2VzIG9uIGFcbiAgICogc2xpZGVyIGVsZW1lbnQuIFRoaXMgY2FuIGJlIHVzZWQgdG8gYXR0YWNoIGFuIGVsZW1lbnQgc3BlY2lmaWNcbiAgICogZXZlbnQgbGlzdGVuZXIuXG4gICAqXG4gICAqIEBtZXRob2QgaW5wdXRcbiAgICogQHBhcmFtICB7RnVuY3Rpb258Qm9vbGVhbn0gZnhuIGZ1bmN0aW9uIHRvIGJlIGZpcmVkIHdoZW4gYW55IHVzZXIgaW5wdXQgaXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGVjdGVkIHdpdGhpbiB0aGUgZWxlbWVudC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGBmYWxzZWAgaXMgcGFzc2VkIGluc3RlYWQsIHRoZSBwcmV2aW91c2x5XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJpbmcgZnVuY3Rpb24gd2lsbCBubyBsb25nZXIgZmlyZS5cbiAgICogQGNoYWluYWJsZVxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2IGNsYXNzPSdub3JlbmRlcic+PGNvZGU+XG4gICAqIC8vIE9wZW4geW91ciBjb25zb2xlIHRvIHNlZSB0aGUgb3V0cHV0XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIHZhciBpbnAgPSBjcmVhdGVJbnB1dCgnJyk7XG4gICAqICAgaW5wLmlucHV0KG15SW5wdXRFdmVudCk7XG4gICAqIH1cbiAgICpcbiAgICogZnVuY3Rpb24gbXlJbnB1dEV2ZW50KCkge1xuICAgKiAgIGNvbnNvbGUubG9nKCd5b3UgYXJlIHR5cGluZzogJywgdGhpcy52YWx1ZSgpKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqXG4gICAqIEBhbHRcbiAgICogbm8gZGlzcGxheS5cbiAgICpcbiAgICovXG4gIHA1LkVsZW1lbnQucHJvdG90eXBlLmlucHV0ID0gZnVuY3Rpb24oZnhuKSB7XG4gICAgcDUuRWxlbWVudC5fYWRqdXN0TGlzdGVuZXIoJ2lucHV0JywgZnhuLCB0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogSGVscGVycyBmb3IgY3JlYXRlIG1ldGhvZHMuXG4gICAqL1xuICBmdW5jdGlvbiBhZGRFbGVtZW50KGVsdCwgcEluc3QsIG1lZGlhKSB7XG4gICAgdmFyIG5vZGUgPSBwSW5zdC5fdXNlck5vZGUgPyBwSW5zdC5fdXNlck5vZGUgOiBkb2N1bWVudC5ib2R5O1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQoZWx0KTtcbiAgICB2YXIgYyA9IG1lZGlhXG4gICAgICA/IG5ldyBwNS5NZWRpYUVsZW1lbnQoZWx0LCBwSW5zdClcbiAgICAgIDogbmV3IHA1LkVsZW1lbnQoZWx0LCBwSW5zdCk7XG4gICAgcEluc3QuX2VsZW1lbnRzLnB1c2goYyk7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhICZsdDtkaXYmZ3Q7Jmx0Oy9kaXYmZ3Q7IGVsZW1lbnQgaW4gdGhlIERPTSB3aXRoIGdpdmVuIGlubmVyIEhUTUwuXG4gICAqIEFwcGVuZHMgdG8gdGhlIGNvbnRhaW5lciBub2RlIGlmIG9uZSBpcyBzcGVjaWZpZWQsIG90aGVyd2lzZVxuICAgKiBhcHBlbmRzIHRvIGJvZHkuXG4gICAqXG4gICAqIEBtZXRob2QgY3JlYXRlRGl2XG4gICAqIEBwYXJhbSAge1N0cmluZ30gW2h0bWxdIGlubmVyIEhUTUwgZm9yIGVsZW1lbnQgY3JlYXRlZFxuICAgKiBAcmV0dXJuIHtwNS5FbGVtZW50fSBwb2ludGVyIHRvIDxhIGhyZWY9XCIjL3A1LkVsZW1lbnRcIj5wNS5FbGVtZW50PC9hPiBob2xkaW5nIGNyZWF0ZWQgbm9kZVxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2IGNsYXNzPSdub3JlbmRlcic+PGNvZGU+XG4gICAqIGNyZWF0ZURpdigndGhpcyBpcyBzb21lIHRleHQnKTtcbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cblxuICAvKipcbiAgICogQ3JlYXRlcyBhICZsdDtwJmd0OyZsdDsvcCZndDsgZWxlbWVudCBpbiB0aGUgRE9NIHdpdGggZ2l2ZW4gaW5uZXIgSFRNTC4gVXNlZFxuICAgKiBmb3IgcGFyYWdyYXBoIGxlbmd0aCB0ZXh0LlxuICAgKiBBcHBlbmRzIHRvIHRoZSBjb250YWluZXIgbm9kZSBpZiBvbmUgaXMgc3BlY2lmaWVkLCBvdGhlcndpc2VcbiAgICogYXBwZW5kcyB0byBib2R5LlxuICAgKlxuICAgKiBAbWV0aG9kIGNyZWF0ZVBcbiAgICogQHBhcmFtICB7U3RyaW5nfSBbaHRtbF0gaW5uZXIgSFRNTCBmb3IgZWxlbWVudCBjcmVhdGVkXG4gICAqIEByZXR1cm4ge3A1LkVsZW1lbnR9IHBvaW50ZXIgdG8gPGEgaHJlZj1cIiMvcDUuRWxlbWVudFwiPnA1LkVsZW1lbnQ8L2E+IGhvbGRpbmcgY3JlYXRlZCBub2RlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogY3JlYXRlUCgndGhpcyBpcyBzb21lIHRleHQnKTtcbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cblxuICAvKipcbiAgICogQ3JlYXRlcyBhICZsdDtzcGFuJmd0OyZsdDsvc3BhbiZndDsgZWxlbWVudCBpbiB0aGUgRE9NIHdpdGggZ2l2ZW4gaW5uZXIgSFRNTC5cbiAgICogQXBwZW5kcyB0byB0aGUgY29udGFpbmVyIG5vZGUgaWYgb25lIGlzIHNwZWNpZmllZCwgb3RoZXJ3aXNlXG4gICAqIGFwcGVuZHMgdG8gYm9keS5cbiAgICpcbiAgICogQG1ldGhvZCBjcmVhdGVTcGFuXG4gICAqIEBwYXJhbSAge1N0cmluZ30gW2h0bWxdIGlubmVyIEhUTUwgZm9yIGVsZW1lbnQgY3JlYXRlZFxuICAgKiBAcmV0dXJuIHtwNS5FbGVtZW50fSBwb2ludGVyIHRvIDxhIGhyZWY9XCIjL3A1LkVsZW1lbnRcIj5wNS5FbGVtZW50PC9hPiBob2xkaW5nIGNyZWF0ZWQgbm9kZVxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2IGNsYXNzPSdub3JlbmRlcic+PGNvZGU+XG4gICAqIGNyZWF0ZVNwYW4oJ3RoaXMgaXMgc29tZSB0ZXh0Jyk7XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHZhciB0YWdzID0gWydkaXYnLCAncCcsICdzcGFuJ107XG4gIHRhZ3MuZm9yRWFjaChmdW5jdGlvbih0YWcpIHtcbiAgICB2YXIgbWV0aG9kID0gJ2NyZWF0ZScgKyB0YWcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0YWcuc2xpY2UoMSk7XG4gICAgcDUucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihodG1sKSB7XG4gICAgICB2YXIgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgZWx0LmlubmVySFRNTCA9IHR5cGVvZiBodG1sID09PSAndW5kZWZpbmVkJyA/ICcnIDogaHRtbDtcbiAgICAgIHJldHVybiBhZGRFbGVtZW50KGVsdCwgdGhpcyk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gJmx0O2ltZyZndDsgZWxlbWVudCBpbiB0aGUgRE9NIHdpdGggZ2l2ZW4gc3JjIGFuZFxuICAgKiBhbHRlcm5hdGUgdGV4dC5cbiAgICogQXBwZW5kcyB0byB0aGUgY29udGFpbmVyIG5vZGUgaWYgb25lIGlzIHNwZWNpZmllZCwgb3RoZXJ3aXNlXG4gICAqIGFwcGVuZHMgdG8gYm9keS5cbiAgICpcbiAgICogQG1ldGhvZCBjcmVhdGVJbWdcbiAgICogQHBhcmFtICB7U3RyaW5nfSBzcmMgc3JjIHBhdGggb3IgdXJsIGZvciBpbWFnZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IFthbHRdIGFsdGVybmF0ZSB0ZXh0IHRvIGJlIHVzZWQgaWYgaW1hZ2UgZG9lcyBub3QgbG9hZFxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gW3N1Y2Nlc3NDYWxsYmFja10gY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uY2UgaW1hZ2UgZGF0YSBpcyBsb2FkZWRcbiAgICogQHJldHVybiB7cDUuRWxlbWVudH0gcG9pbnRlciB0byA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4gaG9sZGluZyBjcmVhdGVkIG5vZGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiBjcmVhdGVJbWcoJ2h0dHA6Ly9wNWpzLm9yZy9pbWcvYXN0ZXJpc2stMDEucG5nJyk7XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIGNyZWF0ZUltZ1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHNyY1xuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gc3VjY2Vzc0NhbGxiYWNrXG4gICAqIEByZXR1cm4ge09iamVjdHxwNS5FbGVtZW50fVxuICAgKi9cbiAgcDUucHJvdG90eXBlLmNyZWF0ZUltZyA9IGZ1bmN0aW9uKCkge1xuICAgIHA1Ll92YWxpZGF0ZVBhcmFtZXRlcnMoJ2NyZWF0ZUltZycsIGFyZ3VtZW50cyk7XG4gICAgdmFyIGVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGVsdC5jcm9zc09yaWdpbiA9ICdBbm9ueW1vdXMnO1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBzZWxmO1xuICAgIHZhciBzZXRBdHRycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi53aWR0aCA9IGVsdC5vZmZzZXRXaWR0aCB8fCBlbHQud2lkdGg7XG4gICAgICBzZWxmLmhlaWdodCA9IGVsdC5vZmZzZXRIZWlnaHQgfHwgZWx0LmhlaWdodDtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDEgJiYgdHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgc2VsZi5mbiA9IGFyZ3NbMV07XG4gICAgICAgIHNlbGYuZm4oKTtcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPiAxICYmIHR5cGVvZiBhcmdzWzJdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNlbGYuZm4gPSBhcmdzWzJdO1xuICAgICAgICBzZWxmLmZuKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBlbHQuc3JjID0gYXJnc1swXTtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAxICYmIHR5cGVvZiBhcmdzWzFdID09PSAnc3RyaW5nJykge1xuICAgICAgZWx0LmFsdCA9IGFyZ3NbMV07XG4gICAgfVxuICAgIGVsdC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNldEF0dHJzKCk7XG4gICAgfTtcbiAgICBzZWxmID0gYWRkRWxlbWVudChlbHQsIHRoaXMpO1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuICZsdDthJmd0OyZsdDsvYSZndDsgZWxlbWVudCBpbiB0aGUgRE9NIGZvciBpbmNsdWRpbmcgYSBoeXBlcmxpbmsuXG4gICAqIEFwcGVuZHMgdG8gdGhlIGNvbnRhaW5lciBub2RlIGlmIG9uZSBpcyBzcGVjaWZpZWQsIG90aGVyd2lzZVxuICAgKiBhcHBlbmRzIHRvIGJvZHkuXG4gICAqXG4gICAqIEBtZXRob2QgY3JlYXRlQVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGhyZWYgICAgICAgdXJsIG9mIHBhZ2UgdG8gbGluayB0b1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGh0bWwgICAgICAgaW5uZXIgaHRtbCBvZiBsaW5rIGVsZW1lbnQgdG8gZGlzcGxheVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IFt0YXJnZXRdICAgdGFyZ2V0IHdoZXJlIG5ldyBsaW5rIHNob3VsZCBvcGVuLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bGQgYmUgX2JsYW5rLCBfc2VsZiwgX3BhcmVudCwgX3RvcC5cbiAgICogQHJldHVybiB7cDUuRWxlbWVudH0gcG9pbnRlciB0byA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4gaG9sZGluZyBjcmVhdGVkIG5vZGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiBjcmVhdGVBKCdodHRwOi8vcDVqcy5vcmcvJywgJ3RoaXMgaXMgYSBsaW5rJyk7XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHA1LnByb3RvdHlwZS5jcmVhdGVBID0gZnVuY3Rpb24oaHJlZiwgaHRtbCwgdGFyZ2V0KSB7XG4gICAgcDUuX3ZhbGlkYXRlUGFyYW1ldGVycygnY3JlYXRlQScsIGFyZ3VtZW50cyk7XG4gICAgdmFyIGVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBlbHQuaHJlZiA9IGhyZWY7XG4gICAgZWx0LmlubmVySFRNTCA9IGh0bWw7XG4gICAgaWYgKHRhcmdldCkgZWx0LnRhcmdldCA9IHRhcmdldDtcbiAgICByZXR1cm4gYWRkRWxlbWVudChlbHQsIHRoaXMpO1xuICB9O1xuXG4gIC8qKiBJTlBVVCAqKi9cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNsaWRlciAmbHQ7aW5wdXQmZ3Q7Jmx0Oy9pbnB1dCZndDsgZWxlbWVudCBpbiB0aGUgRE9NLlxuICAgKiBVc2UgLnNpemUoKSB0byBzZXQgdGhlIGRpc3BsYXkgbGVuZ3RoIG9mIHRoZSBzbGlkZXIuXG4gICAqIEFwcGVuZHMgdG8gdGhlIGNvbnRhaW5lciBub2RlIGlmIG9uZSBpcyBzcGVjaWZpZWQsIG90aGVyd2lzZVxuICAgKiBhcHBlbmRzIHRvIGJvZHkuXG4gICAqXG4gICAqIEBtZXRob2QgY3JlYXRlU2xpZGVyXG4gICAqIEBwYXJhbSAge051bWJlcn0gbWluIG1pbmltdW0gdmFsdWUgb2YgdGhlIHNsaWRlclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1heCBtYXhpbXVtIHZhbHVlIG9mIHRoZSBzbGlkZXJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBbdmFsdWVdIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNsaWRlclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtzdGVwXSBzdGVwIHNpemUgZm9yIGVhY2ggdGljayBvZiB0aGUgc2xpZGVyIChpZiBzdGVwIGlzIHNldCB0byAwLCB0aGUgc2xpZGVyIHdpbGwgbW92ZSBjb250aW51b3VzbHkgZnJvbSB0aGUgbWluaW11bSB0byB0aGUgbWF4aW11bSB2YWx1ZSlcbiAgICogQHJldHVybiB7cDUuRWxlbWVudH0gcG9pbnRlciB0byA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4gaG9sZGluZyBjcmVhdGVkIG5vZGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdj48Y29kZT5cbiAgICogdmFyIHNsaWRlcjtcbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgc2xpZGVyID0gY3JlYXRlU2xpZGVyKDAsIDI1NSwgMTAwKTtcbiAgICogICBzbGlkZXIucG9zaXRpb24oMTAsIDEwKTtcbiAgICogICBzbGlkZXIuc3R5bGUoJ3dpZHRoJywgJzgwcHgnKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBkcmF3KCkge1xuICAgKiAgIHZhciB2YWwgPSBzbGlkZXIudmFsdWUoKTtcbiAgICogICBiYWNrZ3JvdW5kKHZhbCk7XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKlxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgc2xpZGVyO1xuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICBjb2xvck1vZGUoSFNCKTtcbiAgICogICBzbGlkZXIgPSBjcmVhdGVTbGlkZXIoMCwgMzYwLCA2MCwgNDApO1xuICAgKiAgIHNsaWRlci5wb3NpdGlvbigxMCwgMTApO1xuICAgKiAgIHNsaWRlci5zdHlsZSgnd2lkdGgnLCAnODBweCcpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAqICAgdmFyIHZhbCA9IHNsaWRlci52YWx1ZSgpO1xuICAgKiAgIGJhY2tncm91bmQodmFsLCAxMDAsIDEwMCwgMSk7XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgcDUucHJvdG90eXBlLmNyZWF0ZVNsaWRlciA9IGZ1bmN0aW9uKG1pbiwgbWF4LCB2YWx1ZSwgc3RlcCkge1xuICAgIHA1Ll92YWxpZGF0ZVBhcmFtZXRlcnMoJ2NyZWF0ZVNsaWRlcicsIGFyZ3VtZW50cyk7XG4gICAgdmFyIGVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgZWx0LnR5cGUgPSAncmFuZ2UnO1xuICAgIGVsdC5taW4gPSBtaW47XG4gICAgZWx0Lm1heCA9IG1heDtcbiAgICBpZiAoc3RlcCA9PT0gMCkge1xuICAgICAgZWx0LnN0ZXAgPSAwLjAwMDAwMDAwMDAwMDAwMDAwMTsgLy8gc21hbGxlc3QgdmFsaWQgc3RlcFxuICAgIH0gZWxzZSBpZiAoc3RlcCkge1xuICAgICAgZWx0LnN0ZXAgPSBzdGVwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgZWx0LnZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIGFkZEVsZW1lbnQoZWx0LCB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhICZsdDtidXR0b24mZ3Q7Jmx0Oy9idXR0b24mZ3Q7IGVsZW1lbnQgaW4gdGhlIERPTS5cbiAgICogVXNlIC5zaXplKCkgdG8gc2V0IHRoZSBkaXNwbGF5IHNpemUgb2YgdGhlIGJ1dHRvbi5cbiAgICogVXNlIC5tb3VzZVByZXNzZWQoKSB0byBzcGVjaWZ5IGJlaGF2aW9yIG9uIHByZXNzLlxuICAgKiBBcHBlbmRzIHRvIHRoZSBjb250YWluZXIgbm9kZSBpZiBvbmUgaXMgc3BlY2lmaWVkLCBvdGhlcndpc2VcbiAgICogYXBwZW5kcyB0byBib2R5LlxuICAgKlxuICAgKiBAbWV0aG9kIGNyZWF0ZUJ1dHRvblxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGxhYmVsIGxhYmVsIGRpc3BsYXllZCBvbiB0aGUgYnV0dG9uXG4gICAqIEBwYXJhbSAge1N0cmluZ30gW3ZhbHVlXSB2YWx1ZSBvZiB0aGUgYnV0dG9uXG4gICAqIEByZXR1cm4ge3A1LkVsZW1lbnR9IHBvaW50ZXIgdG8gPGEgaHJlZj1cIiMvcDUuRWxlbWVudFwiPnA1LkVsZW1lbnQ8L2E+IGhvbGRpbmcgY3JlYXRlZCBub2RlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogdmFyIGJ1dHRvbjtcbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgY3JlYXRlQ2FudmFzKDEwMCwgMTAwKTtcbiAgICogICBiYWNrZ3JvdW5kKDApO1xuICAgKiAgIGJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbignY2xpY2sgbWUnKTtcbiAgICogICBidXR0b24ucG9zaXRpb24oMTksIDE5KTtcbiAgICogICBidXR0b24ubW91c2VQcmVzc2VkKGNoYW5nZUJHKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBjaGFuZ2VCRygpIHtcbiAgICogICB2YXIgdmFsID0gcmFuZG9tKDI1NSk7XG4gICAqICAgYmFja2dyb3VuZCh2YWwpO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHA1LnByb3RvdHlwZS5jcmVhdGVCdXR0b24gPSBmdW5jdGlvbihsYWJlbCwgdmFsdWUpIHtcbiAgICBwNS5fdmFsaWRhdGVQYXJhbWV0ZXJzKCdjcmVhdGVCdXR0b24nLCBhcmd1bWVudHMpO1xuICAgIHZhciBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBlbHQuaW5uZXJIVE1MID0gbGFiZWw7XG4gICAgaWYgKHZhbHVlKSBlbHQudmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gYWRkRWxlbWVudChlbHQsIHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2hlY2tib3ggJmx0O2lucHV0Jmd0OyZsdDsvaW5wdXQmZ3Q7IGVsZW1lbnQgaW4gdGhlIERPTS5cbiAgICogQ2FsbGluZyAuY2hlY2tlZCgpIG9uIGEgY2hlY2tib3ggcmV0dXJucyBpZiBpdCBpcyBjaGVja2VkIG9yIG5vdFxuICAgKlxuICAgKiBAbWV0aG9kIGNyZWF0ZUNoZWNrYm94XG4gICAqIEBwYXJhbSAge1N0cmluZ30gW2xhYmVsXSBsYWJlbCBkaXNwbGF5ZWQgYWZ0ZXIgY2hlY2tib3hcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW3ZhbHVlXSB2YWx1ZSBvZiB0aGUgY2hlY2tib3g7IGNoZWNrZWQgaXMgdHJ1ZSwgdW5jaGVja2VkIGlzIGZhbHNlXG4gICAqIEByZXR1cm4ge3A1LkVsZW1lbnR9IHBvaW50ZXIgdG8gPGEgaHJlZj1cIiMvcDUuRWxlbWVudFwiPnA1LkVsZW1lbnQ8L2E+IGhvbGRpbmcgY3JlYXRlZCBub2RlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogdmFyIGNoZWNrYm94O1xuICAgKlxuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICBjaGVja2JveCA9IGNyZWF0ZUNoZWNrYm94KCdsYWJlbCcsIGZhbHNlKTtcbiAgICogICBjaGVja2JveC5jaGFuZ2VkKG15Q2hlY2tlZEV2ZW50KTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBteUNoZWNrZWRFdmVudCgpIHtcbiAgICogICBpZiAodGhpcy5jaGVja2VkKCkpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyEnKTtcbiAgICogICB9IGVsc2Uge1xuICAgKiAgICAgY29uc29sZS5sb2coJ1VuY2hlY2tpbmchJyk7XG4gICAqICAgfVxuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHA1LnByb3RvdHlwZS5jcmVhdGVDaGVja2JveCA9IGZ1bmN0aW9uKCkge1xuICAgIHA1Ll92YWxpZGF0ZVBhcmFtZXRlcnMoJ2NyZWF0ZUNoZWNrYm94JywgYXJndW1lbnRzKTtcbiAgICB2YXIgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjaGVja2JveC50eXBlID0gJ2NoZWNrYm94JztcbiAgICBlbHQuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgIC8vY2hlY2tib3ggbXVzdCBiZSB3cmFwcGVkIGluIHA1LkVsZW1lbnQgYmVmb3JlIGxhYmVsIHNvIHRoYXQgbGFiZWwgYXBwZWFycyBhZnRlclxuICAgIHZhciBzZWxmID0gYWRkRWxlbWVudChlbHQsIHRoaXMpO1xuICAgIHNlbGYuY2hlY2tlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNiID0gc2VsZi5lbHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF07XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gY2IuY2hlY2tlZDtcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHNbMF0pIHtcbiAgICAgICAgICBjYi5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYi5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG4gICAgdGhpcy52YWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgc2VsZi52YWx1ZSA9IHZhbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgaWYgKGFyZ3VtZW50c1swXSkge1xuICAgICAgdmFyIHJhbiA9IE1hdGgucmFuZG9tKClcbiAgICAgICAgLnRvU3RyaW5nKDM2KVxuICAgICAgICAuc2xpY2UoMik7XG4gICAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgY2hlY2tib3guc2V0QXR0cmlidXRlKCdpZCcsIHJhbik7XG4gICAgICBsYWJlbC5odG1sRm9yID0gcmFuO1xuICAgICAgc2VsZi52YWx1ZShhcmd1bWVudHNbMF0pO1xuICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYXJndW1lbnRzWzBdKSk7XG4gICAgICBlbHQuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIH1cbiAgICBpZiAoYXJndW1lbnRzWzFdKSB7XG4gICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkcm9wZG93biBtZW51ICZsdDtzZWxlY3QmZ3Q7Jmx0Oy9zZWxlY3QmZ3Q7IGVsZW1lbnQgaW4gdGhlIERPTS5cbiAgICogSXQgYWxzbyBoZWxwcyB0byBhc3NpZ24gc2VsZWN0LWJveCBtZXRob2RzIHRvIDxhIGhyZWY9XCIjL3A1LkVsZW1lbnRcIj5wNS5FbGVtZW50PC9hPiB3aGVuIHNlbGVjdGluZyBleGlzdGluZyBzZWxlY3QgYm94XG4gICAqIEBtZXRob2QgY3JlYXRlU2VsZWN0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW211bHRpcGxlXSB0cnVlIGlmIGRyb3Bkb3duIHNob3VsZCBzdXBwb3J0IG11bHRpcGxlIHNlbGVjdGlvbnNcbiAgICogQHJldHVybiB7cDUuRWxlbWVudH1cbiAgICogQGV4YW1wbGVcbiAgICogPGRpdj48Y29kZT5cbiAgICogdmFyIHNlbDtcbiAgICpcbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIHNlbCA9IGNyZWF0ZVNlbGVjdCgpO1xuICAgKiAgIHNlbC5wb3NpdGlvbigxMCwgMTApO1xuICAgKiAgIHNlbC5vcHRpb24oJ3BlYXInKTtcbiAgICogICBzZWwub3B0aW9uKCdraXdpJyk7XG4gICAqICAgc2VsLm9wdGlvbignZ3JhcGUnKTtcbiAgICogICBzZWwuY2hhbmdlZChteVNlbGVjdEV2ZW50KTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBteVNlbGVjdEV2ZW50KCkge1xuICAgKiAgIHZhciBpdGVtID0gc2VsLnZhbHVlKCk7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIHRleHQoJ0l0IGlzIGEgJyArIGl0ZW0gKyAnIScsIDUwLCA1MCk7XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgLyoqXG4gICAqIEBtZXRob2QgY3JlYXRlU2VsZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBleGlzdGluZyBET00gc2VsZWN0IGVsZW1lbnRcbiAgICogQHJldHVybiB7cDUuRWxlbWVudH1cbiAgICovXG5cbiAgcDUucHJvdG90eXBlLmNyZWF0ZVNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgIHA1Ll92YWxpZGF0ZVBhcmFtZXRlcnMoJ2NyZWF0ZVNlbGVjdCcsIGFyZ3VtZW50cyk7XG4gICAgdmFyIGVsdCwgc2VsZjtcbiAgICB2YXIgYXJnID0gYXJndW1lbnRzWzBdO1xuICAgIGlmICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcuZWx0Lm5vZGVOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgc2VsZiA9IGFyZztcbiAgICAgIGVsdCA9IHRoaXMuZWx0ID0gYXJnLmVsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgICBpZiAoYXJnICYmIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJykge1xuICAgICAgICBlbHQuc2V0QXR0cmlidXRlKCdtdWx0aXBsZScsICd0cnVlJyk7XG4gICAgICB9XG4gICAgICBzZWxmID0gYWRkRWxlbWVudChlbHQsIHRoaXMpO1xuICAgIH1cbiAgICBzZWxmLm9wdGlvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgaW5kZXg7XG4gICAgICAvL3NlZSBpZiB0aGVyZSBpcyBhbHJlYWR5IGFuIG9wdGlvbiB3aXRoIHRoaXMgbmFtZVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmVsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5lbHRbaV0uaW5uZXJIVE1MID09PSBuYW1lKSB7XG4gICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL2lmIHRoZXJlIGlzIGFuIG9wdGlvbiB3aXRoIHRoaXMgbmFtZSB3ZSB3aWxsIG1vZGlmeSBpdFxuICAgICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy9pZiB0aGUgdXNlciBwYXNzZWQgaW4gZmFsc2UgdGhlbiBkZWxldGUgdGhhdCBvcHRpb25cbiAgICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgIHRoaXMuZWx0LnJlbW92ZShpbmRleCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9vdGhlcndpc2UgaWYgdGhlIG5hbWUgYW5kIHZhbHVlIGFyZSB0aGUgc2FtZSB0aGVuIGNoYW5nZSBib3RoXG4gICAgICAgICAgaWYgKHRoaXMuZWx0W2luZGV4XS5pbm5lckhUTUwgPT09IHRoaXMuZWx0W2luZGV4XS52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5lbHRbaW5kZXhdLmlubmVySFRNTCA9IHRoaXMuZWx0W2luZGV4XS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgLy9vdGhlcndpc2UganVzdCBjaGFuZ2UgdGhlIHZhbHVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWx0W2luZGV4XS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9pZiBpdCBkb2Vzbid0IGV4aXN0IG1ha2UgaXRcbiAgICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHQuaW5uZXJIVE1MID0gbmFtZTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSBvcHQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgZWxzZSBvcHQudmFsdWUgPSBuYW1lO1xuICAgICAgICBlbHQuYXBwZW5kQ2hpbGQob3B0KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNlbGYuc2VsZWN0ZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGFyciA9IFtdLFxuICAgICAgICBpO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmVsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh2YWx1ZS50b1N0cmluZygpID09PSB0aGlzLmVsdFtpXS52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5lbHQuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuZWx0LmdldEF0dHJpYnV0ZSgnbXVsdGlwbGUnKSkge1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmVsdC5zZWxlY3RlZE9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyci5wdXNoKHRoaXMuZWx0LnNlbGVjdGVkT3B0aW9uc1tpXS52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZWx0LnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHJhZGlvIGJ1dHRvbiAmbHQ7aW5wdXQmZ3Q7Jmx0Oy9pbnB1dCZndDsgZWxlbWVudCBpbiB0aGUgRE9NLlxuICAgKiBUaGUgLm9wdGlvbigpIG1ldGhvZCBjYW4gYmUgdXNlZCB0byBzZXQgb3B0aW9ucyBmb3IgdGhlIHJhZGlvIGFmdGVyIGl0IGlzXG4gICAqIGNyZWF0ZWQuIFRoZSAudmFsdWUoKSBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBvcHRpb24uXG4gICAqXG4gICAqIEBtZXRob2QgY3JlYXRlUmFkaW9cbiAgICogQHBhcmFtICB7U3RyaW5nfSBbZGl2SWRdIHRoZSBpZCBhbmQgbmFtZSBvZiB0aGUgY3JlYXRlZCBkaXYgYW5kIGlucHV0IGZpZWxkIHJlc3BlY3RpdmVseVxuICAgKiBAcmV0dXJuIHtwNS5FbGVtZW50fSBwb2ludGVyIHRvIDxhIGhyZWY9XCIjL3A1LkVsZW1lbnRcIj5wNS5FbGVtZW50PC9hPiBob2xkaW5nIGNyZWF0ZWQgbm9kZVxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgcmFkaW87XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIHJhZGlvID0gY3JlYXRlUmFkaW8oKTtcbiAgICogICByYWRpby5vcHRpb24oJ2JsYWNrJyk7XG4gICAqICAgcmFkaW8ub3B0aW9uKCd3aGl0ZScpO1xuICAgKiAgIHJhZGlvLm9wdGlvbignZ3JheScpO1xuICAgKiAgIHJhZGlvLnN0eWxlKCd3aWR0aCcsICc2MHB4Jyk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgZmlsbCgyNTUsIDAsIDApO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAqICAgdmFyIHZhbCA9IHJhZGlvLnZhbHVlKCk7XG4gICAqICAgYmFja2dyb3VuZCh2YWwpO1xuICAgKiAgIHRleHQodmFsLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICogPGRpdj48Y29kZT5cbiAgICogdmFyIHJhZGlvO1xuICAgKlxuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICByYWRpbyA9IGNyZWF0ZVJhZGlvKCk7XG4gICAqICAgcmFkaW8ub3B0aW9uKCdhcHBsZScsIDEpO1xuICAgKiAgIHJhZGlvLm9wdGlvbignYnJlYWQnLCAyKTtcbiAgICogICByYWRpby5vcHRpb24oJ2p1aWNlJywgMyk7XG4gICAqICAgcmFkaW8uc3R5bGUoJ3dpZHRoJywgJzYwcHgnKTtcbiAgICogICB0ZXh0QWxpZ24oQ0VOVEVSKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBkcmF3KCkge1xuICAgKiAgIGJhY2tncm91bmQoMjAwKTtcbiAgICogICB2YXIgdmFsID0gcmFkaW8udmFsdWUoKTtcbiAgICogICBpZiAodmFsKSB7XG4gICAqICAgICB0ZXh0KCdpdGVtIGNvc3QgaXMgJCcgKyB2YWwsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAqICAgfVxuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHA1LnByb3RvdHlwZS5jcmVhdGVSYWRpbyA9IGZ1bmN0aW9uKGV4aXN0aW5nX3JhZGlvcykge1xuICAgIHA1Ll92YWxpZGF0ZVBhcmFtZXRlcnMoJ2NyZWF0ZVJhZGlvJywgYXJndW1lbnRzKTtcbiAgICAvLyBkbyBzb21lIHByZXAgYnkgY291bnRpbmcgbnVtYmVyIG9mIHJhZGlvcyBvbiBwYWdlXG4gICAgdmFyIHJhZGlvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9cmFkaW9dJyk7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICBpZiAocmFkaW9zLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBsZW5ndGggPSByYWRpb3MubGVuZ3RoO1xuICAgICAgdmFyIHByZXYgPSByYWRpb3NbMF0ubmFtZTtcbiAgICAgIHZhciBjdXJyZW50ID0gcmFkaW9zWzFdLm5hbWU7XG4gICAgICBjb3VudCA9IDE7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGN1cnJlbnQgPSByYWRpb3NbaV0ubmFtZTtcbiAgICAgICAgaWYgKHByZXYgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHByZXYgPSBjdXJyZW50O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmFkaW9zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY291bnQgPSAxO1xuICAgIH1cbiAgICAvLyBzZWUgaWYgd2UgZ290IGFuIGV4aXN0aW5nIHNldCBvZiByYWRpb3MgZnJvbSBjYWxsZWVcbiAgICB2YXIgZWx0LCBzZWxmO1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmdfcmFkaW9zID09PSAnb2JqZWN0Jykge1xuICAgICAgLy8gdXNlIGV4aXN0aW5nIGVsZW1lbnRzXG4gICAgICBzZWxmID0gZXhpc3RpbmdfcmFkaW9zO1xuICAgICAgZWx0ID0gdGhpcy5lbHQgPSBleGlzdGluZ19yYWRpb3MuZWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjcmVhdGUgYSBzZXQgb2YgcmFkaW8gYnV0dG9uc1xuICAgICAgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzZWxmID0gYWRkRWxlbWVudChlbHQsIHRoaXMpO1xuICAgIH1cbiAgICAvLyBzZXR1cCBtZW1iZXIgZnVuY3Rpb25zXG4gICAgc2VsZi5fZ2V0SW5wdXRDaGlsZHJlbkFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5lbHQuY2hpbGRyZW4pLmZpbHRlcihmdW5jdGlvbihjKSB7XG4gICAgICAgIHJldHVybiBjLnRhZ05hbWUgPT09ICdJTlBVVCc7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHRpbWVzID0gLTE7XG4gICAgc2VsZi5vcHRpb24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICBvcHQudHlwZSA9ICdyYWRpbyc7XG4gICAgICBvcHQuaW5uZXJIVE1MID0gbmFtZTtcbiAgICAgIGlmICh2YWx1ZSkgb3B0LnZhbHVlID0gdmFsdWU7XG4gICAgICBlbHNlIG9wdC52YWx1ZSA9IG5hbWU7XG4gICAgICBvcHQuc2V0QXR0cmlidXRlKCduYW1lJywgJ2RlZmF1bHRyYWRpbycgKyBjb3VudCk7XG4gICAgICBlbHQuYXBwZW5kQ2hpbGQob3B0KTtcbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIHRpbWVzKys7XG4gICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIG9wdC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2RlZmF1bHRyYWRpbycgKyBjb3VudCArICctJyArIHRpbWVzKTtcbiAgICAgICAgbGFiZWwuaHRtbEZvciA9ICdkZWZhdWx0cmFkaW8nICsgY291bnQgKyAnLScgKyB0aW1lcztcbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmFtZSkpO1xuICAgICAgICBlbHQuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdDtcbiAgICB9O1xuICAgIHNlbGYuc2VsZWN0ZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGk7XG4gICAgICB2YXIgaW5wdXRDaGlsZHJlbiA9IHNlbGYuX2dldElucHV0Q2hpbGRyZW5BcnJheSgpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbnB1dENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGlucHV0Q2hpbGRyZW5baV0udmFsdWUgPT09IHZhbHVlKSBpbnB1dENoaWxkcmVuW2ldLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGlucHV0Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoaW5wdXRDaGlsZHJlbltpXS5jaGVja2VkID09PSB0cnVlKSByZXR1cm4gaW5wdXRDaGlsZHJlbltpXS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgc2VsZi52YWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBpbnB1dENoaWxkcmVuID0gc2VsZi5fZ2V0SW5wdXRDaGlsZHJlbkFycmF5KCk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGlucHV0Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoaW5wdXRDaGlsZHJlbltpXS52YWx1ZSA9PT0gdmFsdWUpIGlucHV0Q2hpbGRyZW5baV0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXRDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChpbnB1dENoaWxkcmVuW2ldLmNoZWNrZWQgPT09IHRydWUpIHJldHVybiBpbnB1dENoaWxkcmVuW2ldLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY29sb3JQaWNrZXIgZWxlbWVudCBpbiB0aGUgRE9NIGZvciBjb2xvciBpbnB1dC5cbiAgICogVGhlIC52YWx1ZSgpIG1ldGhvZCB3aWxsIHJldHVybiBhIGhleCBzdHJpbmcgKCNycmdnYmIpIG9mIHRoZSBjb2xvci5cbiAgICogVGhlIC5jb2xvcigpIG1ldGhvZCB3aWxsIHJldHVybiBhIHA1LkNvbG9yIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNob3NlbiBjb2xvci5cbiAgICpcbiAgICogQG1ldGhvZCBjcmVhdGVDb2xvclBpY2tlclxuICAgKiBAcGFyYW0ge1N0cmluZ3xwNS5Db2xvcn0gW3ZhbHVlXSBkZWZhdWx0IGNvbG9yIG9mIGVsZW1lbnRcbiAgICogQHJldHVybiB7cDUuRWxlbWVudH0gcG9pbnRlciB0byA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4gaG9sZGluZyBjcmVhdGVkIG5vZGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdj5cbiAgICogPGNvZGU+XG4gICAqIHZhciBpbnAxLCBpbnAyO1xuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICBjcmVhdGVDYW52YXMoMTAwLCAxMDApO1xuICAgKiAgIGJhY2tncm91bmQoJ2dyZXknKTtcbiAgICogICBpbnAxID0gY3JlYXRlQ29sb3JQaWNrZXIoJyNmZjAwMDAnKTtcbiAgICogICBpbnAyID0gY3JlYXRlQ29sb3JQaWNrZXIoY29sb3IoJ3llbGxvdycpKTtcbiAgICogICBpbnAxLmlucHV0KHNldFNoYWRlMSk7XG4gICAqICAgaW5wMi5pbnB1dChzZXRTaGFkZTIpO1xuICAgKiAgIHNldE1pZFNoYWRlKCk7XG4gICAqIH1cbiAgICpcbiAgICogZnVuY3Rpb24gc2V0TWlkU2hhZGUoKSB7XG4gICAqICAgLy8gRmluZGluZyBhIHNoYWRlIGJldHdlZW4gdGhlIHR3b1xuICAgKiAgIHZhciBjb21tb25TaGFkZSA9IGxlcnBDb2xvcihpbnAxLmNvbG9yKCksIGlucDIuY29sb3IoKSwgMC41KTtcbiAgICogICBmaWxsKGNvbW1vblNoYWRlKTtcbiAgICogICByZWN0KDIwLCAyMCwgNjAsIDYwKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBzZXRTaGFkZTEoKSB7XG4gICAqICAgc2V0TWlkU2hhZGUoKTtcbiAgICogICBjb25zb2xlLmxvZygnWW91IGFyZSBjaG9vc2luZyBzaGFkZSAxIHRvIGJlIDogJywgdGhpcy52YWx1ZSgpKTtcbiAgICogfVxuICAgKiBmdW5jdGlvbiBzZXRTaGFkZTIoKSB7XG4gICAqICAgc2V0TWlkU2hhZGUoKTtcbiAgICogICBjb25zb2xlLmxvZygnWW91IGFyZSBjaG9vc2luZyBzaGFkZSAyIHRvIGJlIDogJywgdGhpcy52YWx1ZSgpKTtcbiAgICogfVxuICAgKiA8L2NvZGU+XG4gICAqIDwvZGl2PlxuICAgKi9cbiAgcDUucHJvdG90eXBlLmNyZWF0ZUNvbG9yUGlja2VyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBwNS5fdmFsaWRhdGVQYXJhbWV0ZXJzKCdjcmVhdGVDb2xvclBpY2tlcicsIGFyZ3VtZW50cyk7XG4gICAgdmFyIGVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgdmFyIHNlbGY7XG4gICAgZWx0LnR5cGUgPSAnY29sb3InO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgcDUuQ29sb3IpIHtcbiAgICAgICAgZWx0LnZhbHVlID0gdmFsdWUudG9TdHJpbmcoJyNycmdnYmInKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHA1LnByb3RvdHlwZS5fY29sb3JNb2RlID0gJ3JnYic7XG4gICAgICAgIHA1LnByb3RvdHlwZS5fY29sb3JNYXhlcyA9IHtcbiAgICAgICAgICByZ2I6IFsyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgIGhzYjogWzM2MCwgMTAwLCAxMDAsIDFdLFxuICAgICAgICAgIGhzbDogWzM2MCwgMTAwLCAxMDAsIDFdXG4gICAgICAgIH07XG4gICAgICAgIGVsdC52YWx1ZSA9IHA1LnByb3RvdHlwZS5jb2xvcih2YWx1ZSkudG9TdHJpbmcoJyNycmdnYmInKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWx0LnZhbHVlID0gJyMwMDAwMDAnO1xuICAgIH1cbiAgICBzZWxmID0gYWRkRWxlbWVudChlbHQsIHRoaXMpO1xuICAgIC8vIE1ldGhvZCB0byByZXR1cm4gYSBwNS5Db2xvciBvYmplY3QgZm9yIHRoZSBnaXZlbiBjb2xvci5cbiAgICBzZWxmLmNvbG9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodmFsdWUubW9kZSkge1xuICAgICAgICBwNS5wcm90b3R5cGUuX2NvbG9yTW9kZSA9IHZhbHVlLm1vZGU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUubWF4ZXMpIHtcbiAgICAgICAgcDUucHJvdG90eXBlLl9jb2xvck1heGVzID0gdmFsdWUubWF4ZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gcDUucHJvdG90eXBlLmNvbG9yKHRoaXMuZWx0LnZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuICZsdDtpbnB1dCZndDsmbHQ7L2lucHV0Jmd0OyBlbGVtZW50IGluIHRoZSBET00gZm9yIHRleHQgaW5wdXQuXG4gICAqIFVzZSAuPGEgaHJlZj1cIiMvcDUuRWxlbWVudC9zaXplXCI+c2l6ZSgpPC9hPiB0byBzZXQgdGhlIGRpc3BsYXkgbGVuZ3RoIG9mIHRoZSBib3guXG4gICAqIEFwcGVuZHMgdG8gdGhlIGNvbnRhaW5lciBub2RlIGlmIG9uZSBpcyBzcGVjaWZpZWQsIG90aGVyd2lzZVxuICAgKiBhcHBlbmRzIHRvIGJvZHkuXG4gICAqXG4gICAqIEBtZXRob2QgY3JlYXRlSW5wdXRcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt2YWx1ZV0gZGVmYXVsdCB2YWx1ZSBvZiB0aGUgaW5wdXQgYm94XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdHlwZV0gdHlwZSBvZiB0ZXh0LCBpZSB0ZXh0LCBwYXNzd29yZCBldGMuIERlZmF1bHRzIHRvIHRleHRcbiAgICogQHJldHVybiB7cDUuRWxlbWVudH0gcG9pbnRlciB0byA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4gaG9sZGluZyBjcmVhdGVkIG5vZGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICB2YXIgaW5wID0gY3JlYXRlSW5wdXQoJycpO1xuICAgKiAgIGlucC5pbnB1dChteUlucHV0RXZlbnQpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIG15SW5wdXRFdmVudCgpIHtcbiAgICogICBjb25zb2xlLmxvZygneW91IGFyZSB0eXBpbmc6ICcsIHRoaXMudmFsdWUoKSk7XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgcDUucHJvdG90eXBlLmNyZWF0ZUlucHV0ID0gZnVuY3Rpb24odmFsdWUsIHR5cGUpIHtcbiAgICBwNS5fdmFsaWRhdGVQYXJhbWV0ZXJzKCdjcmVhdGVJbnB1dCcsIGFyZ3VtZW50cyk7XG4gICAgdmFyIGVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgZWx0LnR5cGUgPSB0eXBlID8gdHlwZSA6ICd0ZXh0JztcbiAgICBpZiAodmFsdWUpIGVsdC52YWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybiBhZGRFbGVtZW50KGVsdCwgdGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gJmx0O2lucHV0Jmd0OyZsdDsvaW5wdXQmZ3Q7IGVsZW1lbnQgaW4gdGhlIERPTSBvZiB0eXBlICdmaWxlJy5cbiAgICogVGhpcyBhbGxvd3MgdXNlcnMgdG8gc2VsZWN0IGxvY2FsIGZpbGVzIGZvciB1c2UgaW4gYSBza2V0Y2guXG4gICAqXG4gICAqIEBtZXRob2QgY3JlYXRlRmlsZUlucHV0XG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciB3aGVuIGEgZmlsZSBsb2FkZWRcbiAgICogQHBhcmFtICB7U3RyaW5nfSBbbXVsdGlwbGVdIG9wdGlvbmFsIHRvIGFsbG93IG11bHRpcGxlIGZpbGVzIHNlbGVjdGVkXG4gICAqIEByZXR1cm4ge3A1LkVsZW1lbnR9IHBvaW50ZXIgdG8gPGEgaHJlZj1cIiMvcDUuRWxlbWVudFwiPnA1LkVsZW1lbnQ8L2E+IGhvbGRpbmcgY3JlYXRlZCBET00gZWxlbWVudFxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiBsZXQgaW5wdXQ7XG4gICAqIGxldCBpbWc7XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGlucHV0ID0gY3JlYXRlRmlsZUlucHV0KGhhbmRsZUZpbGUpO1xuICAgKiAgIGlucHV0LnBvc2l0aW9uKDAsIDApO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAqICAgYmFja2dyb3VuZCgyNTUpO1xuICAgKiAgIGlmIChpbWcpIHtcbiAgICogICAgIGltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAqICAgfVxuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIGhhbmRsZUZpbGUoZmlsZSkge1xuICAgKiAgIHByaW50KGZpbGUpO1xuICAgKiAgIGlmIChmaWxlLnR5cGUgPT09ICdpbWFnZScpIHtcbiAgICogICAgIGltZyA9IGNyZWF0ZUltZyhmaWxlLmRhdGEpO1xuICAgKiAgICAgaW1nLmhpZGUoKTtcbiAgICogICB9IGVsc2Uge1xuICAgKiAgICAgaW1nID0gbnVsbDtcbiAgICogICB9XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgcDUucHJvdG90eXBlLmNyZWF0ZUZpbGVJbnB1dCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBtdWx0aXBsZSkge1xuICAgIHA1Ll92YWxpZGF0ZVBhcmFtZXRlcnMoJ2NyZWF0ZUZpbGVJbnB1dCcsIGFyZ3VtZW50cyk7XG4gICAgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIHdoZW4gYSBmaWxlIGlzIHNlbGVjdGVkXG4gICAgLy8gV2UncmUgc2ltcGxpZnlpbmcgbGlmZSBhbmQgYXNzdW1pbmcgdGhhdCB3ZSBhbHdheXNcbiAgICAvLyB3YW50IHRvIGxvYWQgZXZlcnkgc2VsZWN0ZWQgZmlsZVxuICAgIGZ1bmN0aW9uIGhhbmRsZUZpbGVTZWxlY3QoZXZ0KSB7XG4gICAgICAvLyBUaGVzZSBhcmUgdGhlIGZpbGVzXG4gICAgICB2YXIgZmlsZXMgPSBldnQudGFyZ2V0LmZpbGVzO1xuICAgICAgLy8gTG9hZCBlYWNoIG9uZSBhbmQgdHJpZ2dlciBhIGNhbGxiYWNrXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBmID0gZmlsZXNbaV07XG4gICAgICAgIHA1LkZpbGUuX2xvYWQoZiwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBJcyB0aGUgZmlsZSBzdHVmZiBzdXBwb3J0ZWQ/XG4gICAgaWYgKHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYikge1xuICAgICAgLy8gWXVwLCB3ZSdyZSBvayBhbmQgbWFrZSBhbiBpbnB1dCBmaWxlIHNlbGVjdG9yXG4gICAgICB2YXIgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgIGVsdC50eXBlID0gJ2ZpbGUnO1xuXG4gICAgICAvLyBJZiB3ZSBnZXQgYSBzZWNvbmQgYXJndW1lbnQgdGhhdCBldmFsdWF0ZXMgdG8gdHJ1ZVxuICAgICAgLy8gdGhlbiB3ZSBhcmUgbG9va2luZyBmb3IgbXVsdGlwbGUgZmlsZXNcbiAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAvLyBBbnl0aGluZyBnZXRzIHRoZSBqb2IgZG9uZVxuICAgICAgICBlbHQubXVsdGlwbGUgPSAnbXVsdGlwbGUnO1xuICAgICAgfVxuXG4gICAgICAvLyBOb3cgbGV0J3MgaGFuZGxlIHdoZW4gYSBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgZWx0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZUZpbGVTZWxlY3QsIGZhbHNlKTtcbiAgICAgIHJldHVybiBhZGRFbGVtZW50KGVsdCwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAnVGhlIEZpbGUgQVBJcyBhcmUgbm90IGZ1bGx5IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuIENhbm5vdCBjcmVhdGUgZWxlbWVudC4nXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICAvKiogVklERU8gU1RVRkYgKiovXG5cbiAgZnVuY3Rpb24gY3JlYXRlTWVkaWEocEluc3QsIHR5cGUsIHNyYywgY2FsbGJhY2spIHtcbiAgICB2YXIgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICAgIC8vIGFsbG93IHNyYyB0byBiZSBlbXB0eVxuICAgIHNyYyA9IHNyYyB8fCAnJztcbiAgICBpZiAodHlwZW9mIHNyYyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNyYyA9IFtzcmNdO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNyYy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuICAgICAgc291cmNlLnNyYyA9IHNyY1tpXTtcbiAgICAgIGVsdC5hcHBlbmRDaGlsZChzb3VyY2UpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGNhbGxiYWNrSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICBlbHQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBjYWxsYmFja0hhbmRsZXIpO1xuICAgICAgfTtcbiAgICAgIGVsdC5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIGNhbGxiYWNrSGFuZGxlcik7XG4gICAgfVxuXG4gICAgdmFyIGMgPSBhZGRFbGVtZW50KGVsdCwgcEluc3QsIHRydWUpO1xuICAgIGMubG9hZGVkbWV0YWRhdGEgPSBmYWxzZTtcbiAgICAvLyBzZXQgd2lkdGggYW5kIGhlaWdodCBvbmxvYWQgbWV0YWRhdGFcbiAgICBlbHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBmdW5jdGlvbigpIHtcbiAgICAgIGMud2lkdGggPSBlbHQudmlkZW9XaWR0aDtcbiAgICAgIGMuaGVpZ2h0ID0gZWx0LnZpZGVvSGVpZ2h0O1xuICAgICAgLy9jLmVsdC5wbGF5YmFja1JhdGUgPSBzO1xuICAgICAgLy8gc2V0IGVsdCB3aWR0aCBhbmQgaGVpZ2h0IGlmIG5vdCBzZXRcbiAgICAgIGlmIChjLmVsdC53aWR0aCA9PT0gMCkgYy5lbHQud2lkdGggPSBlbHQudmlkZW9XaWR0aDtcbiAgICAgIGlmIChjLmVsdC5oZWlnaHQgPT09IDApIGMuZWx0LmhlaWdodCA9IGVsdC52aWRlb0hlaWdodDtcbiAgICAgIGlmIChjLnByZXNldFBsYXliYWNrUmF0ZSkge1xuICAgICAgICBjLmVsdC5wbGF5YmFja1JhdGUgPSBjLnByZXNldFBsYXliYWNrUmF0ZTtcbiAgICAgICAgZGVsZXRlIGMucHJlc2V0UGxheWJhY2tSYXRlO1xuICAgICAgfVxuICAgICAgYy5sb2FkZWRtZXRhZGF0YSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBIVE1MNSAmbHQ7dmlkZW8mZ3Q7IGVsZW1lbnQgaW4gdGhlIERPTSBmb3Igc2ltcGxlIHBsYXliYWNrXG4gICAqIG9mIGF1ZGlvL3ZpZGVvLiBTaG93biBieSBkZWZhdWx0LCBjYW4gYmUgaGlkZGVuIHdpdGggLjxhIGhyZWY9XCIjL3A1LkVsZW1lbnQvaGlkZVwiPmhpZGUoKTwvYT5cbiAgICogYW5kIGRyYXduIGludG8gY2FudmFzIHVzaW5nIHZpZGVvKCkuIEFwcGVuZHMgdG8gdGhlIGNvbnRhaW5lclxuICAgKiBub2RlIGlmIG9uZSBpcyBzcGVjaWZpZWQsIG90aGVyd2lzZSBhcHBlbmRzIHRvIGJvZHkuIFRoZSBmaXJzdCBwYXJhbWV0ZXJcbiAgICogY2FuIGJlIGVpdGhlciBhIHNpbmdsZSBzdHJpbmcgcGF0aCB0byBhIHZpZGVvIGZpbGUsIG9yIGFuIGFycmF5IG9mIHN0cmluZ1xuICAgKiBwYXRocyB0byBkaWZmZXJlbnQgZm9ybWF0cyBvZiB0aGUgc2FtZSB2aWRlby4gVGhpcyBpcyB1c2VmdWwgZm9yIGVuc3VyaW5nXG4gICAqIHRoYXQgeW91ciB2aWRlbyBjYW4gcGxheSBhY3Jvc3MgZGlmZmVyZW50IGJyb3dzZXJzLCBhcyBlYWNoIHN1cHBvcnRzXG4gICAqIGRpZmZlcmVudCBmb3JtYXRzLiBTZWUgPGEgaHJlZj0naHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9TdXBwb3J0ZWRfbWVkaWFfZm9ybWF0cyc+dGhpc1xuICAgKiBwYWdlPC9hPiBmb3IgZnVydGhlciBpbmZvcm1hdGlvbiBhYm91dCBzdXBwb3J0ZWQgZm9ybWF0cy5cbiAgICpcbiAgICogQG1ldGhvZCBjcmVhdGVWaWRlb1xuICAgKiBAcGFyYW0gIHtTdHJpbmd8U3RyaW5nW119IHNyYyBwYXRoIHRvIGEgdmlkZW8gZmlsZSwgb3IgYXJyYXkgb2YgcGF0aHMgZm9yXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0aW5nIGRpZmZlcmVudCBicm93c2Vyc1xuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgdXBvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCBmaXJlLCB0aGF0IGlzLCB3aGVuIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJvd3NlciBjYW4gcGxheSB0aGUgbWVkaWEsIGFuZCBlc3RpbWF0ZXMgdGhhdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5vdWdoIGRhdGEgaGFzIGJlZW4gbG9hZGVkIHRvIHBsYXkgdGhlIG1lZGlhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cCB0byBpdHMgZW5kIHdpdGhvdXQgaGF2aW5nIHRvIHN0b3AgZm9yXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdXJ0aGVyIGJ1ZmZlcmluZyBvZiBjb250ZW50XG4gICAqIEByZXR1cm4ge3A1Lk1lZGlhRWxlbWVudH0gICBwb2ludGVyIHRvIHZpZGVvIDxhIGhyZWY9XCIjL3A1LkVsZW1lbnRcIj5wNS5FbGVtZW50PC9hPlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgdmlkO1xuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICB2aWQgPSBjcmVhdGVWaWRlbyhbJ3NtYWxsLm1wNCcsICdzbWFsbC5vZ3YnLCAnc21hbGwud2VibSddLCB2aWRMb2FkKTtcbiAgICogfVxuICAgKlxuICAgKiAvLyBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIHRoZSB2aWRlbyBsb2Fkc1xuICAgKiBmdW5jdGlvbiB2aWRMb2FkKCkge1xuICAgKiAgIHZpZC5wbGF5KCk7XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgcDUucHJvdG90eXBlLmNyZWF0ZVZpZGVvID0gZnVuY3Rpb24oc3JjLCBjYWxsYmFjaykge1xuICAgIHA1Ll92YWxpZGF0ZVBhcmFtZXRlcnMoJ2NyZWF0ZVZpZGVvJywgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gY3JlYXRlTWVkaWEodGhpcywgJ3ZpZGVvJywgc3JjLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqIEFVRElPIFNUVUZGICoqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgaGlkZGVuIEhUTUw1ICZsdDthdWRpbyZndDsgZWxlbWVudCBpbiB0aGUgRE9NIGZvciBzaW1wbGUgYXVkaW9cbiAgICogcGxheWJhY2suIEFwcGVuZHMgdG8gdGhlIGNvbnRhaW5lciBub2RlIGlmIG9uZSBpcyBzcGVjaWZpZWQsXG4gICAqIG90aGVyd2lzZSBhcHBlbmRzIHRvIGJvZHkuIFRoZSBmaXJzdCBwYXJhbWV0ZXJcbiAgICogY2FuIGJlIGVpdGhlciBhIHNpbmdsZSBzdHJpbmcgcGF0aCB0byBhIGF1ZGlvIGZpbGUsIG9yIGFuIGFycmF5IG9mIHN0cmluZ1xuICAgKiBwYXRocyB0byBkaWZmZXJlbnQgZm9ybWF0cyBvZiB0aGUgc2FtZSBhdWRpby4gVGhpcyBpcyB1c2VmdWwgZm9yIGVuc3VyaW5nXG4gICAqIHRoYXQgeW91ciBhdWRpbyBjYW4gcGxheSBhY3Jvc3MgZGlmZmVyZW50IGJyb3dzZXJzLCBhcyBlYWNoIHN1cHBvcnRzXG4gICAqIGRpZmZlcmVudCBmb3JtYXRzLiBTZWUgPGEgaHJlZj0naHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9TdXBwb3J0ZWRfbWVkaWFfZm9ybWF0cyc+dGhpc1xuICAgKiBwYWdlIGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uIGFib3V0IHN1cHBvcnRlZCBmb3JtYXRzPC9hPi5cbiAgICpcbiAgICogQG1ldGhvZCBjcmVhdGVBdWRpb1xuICAgKiBAcGFyYW0gIHtTdHJpbmd8U3RyaW5nW119IFtzcmNdIHBhdGggdG8gYW4gYXVkaW8gZmlsZSwgb3IgYXJyYXkgb2YgcGF0aHNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBzdXBwb3J0aW5nIGRpZmZlcmVudCBicm93c2Vyc1xuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBjYWxsYmFjayBmdW5jdGlvbiB0byBiZSBjYWxsZWQgdXBvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCBmaXJlLCB0aGF0IGlzLCB3aGVuIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJvd3NlciBjYW4gcGxheSB0aGUgbWVkaWEsIGFuZCBlc3RpbWF0ZXMgdGhhdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5vdWdoIGRhdGEgaGFzIGJlZW4gbG9hZGVkIHRvIHBsYXkgdGhlIG1lZGlhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cCB0byBpdHMgZW5kIHdpdGhvdXQgaGF2aW5nIHRvIHN0b3AgZm9yXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdXJ0aGVyIGJ1ZmZlcmluZyBvZiBjb250ZW50XG4gICAqIEByZXR1cm4ge3A1Lk1lZGlhRWxlbWVudH0gICBwb2ludGVyIHRvIGF1ZGlvIDxhIGhyZWY9XCIjL3A1LkVsZW1lbnRcIj5wNS5FbGVtZW50PC9hPlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgZWxlO1xuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICBlbGUgPSBjcmVhdGVBdWRpbygnYXNzZXRzL2JlYXQubXAzJyk7XG4gICAqXG4gICAqICAgLy8gaGVyZSB3ZSBzZXQgdGhlIGVsZW1lbnQgdG8gYXV0b3BsYXlcbiAgICogICAvLyBUaGUgZWxlbWVudCB3aWxsIHBsYXkgYXMgc29vblxuICAgKiAgIC8vIGFzIGl0IGlzIGFibGUgdG8gZG8gc28uXG4gICAqICAgZWxlLmF1dG9wbGF5KHRydWUpO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHA1LnByb3RvdHlwZS5jcmVhdGVBdWRpbyA9IGZ1bmN0aW9uKHNyYywgY2FsbGJhY2spIHtcbiAgICBwNS5fdmFsaWRhdGVQYXJhbWV0ZXJzKCdjcmVhdGVBdWRpbycsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGNyZWF0ZU1lZGlhKHRoaXMsICdhdWRpbycsIHNyYywgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKiBDQU1FUkEgU1RVRkYgKiovXG5cbiAgLyoqXG4gICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBWSURFT1xuICAgKiBAZmluYWxcbiAgICogQGNhdGVnb3J5IENvbnN0YW50c1xuICAgKi9cbiAgcDUucHJvdG90eXBlLlZJREVPID0gJ3ZpZGVvJztcbiAgLyoqXG4gICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBBVURJT1xuICAgKiBAZmluYWxcbiAgICogQGNhdGVnb3J5IENvbnN0YW50c1xuICAgKi9cbiAgcDUucHJvdG90eXBlLkFVRElPID0gJ2F1ZGlvJztcblxuICAvLyBmcm9tOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTWVkaWFEZXZpY2VzL2dldFVzZXJNZWRpYVxuICAvLyBPbGRlciBicm93c2VycyBtaWdodCBub3QgaW1wbGVtZW50IG1lZGlhRGV2aWNlcyBhdCBhbGwsIHNvIHdlIHNldCBhbiBlbXB0eSBvYmplY3QgZmlyc3RcbiAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMgPT09IHVuZGVmaW5lZCkge1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMgPSB7fTtcbiAgfVxuXG4gIC8vIFNvbWUgYnJvd3NlcnMgcGFydGlhbGx5IGltcGxlbWVudCBtZWRpYURldmljZXMuIFdlIGNhbid0IGp1c3QgYXNzaWduIGFuIG9iamVjdFxuICAvLyB3aXRoIGdldFVzZXJNZWRpYSBhcyBpdCB3b3VsZCBvdmVyd3JpdGUgZXhpc3RpbmcgcHJvcGVydGllcy5cbiAgLy8gSGVyZSwgd2Ugd2lsbCBqdXN0IGFkZCB0aGUgZ2V0VXNlck1lZGlhIHByb3BlcnR5IGlmIGl0J3MgbWlzc2luZy5cbiAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhID09PSB1bmRlZmluZWQpIHtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKSB7XG4gICAgICAvLyBGaXJzdCBnZXQgYWhvbGQgb2YgdGhlIGxlZ2FjeSBnZXRVc2VyTWVkaWEsIGlmIHByZXNlbnRcbiAgICAgIHZhciBnZXRVc2VyTWVkaWEgPVxuICAgICAgICBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWE7XG5cbiAgICAgIC8vIFNvbWUgYnJvd3NlcnMganVzdCBkb24ndCBpbXBsZW1lbnQgaXQgLSByZXR1cm4gYSByZWplY3RlZCBwcm9taXNlIHdpdGggYW4gZXJyb3JcbiAgICAgIC8vIHRvIGtlZXAgYSBjb25zaXN0ZW50IGludGVyZmFjZVxuICAgICAgaWYgKCFnZXRVc2VyTWVkaWEpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgIG5ldyBFcnJvcignZ2V0VXNlck1lZGlhIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIGJyb3dzZXInKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UsIHdyYXAgdGhlIGNhbGwgdG8gdGhlIG9sZCBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHdpdGggYSBQcm9taXNlXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGdldFVzZXJNZWRpYS5jYWxsKG5hdmlnYXRvciwgY29uc3RyYWludHMsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIDxwPkNyZWF0ZXMgYSBuZXcgSFRNTDUgJmx0O3ZpZGVvJmd0OyBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlIGF1ZGlvL3ZpZGVvXG4gICAqIGZlZWQgZnJvbSBhIHdlYmNhbS4gVGhlIGVsZW1lbnQgaXMgc2VwYXJhdGUgZnJvbSB0aGUgY2FudmFzIGFuZCBpc1xuICAgKiBkaXNwbGF5ZWQgYnkgZGVmYXVsdC4gVGhlIGVsZW1lbnQgY2FuIGJlIGhpZGRlbiB1c2luZyAuPGEgaHJlZj1cIiMvcDUuRWxlbWVudC9oaWRlXCI+aGlkZSgpPC9hPi4gVGhlIGZlZWRcbiAgICogY2FuIGJlIGRyYXduIG9udG8gdGhlIGNhbnZhcyB1c2luZyA8YSBocmVmPVwiIy9wNS9pbWFnZVwiPmltYWdlKCk8L2E+LiBUaGUgbG9hZGVkbWV0YWRhdGEgcHJvcGVydHkgY2FuXG4gICAqIGJlIHVzZWQgdG8gZGV0ZWN0IHdoZW4gdGhlIGVsZW1lbnQgaGFzIGZ1bGx5IGxvYWRlZCAoc2VlIHNlY29uZCBleGFtcGxlKS48L3A+XG4gICAqIDxwPk1vcmUgc3BlY2lmaWMgcHJvcGVydGllcyBvZiB0aGUgZmVlZCBjYW4gYmUgcGFzc2luZyBpbiBhIENvbnN0cmFpbnRzIG9iamVjdC5cbiAgICogU2VlIHRoZVxuICAgKiA8YSBocmVmPSdodHRwOi8vdzNjLmdpdGh1Yi5pby9tZWRpYWNhcHR1cmUtbWFpbi9nZXR1c2VybWVkaWEuaHRtbCNtZWRpYS10cmFjay1jb25zdHJhaW50cyc+IFczQ1xuICAgKiBzcGVjPC9hPiBmb3IgcG9zc2libGUgcHJvcGVydGllcy4gTm90ZSB0aGF0IG5vdCBhbGwgb2YgdGhlc2UgYXJlIHN1cHBvcnRlZFxuICAgKiBieSBhbGwgYnJvd3NlcnMuPC9wPlxuICAgKiA8cD5TZWN1cml0eSBub3RlOiBBIG5ldyBicm93c2VyIHNlY3VyaXR5IHNwZWNpZmljYXRpb24gcmVxdWlyZXMgdGhhdCBnZXRVc2VyTWVkaWEsXG4gICAqIHdoaWNoIGlzIGJlaGluZCA8YSBocmVmPVwiIy9wNS9jcmVhdGVDYXB0dXJlXCI+Y3JlYXRlQ2FwdHVyZSgpPC9hPiwgb25seSB3b3JrcyB3aGVuIHlvdSdyZSBydW5uaW5nIHRoZSBjb2RlIGxvY2FsbHksXG4gICAqIG9yIG9uIEhUVFBTLiBMZWFybiBtb3JlIDxhIGhyZWY9J2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQxOTc2NTMvZ2V0dXNlcm1lZGlhLWluLWNocm9tZS00Ny13aXRob3V0LXVzaW5nLWh0dHBzJz5oZXJlPC9hPlxuICAgKiBhbmQgPGEgaHJlZj0naHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01lZGlhRGV2aWNlcy9nZXRVc2VyTWVkaWEnPmhlcmU8L2E+LjwvcD5cbiAgICpcbiAgICogQG1ldGhvZCBjcmVhdGVDYXB0dXJlXG4gICAqIEBwYXJhbSAge1N0cmluZ3xDb25zdGFudHxPYmplY3R9ICAgdHlwZSB0eXBlIG9mIGNhcHR1cmUsIGVpdGhlciBWSURFTyBvclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVVESU8gaWYgbm9uZSBzcGVjaWZpZWQsIGRlZmF1bHQgYm90aCxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGEgQ29uc3RyYWludHMgb2JqZWN0XG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgICAgICAgICAgICAgICAgW2NhbGxiYWNrXSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb25jZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtIGhhcyBsb2FkZWRcbiAgICogQHJldHVybiB7cDUuRWxlbWVudH0gY2FwdHVyZSB2aWRlbyA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT5cbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXIgbm90ZXN0Jz48Y29kZT5cbiAgICogdmFyIGNhcHR1cmU7XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGNyZWF0ZUNhbnZhcyg0ODAsIDQ4MCk7XG4gICAqICAgY2FwdHVyZSA9IGNyZWF0ZUNhcHR1cmUoVklERU8pO1xuICAgKiAgIGNhcHR1cmUuaGlkZSgpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAqICAgaW1hZ2UoY2FwdHVyZSwgMCwgMCwgd2lkdGgsIHdpZHRoICogY2FwdHVyZS5oZWlnaHQgLyBjYXB0dXJlLndpZHRoKTtcbiAgICogICBmaWx0ZXIoSU5WRVJUKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyIG5vdGVzdCc+PGNvZGU+XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGNyZWF0ZUNhbnZhcyg0ODAsIDEyMCk7XG4gICAqICAgdmFyIGNvbnN0cmFpbnRzID0ge1xuICAgKiAgICAgdmlkZW86IHtcbiAgICogICAgICAgbWFuZGF0b3J5OiB7XG4gICAqICAgICAgICAgbWluV2lkdGg6IDEyODAsXG4gICAqICAgICAgICAgbWluSGVpZ2h0OiA3MjBcbiAgICogICAgICAgfSxcbiAgICogICAgICAgb3B0aW9uYWw6IFt7IG1heEZyYW1lUmF0ZTogMTAgfV1cbiAgICogICAgIH0sXG4gICAqICAgICBhdWRpbzogdHJ1ZVxuICAgKiAgIH07XG4gICAqICAgY3JlYXRlQ2FwdHVyZShjb25zdHJhaW50cywgZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAqICAgICBjb25zb2xlLmxvZyhzdHJlYW0pO1xuICAgKiAgIH0pO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICogPGNvZGU+PGRpdiBjbGFzcz0nbm9yZW5kZXIgbm90ZXN0Jz5cbiAgICogdmFyIGNhcHR1cmU7XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGNyZWF0ZUNhbnZhcyg2NDAsIDQ4MCk7XG4gICAqICAgY2FwdHVyZSA9IGNyZWF0ZUNhcHR1cmUoVklERU8pO1xuICAgKiB9XG4gICAqIGZ1bmN0aW9uIGRyYXcoKSB7XG4gICAqICAgYmFja2dyb3VuZCgwKTtcbiAgICogICBpZiAoY2FwdHVyZS5sb2FkZWRtZXRhZGF0YSkge1xuICAgKiAgICAgdmFyIGMgPSBjYXB0dXJlLmdldCgwLCAwLCAxMDAsIDEwMCk7XG4gICAqICAgICBpbWFnZShjLCAwLCAwKTtcbiAgICogICB9XG4gICAqIH1cbiAgICovXG4gIHA1LnByb3RvdHlwZS5jcmVhdGVDYXB0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgcDUuX3ZhbGlkYXRlUGFyYW1ldGVycygnY3JlYXRlQ2FwdHVyZScsIGFyZ3VtZW50cyk7XG4gICAgdmFyIHVzZVZpZGVvID0gdHJ1ZTtcbiAgICB2YXIgdXNlQXVkaW8gPSB0cnVlO1xuICAgIHZhciBjb25zdHJhaW50cztcbiAgICB2YXIgY2I7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhcmd1bWVudHNbaV0gPT09IHA1LnByb3RvdHlwZS5WSURFTykge1xuICAgICAgICB1c2VBdWRpbyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHNbaV0gPT09IHA1LnByb3RvdHlwZS5BVURJTykge1xuICAgICAgICB1c2VWaWRlbyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdHJhaW50cyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMgJiYgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHtcbiAgICAgIHZhciBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgLy8gcmVxdWlyZWQgdG8gd29yayBpbiBpT1MgMTEgJiB1cDpcbiAgICAgIGVsdC5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuXG4gICAgICBpZiAoIWNvbnN0cmFpbnRzKSB7XG4gICAgICAgIGNvbnN0cmFpbnRzID0geyB2aWRlbzogdXNlVmlkZW8sIGF1ZGlvOiB1c2VBdWRpbyB9O1xuICAgICAgfVxuXG4gICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihcbiAgICAgICAgZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICgnc3JjT2JqZWN0JyBpbiBlbHQpIHtcbiAgICAgICAgICAgICAgZWx0LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVsdC5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZWx0LnNyYyA9IHN0cmVhbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICBjYihzdHJlYW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyAnZ2V0VXNlck1lZGlhIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyJztcbiAgICB9XG4gICAgdmFyIGMgPSBhZGRFbGVtZW50KGVsdCwgdGhpcywgdHJ1ZSk7XG4gICAgYy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgIC8vIHNldCB3aWR0aCBhbmQgaGVpZ2h0IG9ubG9hZCBtZXRhZGF0YVxuICAgIGVsdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uKCkge1xuICAgICAgZWx0LnBsYXkoKTtcbiAgICAgIGlmIChlbHQud2lkdGgpIHtcbiAgICAgICAgYy53aWR0aCA9IGVsdC52aWRlb1dpZHRoID0gZWx0LndpZHRoO1xuICAgICAgICBjLmhlaWdodCA9IGVsdC52aWRlb0hlaWdodCA9IGVsdC5oZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjLndpZHRoID0gYy5lbHQud2lkdGggPSBlbHQudmlkZW9XaWR0aDtcbiAgICAgICAgYy5oZWlnaHQgPSBjLmVsdC5oZWlnaHQgPSBlbHQudmlkZW9IZWlnaHQ7XG4gICAgICB9XG4gICAgICBjLmxvYWRlZG1ldGFkYXRhID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gYztcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBlbGVtZW50IHdpdGggZ2l2ZW4gdGFnIGluIHRoZSBET00gd2l0aCBnaXZlbiBjb250ZW50LlxuICAgKiBBcHBlbmRzIHRvIHRoZSBjb250YWluZXIgbm9kZSBpZiBvbmUgaXMgc3BlY2lmaWVkLCBvdGhlcndpc2VcbiAgICogYXBwZW5kcyB0byBib2R5LlxuICAgKlxuICAgKiBAbWV0aG9kIGNyZWF0ZUVsZW1lbnRcbiAgICogQHBhcmFtICB7U3RyaW5nfSB0YWcgdGFnIGZvciB0aGUgbmV3IGVsZW1lbnRcbiAgICogQHBhcmFtICB7U3RyaW5nfSBbY29udGVudF0gaHRtbCBjb250ZW50IHRvIGJlIGluc2VydGVkIGludG8gdGhlIGVsZW1lbnRcbiAgICogQHJldHVybiB7cDUuRWxlbWVudH0gcG9pbnRlciB0byA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4gaG9sZGluZyBjcmVhdGVkIG5vZGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiBjcmVhdGVFbGVtZW50KCdoMicsICdpbSBhbiBoMiBwNS5lbGVtZW50IScpO1xuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkge1xuICAgIHA1Ll92YWxpZGF0ZVBhcmFtZXRlcnMoJ2NyZWF0ZUVsZW1lbnQnLCBhcmd1bWVudHMpO1xuICAgIHZhciBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgaWYgKHR5cGVvZiBjb250ZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZWx0LmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgfVxuICAgIHJldHVybiBhZGRFbGVtZW50KGVsdCwgdGhpcyk7XG4gIH07XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgcDUuRWxlbWVudCBhZGRpdGlvbnNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLyoqXG4gICAqXG4gICAqIEFkZHMgc3BlY2lmaWVkIGNsYXNzIHRvIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAZm9yIHA1LkVsZW1lbnRcbiAgICogQG1ldGhvZCBhZGRDbGFzc1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNsYXNzIG5hbWUgb2YgY2xhc3MgdG8gYWRkXG4gICAqIEBjaGFpbmFibGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiB2YXIgZGl2ID0gY3JlYXRlRGl2KCdkaXYnKTtcbiAgICogZGl2LmFkZENsYXNzKCdteUNsYXNzJyk7XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHA1LkVsZW1lbnQucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24oYykge1xuICAgIGlmICh0aGlzLmVsdC5jbGFzc05hbWUpIHtcbiAgICAgIC8vIFBFTkQgZG9uJ3QgYWRkIGNsYXNzIG1vcmUgdGhhbiBvbmNlXG4gICAgICAvL3ZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1teYS16QS1aXFxkOl0/JytjKydbXmEtekEtWlxcZDpdPycpO1xuICAgICAgLy9pZiAodGhpcy5lbHQuY2xhc3NOYW1lLnNlYXJjaCgvW15hLXpBLVpcXGQ6XT9oaVteYS16QS1aXFxkOl0/LykgPT09IC0xKSB7XG4gICAgICB0aGlzLmVsdC5jbGFzc05hbWUgPSB0aGlzLmVsdC5jbGFzc05hbWUgKyAnICcgKyBjO1xuICAgICAgLy99XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWx0LmNsYXNzTmFtZSA9IGM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBSZW1vdmVzIHNwZWNpZmllZCBjbGFzcyBmcm9tIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAbWV0aG9kIHJlbW92ZUNsYXNzXG4gICAqIEBwYXJhbSAge1N0cmluZ30gY2xhc3MgbmFtZSBvZiBjbGFzcyB0byByZW1vdmVcbiAgICogQGNoYWluYWJsZVxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2IGNsYXNzPSdub3JlbmRlcic+PGNvZGU+XG4gICAqIC8vIEluIHRoaXMgZXhhbXBsZSwgYSBjbGFzcyBpcyBzZXQgd2hlbiB0aGUgZGl2IGlzIGNyZWF0ZWRcbiAgICogLy8gYW5kIHJlbW92ZWQgd2hlbiBtb3VzZSBpcyBwcmVzc2VkLiBUaGlzIGNvdWxkIGxpbmsgdXBcbiAgICogLy8gd2l0aCBhIENTUyBzdHlsZSBydWxlIHRvIHRvZ2dsZSBzdHlsZSBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiB2YXIgZGl2O1xuICAgKlxuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICBkaXYgPSBjcmVhdGVEaXYoJ2RpdicpO1xuICAgKiAgIGRpdi5hZGRDbGFzcygnbXlDbGFzcycpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIG1vdXNlUHJlc3NlZCgpIHtcbiAgICogICBkaXYucmVtb3ZlQ2xhc3MoJ215Q2xhc3MnKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5FbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGMpIHtcbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCcoPzpefFxcXFxzKScgKyBjICsgJyg/IVxcXFxTKScpO1xuICAgIHRoaXMuZWx0LmNsYXNzTmFtZSA9IHRoaXMuZWx0LmNsYXNzTmFtZS5yZXBsYWNlKHJlZ2V4LCAnJyk7XG4gICAgdGhpcy5lbHQuY2xhc3NOYW1lID0gdGhpcy5lbHQuY2xhc3NOYW1lLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTsgLy9wcmV0dGlmeSAob3B0aW9uYWwpXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEF0dGFjaGVzIHRoZSBlbGVtZW50ICBhcyBhIGNoaWxkIHRvIHRoZSBwYXJlbnQgc3BlY2lmaWVkLlxuICAgKiBBY2NlcHRzIGVpdGhlciBhIHN0cmluZyBJRCwgRE9NIG5vZGUsIG9yIDxhIGhyZWY9XCIjL3A1LkVsZW1lbnRcIj5wNS5FbGVtZW50PC9hPi5cbiAgICogSWYgbm8gYXJndW1lbnQgaXMgc3BlY2lmaWVkLCBhbiBhcnJheSBvZiBjaGlsZHJlbiBET00gbm9kZXMgaXMgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBtZXRob2QgY2hpbGRcbiAgICogQHJldHVybnMge05vZGVbXX0gYW4gYXJyYXkgb2YgY2hpbGQgbm9kZXNcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiB2YXIgZGl2MCA9IGNyZWF0ZURpdigndGhpcyBpcyB0aGUgcGFyZW50Jyk7XG4gICAqIHZhciBkaXYxID0gY3JlYXRlRGl2KCd0aGlzIGlzIHRoZSBjaGlsZCcpO1xuICAgKiBkaXYwLmNoaWxkKGRpdjEpOyAvLyB1c2UgcDUuRWxlbWVudFxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogdmFyIGRpdjAgPSBjcmVhdGVEaXYoJ3RoaXMgaXMgdGhlIHBhcmVudCcpO1xuICAgKiB2YXIgZGl2MSA9IGNyZWF0ZURpdigndGhpcyBpcyB0aGUgY2hpbGQnKTtcbiAgICogZGl2MS5pZCgnYXBwbGVzJyk7XG4gICAqIGRpdjAuY2hpbGQoJ2FwcGxlcycpOyAvLyB1c2UgaWRcbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKiA8ZGl2IGNsYXNzPSdub3JlbmRlciBub3Rlc3QnPjxjb2RlPlxuICAgKiAvLyB0aGlzIGV4YW1wbGUgYXNzdW1lcyB0aGVyZSBpcyBhIGRpdiBhbHJlYWR5IG9uIHRoZSBwYWdlXG4gICAqIC8vIHdpdGggaWQgXCJteUNoaWxkRGl2XCJcbiAgICogdmFyIGRpdjAgPSBjcmVhdGVEaXYoJ3RoaXMgaXMgdGhlIHBhcmVudCcpO1xuICAgKiB2YXIgZWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215Q2hpbGREaXYnKTtcbiAgICogZGl2MC5jaGlsZChlbHQpOyAvLyB1c2UgZWxlbWVudCBmcm9tIHBhZ2VcbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgLyoqXG4gICAqIEBtZXRob2QgY2hpbGRcbiAgICogQHBhcmFtICB7U3RyaW5nfHA1LkVsZW1lbnR9IFtjaGlsZF0gdGhlIElELCBET00gbm9kZSwgb3IgPGEgaHJlZj1cIiMvcDUuRWxlbWVudFwiPnA1LkVsZW1lbnQ8L2E+XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIHRvIGFkZCB0byB0aGUgY3VycmVudCBlbGVtZW50XG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHA1LkVsZW1lbnQucHJvdG90eXBlLmNoaWxkID0gZnVuY3Rpb24oYykge1xuICAgIGlmICh0eXBlb2YgYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsdC5jaGlsZE5vZGVzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoY1swXSA9PT0gJyMnKSB7XG4gICAgICAgIGMgPSBjLnN1YnN0cmluZygxKTtcbiAgICAgIH1cbiAgICAgIGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjKTtcbiAgICB9IGVsc2UgaWYgKGMgaW5zdGFuY2VvZiBwNS5FbGVtZW50KSB7XG4gICAgICBjID0gYy5lbHQ7XG4gICAgfVxuICAgIHRoaXMuZWx0LmFwcGVuZENoaWxkKGMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDZW50ZXJzIGEgcDUgRWxlbWVudCBlaXRoZXIgdmVydGljYWxseSwgaG9yaXpvbnRhbGx5LFxuICAgKiBvciBib3RoLCByZWxhdGl2ZSB0byBpdHMgcGFyZW50IG9yIGFjY29yZGluZyB0b1xuICAgKiB0aGUgYm9keSBpZiB0aGUgRWxlbWVudCBoYXMgbm8gcGFyZW50LiBJZiBubyBhcmd1bWVudCBpcyBwYXNzZWRcbiAgICogdGhlIEVsZW1lbnQgaXMgYWxpZ25lZCBib3RoIHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseS5cbiAgICpcbiAgICogQG1ldGhvZCBjZW50ZXJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBbYWxpZ25dICAgICAgIHBhc3NpbmcgJ3ZlcnRpY2FsJywgJ2hvcml6b250YWwnIGFsaWducyBlbGVtZW50IGFjY29yZGluZ2x5XG4gICAqIEBjaGFpbmFibGVcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdj48Y29kZT5cbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgdmFyIGRpdiA9IGNyZWF0ZURpdignJykuc2l6ZSgxMCwgMTApO1xuICAgKiAgIGRpdi5zdHlsZSgnYmFja2dyb3VuZC1jb2xvcicsICdvcmFuZ2UnKTtcbiAgICogICBkaXYuY2VudGVyKCk7XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgcDUuRWxlbWVudC5wcm90b3R5cGUuY2VudGVyID0gZnVuY3Rpb24oYWxpZ24pIHtcbiAgICB2YXIgc3R5bGUgPSB0aGlzLmVsdC5zdHlsZS5kaXNwbGF5O1xuICAgIHZhciBoaWRkZW4gPSB0aGlzLmVsdC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZSc7XG4gICAgdmFyIHBhcmVudEhpZGRlbiA9IHRoaXMucGFyZW50KCkuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnO1xuICAgIHZhciBwb3MgPSB7IHg6IHRoaXMuZWx0Lm9mZnNldExlZnQsIHk6IHRoaXMuZWx0Lm9mZnNldFRvcCB9O1xuXG4gICAgaWYgKGhpZGRlbikgdGhpcy5zaG93KCk7XG5cbiAgICB0aGlzLmVsdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLnBvc2l0aW9uKDAsIDApO1xuXG4gICAgaWYgKHBhcmVudEhpZGRlbikgdGhpcy5wYXJlbnQoKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgIHZhciB3T2Zmc2V0ID0gTWF0aC5hYnModGhpcy5wYXJlbnQoKS5vZmZzZXRXaWR0aCAtIHRoaXMuZWx0Lm9mZnNldFdpZHRoKTtcbiAgICB2YXIgaE9mZnNldCA9IE1hdGguYWJzKHRoaXMucGFyZW50KCkub2Zmc2V0SGVpZ2h0IC0gdGhpcy5lbHQub2Zmc2V0SGVpZ2h0KTtcbiAgICB2YXIgeSA9IHBvcy55O1xuICAgIHZhciB4ID0gcG9zLng7XG5cbiAgICBpZiAoYWxpZ24gPT09ICdib3RoJyB8fCBhbGlnbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uKHdPZmZzZXQgLyAyLCBoT2Zmc2V0IC8gMik7XG4gICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uKHdPZmZzZXQgLyAyLCB5KTtcbiAgICB9IGVsc2UgaWYgKGFsaWduID09PSAndmVydGljYWwnKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uKHgsIGhPZmZzZXQgLyAyKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0eWxlKCdkaXNwbGF5Jywgc3R5bGUpO1xuXG4gICAgaWYgKGhpZGRlbikgdGhpcy5oaWRlKCk7XG5cbiAgICBpZiAocGFyZW50SGlkZGVuKSB0aGlzLnBhcmVudCgpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogSWYgYW4gYXJndW1lbnQgaXMgZ2l2ZW4sIHNldHMgdGhlIGlubmVyIEhUTUwgb2YgdGhlIGVsZW1lbnQsXG4gICAqIHJlcGxhY2luZyBhbnkgZXhpc3RpbmcgaHRtbC4gSWYgdHJ1ZSBpcyBpbmNsdWRlZCBhcyBhIHNlY29uZFxuICAgKiBhcmd1bWVudCwgaHRtbCBpcyBhcHBlbmRlZCBpbnN0ZWFkIG9mIHJlcGxhY2luZyBleGlzdGluZyBodG1sLlxuICAgKiBJZiBubyBhcmd1bWVudHMgYXJlIGdpdmVuLCByZXR1cm5zXG4gICAqIHRoZSBpbm5lciBIVE1MIG9mIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAZm9yIHA1LkVsZW1lbnRcbiAgICogQG1ldGhvZCBodG1sXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBpbm5lciBIVE1MIG9mIHRoZSBlbGVtZW50XG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogdmFyIGRpdiA9IGNyZWF0ZURpdignJykuc2l6ZSgxMDAsIDEwMCk7XG4gICAqIGRpdi5odG1sKCdoaScpO1xuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogdmFyIGRpdiA9IGNyZWF0ZURpdignSGVsbG8gJykuc2l6ZSgxMDAsIDEwMCk7XG4gICAqIGRpdi5odG1sKCdXb3JsZCcsIHRydWUpO1xuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICAvKipcbiAgICogQG1ldGhvZCBodG1sXG4gICAqIEBwYXJhbSAge1N0cmluZ30gW2h0bWxdIHRoZSBIVE1MIHRvIGJlIHBsYWNlZCBpbnNpZGUgdGhlIGVsZW1lbnRcbiAgICogQHBhcmFtICB7Ym9vbGVhbn0gW2FwcGVuZF0gd2hldGhlciB0byBhcHBlbmQgSFRNTCB0byBleGlzdGluZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBwNS5FbGVtZW50LnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmVsdC5pbm5lckhUTUw7XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHNbMV0pIHtcbiAgICAgIHRoaXMuZWx0LmlubmVySFRNTCArPSBhcmd1bWVudHNbMF07XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbHQuaW5uZXJIVE1MID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCByZWxhdGl2ZSB0byAoMCwgMCkgb2YgdGhlXG4gICAqIHdpbmRvdy4gRXNzZW50aWFsbHksIHNldHMgcG9zaXRpb246YWJzb2x1dGUgYW5kIGxlZnQgYW5kIHRvcFxuICAgKiBwcm9wZXJ0aWVzIG9mIHN0eWxlLiBJZiBubyBhcmd1bWVudHMgZ2l2ZW4gcmV0dXJucyB0aGUgeCBhbmQgeSBwb3NpdGlvblxuICAgKiBvZiB0aGUgZWxlbWVudCBpbiBhbiBvYmplY3QuXG4gICAqXG4gICAqIEBtZXRob2QgcG9zaXRpb25cbiAgICogQHJldHVybnMge09iamVjdH0gdGhlIHggYW5kIHkgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQgaW4gYW4gb2JqZWN0XG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXY+PGNvZGUgY2xhc3M9J25vcmVuZGVyJz5cbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgdmFyIGNudiA9IGNyZWF0ZUNhbnZhcygxMDAsIDEwMCk7XG4gICAqICAgLy8gcG9zaXRpb25zIGNhbnZhcyA1MHB4IHRvIHRoZSByaWdodCBhbmQgMTAwcHhcbiAgICogICAvLyBiZWxvdyB1cHBlciBsZWZ0IGNvcm5lciBvZiB0aGUgd2luZG93XG4gICAqICAgY252LnBvc2l0aW9uKDUwLCAxMDApO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIHBvc2l0aW9uXG4gICAqIEBwYXJhbSAge051bWJlcn0gW3hdIHgtcG9zaXRpb24gcmVsYXRpdmUgdG8gdXBwZXIgbGVmdCBvZiB3aW5kb3dcbiAgICogQHBhcmFtICB7TnVtYmVyfSBbeV0geS1wb3NpdGlvbiByZWxhdGl2ZSB0byB1cHBlciBsZWZ0IG9mIHdpbmRvd1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBwNS5FbGVtZW50LnByb3RvdHlwZS5wb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4geyB4OiB0aGlzLmVsdC5vZmZzZXRMZWZ0LCB5OiB0aGlzLmVsdC5vZmZzZXRUb3AgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbHQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgdGhpcy5lbHQuc3R5bGUubGVmdCA9IGFyZ3VtZW50c1swXSArICdweCc7XG4gICAgICB0aGlzLmVsdC5zdHlsZS50b3AgPSBhcmd1bWVudHNbMV0gKyAncHgnO1xuICAgICAgdGhpcy54ID0gYXJndW1lbnRzWzBdO1xuICAgICAgdGhpcy55ID0gYXJndW1lbnRzWzFdO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qIEhlbHBlciBtZXRob2QgY2FsbGVkIGJ5IHA1LkVsZW1lbnQuc3R5bGUoKSAqL1xuICBwNS5FbGVtZW50LnByb3RvdHlwZS5fdHJhbnNsYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbHQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIC8vIHNhdmUgb3V0IGluaXRpYWwgbm9uLXRyYW5zbGF0ZSB0cmFuc2Zvcm0gc3R5bGluZ1xuICAgIHZhciB0cmFuc2Zvcm0gPSAnJztcbiAgICBpZiAodGhpcy5lbHQuc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICB0cmFuc2Zvcm0gPSB0aGlzLmVsdC5zdHlsZS50cmFuc2Zvcm0ucmVwbGFjZSgvdHJhbnNsYXRlM2RcXCguKlxcKS9nLCAnJyk7XG4gICAgICB0cmFuc2Zvcm0gPSB0cmFuc2Zvcm0ucmVwbGFjZSgvdHJhbnNsYXRlW1gtWl0/XFwoLipcXCkvZywgJycpO1xuICAgIH1cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgdGhpcy5lbHQuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgJ3RyYW5zbGF0ZSgnICsgYXJndW1lbnRzWzBdICsgJ3B4LCAnICsgYXJndW1lbnRzWzFdICsgJ3B4KSc7XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikge1xuICAgICAgdGhpcy5lbHQuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgJ3RyYW5zbGF0ZTNkKCcgK1xuICAgICAgICBhcmd1bWVudHNbMF0gK1xuICAgICAgICAncHgsJyArXG4gICAgICAgIGFyZ3VtZW50c1sxXSArXG4gICAgICAgICdweCwnICtcbiAgICAgICAgYXJndW1lbnRzWzJdICtcbiAgICAgICAgJ3B4KSc7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICB0aGlzLmVsdC5wYXJlbnRFbGVtZW50LnN0eWxlLnBlcnNwZWN0aXZlID0gJzEwMDBweCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsdC5wYXJlbnRFbGVtZW50LnN0eWxlLnBlcnNwZWN0aXZlID0gYXJndW1lbnRzWzNdICsgJ3B4JztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gYWRkIGFueSBleHRyYSB0cmFuc2Zvcm0gc3R5bGluZyBiYWNrIG9uIGVuZFxuICAgIHRoaXMuZWx0LnN0eWxlLnRyYW5zZm9ybSArPSB0cmFuc2Zvcm07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyogSGVscGVyIG1ldGhvZCBjYWxsZWQgYnkgcDUuRWxlbWVudC5zdHlsZSgpICovXG4gIHA1LkVsZW1lbnQucHJvdG90eXBlLl9yb3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBzYXZlIG91dCBpbml0aWFsIG5vbi1yb3RhdGUgdHJhbnNmb3JtIHN0eWxpbmdcbiAgICB2YXIgdHJhbnNmb3JtID0gJyc7XG4gICAgaWYgKHRoaXMuZWx0LnN0eWxlLnRyYW5zZm9ybSkge1xuICAgICAgdHJhbnNmb3JtID0gdGhpcy5lbHQuc3R5bGUudHJhbnNmb3JtLnJlcGxhY2UoL3JvdGF0ZTNkXFwoLipcXCkvZywgJycpO1xuICAgICAgdHJhbnNmb3JtID0gdHJhbnNmb3JtLnJlcGxhY2UoL3JvdGF0ZVtYLVpdP1xcKC4qXFwpL2csICcnKTtcbiAgICB9XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGhpcy5lbHQuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgnICsgYXJndW1lbnRzWzBdICsgJ2RlZyknO1xuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgdGhpcy5lbHQuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgJ3JvdGF0ZSgnICsgYXJndW1lbnRzWzBdICsgJ2RlZywgJyArIGFyZ3VtZW50c1sxXSArICdkZWcpJztcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgIHRoaXMuZWx0LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGVYKCcgKyBhcmd1bWVudHNbMF0gKyAnZGVnKSc7XG4gICAgICB0aGlzLmVsdC5zdHlsZS50cmFuc2Zvcm0gKz0gJ3JvdGF0ZVkoJyArIGFyZ3VtZW50c1sxXSArICdkZWcpJztcbiAgICAgIHRoaXMuZWx0LnN0eWxlLnRyYW5zZm9ybSArPSAncm90YXRlWignICsgYXJndW1lbnRzWzJdICsgJ2RlZyknO1xuICAgIH1cbiAgICAvLyBhZGQgcmVtYWluaW5nIHRyYW5zZm9ybSBiYWNrIG9uXG4gICAgdGhpcy5lbHQuc3R5bGUudHJhbnNmb3JtICs9IHRyYW5zZm9ybTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgZ2l2ZW4gc3R5bGUgKGNzcykgcHJvcGVydHkgKDFzdCBhcmcpIG9mIHRoZSBlbGVtZW50IHdpdGggdGhlXG4gICAqIGdpdmVuIHZhbHVlICgybmQgYXJnKS4gSWYgYSBzaW5nbGUgYXJndW1lbnQgaXMgZ2l2ZW4sIC5zdHlsZSgpXG4gICAqIHJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBwcm9wZXJ0eTsgaG93ZXZlciwgaWYgdGhlIHNpbmdsZSBhcmd1bWVudFxuICAgKiBpcyBnaXZlbiBpbiBjc3Mgc3ludGF4ICgndGV4dC1hbGlnbjpjZW50ZXInKSwgLnN0eWxlKCkgc2V0cyB0aGUgY3NzXG4gICAqIGFwcHJvcHJpYXRseS4gLnN0eWxlKCkgYWxzbyBoYW5kbGVzIDJkIGFuZCAzZCBjc3MgdHJhbnNmb3Jtcy4gSWZcbiAgICogdGhlIDFzdCBhcmcgaXMgJ3JvdGF0ZScsICd0cmFuc2xhdGUnLCBvciAncG9zaXRpb24nLCB0aGUgZm9sbG93aW5nIGFyZ3VtZW50c1xuICAgKiBhY2NlcHQgTnVtYmVycyBhcyB2YWx1ZXMuICgndHJhbnNsYXRlJywgMTAsIDEwMCwgNTApO1xuICAgKlxuICAgKiBAbWV0aG9kIHN0eWxlXG4gICAqIEBwYXJhbSAge1N0cmluZ30gcHJvcGVydHkgICBwcm9wZXJ0eSB0byBiZSBzZXRcbiAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWUgb2YgcHJvcGVydHlcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdj48Y29kZSBjbGFzcz0nbm9yZW5kZXInPlxuICAgKiB2YXIgbXlEaXYgPSBjcmVhdGVEaXYoJ0kgbGlrZSBwYW5kYXMuJyk7XG4gICAqIG15RGl2LnN0eWxlKCdmb250LXNpemUnLCAnMThweCcpO1xuICAgKiBteURpdi5zdHlsZSgnY29sb3InLCAnI2ZmMDAwMCcpO1xuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqIDxkaXY+PGNvZGUgY2xhc3M9J25vcmVuZGVyJz5cbiAgICogdmFyIGNvbCA9IGNvbG9yKDI1LCAyMywgMjAwLCA1MCk7XG4gICAqIHZhciBidXR0b24gPSBjcmVhdGVCdXR0b24oJ2J1dHRvbicpO1xuICAgKiBidXR0b24uc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBjb2wpO1xuICAgKiBidXR0b24ucG9zaXRpb24oMTAsIDEwKTtcbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKiA8ZGl2Pjxjb2RlIGNsYXNzPSdub3JlbmRlcic+XG4gICAqIHZhciBteURpdiA9IGNyZWF0ZURpdignSSBsaWtlIGxpemFyZHMuJyk7XG4gICAqIG15RGl2LnN0eWxlKCdwb3NpdGlvbicsIDIwLCAyMCk7XG4gICAqIG15RGl2LnN0eWxlKCdyb3RhdGUnLCA0NSk7XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICogPGRpdj48Y29kZSBjbGFzcz0nbm9yZW5kZXInPlxuICAgKiB2YXIgbXlEaXY7XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGJhY2tncm91bmQoMjAwKTtcbiAgICogICBteURpdiA9IGNyZWF0ZURpdignSSBsaWtlIGdyYXkuJyk7XG4gICAqICAgbXlEaXYucG9zaXRpb24oMjAsIDIwKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBkcmF3KCkge1xuICAgKiAgIG15RGl2LnN0eWxlKCdmb250LXNpemUnLCBtb3VzZVggKyAncHgnKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICAvKipcbiAgICogQG1ldGhvZCBzdHlsZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHByb3BlcnR5XG4gICAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ8cDUuQ29sb3J9IHZhbHVlICAgICB2YWx1ZSB0byBhc3NpZ24gdG8gcHJvcGVydHkgKG9ubHkgU3RyaW5nfE51bWJlciBmb3Igcm90YXRlL3RyYW5zbGF0ZSlcbiAgICogQHBhcmFtICB7U3RyaW5nfE51bWJlcnxwNS5Db2xvcn0gW3ZhbHVlMl0gIHBvc2l0aW9uIGNhbiB0YWtlIGEgMm5kIHZhbHVlXG4gICAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ8cDUuQ29sb3J9IFt2YWx1ZTNdICB0cmFuc2xhdGUgY2FuIHRha2UgYSAybmQgJiAzcmQgdmFsdWVcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgcDUuRWxlbWVudC5wcm90b3R5cGUuc3R5bGUgPSBmdW5jdGlvbihwcm9wLCB2YWwpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodmFsIGluc3RhbmNlb2YgcDUuQ29sb3IpIHtcbiAgICAgIHZhbCA9XG4gICAgICAgICdyZ2JhKCcgK1xuICAgICAgICB2YWwubGV2ZWxzWzBdICtcbiAgICAgICAgJywnICtcbiAgICAgICAgdmFsLmxldmVsc1sxXSArXG4gICAgICAgICcsJyArXG4gICAgICAgIHZhbC5sZXZlbHNbMl0gK1xuICAgICAgICAnLCcgK1xuICAgICAgICB2YWwubGV2ZWxzWzNdIC8gMjU1ICtcbiAgICAgICAgJyknO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHByb3AuaW5kZXhPZignOicpID09PSAtMSkge1xuICAgICAgICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoc2VsZi5lbHQpO1xuICAgICAgICB2YXIgc3R5bGUgPSBzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKTtcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGF0dHJzID0gcHJvcC5zcGxpdCgnOycpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHBhcnRzID0gYXR0cnNbaV0uc3BsaXQoJzonKTtcbiAgICAgICAgICBpZiAocGFydHNbMF0gJiYgcGFydHNbMV0pIHtcbiAgICAgICAgICAgIHRoaXMuZWx0LnN0eWxlW3BhcnRzWzBdLnRyaW0oKV0gPSBwYXJ0c1sxXS50cmltKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wID09PSAncm90YXRlJyB8fCBwcm9wID09PSAndHJhbnNsYXRlJyB8fCBwcm9wID09PSAncG9zaXRpb24nKSB7XG4gICAgICAgIHZhciB0cmFucyA9IEFycmF5LnByb3RvdHlwZS5zaGlmdC5hcHBseShhcmd1bWVudHMpO1xuICAgICAgICB2YXIgZiA9IHRoaXNbdHJhbnNdIHx8IHRoaXNbJ18nICsgdHJhbnNdO1xuICAgICAgICBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsdC5zdHlsZVtwcm9wXSA9IHZhbDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByb3AgPT09ICd3aWR0aCcgfHxcbiAgICAgICAgICBwcm9wID09PSAnaGVpZ2h0JyB8fFxuICAgICAgICAgIHByb3AgPT09ICdsZWZ0JyB8fFxuICAgICAgICAgIHByb3AgPT09ICd0b3AnXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBudW1WYWwgPSB2YWwucmVwbGFjZSgvXFxEKy9nLCAnJyk7XG4gICAgICAgICAgdGhpc1twcm9wXSA9IHBhcnNlSW50KG51bVZhbCwgMTApOyAvLyBwZW5kOiBpcyB0aGlzIG5lY2Vzc2FyeT9cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICpcbiAgICogQWRkcyBhIG5ldyBhdHRyaWJ1dGUgb3IgY2hhbmdlcyB0aGUgdmFsdWUgb2YgYW4gZXhpc3RpbmcgYXR0cmlidXRlXG4gICAqIG9uIHRoZSBzcGVjaWZpZWQgZWxlbWVudC4gSWYgbm8gdmFsdWUgaXMgc3BlY2lmaWVkLCByZXR1cm5zIHRoZVxuICAgKiB2YWx1ZSBvZiB0aGUgZ2l2ZW4gYXR0cmlidXRlLCBvciBudWxsIGlmIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LlxuICAgKlxuICAgKiBAbWV0aG9kIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IHZhbHVlIG9mIGF0dHJpYnV0ZVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2IGNsYXNzPSdub3JlbmRlcic+PGNvZGU+XG4gICAqIHZhciBteURpdiA9IGNyZWF0ZURpdignSSBsaWtlIHBhbmRhcy4nKTtcbiAgICogbXlEaXYuYXR0cmlidXRlKCdhbGlnbicsICdjZW50ZXInKTtcbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgLyoqXG4gICAqIEBtZXRob2QgYXR0cmlidXRlXG4gICAqIEBwYXJhbSAge1N0cmluZ30gYXR0ciAgICAgICBhdHRyaWJ1dGUgdG8gc2V0XG4gICAqIEBwYXJhbSAge1N0cmluZ30gdmFsdWUgICAgICB2YWx1ZSB0byBhc3NpZ24gdG8gYXR0cmlidXRlXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHA1LkVsZW1lbnQucHJvdG90eXBlLmF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dHIsIHZhbHVlKSB7XG4gICAgLy9oYW5kbGluZyBmb3IgY2hlY2tib3hlcyBhbmQgcmFkaW9zIHRvIGVuc3VyZSBvcHRpb25zIGdldFxuICAgIC8vYXR0cmlidXRlcyBub3QgZGl2c1xuICAgIGlmIChcbiAgICAgIHRoaXMuZWx0LmZpcnN0Q2hpbGQgIT0gbnVsbCAmJlxuICAgICAgKHRoaXMuZWx0LmZpcnN0Q2hpbGQudHlwZSA9PT0gJ2NoZWNrYm94JyB8fFxuICAgICAgICB0aGlzLmVsdC5maXJzdENoaWxkLnR5cGUgPT09ICdyYWRpbycpXG4gICAgKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdGhpcy5lbHQuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZWx0LmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmVsdC5jaGlsZE5vZGVzW2ldLnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsdC5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWx0LnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIFJlbW92ZXMgYW4gYXR0cmlidXRlIG9uIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICpcbiAgICogQG1ldGhvZCByZW1vdmVBdHRyaWJ1dGVcbiAgICogQHBhcmFtICB7U3RyaW5nfSBhdHRyICAgICAgIGF0dHJpYnV0ZSB0byByZW1vdmVcbiAgICogQGNoYWluYWJsZVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgYnV0dG9uO1xuICAgKiB2YXIgY2hlY2tib3g7XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGNoZWNrYm94ID0gY3JlYXRlQ2hlY2tib3goJ2VuYWJsZScsIHRydWUpO1xuICAgKiAgIGNoZWNrYm94LmNoYW5nZWQoZW5hYmxlQnV0dG9uKTtcbiAgICogICBidXR0b24gPSBjcmVhdGVCdXR0b24oJ2J1dHRvbicpO1xuICAgKiAgIGJ1dHRvbi5wb3NpdGlvbigxMCwgMTApO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIGVuYWJsZUJ1dHRvbigpIHtcbiAgICogICBpZiAodGhpcy5jaGVja2VkKCkpIHtcbiAgICogICAgIC8vIFJlLWVuYWJsZSB0aGUgYnV0dG9uXG4gICAqICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgKiAgIH0gZWxzZSB7XG4gICAqICAgICAvLyBEaXNhYmxlIHRoZSBidXR0b25cbiAgICogICAgIGJ1dHRvbi5hdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xuICAgKiAgIH1cbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5FbGVtZW50LnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbihhdHRyKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5lbHQuZmlyc3RDaGlsZCAhPSBudWxsICYmXG4gICAgICAodGhpcy5lbHQuZmlyc3RDaGlsZC50eXBlID09PSAnY2hlY2tib3gnIHx8XG4gICAgICAgIHRoaXMuZWx0LmZpcnN0Q2hpbGQudHlwZSA9PT0gJ3JhZGlvJylcbiAgICApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbHQuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmVsdC5jaGlsZE5vZGVzW2ldLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5lbHQucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFaXRoZXIgcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgaWYgbm8gYXJndW1lbnRzXG4gICAqIGdpdmVuLCBvciBzZXRzIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudC5cbiAgICpcbiAgICogQG1ldGhvZCB2YWx1ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfSB2YWx1ZSBvZiB0aGUgZWxlbWVudFxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2IGNsYXNzPSdub3JlbmRlcic+PGNvZGU+XG4gICAqIC8vIGdldHMgdGhlIHZhbHVlXG4gICAqIHZhciBpbnA7XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGlucCA9IGNyZWF0ZUlucHV0KCcnKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBtb3VzZVByZXNzZWQoKSB7XG4gICAqICAgcHJpbnQoaW5wLnZhbHVlKCkpO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiAvLyBzZXRzIHRoZSB2YWx1ZVxuICAgKiB2YXIgaW5wO1xuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICBpbnAgPSBjcmVhdGVJbnB1dCgnbXlWYWx1ZScpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIG1vdXNlUHJlc3NlZCgpIHtcbiAgICogICBpbnAudmFsdWUoJ215VmFsdWUnKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICAvKipcbiAgICogQG1ldGhvZCB2YWx1ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSAgICAgdmFsdWVcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgcDUuRWxlbWVudC5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuZWx0LnZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmVsdC50eXBlID09PSAncmFuZ2UnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRoaXMuZWx0LnZhbHVlKTtcbiAgICAgIH0gZWxzZSByZXR1cm4gdGhpcy5lbHQudmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBTaG93cyB0aGUgY3VycmVudCBlbGVtZW50LiBFc3NlbnRpYWxseSwgc2V0dGluZyBkaXNwbGF5OmJsb2NrIGZvciB0aGUgc3R5bGUuXG4gICAqXG4gICAqIEBtZXRob2Qgc2hvd1xuICAgKiBAY2hhaW5hYmxlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogdmFyIGRpdiA9IGNyZWF0ZURpdignZGl2Jyk7XG4gICAqIGRpdi5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG4gICAqIGRpdi5zaG93KCk7IC8vIHR1cm5zIGRpc3BsYXkgdG8gYmxvY2tcbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgcDUuRWxlbWVudC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZWx0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgY3VycmVudCBlbGVtZW50LiBFc3NlbnRpYWxseSwgc2V0dGluZyBkaXNwbGF5Om5vbmUgZm9yIHRoZSBzdHlsZS5cbiAgICpcbiAgICogQG1ldGhvZCBoaWRlXG4gICAqIEBjaGFpbmFibGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdiBjbGFzcz0nbm9yZW5kZXInPjxjb2RlPlxuICAgKiB2YXIgZGl2ID0gY3JlYXRlRGl2KCd0aGlzIGlzIGEgZGl2Jyk7XG4gICAqIGRpdi5oaWRlKCk7XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHA1LkVsZW1lbnQucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVsdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBTZXRzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBlbGVtZW50LiBBVVRPIGNhbiBiZSB1c2VkIHRvXG4gICAqIG9ubHkgYWRqdXN0IG9uZSBkaW1lbnNpb24uIElmIG5vIGFyZ3VtZW50cyBnaXZlbiByZXR1cm5zIHRoZSB3aWR0aCBhbmQgaGVpZ2h0XG4gICAqIG9mIHRoZSBlbGVtZW50IGluIGFuIG9iamVjdC5cbiAgICpcbiAgICogQG1ldGhvZCBzaXplXG4gICAqIEByZXR1cm4ge09iamVjdH0gdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGVsZW1lbnQgaW4gYW4gb2JqZWN0XG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogdmFyIGRpdiA9IGNyZWF0ZURpdigndGhpcyBpcyBhIGRpdicpO1xuICAgKiBkaXYuc2l6ZSgxMDAsIDEwMCk7XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIHNpemVcbiAgICogQHBhcmFtICB7TnVtYmVyfENvbnN0YW50fSB3ICAgIHdpZHRoIG9mIHRoZSBlbGVtZW50LCBlaXRoZXIgQVVUTywgb3IgYSBudW1iZXJcbiAgICogQHBhcmFtICB7TnVtYmVyfENvbnN0YW50fSBbaF0gaGVpZ2h0IG9mIHRoZSBlbGVtZW50LCBlaXRoZXIgQVVUTywgb3IgYSBudW1iZXJcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgcDUuRWxlbWVudC5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uKHcsIGgpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgd2lkdGg6IHRoaXMuZWx0Lm9mZnNldFdpZHRoLCBoZWlnaHQ6IHRoaXMuZWx0Lm9mZnNldEhlaWdodCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYVcgPSB3O1xuICAgICAgdmFyIGFIID0gaDtcbiAgICAgIHZhciBBVVRPID0gcDUucHJvdG90eXBlLkFVVE87XG4gICAgICBpZiAoYVcgIT09IEFVVE8gfHwgYUggIT09IEFVVE8pIHtcbiAgICAgICAgaWYgKGFXID09PSBBVVRPKSB7XG4gICAgICAgICAgYVcgPSBoICogdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKGFIID09PSBBVVRPKSB7XG4gICAgICAgICAgYUggPSB3ICogdGhpcy5oZWlnaHQgLyB0aGlzLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBkaWZmIGZvciBjbnYgdnMgbm9ybWFsIGRpdlxuICAgICAgICBpZiAodGhpcy5lbHQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgIHZhciBqID0ge307XG4gICAgICAgICAgdmFyIGsgPSB0aGlzLmVsdC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgIHZhciBwcm9wO1xuICAgICAgICAgIGZvciAocHJvcCBpbiBrKSB7XG4gICAgICAgICAgICBqW3Byb3BdID0ga1twcm9wXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5lbHQuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGFXICogdGhpcy5fcEluc3QuX3BpeGVsRGVuc2l0eSk7XG4gICAgICAgICAgdGhpcy5lbHQuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBhSCAqIHRoaXMuX3BJbnN0Ll9waXhlbERlbnNpdHkpO1xuICAgICAgICAgIHRoaXMuZWx0LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICdzdHlsZScsXG4gICAgICAgICAgICAnd2lkdGg6JyArIGFXICsgJ3B4OyBoZWlnaHQ6JyArIGFIICsgJ3B4J1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5fcEluc3Quc2NhbGUoXG4gICAgICAgICAgICB0aGlzLl9wSW5zdC5fcGl4ZWxEZW5zaXR5LFxuICAgICAgICAgICAgdGhpcy5fcEluc3QuX3BpeGVsRGVuc2l0eVxuICAgICAgICAgICk7XG4gICAgICAgICAgZm9yIChwcm9wIGluIGopIHtcbiAgICAgICAgICAgIHRoaXMuZWx0LmdldENvbnRleHQoJzJkJylbcHJvcF0gPSBqW3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVsdC5zdHlsZS53aWR0aCA9IGFXICsgJ3B4JztcbiAgICAgICAgICB0aGlzLmVsdC5zdHlsZS5oZWlnaHQgPSBhSCArICdweCc7XG4gICAgICAgICAgdGhpcy5lbHQud2lkdGggPSBhVztcbiAgICAgICAgICB0aGlzLmVsdC5oZWlnaHQgPSBhSDtcbiAgICAgICAgICB0aGlzLndpZHRoID0gYVc7XG4gICAgICAgICAgdGhpcy5oZWlnaHQgPSBhSDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmVsdC5vZmZzZXRXaWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmVsdC5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX3BJbnN0ICYmIHRoaXMuX3BJbnN0Ll9jdXJFbGVtZW50KSB7XG4gICAgICAgICAgLy8gbWFpbiBjYW52YXMgYXNzb2NpYXRlZCB3aXRoIHA1IGluc3RhbmNlXG4gICAgICAgICAgaWYgKHRoaXMuX3BJbnN0Ll9jdXJFbGVtZW50LmVsdCA9PT0gdGhpcy5lbHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BJbnN0Ll9zZXRQcm9wZXJ0eSgnd2lkdGgnLCB0aGlzLmVsdC5vZmZzZXRXaWR0aCk7XG4gICAgICAgICAgICB0aGlzLl9wSW5zdC5fc2V0UHJvcGVydHkoJ2hlaWdodCcsIHRoaXMuZWx0Lm9mZnNldEhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGVsZW1lbnQgYW5kIGRlcmVnaXN0ZXJzIGFsbCBsaXN0ZW5lcnMuXG4gICAqIEBtZXRob2QgcmVtb3ZlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXYgY2xhc3M9J25vcmVuZGVyJz48Y29kZT5cbiAgICogdmFyIG15RGl2ID0gY3JlYXRlRGl2KCd0aGlzIGlzIHNvbWUgdGV4dCcpO1xuICAgKiBteURpdi5yZW1vdmUoKTtcbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgcDUuRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gZGVyZWdpc3RlciBldmVudHNcbiAgICBmb3IgKHZhciBldiBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIHRoaXMuZWx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXYsIHRoaXMuX2V2ZW50c1tldl0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5lbHQucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy5lbHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsdCk7XG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0aGF0IGdldHMgY2FsbGVkIGV2ZXJ5IHRpbWUgYSBmaWxlIHRoYXQgaXNcbiAgICogZHJvcHBlZCBvbiB0aGUgZWxlbWVudCBoYXMgYmVlbiBsb2FkZWQuXG4gICAqIHA1IHdpbGwgbG9hZCBldmVyeSBkcm9wcGVkIGZpbGUgaW50byBtZW1vcnkgYW5kIHBhc3MgaXQgYXMgYSBwNS5GaWxlIG9iamVjdCB0byB0aGUgY2FsbGJhY2suXG4gICAqIE11bHRpcGxlIGZpbGVzIGRyb3BwZWQgYXQgdGhlIHNhbWUgdGltZSB3aWxsIHJlc3VsdCBpbiBtdWx0aXBsZSBjYWxscyB0byB0aGUgY2FsbGJhY2suXG4gICAqXG4gICAqIFlvdSBjYW4gb3B0aW9uYWxseSBwYXNzIGEgc2Vjb25kIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgcmVnaXN0ZXJlZCB0byB0aGUgcmF3XG4gICAqIDxhIGhyZWY9XCJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvZHJvcFwiPmRyb3A8L2E+IGV2ZW50LlxuICAgKiBUaGUgY2FsbGJhY2sgd2lsbCB0aHVzIGJlIHByb3ZpZGVkIHRoZSBvcmlnaW5hbFxuICAgKiA8YSBocmVmPVwiaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RyYWdFdmVudFwiPkRyYWdFdmVudDwvYT4uXG4gICAqIERyb3BwaW5nIG11bHRpcGxlIGZpbGVzIGF0IHRoZSBzYW1lIHRpbWUgd2lsbCB0cmlnZ2VyIHRoZSBzZWNvbmQgY2FsbGJhY2sgb25jZSBwZXIgZHJvcCxcbiAgICogd2hlcmVhcyB0aGUgZmlyc3QgY2FsbGJhY2sgd2lsbCB0cmlnZ2VyIGZvciBlYWNoIGxvYWRlZCBmaWxlLlxuICAgKlxuICAgKiBAbWV0aG9kIGRyb3BcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrICBjYWxsYmFjayB0byByZWNlaXZlIGxvYWRlZCBmaWxlLlxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gW2Z4bl0gICAgIGNhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGZpbGVzIGFyZSBkcm9wcGVkLlxuICAgKiBAY2hhaW5hYmxlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXY+PGNvZGU+XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIHZhciBjID0gY3JlYXRlQ2FudmFzKDEwMCwgMTAwKTtcbiAgICogICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgdGV4dCgnZHJvcCBmaWxlJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogICBjLmRyb3AoZ290RmlsZSk7XG4gICAqIH1cbiAgICpcbiAgICogZnVuY3Rpb24gZ290RmlsZShmaWxlKSB7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIHRleHQoJ3JlY2VpdmVkIGZpbGU6Jywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogICB0ZXh0KGZpbGUubmFtZSwgd2lkdGggLyAyLCBoZWlnaHQgLyAyICsgNTApO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICpcbiAgICogPGRpdj48Y29kZT5cbiAgICogdmFyIGltZztcbiAgICpcbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgdmFyIGMgPSBjcmVhdGVDYW52YXMoMTAwLCAxMDApO1xuICAgKiAgIGJhY2tncm91bmQoMjAwKTtcbiAgICogICB0ZXh0QWxpZ24oQ0VOVEVSKTtcbiAgICogICB0ZXh0KCdkcm9wIGltYWdlJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogICBjLmRyb3AoZ290RmlsZSk7XG4gICAqIH1cbiAgICpcbiAgICogZnVuY3Rpb24gZHJhdygpIHtcbiAgICogICBpZiAoaW1nKSB7XG4gICAqICAgICBpbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgKiAgIH1cbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBnb3RGaWxlKGZpbGUpIHtcbiAgICogICBpbWcgPSBjcmVhdGVJbWcoZmlsZS5kYXRhKS5oaWRlKCk7XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKlxuICAgKiBAYWx0XG4gICAqIENhbnZhcyB0dXJucyBpbnRvIHdoYXRldmVyIGltYWdlIGlzIGRyYWdnZWQvZHJvcHBlZCBvbnRvIGl0LlxuICAgKi9cbiAgcDUuRWxlbWVudC5wcm90b3R5cGUuZHJvcCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBmeG4pIHtcbiAgICAvLyBJcyB0aGUgZmlsZSBzdHVmZiBzdXBwb3J0ZWQ/XG4gICAgaWYgKHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYikge1xuICAgICAgaWYgKCF0aGlzLl9kcmFnRGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5fZHJhZ0Rpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICB2YXIgcHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiB5b3Ugd2FudCB0byBiZSBhYmxlIHRvIGRyb3AgeW91J3ZlIGdvdCB0byB0dXJuIG9mZlxuICAgICAgICAvLyBhIGxvdCBvZiBkZWZhdWx0IGJlaGF2aW9yLlxuICAgICAgICAvLyBhdm9pZCBgYXR0YWNoTGlzdGVuZXJgIGhlcmUsIHNpbmNlIGl0IG92ZXJyaWRlcyBvdGhlciBoYW5kbGVycy5cbiAgICAgICAgdGhpcy5lbHQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBwcmV2ZW50RGVmYXVsdCk7XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGRyYWcgYXJlYSB3ZSBuZWVkIHRvIHR1cm4gb2ZmIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICAgIHRoaXMuZWx0LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIHByZXZlbnREZWZhdWx0KTtcbiAgICAgIH1cblxuICAgICAgLy8gQXR0YWNoIHRoZSBzZWNvbmQgYXJndW1lbnQgYXMgYSBjYWxsYmFjayB0aGF0IHJlY2VpdmVzIHRoZSByYXcgZHJvcCBldmVudFxuICAgICAgaWYgKHR5cGVvZiBmeG4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHA1LkVsZW1lbnQuX2F0dGFjaExpc3RlbmVyKCdkcm9wJywgZnhuLCB0aGlzKTtcbiAgICAgIH1cblxuICAgICAgLy8gRGVhbCB3aXRoIHRoZSBmaWxlc1xuICAgICAgcDUuRWxlbWVudC5fYXR0YWNoTGlzdGVuZXIoXG4gICAgICAgICdkcm9wJyxcbiAgICAgICAgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAvLyBBIEZpbGVMaXN0XG4gICAgICAgICAgdmFyIGZpbGVzID0gZXZ0LmRhdGFUcmFuc2Zlci5maWxlcztcblxuICAgICAgICAgIC8vIExvYWQgZWFjaCBvbmUgYW5kIHRyaWdnZXIgdGhlIGNhbGxiYWNrXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGYgPSBmaWxlc1tpXTtcbiAgICAgICAgICAgIHA1LkZpbGUuX2xvYWQoZiwgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ1RoZSBGaWxlIEFQSXMgYXJlIG5vdCBmdWxseSBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHA1Lk1lZGlhRWxlbWVudCBhZGRpdGlvbnNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogRXh0ZW5kcyA8YSBocmVmPVwiIy9wNS5FbGVtZW50XCI+cDUuRWxlbWVudDwvYT4gdG8gaGFuZGxlIGF1ZGlvIGFuZCB2aWRlby4gSW4gYWRkaXRpb24gdG8gdGhlIG1ldGhvZHNcbiAgICogb2YgPGEgaHJlZj1cIiMvcDUuRWxlbWVudFwiPnA1LkVsZW1lbnQ8L2E+LCBpdCBhbHNvIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNvbnRyb2xsaW5nIG1lZGlhLiBJdCBpcyBub3RcbiAgICogY2FsbGVkIGRpcmVjdGx5LCBidXQgPGEgaHJlZj1cIiMvcDUuTWVkaWFFbGVtZW50XCI+cDUuTWVkaWFFbGVtZW50PC9hPnMgYXJlIGNyZWF0ZWQgYnkgY2FsbGluZyA8YSBocmVmPVwiIy9wNS9jcmVhdGVWaWRlb1wiPmNyZWF0ZVZpZGVvPC9hPixcbiAgICogPGEgaHJlZj1cIiMvcDUvY3JlYXRlQXVkaW9cIj5jcmVhdGVBdWRpbzwvYT4sIGFuZCA8YSBocmVmPVwiIy9wNS9jcmVhdGVDYXB0dXJlXCI+Y3JlYXRlQ2FwdHVyZTwvYT4uXG4gICAqXG4gICAqIEBjbGFzcyBwNS5NZWRpYUVsZW1lbnRcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbHQgRE9NIG5vZGUgdGhhdCBpcyB3cmFwcGVkXG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQgPSBmdW5jdGlvbihlbHQsIHBJbnN0KSB7XG4gICAgcDUuRWxlbWVudC5jYWxsKHRoaXMsIGVsdCwgcEluc3QpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuZWx0LmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG5cbiAgICB0aGlzLl9wcmV2VGltZSA9IDA7XG4gICAgdGhpcy5fY3VlSURDb3VudGVyID0gMDtcbiAgICB0aGlzLl9jdWVzID0gW107XG4gICAgdGhpcy5fcGl4ZWxEZW5zaXR5ID0gMTtcbiAgICB0aGlzLl9tb2RpZmllZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BpeGVsc0RpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLl9waXhlbHNUaW1lID0gLTE7IC8vIHRoZSB0aW1lIGF0IHdoaWNoIHdlIGxhc3QgdXBkYXRlZCAncGl4ZWxzJ1xuXG4gICAgLyoqXG4gICAgICogUGF0aCB0byB0aGUgbWVkaWEgZWxlbWVudCBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgc3JjXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzcmNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxkaXY+PGNvZGU+XG4gICAgICogdmFyIGVsZTtcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgICAqICAgYmFja2dyb3VuZCgyNTApO1xuICAgICAqXG4gICAgICogICAvL3A1Lk1lZGlhRWxlbWVudCBvYmplY3RzIGFyZSB1c3VhbGx5IGNyZWF0ZWRcbiAgICAgKiAgIC8vYnkgY2FsbGluZyB0aGUgY3JlYXRlQXVkaW8oKSwgY3JlYXRlVmlkZW8oKSxcbiAgICAgKiAgIC8vYW5kIGNyZWF0ZUNhcHR1cmUoKSBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiAgIC8vSW4gdGhpcyBleGFtcGxlIHdlIGNyZWF0ZVxuICAgICAqICAgLy9hIG5ldyBwNS5NZWRpYUVsZW1lbnQgdmlhIGNyZWF0ZUF1ZGlvKCkuXG4gICAgICogICBlbGUgPSBjcmVhdGVBdWRpbygnYXNzZXRzL2JlYXQubXAzJyk7XG4gICAgICpcbiAgICAgKiAgIC8vV2UnbGwgc2V0IHVwIG91ciBleGFtcGxlIHNvIHRoYXRcbiAgICAgKiAgIC8vd2hlbiB5b3UgY2xpY2sgb24gdGhlIHRleHQsXG4gICAgICogICAvL2FuIGFsZXJ0IGJveCBkaXNwbGF5cyB0aGUgTWVkaWFFbGVtZW50J3NcbiAgICAgKiAgIC8vc3JjIGZpZWxkLlxuICAgICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAgICogICB0ZXh0KCdDbGljayBNZSEnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIG1vdXNlQ2xpY2tlZCgpIHtcbiAgICAgKiAgIC8vaGVyZSB3ZSB0ZXN0IGlmIHRoZSBtb3VzZSBpcyBvdmVyIHRoZVxuICAgICAqICAgLy9jYW52YXMgZWxlbWVudCB3aGVuIGl0J3MgY2xpY2tlZFxuICAgICAqICAgaWYgKG1vdXNlWCA+PSAwICYmIG1vdXNlWCA8PSB3aWR0aCAmJiBtb3VzZVkgPj0gMCAmJiBtb3VzZVkgPD0gaGVpZ2h0KSB7XG4gICAgICogICAgIC8vU2hvdyBvdXIgcDUuTWVkaWFFbGVtZW50J3Mgc3JjIGZpZWxkXG4gICAgICogICAgIGFsZXJ0KGVsZS5zcmMpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiA8L2NvZGU+PC9kaXY+XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYsICdzcmMnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZmlyc3RDaGlsZFNyYyA9IHNlbGYuZWx0LmNoaWxkcmVuWzBdLnNyYztcbiAgICAgICAgdmFyIHNyY1ZhbCA9IHNlbGYuZWx0LnNyYyA9PT0gd2luZG93LmxvY2F0aW9uLmhyZWYgPyAnJyA6IHNlbGYuZWx0LnNyYztcbiAgICAgICAgdmFyIHJldCA9XG4gICAgICAgICAgZmlyc3RDaGlsZFNyYyA9PT0gd2luZG93LmxvY2F0aW9uLmhyZWYgPyBzcmNWYWwgOiBmaXJzdENoaWxkU3JjO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmVsdC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHNlbGYuZWx0LnJlbW92ZUNoaWxkKHNlbGYuZWx0LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG4gICAgICAgIHNvdXJjZS5zcmMgPSBuZXdWYWx1ZTtcbiAgICAgICAgZWx0LmFwcGVuZENoaWxkKHNvdXJjZSk7XG4gICAgICAgIHNlbGYuZWx0LnNyYyA9IG5ld1ZhbHVlO1xuICAgICAgICBzZWxmLm1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHByaXZhdGUgX29uZW5kZWQgY2FsbGJhY2ssIHNldCBieSB0aGUgbWV0aG9kOiBvbmVuZGVkKGNhbGxiYWNrKVxuICAgIHNlbGYuX29uZW5kZWQgPSBmdW5jdGlvbigpIHt9O1xuICAgIHNlbGYuZWx0Lm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX29uZW5kZWQoc2VsZik7XG4gICAgfTtcbiAgfTtcbiAgcDUuTWVkaWFFbGVtZW50LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocDUuRWxlbWVudC5wcm90b3R5cGUpO1xuXG4gIC8qKlxuICAgKiBQbGF5IGFuIEhUTUw1IG1lZGlhIGVsZW1lbnQuXG4gICAqXG4gICAqIEBtZXRob2QgcGxheVxuICAgKiBAY2hhaW5hYmxlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXY+PGNvZGU+XG4gICAqIHZhciBlbGU7XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIC8vcDUuTWVkaWFFbGVtZW50IG9iamVjdHMgYXJlIHVzdWFsbHkgY3JlYXRlZFxuICAgKiAgIC8vYnkgY2FsbGluZyB0aGUgY3JlYXRlQXVkaW8oKSwgY3JlYXRlVmlkZW8oKSxcbiAgICogICAvL2FuZCBjcmVhdGVDYXB0dXJlKCkgZnVuY3Rpb25zLlxuICAgKlxuICAgKiAgIC8vSW4gdGhpcyBleGFtcGxlIHdlIGNyZWF0ZVxuICAgKiAgIC8vYSBuZXcgcDUuTWVkaWFFbGVtZW50IHZpYSBjcmVhdGVBdWRpbygpLlxuICAgKiAgIGVsZSA9IGNyZWF0ZUF1ZGlvKCdhc3NldHMvYmVhdC5tcDMnKTtcbiAgICpcbiAgICogICBiYWNrZ3JvdW5kKDI1MCk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgdGV4dCgnQ2xpY2sgdG8gUGxheSEnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIG1vdXNlQ2xpY2tlZCgpIHtcbiAgICogICAvL2hlcmUgd2UgdGVzdCBpZiB0aGUgbW91c2UgaXMgb3ZlciB0aGVcbiAgICogICAvL2NhbnZhcyBlbGVtZW50IHdoZW4gaXQncyBjbGlja2VkXG4gICAqICAgaWYgKG1vdXNlWCA+PSAwICYmIG1vdXNlWCA8PSB3aWR0aCAmJiBtb3VzZVkgPj0gMCAmJiBtb3VzZVkgPD0gaGVpZ2h0KSB7XG4gICAqICAgICAvL0hlcmUgd2UgY2FsbCB0aGUgcGxheSgpIGZ1bmN0aW9uIG9uXG4gICAqICAgICAvL3RoZSBwNS5NZWRpYUVsZW1lbnQgd2UgY3JlYXRlZCBhYm92ZS5cbiAgICogICAgIC8vVGhpcyB3aWxsIHN0YXJ0IHRoZSBhdWRpbyBzYW1wbGUuXG4gICAqICAgICBlbGUucGxheSgpO1xuICAgKlxuICAgKiAgICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgICAgdGV4dCgnWW91IGNsaWNrZWQgUGxheSEnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiAgIH1cbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5lbHQuY3VycmVudFRpbWUgPT09IHRoaXMuZWx0LmR1cmF0aW9uKSB7XG4gICAgICB0aGlzLmVsdC5jdXJyZW50VGltZSA9IDA7XG4gICAgfVxuICAgIHZhciBwcm9taXNlO1xuICAgIGlmICh0aGlzLmVsdC5yZWFkeVN0YXRlID4gMSkge1xuICAgICAgcHJvbWlzZSA9IHRoaXMuZWx0LnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW4gQ2hyb21lLCBwbGF5YmFjayBjYW5ub3QgcmVzdW1lIGFmdGVyIGJlaW5nIHN0b3BwZWQgYW5kIG11c3QgcmVsb2FkXG4gICAgICB0aGlzLmVsdC5sb2FkKCk7XG4gICAgICBwcm9taXNlID0gdGhpcy5lbHQucGxheSgpO1xuICAgIH1cbiAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLmNhdGNoKSB7XG4gICAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgJ1dBUk46IEVsZW1lbnQgcGxheSBtZXRob2QgcmFpc2VkIGFuIGVycm9yIGFzeW5jaHJvbm91c2x5JyxcbiAgICAgICAgICBlXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIGFuIEhUTUw1IG1lZGlhIGVsZW1lbnQgKHNldHMgY3VycmVudCB0aW1lIHRvIHplcm8pLlxuICAgKlxuICAgKiBAbWV0aG9kIHN0b3BcbiAgICogQGNoYWluYWJsZVxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiAvL1RoaXMgZXhhbXBsZSBib3RoIHN0YXJ0c1xuICAgKiAvL2FuZCBzdG9wcyBhIHNvdW5kIHNhbXBsZVxuICAgKiAvL3doZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBjYW52YXNcbiAgICpcbiAgICogLy9XZSB3aWxsIHN0b3JlIHRoZSBwNS5NZWRpYUVsZW1lbnRcbiAgICogLy9vYmplY3QgaW4gaGVyZVxuICAgKiB2YXIgZWxlO1xuICAgKlxuICAgKiAvL3doaWxlIG91ciBhdWRpbyBpcyBwbGF5aW5nLFxuICAgKiAvL3RoaXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZVxuICAgKiB2YXIgc2FtcGxlSXNQbGF5aW5nID0gZmFsc2U7XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIC8vSGVyZSB3ZSBjcmVhdGUgYSBwNS5NZWRpYUVsZW1lbnQgb2JqZWN0XG4gICAqICAgLy91c2luZyB0aGUgY3JlYXRlQXVkaW8oKSBmdW5jdGlvbi5cbiAgICogICBlbGUgPSBjcmVhdGVBdWRpbygnYXNzZXRzL2JlYXQubXAzJyk7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIHRleHRBbGlnbihDRU5URVIpO1xuICAgKiAgIHRleHQoJ0NsaWNrIHRvIHBsYXkhJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBtb3VzZUNsaWNrZWQoKSB7XG4gICAqICAgLy9oZXJlIHdlIHRlc3QgaWYgdGhlIG1vdXNlIGlzIG92ZXIgdGhlXG4gICAqICAgLy9jYW52YXMgZWxlbWVudCB3aGVuIGl0J3MgY2xpY2tlZFxuICAgKiAgIGlmIChtb3VzZVggPj0gMCAmJiBtb3VzZVggPD0gd2lkdGggJiYgbW91c2VZID49IDAgJiYgbW91c2VZIDw9IGhlaWdodCkge1xuICAgKiAgICAgYmFja2dyb3VuZCgyMDApO1xuICAgKlxuICAgKiAgICAgaWYgKHNhbXBsZUlzUGxheWluZykge1xuICAgKiAgICAgICAvL2lmIHRoZSBzYW1wbGUgaXMgY3VycmVudGx5IHBsYXlpbmdcbiAgICogICAgICAgLy9jYWxsaW5nIHRoZSBzdG9wKCkgZnVuY3Rpb24gb25cbiAgICogICAgICAgLy9vdXIgcDUuTWVkaWFFbGVtZW50IHdpbGwgc3RvcFxuICAgKiAgICAgICAvL2l0IGFuZCByZXNldCBpdHMgY3VycmVudFxuICAgKiAgICAgICAvL3RpbWUgdG8gMCAoaS5lLiBpdCB3aWxsIHN0YXJ0XG4gICAqICAgICAgIC8vYXQgdGhlIGJlZ2lubmluZyB0aGUgbmV4dCB0aW1lXG4gICAqICAgICAgIC8veW91IHBsYXkgaXQpXG4gICAqICAgICAgIGVsZS5zdG9wKCk7XG4gICAqXG4gICAqICAgICAgIHNhbXBsZUlzUGxheWluZyA9IGZhbHNlO1xuICAgKiAgICAgICB0ZXh0KCdDbGljayB0byBwbGF5IScsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAqICAgICB9IGVsc2Uge1xuICAgKiAgICAgICAvL2xvb3Agb3VyIHNvdW5kIGVsZW1lbnQgdW50aWwgd2VcbiAgICogICAgICAgLy9jYWxsIGVsZS5zdG9wKCkgb24gaXQuXG4gICAqICAgICAgIGVsZS5sb29wKCk7XG4gICAqXG4gICAqICAgICAgIHNhbXBsZUlzUGxheWluZyA9IHRydWU7XG4gICAqICAgICAgIHRleHQoJ0NsaWNrIHRvIHN0b3AhJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogICAgIH1cbiAgICogICB9XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgcDUuTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbHQucGF1c2UoKTtcbiAgICB0aGlzLmVsdC5jdXJyZW50VGltZSA9IDA7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhdXNlcyBhbiBIVE1MNSBtZWRpYSBlbGVtZW50LlxuICAgKlxuICAgKiBAbWV0aG9kIHBhdXNlXG4gICAqIEBjaGFpbmFibGVcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdj48Y29kZT5cbiAgICogLy9UaGlzIGV4YW1wbGUgYm90aCBzdGFydHNcbiAgICogLy9hbmQgcGF1c2VzIGEgc291bmQgc2FtcGxlXG4gICAqIC8vd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGNhbnZhc1xuICAgKlxuICAgKiAvL1dlIHdpbGwgc3RvcmUgdGhlIHA1Lk1lZGlhRWxlbWVudFxuICAgKiAvL29iamVjdCBpbiBoZXJlXG4gICAqIHZhciBlbGU7XG4gICAqXG4gICAqIC8vd2hpbGUgb3VyIGF1ZGlvIGlzIHBsYXlpbmcsXG4gICAqIC8vdGhpcyB3aWxsIGJlIHNldCB0byB0cnVlXG4gICAqIHZhciBzYW1wbGVJc1BsYXlpbmcgPSBmYWxzZTtcbiAgICpcbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgLy9IZXJlIHdlIGNyZWF0ZSBhIHA1Lk1lZGlhRWxlbWVudCBvYmplY3RcbiAgICogICAvL3VzaW5nIHRoZSBjcmVhdGVBdWRpbygpIGZ1bmN0aW9uLlxuICAgKiAgIGVsZSA9IGNyZWF0ZUF1ZGlvKCdhc3NldHMvbHVja3lfZHJhZ29ucy5tcDMnKTtcbiAgICogICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgdGV4dCgnQ2xpY2sgdG8gcGxheSEnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIG1vdXNlQ2xpY2tlZCgpIHtcbiAgICogICAvL2hlcmUgd2UgdGVzdCBpZiB0aGUgbW91c2UgaXMgb3ZlciB0aGVcbiAgICogICAvL2NhbnZhcyBlbGVtZW50IHdoZW4gaXQncyBjbGlja2VkXG4gICAqICAgaWYgKG1vdXNlWCA+PSAwICYmIG1vdXNlWCA8PSB3aWR0aCAmJiBtb3VzZVkgPj0gMCAmJiBtb3VzZVkgPD0gaGVpZ2h0KSB7XG4gICAqICAgICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqXG4gICAqICAgICBpZiAoc2FtcGxlSXNQbGF5aW5nKSB7XG4gICAqICAgICAgIC8vQ2FsbGluZyBwYXVzZSgpIG9uIG91clxuICAgKiAgICAgICAvL3A1Lk1lZGlhRWxlbWVudCB3aWxsIHN0b3AgaXRcbiAgICogICAgICAgLy9wbGF5aW5nLCBidXQgd2hlbiB3ZSBjYWxsIHRoZVxuICAgKiAgICAgICAvL2xvb3AoKSBvciBwbGF5KCkgZnVuY3Rpb25zXG4gICAqICAgICAgIC8vdGhlIHNhbXBsZSB3aWxsIHN0YXJ0IGZyb21cbiAgICogICAgICAgLy93aGVyZSB3ZSBwYXVzZWQgaXQuXG4gICAqICAgICAgIGVsZS5wYXVzZSgpO1xuICAgKlxuICAgKiAgICAgICBzYW1wbGVJc1BsYXlpbmcgPSBmYWxzZTtcbiAgICogICAgICAgdGV4dCgnQ2xpY2sgdG8gcmVzdW1lIScsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAqICAgICB9IGVsc2Uge1xuICAgKiAgICAgICAvL2xvb3Agb3VyIHNvdW5kIGVsZW1lbnQgdW50aWwgd2VcbiAgICogICAgICAgLy9jYWxsIGVsZS5wYXVzZSgpIG9uIGl0LlxuICAgKiAgICAgICBlbGUubG9vcCgpO1xuICAgKlxuICAgKiAgICAgICBzYW1wbGVJc1BsYXlpbmcgPSB0cnVlO1xuICAgKiAgICAgICB0ZXh0KCdDbGljayB0byBwYXVzZSEnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbHQucGF1c2UoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogU2V0ICdsb29wJyB0byB0cnVlIGZvciBhbiBIVE1MNSBtZWRpYSBlbGVtZW50LCBhbmQgc3RhcnRzIHBsYXlpbmcuXG4gICAqXG4gICAqIEBtZXRob2QgbG9vcFxuICAgKiBAY2hhaW5hYmxlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXY+PGNvZGU+XG4gICAqIC8vQ2xpY2tpbmcgdGhlIGNhbnZhcyB3aWxsIGxvb3BcbiAgICogLy90aGUgYXVkaW8gc2FtcGxlIHVudGlsIHRoZSB1c2VyXG4gICAqIC8vY2xpY2tzIGFnYWluIHRvIHN0b3AgaXRcbiAgICpcbiAgICogLy9XZSB3aWxsIHN0b3JlIHRoZSBwNS5NZWRpYUVsZW1lbnRcbiAgICogLy9vYmplY3QgaW4gaGVyZVxuICAgKiB2YXIgZWxlO1xuICAgKlxuICAgKiAvL3doaWxlIG91ciBhdWRpbyBpcyBwbGF5aW5nLFxuICAgKiAvL3RoaXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZVxuICAgKiB2YXIgc2FtcGxlSXNMb29waW5nID0gZmFsc2U7XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIC8vSGVyZSB3ZSBjcmVhdGUgYSBwNS5NZWRpYUVsZW1lbnQgb2JqZWN0XG4gICAqICAgLy91c2luZyB0aGUgY3JlYXRlQXVkaW8oKSBmdW5jdGlvbi5cbiAgICogICBlbGUgPSBjcmVhdGVBdWRpbygnYXNzZXRzL2x1Y2t5X2RyYWdvbnMubXAzJyk7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIHRleHRBbGlnbihDRU5URVIpO1xuICAgKiAgIHRleHQoJ0NsaWNrIHRvIGxvb3AhJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBtb3VzZUNsaWNrZWQoKSB7XG4gICAqICAgLy9oZXJlIHdlIHRlc3QgaWYgdGhlIG1vdXNlIGlzIG92ZXIgdGhlXG4gICAqICAgLy9jYW52YXMgZWxlbWVudCB3aGVuIGl0J3MgY2xpY2tlZFxuICAgKiAgIGlmIChtb3VzZVggPj0gMCAmJiBtb3VzZVggPD0gd2lkdGggJiYgbW91c2VZID49IDAgJiYgbW91c2VZIDw9IGhlaWdodCkge1xuICAgKiAgICAgYmFja2dyb3VuZCgyMDApO1xuICAgKlxuICAgKiAgICAgaWYgKCFzYW1wbGVJc0xvb3BpbmcpIHtcbiAgICogICAgICAgLy9sb29wIG91ciBzb3VuZCBlbGVtZW50IHVudGlsIHdlXG4gICAqICAgICAgIC8vY2FsbCBlbGUuc3RvcCgpIG9uIGl0LlxuICAgKiAgICAgICBlbGUubG9vcCgpO1xuICAgKlxuICAgKiAgICAgICBzYW1wbGVJc0xvb3BpbmcgPSB0cnVlO1xuICAgKiAgICAgICB0ZXh0KCdDbGljayB0byBzdG9wIScsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAqICAgICB9IGVsc2Uge1xuICAgKiAgICAgICBlbGUuc3RvcCgpO1xuICAgKlxuICAgKiAgICAgICBzYW1wbGVJc0xvb3BpbmcgPSBmYWxzZTtcbiAgICogICAgICAgdGV4dCgnQ2xpY2sgdG8gbG9vcCEnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVsdC5zZXRBdHRyaWJ1dGUoJ2xvb3AnLCB0cnVlKTtcbiAgICB0aGlzLnBsYXkoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgLyoqXG4gICAqIFNldCAnbG9vcCcgdG8gZmFsc2UgZm9yIGFuIEhUTUw1IG1lZGlhIGVsZW1lbnQuIEVsZW1lbnQgd2lsbCBzdG9wXG4gICAqIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kLlxuICAgKlxuICAgKiBAbWV0aG9kIG5vTG9vcFxuICAgKiBAY2hhaW5hYmxlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXY+PGNvZGU+XG4gICAqIC8vVGhpcyBleGFtcGxlIGJvdGggc3RhcnRzXG4gICAqIC8vYW5kIHN0b3BzIGxvb3Agb2Ygc291bmQgc2FtcGxlXG4gICAqIC8vd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGNhbnZhc1xuICAgKlxuICAgKiAvL1dlIHdpbGwgc3RvcmUgdGhlIHA1Lk1lZGlhRWxlbWVudFxuICAgKiAvL29iamVjdCBpbiBoZXJlXG4gICAqIHZhciBlbGU7XG4gICAqIC8vd2hpbGUgb3VyIGF1ZGlvIGlzIHBsYXlpbmcsXG4gICAqIC8vdGhpcyB3aWxsIGJlIHNldCB0byB0cnVlXG4gICAqIHZhciBzYW1wbGVJc1BsYXlpbmcgPSBmYWxzZTtcbiAgICpcbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgLy9IZXJlIHdlIGNyZWF0ZSBhIHA1Lk1lZGlhRWxlbWVudCBvYmplY3RcbiAgICogICAvL3VzaW5nIHRoZSBjcmVhdGVBdWRpbygpIGZ1bmN0aW9uLlxuICAgKiAgIGVsZSA9IGNyZWF0ZUF1ZGlvKCdhc3NldHMvYmVhdC5tcDMnKTtcbiAgICogICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgdGV4dCgnQ2xpY2sgdG8gcGxheSEnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIG1vdXNlQ2xpY2tlZCgpIHtcbiAgICogICAvL2hlcmUgd2UgdGVzdCBpZiB0aGUgbW91c2UgaXMgb3ZlciB0aGVcbiAgICogICAvL2NhbnZhcyBlbGVtZW50IHdoZW4gaXQncyBjbGlja2VkXG4gICAqICAgaWYgKG1vdXNlWCA+PSAwICYmIG1vdXNlWCA8PSB3aWR0aCAmJiBtb3VzZVkgPj0gMCAmJiBtb3VzZVkgPD0gaGVpZ2h0KSB7XG4gICAqICAgICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqXG4gICAqICAgICBpZiAoc2FtcGxlSXNQbGF5aW5nKSB7XG4gICAqICAgICAgIGVsZS5ub0xvb3AoKTtcbiAgICogICAgICAgdGV4dCgnTm8gbW9yZSBMb29wcyEnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiAgICAgfSBlbHNlIHtcbiAgICogICAgICAgZWxlLmxvb3AoKTtcbiAgICogICAgICAgc2FtcGxlSXNQbGF5aW5nID0gdHJ1ZTtcbiAgICogICAgICAgdGV4dCgnQ2xpY2sgdG8gc3RvcCBsb29waW5nIScsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAqICAgICB9XG4gICAqICAgfVxuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICpcbiAgICovXG4gIHA1Lk1lZGlhRWxlbWVudC5wcm90b3R5cGUubm9Mb29wID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbHQuc2V0QXR0cmlidXRlKCdsb29wJywgZmFsc2UpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgSFRNTDUgbWVkaWEgZWxlbWVudCB0byBhdXRvcGxheSBvciBub3QuXG4gICAqXG4gICAqIEBtZXRob2QgYXV0b3BsYXlcbiAgICogQHBhcmFtIHtCb29sZWFufSBhdXRvcGxheSB3aGV0aGVyIHRoZSBlbGVtZW50IHNob3VsZCBhdXRvcGxheVxuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmF1dG9wbGF5ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdGhpcy5lbHQuc2V0QXR0cmlidXRlKCdhdXRvcGxheScsIHZhbCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdm9sdW1lIGZvciB0aGlzIEhUTUw1IG1lZGlhIGVsZW1lbnQuIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLFxuICAgKiByZXR1cm5zIHRoZSBjdXJyZW50IHZvbHVtZS5cbiAgICpcbiAgICogQG1ldGhvZCB2b2x1bWVcbiAgICogQHJldHVybiB7TnVtYmVyfSBjdXJyZW50IHZvbHVtZVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgZWxlO1xuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICAvLyBwNS5NZWRpYUVsZW1lbnQgb2JqZWN0cyBhcmUgdXN1YWxseSBjcmVhdGVkXG4gICAqICAgLy8gYnkgY2FsbGluZyB0aGUgY3JlYXRlQXVkaW8oKSwgY3JlYXRlVmlkZW8oKSxcbiAgICogICAvLyBhbmQgY3JlYXRlQ2FwdHVyZSgpIGZ1bmN0aW9ucy5cbiAgICogICAvLyBJbiB0aGlzIGV4YW1wbGUgd2UgY3JlYXRlXG4gICAqICAgLy8gYSBuZXcgcDUuTWVkaWFFbGVtZW50IHZpYSBjcmVhdGVBdWRpbygpLlxuICAgKiAgIGVsZSA9IGNyZWF0ZUF1ZGlvKCdhc3NldHMvbHVja3lfZHJhZ29ucy5tcDMnKTtcbiAgICogICBiYWNrZ3JvdW5kKDI1MCk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgdGV4dCgnQ2xpY2sgdG8gUGxheSEnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiB9XG4gICAqIGZ1bmN0aW9uIG1vdXNlQ2xpY2tlZCgpIHtcbiAgICogICAvLyBIZXJlIHdlIGNhbGwgdGhlIHZvbHVtZSgpIGZ1bmN0aW9uXG4gICAqICAgLy8gb24gdGhlIHNvdW5kIGVsZW1lbnQgdG8gc2V0IGl0cyB2b2x1bWVcbiAgICogICAvLyBWb2x1bWUgbXVzdCBiZSBiZXR3ZWVuIDAuMCBhbmQgMS4wXG4gICAqICAgZWxlLnZvbHVtZSgwLjIpO1xuICAgKiAgIGVsZS5wbGF5KCk7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIHRleHQoJ1lvdSBjbGlja2VkIFBsYXkhJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqIDxkaXY+PGNvZGU+XG4gICAqIHZhciBhdWRpbztcbiAgICogdmFyIGNvdW50ZXIgPSAwO1xuICAgKlxuICAgKiBmdW5jdGlvbiBsb2FkZWQoKSB7XG4gICAqICAgYXVkaW8ucGxheSgpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGF1ZGlvID0gY3JlYXRlQXVkaW8oJ2Fzc2V0cy9sdWNreV9kcmFnb25zLm1wMycsIGxvYWRlZCk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqIH1cbiAgICpcbiAgICogZnVuY3Rpb24gZHJhdygpIHtcbiAgICogICBpZiAoY291bnRlciA9PT0gMCkge1xuICAgKiAgICAgYmFja2dyb3VuZCgwLCAyNTUsIDApO1xuICAgKiAgICAgdGV4dCgndm9sdW1lKDAuOSknLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiAgIH0gZWxzZSBpZiAoY291bnRlciA9PT0gMSkge1xuICAgKiAgICAgYmFja2dyb3VuZCgyNTUsIDI1NSwgMCk7XG4gICAqICAgICB0ZXh0KCd2b2x1bWUoMC41KScsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAqICAgfSBlbHNlIGlmIChjb3VudGVyID09PSAyKSB7XG4gICAqICAgICBiYWNrZ3JvdW5kKDI1NSwgMCwgMCk7XG4gICAqICAgICB0ZXh0KCd2b2x1bWUoMC4xKScsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAqICAgfVxuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIG1vdXNlUHJlc3NlZCgpIHtcbiAgICogICBjb3VudGVyKys7XG4gICAqICAgaWYgKGNvdW50ZXIgPT09IDApIHtcbiAgICogICAgIGF1ZGlvLnZvbHVtZSgwLjkpO1xuICAgKiAgIH0gZWxzZSBpZiAoY291bnRlciA9PT0gMSkge1xuICAgKiAgICAgYXVkaW8udm9sdW1lKDAuNSk7XG4gICAqICAgfSBlbHNlIGlmIChjb3VudGVyID09PSAyKSB7XG4gICAqICAgICBhdWRpby52b2x1bWUoMC4xKTtcbiAgICogICB9IGVsc2Uge1xuICAgKiAgICAgY291bnRlciA9IDA7XG4gICAqICAgICBhdWRpby52b2x1bWUoMC45KTtcbiAgICogICB9XG4gICAqIH1cbiAgICogPC9jb2RlPlxuICAgKiA8L2Rpdj5cbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIHZvbHVtZVxuICAgKiBAcGFyYW0ge051bWJlcn0gICAgICAgICAgICB2YWwgdm9sdW1lIGJldHdlZW4gMC4wIGFuZCAxLjBcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgcDUuTWVkaWFFbGVtZW50LnByb3RvdHlwZS52b2x1bWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsdC52b2x1bWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWx0LnZvbHVtZSA9IHZhbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIElmIG5vIGFyZ3VtZW50cyBhcmUgZ2l2ZW4sIHJldHVybnMgdGhlIGN1cnJlbnQgcGxheWJhY2sgc3BlZWQgb2YgdGhlXG4gICAqIGVsZW1lbnQuIFRoZSBzcGVlZCBwYXJhbWV0ZXIgc2V0cyB0aGUgc3BlZWQgd2hlcmUgMi4wIHdpbGwgcGxheSB0aGVcbiAgICogZWxlbWVudCB0d2ljZSBhcyBmYXN0LCAwLjUgd2lsbCBwbGF5IGF0IGhhbGYgdGhlIHNwZWVkLCBhbmQgLTEgd2lsbCBwbGF5XG4gICAqIHRoZSBlbGVtZW50IGluIG5vcm1hbCBzcGVlZCBpbiByZXZlcnNlLihOb3RlIHRoYXQgbm90IGFsbCBicm93c2VycyBzdXBwb3J0XG4gICAqIGJhY2t3YXJkIHBsYXliYWNrIGFuZCBldmVuIGlmIHRoZXkgZG8sIHBsYXliYWNrIG1pZ2h0IG5vdCBiZSBzbW9vdGguKVxuICAgKlxuICAgKiBAbWV0aG9kIHNwZWVkXG4gICAqIEByZXR1cm4ge051bWJlcn0gY3VycmVudCBwbGF5YmFjayBzcGVlZCBvZiB0aGUgZWxlbWVudFxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2IGNsYXNzPSdub3JlbmRlciBub3Rlc3QnPjxjb2RlPlxuICAgKiAvL0NsaWNraW5nIHRoZSBjYW52YXMgd2lsbCBsb29wXG4gICAqIC8vdGhlIGF1ZGlvIHNhbXBsZSB1bnRpbCB0aGUgdXNlclxuICAgKiAvL2NsaWNrcyBhZ2FpbiB0byBzdG9wIGl0XG4gICAqXG4gICAqIC8vV2Ugd2lsbCBzdG9yZSB0aGUgcDUuTWVkaWFFbGVtZW50XG4gICAqIC8vb2JqZWN0IGluIGhlcmVcbiAgICogdmFyIGVsZTtcbiAgICogdmFyIGJ1dHRvbjtcbiAgICpcbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgY3JlYXRlQ2FudmFzKDcxMCwgNDAwKTtcbiAgICogICAvL0hlcmUgd2UgY3JlYXRlIGEgcDUuTWVkaWFFbGVtZW50IG9iamVjdFxuICAgKiAgIC8vdXNpbmcgdGhlIGNyZWF0ZUF1ZGlvKCkgZnVuY3Rpb24uXG4gICAqICAgZWxlID0gY3JlYXRlQXVkaW8oJ2Fzc2V0cy9iZWF0Lm1wMycpO1xuICAgKiAgIGVsZS5sb29wKCk7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKlxuICAgKiAgIGJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbignMnggc3BlZWQnKTtcbiAgICogICBidXR0b24ucG9zaXRpb24oMTAwLCA2OCk7XG4gICAqICAgYnV0dG9uLm1vdXNlUHJlc3NlZCh0d2ljZV9zcGVlZCk7XG4gICAqXG4gICAqICAgYnV0dG9uID0gY3JlYXRlQnV0dG9uKCdoYWxmIHNwZWVkJyk7XG4gICAqICAgYnV0dG9uLnBvc2l0aW9uKDIwMCwgNjgpO1xuICAgKiAgIGJ1dHRvbi5tb3VzZVByZXNzZWQoaGFsZl9zcGVlZCk7XG4gICAqXG4gICAqICAgYnV0dG9uID0gY3JlYXRlQnV0dG9uKCdyZXZlcnNlIHBsYXknKTtcbiAgICogICBidXR0b24ucG9zaXRpb24oMzAwLCA2OCk7XG4gICAqICAgYnV0dG9uLm1vdXNlUHJlc3NlZChyZXZlcnNlX3NwZWVkKTtcbiAgICpcbiAgICogICBidXR0b24gPSBjcmVhdGVCdXR0b24oJ1NUT1AnKTtcbiAgICogICBidXR0b24ucG9zaXRpb24oNDAwLCA2OCk7XG4gICAqICAgYnV0dG9uLm1vdXNlUHJlc3NlZChzdG9wX3NvbmcpO1xuICAgKlxuICAgKiAgIGJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbignUExBWSEnKTtcbiAgICogICBidXR0b24ucG9zaXRpb24oNTAwLCA2OCk7XG4gICAqICAgYnV0dG9uLm1vdXNlUHJlc3NlZChwbGF5X3NwZWVkKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiB0d2ljZV9zcGVlZCgpIHtcbiAgICogICBlbGUuc3BlZWQoMik7XG4gICAqIH1cbiAgICpcbiAgICogZnVuY3Rpb24gaGFsZl9zcGVlZCgpIHtcbiAgICogICBlbGUuc3BlZWQoMC41KTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiByZXZlcnNlX3NwZWVkKCkge1xuICAgKiAgIGVsZS5zcGVlZCgtMSk7XG4gICAqIH1cbiAgICpcbiAgICogZnVuY3Rpb24gc3RvcF9zb25nKCkge1xuICAgKiAgIGVsZS5zdG9wKCk7XG4gICAqIH1cbiAgICpcbiAgICogZnVuY3Rpb24gcGxheV9zcGVlZCgpIHtcbiAgICogICBlbGUucGxheSgpO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIC8qKlxuICAgKiBAbWV0aG9kIHNwZWVkXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzcGVlZCAgc3BlZWQgbXVsdGlwbGllciBmb3IgZWxlbWVudCBwbGF5YmFja1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLnNwZWVkID0gZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcmVzZXRQbGF5YmFja1JhdGUgfHwgdGhpcy5lbHQucGxheWJhY2tSYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmVsdC5wbGF5YmFja1JhdGUgPSB2YWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByZXNldFBsYXliYWNrUmF0ZSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIElmIG5vIGFyZ3VtZW50cyBhcmUgZ2l2ZW4sIHJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgZWxlbWVudC5cbiAgICogSWYgYW4gYXJndW1lbnQgaXMgZ2l2ZW4gdGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgZWxlbWVudCBpcyBzZXQgdG8gaXQuXG4gICAqXG4gICAqIEBtZXRob2QgdGltZVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGN1cnJlbnQgdGltZSAoaW4gc2Vjb25kcylcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdj48Y29kZT5cbiAgICogdmFyIGVsZTtcbiAgICogdmFyIGJlZ2lubmluZyA9IHRydWU7XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIC8vcDUuTWVkaWFFbGVtZW50IG9iamVjdHMgYXJlIHVzdWFsbHkgY3JlYXRlZFxuICAgKiAgIC8vYnkgY2FsbGluZyB0aGUgY3JlYXRlQXVkaW8oKSwgY3JlYXRlVmlkZW8oKSxcbiAgICogICAvL2FuZCBjcmVhdGVDYXB0dXJlKCkgZnVuY3Rpb25zLlxuICAgKlxuICAgKiAgIC8vSW4gdGhpcyBleGFtcGxlIHdlIGNyZWF0ZVxuICAgKiAgIC8vYSBuZXcgcDUuTWVkaWFFbGVtZW50IHZpYSBjcmVhdGVBdWRpbygpLlxuICAgKiAgIGVsZSA9IGNyZWF0ZUF1ZGlvKCdhc3NldHMvbHVja3lfZHJhZ29ucy5tcDMnKTtcbiAgICogICBiYWNrZ3JvdW5kKDI1MCk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgdGV4dCgnc3RhcnQgYXQgYmVnaW5uaW5nJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogfVxuICAgKlxuICAgKiAvLyB0aGlzIGZ1bmN0aW9uIGZpcmVzIHdpdGggY2xpY2sgYW55d2hlcmVcbiAgICogZnVuY3Rpb24gbW91c2VQcmVzc2VkKCkge1xuICAgKiAgIGlmIChiZWdpbm5pbmcgPT09IHRydWUpIHtcbiAgICogICAgIC8vIGhlcmUgd2Ugc3RhcnQgdGhlIHNvdW5kIGF0IHRoZSBiZWdpbm5pbmdcbiAgICogICAgIC8vIHRpbWUoMCkgaXMgbm90IG5lY2Vzc2FyeSBoZXJlXG4gICAqICAgICAvLyBhcyB0aGlzIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdCBhc1xuICAgKiAgICAgLy8gcGxheSgpXG4gICAqICAgICBlbGUucGxheSgpLnRpbWUoMCk7XG4gICAqICAgICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqICAgICB0ZXh0KCdqdW1wIDIgc2VjIGluJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogICAgIGJlZ2lubmluZyA9IGZhbHNlO1xuICAgKiAgIH0gZWxzZSB7XG4gICAqICAgICAvLyBoZXJlIHdlIGp1bXAgMiBzZWNvbmRzIGludG8gdGhlIHNvdW5kXG4gICAqICAgICBlbGUucGxheSgpLnRpbWUoMik7XG4gICAqICAgICBiYWNrZ3JvdW5kKDI1MCk7XG4gICAqICAgICB0ZXh0KCdzdGFydCBhdCBiZWdpbm5pbmcnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiAgICAgYmVnaW5uaW5nID0gdHJ1ZTtcbiAgICogICB9XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgLyoqXG4gICAqIEBtZXRob2QgdGltZVxuICAgKiBAcGFyYW0ge051bWJlcn0gdGltZSB0aW1lIHRvIGp1bXAgdG8gKGluIHNlY29uZHMpXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHA1Lk1lZGlhRWxlbWVudC5wcm90b3R5cGUudGltZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRoaXMuZWx0LmN1cnJlbnRUaW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsdC5jdXJyZW50VGltZSA9IHZhbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZHVyYXRpb24gb2YgdGhlIEhUTUw1IG1lZGlhIGVsZW1lbnQuXG4gICAqXG4gICAqIEBtZXRob2QgZHVyYXRpb25cbiAgICogQHJldHVybiB7TnVtYmVyfSBkdXJhdGlvblxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgZWxlO1xuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICAvL3A1Lk1lZGlhRWxlbWVudCBvYmplY3RzIGFyZSB1c3VhbGx5IGNyZWF0ZWRcbiAgICogICAvL2J5IGNhbGxpbmcgdGhlIGNyZWF0ZUF1ZGlvKCksIGNyZWF0ZVZpZGVvKCksXG4gICAqICAgLy9hbmQgY3JlYXRlQ2FwdHVyZSgpIGZ1bmN0aW9ucy5cbiAgICogICAvL0luIHRoaXMgZXhhbXBsZSB3ZSBjcmVhdGVcbiAgICogICAvL2EgbmV3IHA1Lk1lZGlhRWxlbWVudCB2aWEgY3JlYXRlQXVkaW8oKS5cbiAgICogICBlbGUgPSBjcmVhdGVBdWRpbygnYXNzZXRzL2Rvb3JiZWxsLm1wMycpO1xuICAgKiAgIGJhY2tncm91bmQoMjUwKTtcbiAgICogICB0ZXh0QWxpZ24oQ0VOVEVSKTtcbiAgICogICB0ZXh0KCdDbGljayB0byBrbm93IHRoZSBkdXJhdGlvbiEnLCAxMCwgMjUsIDcwLCA4MCk7XG4gICAqIH1cbiAgICogZnVuY3Rpb24gbW91c2VDbGlja2VkKCkge1xuICAgKiAgIGVsZS5wbGF5KCk7XG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIC8vZWxlLmR1cmF0aW9uIGRpc2xwYXlzIHRoZSBkdXJhdGlvblxuICAgKiAgIHRleHQoZWxlLmR1cmF0aW9uKCkgKyAnIHNlY29uZHMnLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHA1Lk1lZGlhRWxlbWVudC5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5lbHQuZHVyYXRpb247XG4gIH07XG4gIHA1Lk1lZGlhRWxlbWVudC5wcm90b3R5cGUucGl4ZWxzID0gW107XG4gIHA1Lk1lZGlhRWxlbWVudC5wcm90b3R5cGUuX2Vuc3VyZUNhbnZhcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5jYW52YXMpIHRoaXMubG9hZFBpeGVscygpO1xuICB9O1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmxvYWRQaXhlbHMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgdGhpcy5kcmF3aW5nQ29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICAvLyB3YWl0IGZvciBtZXRhZGF0YSBmb3Igdy9oXG4gICAgICBpZiAodGhpcy5jYW52YXMud2lkdGggIT09IHRoaXMuZWx0LndpZHRoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5lbHQud2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuZWx0LmhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICAgICAgdGhpcy5fcGl4ZWxzRGlydHkgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLmVsdC5jdXJyZW50VGltZTtcbiAgICAgIGlmICh0aGlzLl9waXhlbHNEaXJ0eSB8fCB0aGlzLl9waXhlbHNUaW1lICE9PSBjdXJyZW50VGltZSkge1xuICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgcGl4ZWxzIGFycmF5IGlmIGl0J3MgZGlydHksIG9yXG4gICAgICAgIC8vIGlmIHRoZSB2aWRlbyB0aW1lIGhhcyBjaGFuZ2VkLlxuICAgICAgICB0aGlzLl9waXhlbHNUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgIHRoaXMuX3BpeGVsc0RpcnR5ID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmRyYXdpbmdDb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICB0aGlzLmVsdCxcbiAgICAgICAgICAwLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgdGhpcy5jYW52YXMud2lkdGgsXG4gICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0XG4gICAgICAgICk7XG4gICAgICAgIHA1LlJlbmRlcmVyMkQucHJvdG90eXBlLmxvYWRQaXhlbHMuY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zZXRNb2RpZmllZCh0cnVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgcDUuTWVkaWFFbGVtZW50LnByb3RvdHlwZS51cGRhdGVQaXhlbHMgPSBmdW5jdGlvbih4LCB5LCB3LCBoKSB7XG4gICAgaWYgKHRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgIC8vIHdhaXQgZm9yIG1ldGFkYXRhXG4gICAgICB0aGlzLl9lbnN1cmVDYW52YXMoKTtcbiAgICAgIHA1LlJlbmRlcmVyMkQucHJvdG90eXBlLnVwZGF0ZVBpeGVscy5jYWxsKHRoaXMsIHgsIHksIHcsIGgpO1xuICAgIH1cbiAgICB0aGlzLnNldE1vZGlmaWVkKHRydWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcbiAgICBpZiAodGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgLy8gd2FpdCBmb3IgbWV0YWRhdGFcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMuZWx0LmN1cnJlbnRUaW1lO1xuICAgICAgaWYgKHRoaXMuX3BpeGVsc1RpbWUgIT09IGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIHRoaXMubG9hZFBpeGVscygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZW5zdXJlQ2FudmFzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwNS5SZW5kZXJlcjJELnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLCB4LCB5LCB3LCBoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIG5ldyBwNS5JbWFnZSgxLCAxKTtcbiAgICB9IGVsc2UgaWYgKHcgPiAxKSB7XG4gICAgICByZXR1cm4gbmV3IHA1LkltYWdlKHgsIHksIHcsIGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gWzAsIDAsIDAsIDI1NV07XG4gICAgfVxuICB9O1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKHgsIHksIGltZ09yQ29sKSB7XG4gICAgaWYgKHRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgIC8vIHdhaXQgZm9yIG1ldGFkYXRhXG4gICAgICB0aGlzLl9lbnN1cmVDYW52YXMoKTtcbiAgICAgIHA1LlJlbmRlcmVyMkQucHJvdG90eXBlLnNldC5jYWxsKHRoaXMsIHgsIHksIGltZ09yQ29sKTtcbiAgICAgIHRoaXMuc2V0TW9kaWZpZWQodHJ1ZSk7XG4gICAgfVxuICB9O1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9lbnN1cmVDYW52YXMoKTtcbiAgICBwNS5SZW5kZXJlcjJELnByb3RvdHlwZS5jb3B5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG4gIHA1Lk1lZGlhRWxlbWVudC5wcm90b3R5cGUubWFzayA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubG9hZFBpeGVscygpO1xuICAgIHRoaXMuc2V0TW9kaWZpZWQodHJ1ZSk7XG4gICAgcDUuSW1hZ2UucHJvdG90eXBlLm1hc2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbiAgLyoqXG4gICAqIGhlbHBlciBtZXRob2QgZm9yIHdlYiBHTCBtb2RlIHRvIGZpZ3VyZSBvdXQgaWYgdGhlIGVsZW1lbnRcbiAgICogaGFzIGJlZW4gbW9kaWZpZWQgYW5kIG1pZ2h0IG5lZWQgdG8gYmUgcmUtdXBsb2FkZWQgdG8gdGV4dHVyZVxuICAgKiBtZW1vcnkgYmV0d2VlbiBmcmFtZXMuXG4gICAqIEBtZXRob2QgaXNNb2RpZmllZFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGVcbiAgICogaW1hZ2UgaGFzIGJlZW4gdXBkYXRlZCBvciBtb2RpZmllZCBzaW5jZSBsYXN0IHRleHR1cmUgdXBsb2FkLlxuICAgKi9cbiAgcDUuTWVkaWFFbGVtZW50LnByb3RvdHlwZS5pc01vZGlmaWVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vZGlmaWVkO1xuICB9O1xuICAvKipcbiAgICogaGVscGVyIG1ldGhvZCBmb3Igd2ViIEdMIG1vZGUgdG8gaW5kaWNhdGUgdGhhdCBhbiBlbGVtZW50IGhhcyBiZWVuXG4gICAqIGNoYW5nZWQgb3IgdW5jaGFuZ2VkIHNpbmNlIGxhc3QgdXBsb2FkLiBnbCB0ZXh0dXJlIHVwbG9hZCB3aWxsXG4gICAqIHNldCB0aGlzIHZhbHVlIHRvIGZhbHNlIGFmdGVyIHVwbG9hZGluZyB0aGUgdGV4dHVyZTsgb3IgbWlnaHQgc2V0XG4gICAqIGl0IHRvIHRydWUgaWYgbWV0YWRhdGEgaGFzIGJlY29tZSBhdmFpbGFibGUgYnV0IHRoZXJlIGlzIG5vIGFjdHVhbFxuICAgKiB0ZXh0dXJlIGRhdGEgYXZhaWxhYmxlIHlldC4uXG4gICAqIEBtZXRob2Qgc2V0TW9kaWZpZWRcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWwgc2V0cyB3aGV0aGVyIG9yIG5vdCB0aGUgZWxlbWVudCBoYXMgYmVlblxuICAgKiBtb2RpZmllZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHA1Lk1lZGlhRWxlbWVudC5wcm90b3R5cGUuc2V0TW9kaWZpZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX21vZGlmaWVkID0gdmFsdWU7XG4gIH07XG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhbiBldmVudCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgYXVkaW8gb3IgdmlkZW9cbiAgICogZWxlbWVudCByZWFjaGVzIHRoZSBlbmQuIElmIHRoZSBlbGVtZW50IGlzIGxvb3BpbmcsXG4gICAqIHRoaXMgd2lsbCBub3QgYmUgY2FsbGVkLiBUaGUgZWxlbWVudCBpcyBwYXNzZWQgaW5cbiAgICogYXMgdGhlIGFyZ3VtZW50IHRvIHRoZSBvbmVuZGVkIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWV0aG9kICBvbmVuZGVkXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VuZGZpbGUgaGFzIGVuZGVkLiBUaGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhIGVsZW1lbnQgd2lsbCBiZSBwYXNzZWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIGFzIHRoZSBhcmd1bWVudCB0byB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLlxuICAgKiBAY2hhaW5hYmxlXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXY+PGNvZGU+XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIHZhciBhdWRpb0VsID0gY3JlYXRlQXVkaW8oJ2Fzc2V0cy9iZWF0Lm1wMycpO1xuICAgKiAgIGF1ZGlvRWwuc2hvd0NvbnRyb2xzKCk7XG4gICAqICAgYXVkaW9FbC5vbmVuZGVkKHNheURvbmUpO1xuICAgKiB9XG4gICAqXG4gICAqIGZ1bmN0aW9uIHNheURvbmUoZWx0KSB7XG4gICAqICAgYWxlcnQoJ2RvbmUgcGxheWluZyAnICsgZWx0LnNyYyk7XG4gICAqIH1cbiAgICogPC9jb2RlPjwvZGl2PlxuICAgKi9cbiAgcDUuTWVkaWFFbGVtZW50LnByb3RvdHlwZS5vbmVuZGVkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB0aGlzLl9vbmVuZGVkID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqKiBDT05ORUNUIFRPIFdFQiBBVURJTyBBUEkgLyBwNS5zb3VuZC5qcyAqKiovXG5cbiAgLyoqXG4gICAqIFNlbmQgdGhlIGF1ZGlvIG91dHB1dCBvZiB0aGlzIGVsZW1lbnQgdG8gYSBzcGVjaWZpZWQgYXVkaW9Ob2RlIG9yXG4gICAqIHA1LnNvdW5kIG9iamVjdC4gSWYgbm8gZWxlbWVudCBpcyBwcm92aWRlZCwgY29ubmVjdHMgdG8gcDUncyBtYXN0ZXJcbiAgICogb3V0cHV0LiBUaGF0IGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgd2hlbiB0aGlzIG1ldGhvZCBpcyBmaXJzdCBjYWxsZWQuXG4gICAqIEFsbCBjb25uZWN0aW9ucyBhcmUgcmVtb3ZlZCBieSB0aGUgLmRpc2Nvbm5lY3QoKSBtZXRob2QuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIG1lYW50IHRvIGJlIHVzZWQgd2l0aCB0aGUgcDUuc291bmQuanMgYWRkb24gbGlicmFyeS5cbiAgICpcbiAgICogQG1ldGhvZCAgY29ubmVjdFxuICAgKiBAcGFyYW0gIHtBdWRpb05vZGV8T2JqZWN0fSBhdWRpb05vZGUgQXVkaW9Ob2RlIGZyb20gdGhlIFdlYiBBdWRpbyBBUEksXG4gICAqIG9yIGFuIG9iamVjdCBmcm9tIHRoZSBwNS5zb3VuZCBsaWJyYXJ5XG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgYXVkaW9Db250ZXh0LCBtYXN0ZXJPdXRwdXQ7XG5cbiAgICAvLyBpZiBwNS5zb3VuZCBleGlzdHMsIHNhbWUgYXVkaW8gY29udGV4dFxuICAgIGlmICh0eXBlb2YgcDUucHJvdG90eXBlLmdldEF1ZGlvQ29udGV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXVkaW9Db250ZXh0ID0gcDUucHJvdG90eXBlLmdldEF1ZGlvQ29udGV4dCgpO1xuICAgICAgbWFzdGVyT3V0cHV0ID0gcDUuc291bmRPdXQuaW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF1ZGlvQ29udGV4dCA9IG9iai5jb250ZXh0O1xuICAgICAgICBtYXN0ZXJPdXRwdXQgPSBhdWRpb0NvbnRleHQuZGVzdGluYXRpb247XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93ICdjb25uZWN0KCkgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aXRoIFdlYiBBdWRpbyBBUEkgb3IgcDUuc291bmQuanMnO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBhIFdlYiBBdWRpbyBNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGUgaWYgbm9uZSBhbHJlYWR5IGV4aXN0c1xuICAgIGlmICghdGhpcy5hdWRpb1NvdXJjZU5vZGUpIHtcbiAgICAgIHRoaXMuYXVkaW9Tb3VyY2VOb2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0aGlzLmVsdCk7XG5cbiAgICAgIC8vIGNvbm5lY3QgdG8gbWFzdGVyIG91dHB1dCB3aGVuIHRoaXMgbWV0aG9kIGlzIGZpcnN0IGNhbGxlZFxuICAgICAgdGhpcy5hdWRpb1NvdXJjZU5vZGUuY29ubmVjdChtYXN0ZXJPdXRwdXQpO1xuICAgIH1cblxuICAgIC8vIGNvbm5lY3QgdG8gb2JqZWN0IGlmIHByb3ZpZGVkXG4gICAgaWYgKG9iaikge1xuICAgICAgaWYgKG9iai5pbnB1dCkge1xuICAgICAgICB0aGlzLmF1ZGlvU291cmNlTm9kZS5jb25uZWN0KG9iai5pbnB1dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmF1ZGlvU291cmNlTm9kZS5jb25uZWN0KG9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG90aGVyd2lzZSBjb25uZWN0IHRvIG1hc3RlciBvdXRwdXQgb2YgcDUuc291bmQgLyBBdWRpb0NvbnRleHRcbiAgICAgIHRoaXMuYXVkaW9Tb3VyY2VOb2RlLmNvbm5lY3QobWFzdGVyT3V0cHV0KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3QgYWxsIFdlYiBBdWRpbyByb3V0aW5nLCBpbmNsdWRpbmcgdG8gbWFzdGVyIG91dHB1dC5cbiAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcmUtcm91dGUgdGhlIG91dHB1dCB0aHJvdWdoXG4gICAqIGF1ZGlvIGVmZmVjdHMsIGZvciBleGFtcGxlLlxuICAgKlxuICAgKiBAbWV0aG9kICBkaXNjb25uZWN0XG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5hdWRpb1NvdXJjZU5vZGUpIHtcbiAgICAgIHRoaXMuYXVkaW9Tb3VyY2VOb2RlLmRpc2Nvbm5lY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgJ25vdGhpbmcgdG8gZGlzY29ubmVjdCc7XG4gICAgfVxuICB9O1xuXG4gIC8qKiogU0hPVyAvIEhJREUgQ09OVFJPTFMgKioqL1xuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBkZWZhdWx0IE1lZGlhRWxlbWVudCBjb250cm9scywgYXMgZGV0ZXJtaW5lZCBieSB0aGUgd2ViIGJyb3dzZXIuXG4gICAqXG4gICAqIEBtZXRob2QgIHNob3dDb250cm9sc1xuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgZWxlO1xuICAgKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICogICAvL3A1Lk1lZGlhRWxlbWVudCBvYmplY3RzIGFyZSB1c3VhbGx5IGNyZWF0ZWRcbiAgICogICAvL2J5IGNhbGxpbmcgdGhlIGNyZWF0ZUF1ZGlvKCksIGNyZWF0ZVZpZGVvKCksXG4gICAqICAgLy9hbmQgY3JlYXRlQ2FwdHVyZSgpIGZ1bmN0aW9ucy5cbiAgICogICAvL0luIHRoaXMgZXhhbXBsZSB3ZSBjcmVhdGVcbiAgICogICAvL2EgbmV3IHA1Lk1lZGlhRWxlbWVudCB2aWEgY3JlYXRlQXVkaW8oKVxuICAgKiAgIGVsZSA9IGNyZWF0ZUF1ZGlvKCdhc3NldHMvbHVja3lfZHJhZ29ucy5tcDMnKTtcbiAgICogICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgdGV4dCgnQ2xpY2sgdG8gU2hvdyBDb250cm9scyEnLCAxMCwgMjUsIDcwLCA4MCk7XG4gICAqIH1cbiAgICogZnVuY3Rpb24gbW91c2VQcmVzc2VkKCkge1xuICAgKiAgIGVsZS5zaG93Q29udHJvbHMoKTtcbiAgICogICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqICAgdGV4dCgnQ29udHJvbHMgU2hvd24nLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgKiB9XG4gICAqIDwvY29kZT48L2Rpdj5cbiAgICovXG4gIHA1Lk1lZGlhRWxlbWVudC5wcm90b3R5cGUuc2hvd0NvbnRyb2xzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gbXVzdCBzZXQgc3R5bGUgZm9yIHRoZSBlbGVtZW50IHRvIHNob3cgb24gdGhlIHBhZ2VcbiAgICB0aGlzLmVsdC5zdHlsZVsndGV4dC1hbGlnbiddID0gJ2luaGVyaXQnO1xuICAgIHRoaXMuZWx0LmNvbnRyb2xzID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogSGlkZSB0aGUgZGVmYXVsdCBtZWRpYUVsZW1lbnQgY29udHJvbHMuXG4gICAqIEBtZXRob2QgaGlkZUNvbnRyb2xzXG4gICAqIEBleGFtcGxlXG4gICAqIDxkaXY+PGNvZGU+XG4gICAqIHZhciBlbGU7XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIC8vcDUuTWVkaWFFbGVtZW50IG9iamVjdHMgYXJlIHVzdWFsbHkgY3JlYXRlZFxuICAgKiAgIC8vYnkgY2FsbGluZyB0aGUgY3JlYXRlQXVkaW8oKSwgY3JlYXRlVmlkZW8oKSxcbiAgICogICAvL2FuZCBjcmVhdGVDYXB0dXJlKCkgZnVuY3Rpb25zLlxuICAgKiAgIC8vSW4gdGhpcyBleGFtcGxlIHdlIGNyZWF0ZVxuICAgKiAgIC8vYSBuZXcgcDUuTWVkaWFFbGVtZW50IHZpYSBjcmVhdGVBdWRpbygpXG4gICAqICAgZWxlID0gY3JlYXRlQXVkaW8oJ2Fzc2V0cy9sdWNreV9kcmFnb25zLm1wMycpO1xuICAgKiAgIGVsZS5zaG93Q29udHJvbHMoKTtcbiAgICogICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqICAgdGV4dEFsaWduKENFTlRFUik7XG4gICAqICAgdGV4dCgnQ2xpY2sgdG8gaGlkZSBDb250cm9scyEnLCAxMCwgMjUsIDcwLCA4MCk7XG4gICAqIH1cbiAgICogZnVuY3Rpb24gbW91c2VQcmVzc2VkKCkge1xuICAgKiAgIGVsZS5oaWRlQ29udHJvbHMoKTtcbiAgICogICBiYWNrZ3JvdW5kKDIwMCk7XG4gICAqICAgdGV4dCgnQ29udHJvbHMgaGlkZGVuJywgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmhpZGVDb250cm9scyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZWx0LmNvbnRyb2xzID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqKiBTQ0hFRFVMRSBFVkVOVFMgKioqL1xuXG4gIC8vIEN1ZSBpbnNwaXJlZCBieSBKYXZhU2NyaXB0IHNldFRpbWVvdXQsIGFuZCB0aGVcbiAgLy8gVG9uZS5qcyBUcmFuc3BvcnQgVGltZWxpbmUgRXZlbnQsIE1JVCBMaWNlbnNlIFlvdGFtIE1hbm4gMjAxNSB0b25lanMub3JnXG4gIHZhciBDdWUgPSBmdW5jdGlvbihjYWxsYmFjaywgdGltZSwgaWQsIHZhbCkge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLnRpbWUgPSB0aW1lO1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLnZhbCA9IHZhbDtcbiAgfTtcblxuICAvKipcbiAgICogU2NoZWR1bGUgZXZlbnRzIHRvIHRyaWdnZXIgZXZlcnkgdGltZSBhIE1lZGlhRWxlbWVudFxuICAgKiAoYXVkaW8vdmlkZW8pIHJlYWNoZXMgYSBwbGF5YmFjayBjdWUgcG9pbnQuXG4gICAqXG4gICAqIEFjY2VwdHMgYSBjYWxsYmFjayBmdW5jdGlvbiwgYSB0aW1lIChpbiBzZWNvbmRzKSBhdCB3aGljaCB0byB0cmlnZ2VyXG4gICAqIHRoZSBjYWxsYmFjaywgYW5kIGFuIG9wdGlvbmFsIHBhcmFtZXRlciBmb3IgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBUaW1lIHdpbGwgYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLFxuICAgKiBhbmQgcGFyYW0gd2lsbCBiZSB0aGUgc2Vjb25kIHBhcmFtZXRlci5cbiAgICpcbiAgICpcbiAgICogQG1ldGhvZCAgYWRkQ3VlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSAgIHRpbWUgICAgIFRpbWUgaW4gc2Vjb25kcywgcmVsYXRpdmUgdG8gdGhpcyBtZWRpYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCdzIHBsYXliYWNrLiBGb3IgZXhhbXBsZSwgdG8gdHJpZ2dlclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW4gZXZlbnQgZXZlcnkgdGltZSBwbGF5YmFjayByZWFjaGVzIHR3b1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcywgcGFzcyBpbiB0aGUgbnVtYmVyIDIuIFRoaXMgd2lsbCBiZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VkIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIgdG9cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgTmFtZSBvZiBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGVkIGF0IHRoZSBnaXZlbiB0aW1lLiBUaGUgY2FsbGJhY2sgd2lsbFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZSB0aW1lIGFuZCAob3B0aW9uYWxseSkgcGFyYW0gYXMgaXRzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0d28gcGFyYW1ldGVycy5cbiAgICogQHBhcmFtIHtPYmplY3R9IFt2YWx1ZV0gICAgQW4gb2JqZWN0IHRvIGJlIHBhc3NlZCBhcyB0aGVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZCBwYXJhbWV0ZXIgdG8gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7TnVtYmVyfSBpZCBJRCBvZiB0aGlzIGN1ZSxcbiAgICogICAgICAgICAgICAgICAgICAgICB1c2VmdWwgZm9yIHJlbW92ZUN1ZShpZClcbiAgICogQGV4YW1wbGVcbiAgICogPGRpdj48Y29kZT5cbiAgICogLy9cbiAgICogLy9cbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgbm9DYW52YXMoKTtcbiAgICpcbiAgICogICB2YXIgYXVkaW9FbCA9IGNyZWF0ZUF1ZGlvKCdhc3NldHMvYmVhdC5tcDMnKTtcbiAgICogICBhdWRpb0VsLnNob3dDb250cm9scygpO1xuICAgKlxuICAgKiAgIC8vIHNjaGVkdWxlIHRocmVlIGNhbGxzIHRvIGNoYW5nZUJhY2tncm91bmRcbiAgICogICBhdWRpb0VsLmFkZEN1ZSgwLjUsIGNoYW5nZUJhY2tncm91bmQsIGNvbG9yKDI1NSwgMCwgMCkpO1xuICAgKiAgIGF1ZGlvRWwuYWRkQ3VlKDEuMCwgY2hhbmdlQmFja2dyb3VuZCwgY29sb3IoMCwgMjU1LCAwKSk7XG4gICAqICAgYXVkaW9FbC5hZGRDdWUoMi41LCBjaGFuZ2VCYWNrZ3JvdW5kLCBjb2xvcigwLCAwLCAyNTUpKTtcbiAgICogICBhdWRpb0VsLmFkZEN1ZSgzLjAsIGNoYW5nZUJhY2tncm91bmQsIGNvbG9yKDAsIDI1NSwgMjU1KSk7XG4gICAqICAgYXVkaW9FbC5hZGRDdWUoNC4yLCBjaGFuZ2VCYWNrZ3JvdW5kLCBjb2xvcigyNTUsIDI1NSwgMCkpO1xuICAgKiAgIGF1ZGlvRWwuYWRkQ3VlKDUuMCwgY2hhbmdlQmFja2dyb3VuZCwgY29sb3IoMjU1LCAyNTUsIDApKTtcbiAgICogfVxuICAgKlxuICAgKiBmdW5jdGlvbiBjaGFuZ2VCYWNrZ3JvdW5kKHZhbCkge1xuICAgKiAgIGJhY2tncm91bmQodmFsKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmFkZEN1ZSA9IGZ1bmN0aW9uKHRpbWUsIGNhbGxiYWNrLCB2YWwpIHtcbiAgICB2YXIgaWQgPSB0aGlzLl9jdWVJRENvdW50ZXIrKztcblxuICAgIHZhciBjdWUgPSBuZXcgQ3VlKGNhbGxiYWNrLCB0aW1lLCBpZCwgdmFsKTtcbiAgICB0aGlzLl9jdWVzLnB1c2goY3VlKTtcblxuICAgIGlmICghdGhpcy5lbHQub250aW1ldXBkYXRlKSB7XG4gICAgICB0aGlzLmVsdC5vbnRpbWV1cGRhdGUgPSB0aGlzLl9vblRpbWVVcGRhdGUuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNhbGxiYWNrIGJhc2VkIG9uIGl0cyBJRC4gVGhlIElEIGlzIHJldHVybmVkIGJ5IHRoZVxuICAgKiBhZGRDdWUgbWV0aG9kLlxuICAgKiBAbWV0aG9kIHJlbW92ZUN1ZVxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIElEIG9mIHRoZSBjdWUsIGFzIHJldHVybmVkIGJ5IGFkZEN1ZVxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgYXVkaW9FbCwgaWQxLCBpZDI7XG4gICAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgKiAgIGJhY2tncm91bmQoMjU1LCAyNTUsIDI1NSk7XG4gICAqICAgYXVkaW9FbCA9IGNyZWF0ZUF1ZGlvKCdhc3NldHMvYmVhdC5tcDMnKTtcbiAgICogICBhdWRpb0VsLnNob3dDb250cm9scygpO1xuICAgKiAgIC8vIHNjaGVkdWxlIGZpdmUgY2FsbHMgdG8gY2hhbmdlQmFja2dyb3VuZFxuICAgKiAgIGlkMSA9IGF1ZGlvRWwuYWRkQ3VlKDAuNSwgY2hhbmdlQmFja2dyb3VuZCwgY29sb3IoMjU1LCAwLCAwKSk7XG4gICAqICAgYXVkaW9FbC5hZGRDdWUoMS4wLCBjaGFuZ2VCYWNrZ3JvdW5kLCBjb2xvcigwLCAyNTUsIDApKTtcbiAgICogICBhdWRpb0VsLmFkZEN1ZSgyLjUsIGNoYW5nZUJhY2tncm91bmQsIGNvbG9yKDAsIDAsIDI1NSkpO1xuICAgKiAgIGF1ZGlvRWwuYWRkQ3VlKDMuMCwgY2hhbmdlQmFja2dyb3VuZCwgY29sb3IoMCwgMjU1LCAyNTUpKTtcbiAgICogICBpZDIgPSBhdWRpb0VsLmFkZEN1ZSg0LjIsIGNoYW5nZUJhY2tncm91bmQsIGNvbG9yKDI1NSwgMjU1LCAwKSk7XG4gICAqICAgdGV4dCgnQ2xpY2sgdG8gcmVtb3ZlIGZpcnN0IGFuZCBsYXN0IEN1ZSEnLCAxMCwgMjUsIDcwLCA4MCk7XG4gICAqIH1cbiAgICogZnVuY3Rpb24gbW91c2VQcmVzc2VkKCkge1xuICAgKiAgIGF1ZGlvRWwucmVtb3ZlQ3VlKGlkMSk7XG4gICAqICAgYXVkaW9FbC5yZW1vdmVDdWUoaWQyKTtcbiAgICogfVxuICAgKiBmdW5jdGlvbiBjaGFuZ2VCYWNrZ3JvdW5kKHZhbCkge1xuICAgKiAgIGJhY2tncm91bmQodmFsKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUN1ZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9jdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5fY3Vlc1tpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coaWQpO1xuICAgICAgICB0aGlzLl9jdWVzLnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY3Vlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuZWx0Lm9udGltZXVwZGF0ZSA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIG9mIHRoZSBjYWxsYmFja3MgdGhhdCBoYWQgb3JpZ2luYWxseSBiZWVuIHNjaGVkdWxlZFxuICAgKiB2aWEgdGhlIGFkZEN1ZSBtZXRob2QuXG4gICAqIEBtZXRob2QgIGNsZWFyQ3Vlc1xuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIElEIG9mIHRoZSBjdWUsIGFzIHJldHVybmVkIGJ5IGFkZEN1ZVxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZGl2Pjxjb2RlPlxuICAgKiB2YXIgYXVkaW9FbDtcbiAgICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAqICAgYmFja2dyb3VuZCgyNTUsIDI1NSwgMjU1KTtcbiAgICogICBhdWRpb0VsID0gY3JlYXRlQXVkaW8oJ2Fzc2V0cy9iZWF0Lm1wMycpO1xuICAgKiAgIC8vU2hvdyB0aGUgZGVmYXVsdCBNZWRpYUVsZW1lbnQgY29udHJvbHMsIGFzIGRldGVybWluZWQgYnkgdGhlIHdlYiBicm93c2VyXG4gICAqICAgYXVkaW9FbC5zaG93Q29udHJvbHMoKTtcbiAgICogICAvLyBzY2hlZHVsZSBjYWxscyB0byBjaGFuZ2VCYWNrZ3JvdW5kXG4gICAqICAgYmFja2dyb3VuZCgyMDApO1xuICAgKiAgIHRleHQoJ0NsaWNrIHRvIGNoYW5nZSBDdWUhJywgMTAsIDI1LCA3MCwgODApO1xuICAgKiAgIGF1ZGlvRWwuYWRkQ3VlKDAuNSwgY2hhbmdlQmFja2dyb3VuZCwgY29sb3IoMjU1LCAwLCAwKSk7XG4gICAqICAgYXVkaW9FbC5hZGRDdWUoMS4wLCBjaGFuZ2VCYWNrZ3JvdW5kLCBjb2xvcigwLCAyNTUsIDApKTtcbiAgICogICBhdWRpb0VsLmFkZEN1ZSgyLjUsIGNoYW5nZUJhY2tncm91bmQsIGNvbG9yKDAsIDAsIDI1NSkpO1xuICAgKiAgIGF1ZGlvRWwuYWRkQ3VlKDMuMCwgY2hhbmdlQmFja2dyb3VuZCwgY29sb3IoMCwgMjU1LCAyNTUpKTtcbiAgICogICBhdWRpb0VsLmFkZEN1ZSg0LjIsIGNoYW5nZUJhY2tncm91bmQsIGNvbG9yKDI1NSwgMjU1LCAwKSk7XG4gICAqIH1cbiAgICogZnVuY3Rpb24gbW91c2VQcmVzc2VkKCkge1xuICAgKiAgIC8vIGhlcmUgd2UgY2xlYXIgdGhlIHNjaGVkdWxlZCBjYWxsYmFja3NcbiAgICogICBhdWRpb0VsLmNsZWFyQ3VlcygpO1xuICAgKiAgIC8vIHRoZW4gd2UgYWRkIHNvbWUgbW9yZSBjYWxsYmFja3NcbiAgICogICBhdWRpb0VsLmFkZEN1ZSgxLCBjaGFuZ2VCYWNrZ3JvdW5kLCBjb2xvcigyLCAyLCAyKSk7XG4gICAqICAgYXVkaW9FbC5hZGRDdWUoMywgY2hhbmdlQmFja2dyb3VuZCwgY29sb3IoMjU1LCAyNTUsIDApKTtcbiAgICogfVxuICAgKiBmdW5jdGlvbiBjaGFuZ2VCYWNrZ3JvdW5kKHZhbCkge1xuICAgKiAgIGJhY2tncm91bmQodmFsKTtcbiAgICogfVxuICAgKiA8L2NvZGU+PC9kaXY+XG4gICAqL1xuICBwNS5NZWRpYUVsZW1lbnQucHJvdG90eXBlLmNsZWFyQ3VlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2N1ZXMgPSBbXTtcbiAgICB0aGlzLmVsdC5vbnRpbWV1cGRhdGUgPSBudWxsO1xuICB9O1xuXG4gIC8vIHByaXZhdGUgbWV0aG9kIHRoYXQgY2hlY2tzIGZvciBjdWVzIHRvIGJlIGZpcmVkIGlmIGV2ZW50c1xuICAvLyBoYXZlIGJlZW4gc2NoZWR1bGVkIHVzaW5nIGFkZEN1ZShjYWxsYmFjaywgdGltZSkuXG4gIHA1Lk1lZGlhRWxlbWVudC5wcm90b3R5cGUuX29uVGltZVVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwbGF5YmFja1RpbWUgPSB0aGlzLnRpbWUoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fY3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNhbGxiYWNrVGltZSA9IHRoaXMuX2N1ZXNbaV0udGltZTtcbiAgICAgIHZhciB2YWwgPSB0aGlzLl9jdWVzW2ldLnZhbDtcblxuICAgICAgaWYgKHRoaXMuX3ByZXZUaW1lIDwgY2FsbGJhY2tUaW1lICYmIGNhbGxiYWNrVGltZSA8PSBwbGF5YmFja1RpbWUpIHtcbiAgICAgICAgLy8gcGFzcyB0aGUgc2NoZWR1bGVkIGNhbGxiYWNrVGltZSBhcyBwYXJhbWV0ZXIgdG8gdGhlIGNhbGxiYWNrXG4gICAgICAgIHRoaXMuX2N1ZXNbaV0uY2FsbGJhY2sodmFsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9wcmV2VGltZSA9IHBsYXliYWNrVGltZTtcbiAgfTtcblxuICAvKipcbiAgICogQmFzZSBjbGFzcyBmb3IgYSBmaWxlLlxuICAgKiBVc2VkIGZvciBFbGVtZW50LmRyb3AgYW5kIGNyZWF0ZUZpbGVJbnB1dC5cbiAgICpcbiAgICogQGNsYXNzIHA1LkZpbGVcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7RmlsZX0gZmlsZSBGaWxlIHRoYXQgaXMgd3JhcHBlZFxuICAgKi9cbiAgcDUuRmlsZSA9IGZ1bmN0aW9uKGZpbGUsIHBJbnN0KSB7XG4gICAgLyoqXG4gICAgICogVW5kZXJseWluZyBGaWxlIG9iamVjdC4gQWxsIG5vcm1hbCBGaWxlIG1ldGhvZHMgY2FuIGJlIGNhbGxlZCBvbiB0aGlzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGZpbGVcbiAgICAgKi9cbiAgICB0aGlzLmZpbGUgPSBmaWxlO1xuXG4gICAgdGhpcy5fcEluc3QgPSBwSW5zdDtcblxuICAgIC8vIFNwbGl0dGluZyBvdXQgdGhlIGZpbGUgdHlwZSBpbnRvIHR3byBjb21wb25lbnRzXG4gICAgLy8gVGhpcyBtYWtlcyBkZXRlcm1pbmluZyBpZiBpbWFnZSBvciB0ZXh0IGV0YyBzaW1wbGVyXG4gICAgdmFyIHR5cGVMaXN0ID0gZmlsZS50eXBlLnNwbGl0KCcvJyk7XG4gICAgLyoqXG4gICAgICogRmlsZSB0eXBlIChpbWFnZSwgdGV4dCwgZXRjLilcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0eXBlXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gdHlwZUxpc3RbMF07XG4gICAgLyoqXG4gICAgICogRmlsZSBzdWJ0eXBlICh1c3VhbGx5IHRoZSBmaWxlIGV4dGVuc2lvbiBqcGcsIHBuZywgeG1sLCBldGMuKVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHN1YnR5cGVcbiAgICAgKi9cbiAgICB0aGlzLnN1YnR5cGUgPSB0eXBlTGlzdFsxXTtcbiAgICAvKipcbiAgICAgKiBGaWxlIG5hbWVcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBuYW1lXG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gZmlsZS5uYW1lO1xuICAgIC8qKlxuICAgICAqIEZpbGUgc2l6ZVxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHNpemVcbiAgICAgKi9cbiAgICB0aGlzLnNpemUgPSBmaWxlLnNpemU7XG5cbiAgICAvKipcbiAgICAgKiBVUkwgc3RyaW5nIGNvbnRhaW5pbmcgaW1hZ2UgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBkYXRhXG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIHA1LkZpbGUuX2NyZWF0ZUxvYWRlciA9IGZ1bmN0aW9uKHRoZUZpbGUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwNWZpbGUgPSBuZXcgcDUuRmlsZSh0aGVGaWxlKTtcbiAgICAgIHA1ZmlsZS5kYXRhID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgY2FsbGJhY2socDVmaWxlKTtcbiAgICB9O1xuICAgIHJldHVybiByZWFkZXI7XG4gIH07XG5cbiAgcDUuRmlsZS5fbG9hZCA9IGZ1bmN0aW9uKGYsIGNhbGxiYWNrKSB7XG4gICAgLy8gVGV4dCBvciBkYXRhP1xuICAgIC8vIFRoaXMgc2hvdWxkIGxpa2VseSBiZSBpbXByb3ZlZFxuICAgIGlmICgvXnRleHRcXC8vLnRlc3QoZi50eXBlKSkge1xuICAgICAgcDUuRmlsZS5fY3JlYXRlTG9hZGVyKGYsIGNhbGxiYWNrKS5yZWFkQXNUZXh0KGYpO1xuICAgIH0gZWxzZSBpZiAoIS9eKHZpZGVvfGF1ZGlvKVxcLy8udGVzdChmLnR5cGUpKSB7XG4gICAgICBwNS5GaWxlLl9jcmVhdGVMb2FkZXIoZiwgY2FsbGJhY2spLnJlYWRBc0RhdGFVUkwoZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmaWxlID0gbmV3IHA1LkZpbGUoZik7XG4gICAgICBmaWxlLmRhdGEgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGYpO1xuICAgICAgY2FsbGJhY2soZmlsZSk7XG4gICAgfVxuICB9O1xufSk7XG4iLCIvKiEgcDUuanMgdjAuNy4zIEphbnVhcnkgMjAsIDIwMTkgKi9cblxuIWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXsoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzKS5wNT1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBvKGEscyxoKXtmdW5jdGlvbiBsKHQsZSl7aWYoIXNbdF0pe2lmKCFhW3RdKXt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFlJiZyKXJldHVybiByKHQsITApO2lmKHUpcmV0dXJuIHUodCwhMCk7dmFyIGk9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIit0K1wiJ1wiKTt0aHJvdyBpLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsaX12YXIgbj1zW3RdPXtleHBvcnRzOnt9fTthW3RdWzBdLmNhbGwobi5leHBvcnRzLGZ1bmN0aW9uKGUpe3JldHVybiBsKGFbdF1bMV1bZV18fGUpfSxuLG4uZXhwb3J0cyxvLGEscyxoKX1yZXR1cm4gc1t0XS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGU9MDtlPGgubGVuZ3RoO2UrKylsKGhbZV0pO3JldHVybiBsfSh7MTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3IuYnl0ZUxlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1kKGUpLHI9dFswXSxpPXRbMV07cmV0dXJuIDMqKHIraSkvNC1pfSxyLnRvQnl0ZUFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWQoZSksaT1yWzBdLG49clsxXSxvPW5ldyBwKChsPWksdT1uLDMqKGwrdSkvNC11KSksYT0wLHM9MDxuP2ktNDppLGg9MDtoPHM7aCs9NCl0PWNbZS5jaGFyQ29kZUF0KGgpXTw8MTh8Y1tlLmNoYXJDb2RlQXQoaCsxKV08PDEyfGNbZS5jaGFyQ29kZUF0KGgrMildPDw2fGNbZS5jaGFyQ29kZUF0KGgrMyldLG9bYSsrXT10Pj4xNiYyNTUsb1thKytdPXQ+PjgmMjU1LG9bYSsrXT0yNTUmdDt2YXIgbCx1OzI9PT1uJiYodD1jW2UuY2hhckNvZGVBdChoKV08PDJ8Y1tlLmNoYXJDb2RlQXQoaCsxKV0+PjQsb1thKytdPTI1NSZ0KTsxPT09biYmKHQ9Y1tlLmNoYXJDb2RlQXQoaCldPDwxMHxjW2UuY2hhckNvZGVBdChoKzEpXTw8NHxjW2UuY2hhckNvZGVBdChoKzIpXT4+MixvW2ErK109dD4+OCYyNTUsb1thKytdPTI1NSZ0KTtyZXR1cm4gb30sci5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPWUubGVuZ3RoLGk9ciUzLG49W10sbz0wLGE9ci1pO288YTtvKz0xNjM4MyluLnB1c2goaChlLG8sYTxvKzE2MzgzP2E6bysxNjM4MykpOzE9PT1pPyh0PWVbci0xXSxuLnB1c2goc1t0Pj4yXStzW3Q8PDQmNjNdK1wiPT1cIikpOjI9PT1pJiYodD0oZVtyLTJdPDw4KStlW3ItMV0sbi5wdXNoKHNbdD4+MTBdK3NbdD4+NCY2M10rc1t0PDwyJjYzXStcIj1cIikpO3JldHVybiBuLmpvaW4oXCJcIil9O2Zvcih2YXIgcz1bXSxjPVtdLHA9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXk/VWludDhBcnJheTpBcnJheSxpPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLG49MCxvPWkubGVuZ3RoO248bzsrK24pc1tuXT1pW25dLGNbaS5jaGFyQ29kZUF0KG4pXT1uO2Z1bmN0aW9uIGQoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYoMDx0JTQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgcj1lLmluZGV4T2YoXCI9XCIpO3JldHVybi0xPT09ciYmKHI9dCksW3Iscj09PXQ/MDo0LXIlNF19ZnVuY3Rpb24gaChlLHQscil7Zm9yKHZhciBpLG4sbz1bXSxhPXQ7YTxyO2ErPTMpaT0oZVthXTw8MTYmMTY3MTE2ODApKyhlW2ErMV08PDgmNjUyODApKygyNTUmZVthKzJdKSxvLnB1c2goc1sobj1pKT4+MTgmNjNdK3Nbbj4+MTImNjNdK3Nbbj4+NiY2M10rc1s2MyZuXSk7cmV0dXJuIG8uam9pbihcIlwiKX1jW1wiLVwiLmNoYXJDb2RlQXQoMCldPTYyLGNbXCJfXCIuY2hhckNvZGVBdCgwKV09NjN9LHt9XSwyOltmdW5jdGlvbihlLHQscil7fSx7fV0sMzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCJiYXNlNjQtanNcIiksbz1lKFwiaWVlZTc1NFwiKTtyLkJ1ZmZlcj1jLHIuU2xvd0J1ZmZlcj1mdW5jdGlvbihlKXsrZSE9ZSYmKGU9MCk7cmV0dXJuIGMuYWxsb2MoK2UpfSxyLklOU1BFQ1RfTUFYX0JZVEVTPTUwO3ZhciBuPTIxNDc0ODM2NDc7ZnVuY3Rpb24gYShlKXtpZihuPGUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrZSsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyk7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIHQuX19wcm90b19fPWMucHJvdG90eXBlLHR9ZnVuY3Rpb24gYyhlLHQscil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpcmV0dXJuIHMoZSx0LHIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7cmV0dXJuIGwoZSl9ZnVuY3Rpb24gcyhlLHQscil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiXCIhPT10fHwodD1cInV0ZjhcIik7aWYoIWMuaXNFbmNvZGluZyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrdCk7dmFyIHI9MHxkKGUsdCksaT1hKHIpLG49aS53cml0ZShlLHQpO24hPT1yJiYoaT1pLnNsaWNlKDAsbikpO3JldHVybiBpfShlLHQpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhlKSlyZXR1cm4gdShlKTtpZihudWxsPT1lKXRocm93IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiBlKTtpZihPKGUsQXJyYXlCdWZmZXIpfHxlJiZPKGUuYnVmZmVyLEFycmF5QnVmZmVyKSlyZXR1cm4gZnVuY3Rpb24oZSx0LHIpe2lmKHQ8MHx8ZS5ieXRlTGVuZ3RoPHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7aWYoZS5ieXRlTGVuZ3RoPHQrKHJ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO3ZhciBpO2k9dm9pZCAwPT09dCYmdm9pZCAwPT09cj9uZXcgVWludDhBcnJheShlKTp2b2lkIDA9PT1yP25ldyBVaW50OEFycmF5KGUsdCk6bmV3IFVpbnQ4QXJyYXkoZSx0LHIpO3JldHVybiBpLl9fcHJvdG9fXz1jLnByb3RvdHlwZSxpfShlLHQscik7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTt2YXIgaT1lLnZhbHVlT2YmJmUudmFsdWVPZigpO2lmKG51bGwhPWkmJmkhPT1lKXJldHVybiBjLmZyb20oaSx0LHIpO3ZhciBuPWZ1bmN0aW9uKGUpe2lmKGMuaXNCdWZmZXIoZSkpe3ZhciB0PTB8cChlLmxlbmd0aCkscj1hKHQpO3JldHVybiAwPT09ci5sZW5ndGh8fGUuY29weShyLDAsMCx0KSxyfWlmKHZvaWQgMCE9PWUubGVuZ3RoKXJldHVyblwibnVtYmVyXCIhPXR5cGVvZiBlLmxlbmd0aHx8QihlLmxlbmd0aCk/YSgwKTp1KGUpO2lmKFwiQnVmZmVyXCI9PT1lLnR5cGUmJkFycmF5LmlzQXJyYXkoZS5kYXRhKSlyZXR1cm4gdShlLmRhdGEpfShlKTtpZihuKXJldHVybiBuO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPVN5bWJvbC50b1ByaW1pdGl2ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZVtTeW1ib2wudG9QcmltaXRpdmVdKXJldHVybiBjLmZyb20oZVtTeW1ib2wudG9QcmltaXRpdmVdKFwic3RyaW5nXCIpLHQscik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiBlKX1mdW5jdGlvbiBoKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKTtpZihlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrZSsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gaChlKSxhKGU8MD8wOjB8cChlKSl9ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9ZS5sZW5ndGg8MD8wOjB8cChlLmxlbmd0aCkscj1hKHQpLGk9MDtpPHQ7aSs9MSlyW2ldPTI1NSZlW2ldO3JldHVybiByfWZ1bmN0aW9uIHAoZSl7aWYobjw9ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHhcIituLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gMHxlfWZ1bmN0aW9uIGQoZSx0KXtpZihjLmlzQnVmZmVyKGUpKXJldHVybiBlLmxlbmd0aDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fE8oZSxBcnJheUJ1ZmZlcikpcmV0dXJuIGUuYnl0ZUxlbmd0aDtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKTt2YXIgcj1lLmxlbmd0aCxpPTI8YXJndW1lbnRzLmxlbmd0aCYmITA9PT1hcmd1bWVudHNbMl07aWYoIWkmJjA9PT1yKXJldHVybiAwO2Zvcih2YXIgbj0hMTs7KXN3aXRjaCh0KXtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiByO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBEKGUpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gMipyO2Nhc2VcImhleFwiOnJldHVybiByPj4+MTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gQShlKS5sZW5ndGg7ZGVmYXVsdDppZihuKXJldHVybiBpPy0xOkQoZSkubGVuZ3RoO3Q9KFwiXCIrdCkudG9Mb3dlckNhc2UoKSxuPSEwfX1mdW5jdGlvbiBmKGUsdCxyKXt2YXIgaT1lW3RdO2VbdF09ZVtyXSxlW3JdPWl9ZnVuY3Rpb24gbShlLHQscixpLG4pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4tMTtpZihcInN0cmluZ1wiPT10eXBlb2Ygcj8oaT1yLHI9MCk6MjE0NzQ4MzY0NzxyP3I9MjE0NzQ4MzY0NzpyPC0yMTQ3NDgzNjQ4JiYocj0tMjE0NzQ4MzY0OCksQihyPStyKSYmKHI9bj8wOmUubGVuZ3RoLTEpLHI8MCYmKHI9ZS5sZW5ndGgrcikscj49ZS5sZW5ndGgpe2lmKG4pcmV0dXJuLTE7cj1lLmxlbmd0aC0xfWVsc2UgaWYocjwwKXtpZighbilyZXR1cm4tMTtyPTB9aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWMuZnJvbSh0LGkpKSxjLmlzQnVmZmVyKHQpKXJldHVybiAwPT09dC5sZW5ndGg/LTE6dihlLHQscixpLG4pO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiB0Jj0yNTUsXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9uP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLHQscik6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChlLHQscik6dihlLFt0XSxyLGksbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiB2KGUsdCxyLGksbil7dmFyIG8sYT0xLHM9ZS5sZW5ndGgsaD10Lmxlbmd0aDtpZih2b2lkIDAhPT1pJiYoXCJ1Y3MyXCI9PT0oaT1TdHJpbmcoaSkudG9Mb3dlckNhc2UoKSl8fFwidWNzLTJcIj09PWl8fFwidXRmMTZsZVwiPT09aXx8XCJ1dGYtMTZsZVwiPT09aSkpe2lmKGUubGVuZ3RoPDJ8fHQubGVuZ3RoPDIpcmV0dXJuLTE7cy89YT0yLGgvPTIsci89Mn1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIDE9PT1hP2VbdF06ZS5yZWFkVUludDE2QkUodCphKX1pZihuKXt2YXIgdT0tMTtmb3Iobz1yO288cztvKyspaWYobChlLG8pPT09bCh0LC0xPT09dT8wOm8tdSkpe2lmKC0xPT09dSYmKHU9byksby11KzE9PT1oKXJldHVybiB1KmF9ZWxzZS0xIT09dSYmKG8tPW8tdSksdT0tMX1lbHNlIGZvcihzPHIraCYmKHI9cy1oKSxvPXI7MDw9bztvLS0pe2Zvcih2YXIgYz0hMCxwPTA7cDxoO3ArKylpZihsKGUsbytwKSE9PWwodCxwKSl7Yz0hMTticmVha31pZihjKXJldHVybiBvfXJldHVybi0xfWZ1bmN0aW9uIGcoZSx0LHIsaSl7cj1OdW1iZXIocil8fDA7dmFyIG49ZS5sZW5ndGgtcjtpP248KGk9TnVtYmVyKGkpKSYmKGk9bik6aT1uO3ZhciBvPXQubGVuZ3RoO28vMjxpJiYoaT1vLzIpO2Zvcih2YXIgYT0wO2E8aTsrK2Epe3ZhciBzPXBhcnNlSW50KHQuc3Vic3RyKDIqYSwyKSwxNik7aWYoQihzKSlyZXR1cm4gYTtlW3IrYV09c31yZXR1cm4gYX1mdW5jdGlvbiB5KGUsdCxyLGkpe3JldHVybiBVKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpdC5wdXNoKDI1NSZlLmNoYXJDb2RlQXQocikpO3JldHVybiB0fSh0KSxlLHIsaSl9ZnVuY3Rpb24gYihlLHQscil7cmV0dXJuIDA9PT10JiZyPT09ZS5sZW5ndGg/aS5mcm9tQnl0ZUFycmF5KGUpOmkuZnJvbUJ5dGVBcnJheShlLnNsaWNlKHQscikpfWZ1bmN0aW9uIF8oZSx0LHIpe3I9TWF0aC5taW4oZS5sZW5ndGgscik7Zm9yKHZhciBpPVtdLG49dDtuPHI7KXt2YXIgbyxhLHMsaCxsPWVbbl0sdT1udWxsLGM9MjM5PGw/NDoyMjM8bD8zOjE5MTxsPzI6MTtpZihuK2M8PXIpc3dpdGNoKGMpe2Nhc2UgMTpsPDEyOCYmKHU9bCk7YnJlYWs7Y2FzZSAyOjEyOD09KDE5MiYobz1lW24rMV0pKSYmMTI3PChoPSgzMSZsKTw8Nnw2MyZvKSYmKHU9aCk7YnJlYWs7Y2FzZSAzOm89ZVtuKzFdLGE9ZVtuKzJdLDEyOD09KDE5MiZvKSYmMTI4PT0oMTkyJmEpJiYyMDQ3PChoPSgxNSZsKTw8MTJ8KDYzJm8pPDw2fDYzJmEpJiYoaDw1NTI5Nnx8NTczNDM8aCkmJih1PWgpO2JyZWFrO2Nhc2UgNDpvPWVbbisxXSxhPWVbbisyXSxzPWVbbiszXSwxMjg9PSgxOTImbykmJjEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJnMpJiY2NTUzNTwoaD0oMTUmbCk8PDE4fCg2MyZvKTw8MTJ8KDYzJmEpPDw2fDYzJnMpJiZoPDExMTQxMTImJih1PWgpfW51bGw9PT11Pyh1PTY1NTMzLGM9MSk6NjU1MzU8dSYmKHUtPTY1NTM2LGkucHVzaCh1Pj4+MTAmMTAyM3w1NTI5NiksdT01NjMyMHwxMDIzJnUpLGkucHVzaCh1KSxuKz1jfXJldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtpZih0PD14KXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlKTt2YXIgcj1cIlwiLGk9MDtmb3IoO2k8dDspcis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5zbGljZShpLGkrPXgpKTtyZXR1cm4gcn0oaSl9ci5rTWF4TGVuZ3RoPW4sKGMuVFlQRURfQVJSQVlfU1VQUE9SVD1mdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gZS5fX3Byb3RvX189e19fcHJvdG9fXzpVaW50OEFycmF5LnByb3RvdHlwZSxmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fSw0Mj09PWUuZm9vKCl9Y2F0Y2goZSl7cmV0dXJuITF9fSgpKXx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGNvbnNvbGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGNvbnNvbGUuZXJyb3J8fGNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC5cIiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLFwicGFyZW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYoYy5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLFwib2Zmc2V0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYoYy5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0fX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPVN5bWJvbC5zcGVjaWVzJiZjW1N5bWJvbC5zcGVjaWVzXT09PWMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLFN5bWJvbC5zcGVjaWVzLHt2YWx1ZTpudWxsLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiExfSksYy5wb29sU2l6ZT04MTkyLGMuZnJvbT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHMoZSx0LHIpfSxjLnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUsYy5fX3Byb3RvX189VWludDhBcnJheSxjLmFsbG9jPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbj10LG89cixoKGk9ZSksaTw9MD9hKGkpOnZvaWQgMCE9PW4/XCJzdHJpbmdcIj09dHlwZW9mIG8/YShpKS5maWxsKG4sbyk6YShpKS5maWxsKG4pOmEoaSk7dmFyIGksbixvfSxjLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGUpe3JldHVybiBsKGUpfSxjLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihlKXtyZXR1cm4gbChlKX0sYy5pc0J1ZmZlcj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmITA9PT1lLl9pc0J1ZmZlciYmZSE9PWMucHJvdG90eXBlfSxjLmNvbXBhcmU9ZnVuY3Rpb24oZSx0KXtpZihPKGUsVWludDhBcnJheSkmJihlPWMuZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCkpLE8odCxVaW50OEFycmF5KSYmKHQ9Yy5mcm9tKHQsdC5vZmZzZXQsdC5ieXRlTGVuZ3RoKSksIWMuaXNCdWZmZXIoZSl8fCFjLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtpZihlPT09dClyZXR1cm4gMDtmb3IodmFyIHI9ZS5sZW5ndGgsaT10Lmxlbmd0aCxuPTAsbz1NYXRoLm1pbihyLGkpO248bzsrK24paWYoZVtuXSE9PXRbbl0pe3I9ZVtuXSxpPXRbbl07YnJlYWt9cmV0dXJuIHI8aT8tMTppPHI/MTowfSxjLmlzRW5jb2Rpbmc9ZnVuY3Rpb24oZSl7c3dpdGNoKFN0cmluZyhlKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxjLmNvbmNhdD1mdW5jdGlvbihlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gYy5hbGxvYygwKTt2YXIgcjtpZih2b2lkIDA9PT10KWZvcihyPXQ9MDtyPGUubGVuZ3RoOysrcil0Kz1lW3JdLmxlbmd0aDt2YXIgaT1jLmFsbG9jVW5zYWZlKHQpLG49MDtmb3Iocj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgbz1lW3JdO2lmKE8obyxVaW50OEFycmF5KSYmKG89Yy5mcm9tKG8pKSwhYy5pc0J1ZmZlcihvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtvLmNvcHkoaSxuKSxuKz1vLmxlbmd0aH1yZXR1cm4gaX0sYy5ieXRlTGVuZ3RoPWQsYy5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLGMucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz0yKWYodGhpcyx0LHQrMSk7cmV0dXJuIHRoaXN9LGMucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKGUlNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz00KWYodGhpcyx0LHQrMyksZih0aGlzLHQrMSx0KzIpO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IodmFyIHQ9MDt0PGU7dCs9OClmKHRoaXMsdCx0KzcpLGYodGhpcyx0KzEsdCs2KSxmKHRoaXMsdCsyLHQrNSksZih0aGlzLHQrMyx0KzQpO3JldHVybiB0aGlzfSxjLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZz1jLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO3JldHVybiAwPT09ZT9cIlwiOjA9PT1hcmd1bWVudHMubGVuZ3RoP18odGhpcywwLGUpOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT0hMTtpZigodm9pZCAwPT09dHx8dDwwKSYmKHQ9MCksdD50aGlzLmxlbmd0aClyZXR1cm5cIlwiO2lmKCh2b2lkIDA9PT1yfHxyPnRoaXMubGVuZ3RoKSYmKHI9dGhpcy5sZW5ndGgpLHI8PTApcmV0dXJuXCJcIjtpZigocj4+Pj0wKTw9KHQ+Pj49MCkpcmV0dXJuXCJcIjtmb3IoZXx8KGU9XCJ1dGY4XCIpOzspc3dpdGNoKGUpe2Nhc2VcImhleFwiOnJldHVybiBUKHRoaXMsdCxyKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gXyh0aGlzLHQscik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gdyh0aGlzLHQscik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIFModGhpcyx0LHIpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBiKHRoaXMsdCxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gTSh0aGlzLHQscik7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlKTtlPShlK1wiXCIpLnRvTG93ZXJDYXNlKCksaT0hMH19LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKCFjLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO3JldHVybiB0aGlzPT09ZXx8MD09PWMuY29tcGFyZSh0aGlzLGUpfSxjLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIGU9XCJcIix0PXIuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIGU9dGhpcy50b1N0cmluZyhcImhleFwiLDAsdCkucmVwbGFjZSgvKC57Mn0pL2csXCIkMSBcIikudHJpbSgpLHRoaXMubGVuZ3RoPnQmJihlKz1cIiAuLi4gXCIpLFwiPEJ1ZmZlciBcIitlK1wiPlwifSxjLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUsdCxyLGksbil7aWYoTyhlLFVpbnQ4QXJyYXkpJiYoZT1jLmZyb20oZSxlLm9mZnNldCxlLmJ5dGVMZW5ndGgpKSwhYy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpO2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PXImJihyPWU/ZS5sZW5ndGg6MCksdm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09biYmKG49dGhpcy5sZW5ndGgpLHQ8MHx8cj5lLmxlbmd0aHx8aTwwfHxuPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKG48PWkmJnI8PXQpcmV0dXJuIDA7aWYobjw9aSlyZXR1cm4tMTtpZihyPD10KXJldHVybiAxO2lmKHRoaXM9PT1lKXJldHVybiAwO2Zvcih2YXIgbz0obj4+Pj0wKS0oaT4+Pj0wKSxhPShyPj4+PTApLSh0Pj4+PTApLHM9TWF0aC5taW4obyxhKSxoPXRoaXMuc2xpY2UoaSxuKSxsPWUuc2xpY2UodCxyKSx1PTA7dTxzOysrdSlpZihoW3VdIT09bFt1XSl7bz1oW3VdLGE9bFt1XTticmVha31yZXR1cm4gbzxhPy0xOmE8bz8xOjB9LGMucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZihlLHQscil9LGMucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBtKHRoaXMsZSx0LHIsITApfSxjLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIG0odGhpcyxlLHQsciwhMSl9LGMucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxyLGkpe2lmKHZvaWQgMD09PXQpaT1cInV0ZjhcIixyPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKHZvaWQgMD09PXImJlwic3RyaW5nXCI9PXR5cGVvZiB0KWk9dCxyPXRoaXMubGVuZ3RoLHQ9MDtlbHNle2lmKCFpc0Zpbml0ZSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTt0Pj4+PTAsaXNGaW5pdGUocik/KHI+Pj49MCx2b2lkIDA9PT1pJiYoaT1cInV0ZjhcIikpOihpPXIscj12b2lkIDApfXZhciBuPXRoaXMubGVuZ3RoLXQ7aWYoKHZvaWQgMD09PXJ8fG48cikmJihyPW4pLDA8ZS5sZW5ndGgmJihyPDB8fHQ8MCl8fHQ+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKTtpfHwoaT1cInV0ZjhcIik7Zm9yKHZhciBvLGEscyxoLGwsdSxjLHAsZCxmPSExOzspc3dpdGNoKGkpe2Nhc2VcImhleFwiOnJldHVybiBnKHRoaXMsZSx0LHIpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBwPXQsZD1yLFUoRChlLChjPXRoaXMpLmxlbmd0aC1wKSxjLHAsZCk7Y2FzZVwiYXNjaWlcIjpyZXR1cm4geSh0aGlzLGUsdCxyKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4geSh0aGlzLGUsdCxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gaD10aGlzLGw9dCx1PXIsVShBKGUpLGgsbCx1KTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gYT10LHM9cixVKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGksbixvPVtdLGE9MDthPGUubGVuZ3RoJiYhKCh0LT0yKTwwKTsrK2Epcj1lLmNoYXJDb2RlQXQoYSksaT1yPj44LG49ciUyNTYsby5wdXNoKG4pLG8ucHVzaChpKTtyZXR1cm4gb30oZSwobz10aGlzKS5sZW5ndGgtYSksbyxhLHMpO2RlZmF1bHQ6aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIraSk7aT0oXCJcIitpKS50b0xvd2VyQ2FzZSgpLGY9ITB9fSxjLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIHg9NDA5NjtmdW5jdGlvbiB3KGUsdCxyKXt2YXIgaT1cIlwiO3I9TWF0aC5taW4oZS5sZW5ndGgscik7Zm9yKHZhciBuPXQ7bjxyOysrbilpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyNyZlW25dKTtyZXR1cm4gaX1mdW5jdGlvbiBTKGUsdCxyKXt2YXIgaT1cIlwiO3I9TWF0aC5taW4oZS5sZW5ndGgscik7Zm9yKHZhciBuPXQ7bjxyOysrbilpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pO3JldHVybiBpfWZ1bmN0aW9uIFQoZSx0LHIpe3ZhciBpPWUubGVuZ3RoOyghdHx8dDwwKSYmKHQ9MCksKCFyfHxyPDB8fGk8cikmJihyPWkpO2Zvcih2YXIgbj1cIlwiLG89dDtvPHI7KytvKW4rPUkoZVtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gTShlLHQscil7Zm9yKHZhciBpPWUuc2xpY2UodCxyKSxuPVwiXCIsbz0wO288aS5sZW5ndGg7bys9MiluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGlbb10rMjU2KmlbbysxXSk7cmV0dXJuIG59ZnVuY3Rpb24gRShlLHQscil7aWYoZSUxIT0wfHxlPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvZmZzZXQgaXMgbm90IHVpbnRcIik7aWYocjxlK3QpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpfWZ1bmN0aW9uIEMoZSx0LHIsaSxuLG8pe2lmKCFjLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKG48dHx8dDxvKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKHIraT5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBSKGUsdCxyLGksbixvKXtpZihyK2k+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYocjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIEwoZSx0LHIsaSxuKXtyZXR1cm4gdD0rdCxyPj4+PTAsbnx8UihlLDAsciw0KSxvLndyaXRlKGUsdCxyLGksMjMsNCkscis0fWZ1bmN0aW9uIFAoZSx0LHIsaSxuKXtyZXR1cm4gdD0rdCxyPj4+PTAsbnx8UihlLDAsciw4KSxvLndyaXRlKGUsdCxyLGksNTIsOCkscis4fWMucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5sZW5ndGg7KGU9fn5lKTwwPyhlKz1yKTwwJiYoZT0wKTpyPGUmJihlPXIpLCh0PXZvaWQgMD09PXQ/cjp+fnQpPDA/KHQrPXIpPDAmJih0PTApOnI8dCYmKHQ9ciksdDxlJiYodD1lKTt2YXIgaT10aGlzLnN1YmFycmF5KGUsdCk7cmV0dXJuIGkuX19wcm90b19fPWMucHJvdG90eXBlLGl9LGMucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24oZSx0LHIpe2U+Pj49MCx0Pj4+PTAscnx8RShlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT10aGlzW2VdLG49MSxvPTA7KytvPHQmJihuKj0yNTYpOylpKz10aGlzW2Urb10qbjtyZXR1cm4gaX0sYy5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbihlLHQscil7ZT4+Pj0wLHQ+Pj49MCxyfHxFKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBpPXRoaXNbZSstLXRdLG49MTswPHQmJihuKj0yNTYpOylpKz10aGlzW2UrLS10XSpuO3JldHVybiBpfSxjLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEUoZSwxLHRoaXMubGVuZ3RoKSx0aGlzW2VdfSxjLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEUoZSwyLHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OH0sYy5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxFKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXTw8OHx0aGlzW2UrMV19LGMucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+PTAsdHx8RShlLDQsdGhpcy5sZW5ndGgpLCh0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2KSsxNjc3NzIxNip0aGlzW2UrM119LGMucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+PTAsdHx8RShlLDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbZV0rKHRoaXNbZSsxXTw8MTZ8dGhpc1tlKzJdPDw4fHRoaXNbZSszXSl9LGMucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbihlLHQscil7ZT4+Pj0wLHQ+Pj49MCxyfHxFKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBpPXRoaXNbZV0sbj0xLG89MDsrK288dCYmKG4qPTI1Nik7KWkrPXRoaXNbZStvXSpuO3JldHVybihuKj0xMjgpPD1pJiYoaS09TWF0aC5wb3coMiw4KnQpKSxpfSxjLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24oZSx0LHIpe2U+Pj49MCx0Pj4+PTAscnx8RShlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT10LG49MSxvPXRoaXNbZSstLWldOzA8aSYmKG4qPTI1Nik7KW8rPXRoaXNbZSstLWldKm47cmV0dXJuKG4qPTEyOCk8PW8mJihvLT1NYXRoLnBvdygyLDgqdCkpLG99LGMucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxFKGUsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbZV0/LTEqKDI1NS10aGlzW2VdKzEpOnRoaXNbZV19LGMucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7ZT4+Pj0wLHR8fEUoZSwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW2VdfHRoaXNbZSsxXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0sYy5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24oZSx0KXtlPj4+PTAsdHx8RShlLDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbZSsxXXx0aGlzW2VdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxjLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+PTAsdHx8RShlLDQsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fHRoaXNbZSsyXTw8MTZ8dGhpc1tlKzNdPDwyNH0sYy5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEUoZSw0LHRoaXMubGVuZ3RoKSx0aGlzW2VdPDwyNHx0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM119LGMucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxFKGUsNCx0aGlzLmxlbmd0aCksby5yZWFkKHRoaXMsZSwhMCwyMyw0KX0sYy5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEUoZSw0LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDIzLDQpfSxjLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEUoZSw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCEwLDUyLDgpfSxjLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fEUoZSw4LHRoaXMubGVuZ3RoKSxvLnJlYWQodGhpcyxlLCExLDUyLDgpfSxjLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbihlLHQscixpKXsoZT0rZSx0Pj4+PTAscj4+Pj0wLGkpfHxDKHRoaXMsZSx0LHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIG49MSxvPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytvPHImJihuKj0yNTYpOyl0aGlzW3Qrb109ZS9uJjI1NTtyZXR1cm4gdCtyfSxjLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbihlLHQscixpKXsoZT0rZSx0Pj4+PTAscj4+Pj0wLGkpfHxDKHRoaXMsZSx0LHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIG49ci0xLG89MTtmb3IodGhpc1t0K25dPTI1NSZlOzA8PS0tbiYmKG8qPTI1Nik7KXRoaXNbdCtuXT1lL28mMjU1O3JldHVybiB0K3J9LGMucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxDKHRoaXMsZSx0LDEsMjU1LDApLHRoaXNbdF09MjU1JmUsdCsxfSxjLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0Pj4+PTAscnx8Qyh0aGlzLGUsdCwyLDY1NTM1LDApLHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44LHQrMn0sYy5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdD4+Pj0wLHJ8fEModGhpcyxlLHQsMiw2NTUzNSwwKSx0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSx0KzJ9LGMucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxDKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSx0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09MjU1JmUsdCs0fSxjLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0Pj4+PTAscnx8Qyh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksdGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlLHQrNH0sYy5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbihlLHQscixpKXtpZihlPStlLHQ+Pj49MCwhaSl7dmFyIG49TWF0aC5wb3coMiw4KnItMSk7Qyh0aGlzLGUsdCxyLG4tMSwtbil9dmFyIG89MCxhPTEscz0wO2Zvcih0aGlzW3RdPTI1NSZlOysrbzxyJiYoYSo9MjU2KTspZTwwJiYwPT09cyYmMCE9PXRoaXNbdCtvLTFdJiYocz0xKSx0aGlzW3Qrb109KGUvYT4+MCktcyYyNTU7cmV0dXJuIHQrcn0sYy5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbihlLHQscixpKXtpZihlPStlLHQ+Pj49MCwhaSl7dmFyIG49TWF0aC5wb3coMiw4KnItMSk7Qyh0aGlzLGUsdCxyLG4tMSwtbil9dmFyIG89ci0xLGE9MSxzPTA7Zm9yKHRoaXNbdCtvXT0yNTUmZTswPD0tLW8mJihhKj0yNTYpOyllPDAmJjA9PT1zJiYwIT09dGhpc1t0K28rMV0mJihzPTEpLHRoaXNbdCtvXT0oZS9hPj4wKS1zJjI1NTtyZXR1cm4gdCtyfSxjLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxDKHRoaXMsZSx0LDEsMTI3LC0xMjgpLGU8MCYmKGU9MjU1K2UrMSksdGhpc1t0XT0yNTUmZSx0KzF9LGMucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdD4+Pj0wLHJ8fEModGhpcyxlLHQsMiwzMjc2NywtMzI3NjgpLHRoaXNbdF09MjU1JmUsdGhpc1t0KzFdPWU+Pj44LHQrMn0sYy5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0Pj4+PTAscnx8Qyh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksdGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUsdCsyfSxjLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHQ+Pj49MCxyfHxDKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrM109ZT4+PjI0LHQrNH0sYy5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0Pj4+PTAscnx8Qyh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLGU8MCYmKGU9NDI5NDk2NzI5NStlKzEpLHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSx0KzR9LGMucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEwodGhpcyxlLHQsITAscil9LGMucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEwodGhpcyxlLHQsITEscil9LGMucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBQKHRoaXMsZSx0LCEwLHIpfSxjLnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gUCh0aGlzLGUsdCwhMSxyKX0sYy5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHQscixpKXtpZighYy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyXCIpO2lmKHJ8fChyPTApLGl8fDA9PT1pfHwoaT10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSwwPGkmJmk8ciYmKGk9ciksaT09PXIpcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihyPDB8fHI+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKGk8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO2k+dGhpcy5sZW5ndGgmJihpPXRoaXMubGVuZ3RoKSxlLmxlbmd0aC10PGktciYmKGk9ZS5sZW5ndGgtdCtyKTt2YXIgbj1pLXI7aWYodGhpcz09PWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW4pdGhpcy5jb3B5V2l0aGluKHQscixpKTtlbHNlIGlmKHRoaXM9PT1lJiZyPHQmJnQ8aSlmb3IodmFyIG89bi0xOzA8PW87LS1vKWVbbyt0XT10aGlzW28rcl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChlLHRoaXMuc3ViYXJyYXkocixpKSx0KTtyZXR1cm4gbn0sYy5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihlLHQscixpKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/KGk9dCx0PTAscj10aGlzLmxlbmd0aCk6XCJzdHJpbmdcIj09dHlwZW9mIHImJihpPXIscj10aGlzLmxlbmd0aCksdm9pZCAwIT09aSYmXCJzdHJpbmdcIiE9dHlwZW9mIGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkmJiFjLmlzRW5jb2RpbmcoaSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2kpO2lmKDE9PT1lLmxlbmd0aCl7dmFyIG49ZS5jaGFyQ29kZUF0KDApOyhcInV0ZjhcIj09PWkmJm48MTI4fHxcImxhdGluMVwiPT09aSkmJihlPW4pfX1lbHNlXCJudW1iZXJcIj09dHlwZW9mIGUmJihlJj0yNTUpO2lmKHQ8MHx8dGhpcy5sZW5ndGg8dHx8dGhpcy5sZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihyPD10KXJldHVybiB0aGlzO3ZhciBvO2lmKHQ+Pj49MCxyPXZvaWQgMD09PXI/dGhpcy5sZW5ndGg6cj4+PjAsZXx8KGU9MCksXCJudW1iZXJcIj09dHlwZW9mIGUpZm9yKG89dDtvPHI7KytvKXRoaXNbb109ZTtlbHNle3ZhciBhPWMuaXNCdWZmZXIoZSk/ZTpjLmZyb20oZSxpKSxzPWEubGVuZ3RoO2lmKDA9PT1zKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrZSsnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJyk7Zm9yKG89MDtvPHItdDsrK28pdGhpc1tvK3RdPWFbbyVzXX1yZXR1cm4gdGhpc307dmFyIGs9L1teKy8wLTlBLVphLXotX10vZztmdW5jdGlvbiBJKGUpe3JldHVybiBlPDE2P1wiMFwiK2UudG9TdHJpbmcoMTYpOmUudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIEQoZSx0KXt2YXIgcjt0PXR8fDEvMDtmb3IodmFyIGk9ZS5sZW5ndGgsbj1udWxsLG89W10sYT0wO2E8aTsrK2Epe2lmKDU1Mjk1PChyPWUuY2hhckNvZGVBdChhKSkmJnI8NTczNDQpe2lmKCFuKXtpZig1NjMxOTxyKXstMTwodC09MykmJm8ucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoYSsxPT09aSl7LTE8KHQtPTMpJiZvLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfW49cjtjb250aW51ZX1pZihyPDU2MzIwKXstMTwodC09MykmJm8ucHVzaCgyMzksMTkxLDE4OSksbj1yO2NvbnRpbnVlfXI9NjU1MzYrKG4tNTUyOTY8PDEwfHItNTYzMjApfWVsc2UgbiYmLTE8KHQtPTMpJiZvLnB1c2goMjM5LDE5MSwxODkpO2lmKG49bnVsbCxyPDEyOCl7aWYoKHQtPTEpPDApYnJlYWs7by5wdXNoKHIpfWVsc2UgaWYocjwyMDQ4KXtpZigodC09Mik8MClicmVhaztvLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpfWVsc2UgaWYocjw2NTUzNil7aWYoKHQtPTMpPDApYnJlYWs7by5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9ZWxzZXtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO2lmKCh0LT00KTwwKWJyZWFrO28ucHVzaChyPj4xOHwyNDAscj4+MTImNjN8MTI4LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KX19cmV0dXJuIG99ZnVuY3Rpb24gQShlKXtyZXR1cm4gaS50b0J5dGVBcnJheShmdW5jdGlvbihlKXtpZigoZT0oZT1lLnNwbGl0KFwiPVwiKVswXSkudHJpbSgpLnJlcGxhY2UoayxcIlwiKSkubGVuZ3RoPDIpcmV0dXJuXCJcIjtmb3IoO2UubGVuZ3RoJTQhPTA7KWUrPVwiPVwiO3JldHVybiBlfShlKSl9ZnVuY3Rpb24gVShlLHQscixpKXtmb3IodmFyIG49MDtuPGkmJiEobityPj10Lmxlbmd0aHx8bj49ZS5sZW5ndGgpOysrbil0W24rcl09ZVtuXTtyZXR1cm4gbn1mdW5jdGlvbiBPKGUsdCl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fHxudWxsIT1lJiZudWxsIT1lLmNvbnN0cnVjdG9yJiZudWxsIT1lLmNvbnN0cnVjdG9yLm5hbWUmJmUuY29uc3RydWN0b3IubmFtZT09PXQubmFtZX1mdW5jdGlvbiBCKGUpe3JldHVybiBlIT1lfX0se1wiYmFzZTY0LWpzXCI6MSxpZWVlNzU0Ojd9XSw0OltmdW5jdGlvbihqLHIsaSl7KGZ1bmN0aW9uKHosSCl7dmFyIGUsdDtlPXRoaXMsdD1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGwoZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX12YXIgcj1BcnJheS5pc0FycmF5P0FycmF5LmlzQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfSxpPTAsdD12b2lkIDAsbj12b2lkIDAscz1mdW5jdGlvbihlLHQpe3BbaV09ZSxwW2krMV09dCwyPT09KGkrPTIpJiYobj9uKGQpOnkoKSl9O3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCxvPWV8fHt9LGE9by5NdXRhdGlvbk9ic2VydmVyfHxvLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsaD1cInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZiYmdm9pZCAwIT09eiYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKHopLHU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgaW1wb3J0U2NyaXB0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsO2Z1bmN0aW9uIGMoKXt2YXIgZT1zZXRUaW1lb3V0O3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKGQsMSl9fXZhciBwPW5ldyBBcnJheSgxZTMpO2Z1bmN0aW9uIGQoKXtmb3IodmFyIGU9MDtlPGk7ZSs9Mil7KDAscFtlXSkocFtlKzFdKSxwW2VdPXZvaWQgMCxwW2UrMV09dm9pZCAwfWk9MH12YXIgZixtLHYsZyx5PXZvaWQgMDtmdW5jdGlvbiBiKGUsdCl7dmFyIHI9YXJndW1lbnRzLGk9dGhpcyxuPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHcpO3ZvaWQgMD09PW5beF0mJkcobik7dmFyIG8sYT1pLl9zdGF0ZTtyZXR1cm4gYT8obz1yW2EtMV0scyhmdW5jdGlvbigpe3JldHVybiBCKGEsbixvLGkuX3Jlc3VsdCl9KSk6RChpLG4sZSx0KSxufWZ1bmN0aW9uIF8oZSl7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I9PT10aGlzKXJldHVybiBlO3ZhciB0PW5ldyB0aGlzKHcpO3JldHVybiBMKHQsZSksdH15PWg/ZnVuY3Rpb24oKXtyZXR1cm4gei5uZXh0VGljayhkKX06YT8obT0wLHY9bmV3IGEoZCksZz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSx2Lm9ic2VydmUoZyx7Y2hhcmFjdGVyRGF0YTohMH0pLGZ1bmN0aW9uKCl7Zy5kYXRhPW09KyttJTJ9KTp1PygoZj1uZXcgTWVzc2FnZUNoYW5uZWwpLnBvcnQxLm9ubWVzc2FnZT1kLGZ1bmN0aW9uKCl7cmV0dXJuIGYucG9ydDIucG9zdE1lc3NhZ2UoMCl9KTp2b2lkIDA9PT1lJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBqP2Z1bmN0aW9uKCl7dHJ5e3ZhciBlPWooXCJ2ZXJ0eFwiKTtyZXR1cm4gdm9pZCAwIT09KHQ9ZS5ydW5Pbkxvb3B8fGUucnVuT25Db250ZXh0KT9mdW5jdGlvbigpe3QoZCl9OmMoKX1jYXRjaChlKXtyZXR1cm4gYygpfX0oKTpjKCk7dmFyIHg9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDE2KTtmdW5jdGlvbiB3KCl7fXZhciBTPXZvaWQgMCxUPTEsTT0yLEU9bmV3IFU7ZnVuY3Rpb24gQyhlKXt0cnl7cmV0dXJuIGUudGhlbn1jYXRjaChlKXtyZXR1cm4gRS5lcnJvcj1lLEV9fWZ1bmN0aW9uIFIoZSx0LHIpe3ZhciBpLG4sbyxhO3QuY29uc3RydWN0b3I9PT1lLmNvbnN0cnVjdG9yJiZyPT09YiYmdC5jb25zdHJ1Y3Rvci5yZXNvbHZlPT09Xz8obz1lLChhPXQpLl9zdGF0ZT09PVQ/ayhvLGEuX3Jlc3VsdCk6YS5fc3RhdGU9PT1NP0kobyxhLl9yZXN1bHQpOkQoYSx2b2lkIDAsZnVuY3Rpb24oZSl7cmV0dXJuIEwobyxlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIEkobyxlKX0pKTpyPT09RT8oSShlLEUuZXJyb3IpLEUuZXJyb3I9bnVsbCk6dm9pZCAwPT09cj9rKGUsdCk6bChyKT8oaT10LG49cixzKGZ1bmN0aW9uKHQpe3ZhciByPSExLGU9ZnVuY3Rpb24oZSx0LHIsaSl7dHJ5e2UuY2FsbCh0LHIsaSl9Y2F0Y2goZSl7cmV0dXJuIGV9fShuLGksZnVuY3Rpb24oZSl7cnx8KHI9ITAsaSE9PWU/TCh0LGUpOmsodCxlKSl9LGZ1bmN0aW9uKGUpe3J8fChyPSEwLEkodCxlKSl9LHQuX2xhYmVsKTshciYmZSYmKHI9ITAsSSh0LGUpKX0sZSkpOmsoZSx0KX1mdW5jdGlvbiBMKGUsdCl7dmFyIHIsaTtlPT09dD9JKGUsbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIikpOihpPXR5cGVvZihyPXQpLG51bGw9PT1yfHxcIm9iamVjdFwiIT09aSYmXCJmdW5jdGlvblwiIT09aT9rKGUsdCk6UihlLHQsQyh0KSkpfWZ1bmN0aW9uIFAoZSl7ZS5fb25lcnJvciYmZS5fb25lcnJvcihlLl9yZXN1bHQpLEEoZSl9ZnVuY3Rpb24gayhlLHQpe2UuX3N0YXRlPT09UyYmKGUuX3Jlc3VsdD10LGUuX3N0YXRlPVQsMCE9PWUuX3N1YnNjcmliZXJzLmxlbmd0aCYmcyhBLGUpKX1mdW5jdGlvbiBJKGUsdCl7ZS5fc3RhdGU9PT1TJiYoZS5fc3RhdGU9TSxlLl9yZXN1bHQ9dCxzKFAsZSkpfWZ1bmN0aW9uIEQoZSx0LHIsaSl7dmFyIG49ZS5fc3Vic2NyaWJlcnMsbz1uLmxlbmd0aDtlLl9vbmVycm9yPW51bGwsbltvXT10LG5bbytUXT1yLG5bbytNXT1pLDA9PT1vJiZlLl9zdGF0ZSYmcyhBLGUpfWZ1bmN0aW9uIEEoZSl7dmFyIHQ9ZS5fc3Vic2NyaWJlcnMscj1lLl9zdGF0ZTtpZigwIT09dC5sZW5ndGgpe2Zvcih2YXIgaT12b2lkIDAsbj12b2lkIDAsbz1lLl9yZXN1bHQsYT0wO2E8dC5sZW5ndGg7YSs9MylpPXRbYV0sbj10W2Ercl0saT9CKHIsaSxuLG8pOm4obyk7ZS5fc3Vic2NyaWJlcnMubGVuZ3RoPTB9fWZ1bmN0aW9uIFUoKXt0aGlzLmVycm9yPW51bGx9dmFyIE89bmV3IFU7ZnVuY3Rpb24gQihlLHQscixpKXt2YXIgbj1sKHIpLG89dm9pZCAwLGE9dm9pZCAwLHM9dm9pZCAwLGg9dm9pZCAwO2lmKG4pe2lmKChvPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlKHQpfWNhdGNoKGUpe3JldHVybiBPLmVycm9yPWUsT319KHIsaSkpPT09Tz8oaD0hMCxhPW8uZXJyb3Isby5lcnJvcj1udWxsKTpzPSEwLHQ9PT1vKXJldHVybiB2b2lkIEkodCxuZXcgVHlwZUVycm9yKFwiQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLlwiKSl9ZWxzZSBvPWkscz0hMDt0Ll9zdGF0ZSE9PVN8fChuJiZzP0wodCxvKTpoP0kodCxhKTplPT09VD9rKHQsbyk6ZT09PU0mJkkodCxvKSl9dmFyIEY9MDtmdW5jdGlvbiBHKGUpe2VbeF09RisrLGUuX3N0YXRlPXZvaWQgMCxlLl9yZXN1bHQ9dm9pZCAwLGUuX3N1YnNjcmliZXJzPVtdfWZ1bmN0aW9uIE4oZSx0KXt0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yPWUsdGhpcy5wcm9taXNlPW5ldyBlKHcpLHRoaXMucHJvbWlzZVt4XXx8Ryh0aGlzLnByb21pc2UpLHIodCk/KHRoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuX3JlbWFpbmluZz10Lmxlbmd0aCx0aGlzLl9yZXN1bHQ9bmV3IEFycmF5KHRoaXMubGVuZ3RoKSwwPT09dGhpcy5sZW5ndGg/ayh0aGlzLnByb21pc2UsdGhpcy5fcmVzdWx0KToodGhpcy5sZW5ndGg9dGhpcy5sZW5ndGh8fDAsdGhpcy5fZW51bWVyYXRlKHQpLDA9PT10aGlzLl9yZW1haW5pbmcmJmsodGhpcy5wcm9taXNlLHRoaXMuX3Jlc3VsdCkpKTpJKHRoaXMucHJvbWlzZSxuZXcgRXJyb3IoXCJBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXlcIikpfWZ1bmN0aW9uIFYoZSl7dGhpc1t4XT1GKyssdGhpcy5fcmVzdWx0PXRoaXMuX3N0YXRlPXZvaWQgMCx0aGlzLl9zdWJzY3JpYmVycz1bXSx3IT09ZSYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJmZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3JcIil9KCksdGhpcyBpbnN0YW5jZW9mIFY/ZnVuY3Rpb24odCxlKXt0cnl7ZShmdW5jdGlvbihlKXtMKHQsZSl9LGZ1bmN0aW9uKGUpe0kodCxlKX0pfWNhdGNoKGUpe0kodCxlKX19KHRoaXMsZSk6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpfSgpKX1yZXR1cm4gTi5wcm90b3R5cGUuX2VudW1lcmF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0aGlzLl9zdGF0ZT09PVMmJnQ8ZS5sZW5ndGg7dCsrKXRoaXMuX2VhY2hFbnRyeShlW3RdLHQpfSxOLnByb3RvdHlwZS5fZWFjaEVudHJ5PWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcixpPXIucmVzb2x2ZTtpZihpPT09Xyl7dmFyIG49Qyh0KTtpZihuPT09YiYmdC5fc3RhdGUhPT1TKXRoaXMuX3NldHRsZWRBdCh0Ll9zdGF0ZSxlLHQuX3Jlc3VsdCk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRoaXMuX3JlbWFpbmluZy0tLHRoaXMuX3Jlc3VsdFtlXT10O2Vsc2UgaWYocj09PVYpe3ZhciBvPW5ldyByKHcpO1Iobyx0LG4pLHRoaXMuX3dpbGxTZXR0bGVBdChvLGUpfWVsc2UgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyByKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQpfSksZSl9ZWxzZSB0aGlzLl93aWxsU2V0dGxlQXQoaSh0KSxlKX0sTi5wcm90b3R5cGUuX3NldHRsZWRBdD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5wcm9taXNlO2kuX3N0YXRlPT09UyYmKHRoaXMuX3JlbWFpbmluZy0tLGU9PT1NP0koaSxyKTp0aGlzLl9yZXN1bHRbdF09ciksMD09PXRoaXMuX3JlbWFpbmluZyYmayhpLHRoaXMuX3Jlc3VsdCl9LE4ucHJvdG90eXBlLl93aWxsU2V0dGxlQXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO0QoZSx2b2lkIDAsZnVuY3Rpb24oZSl7cmV0dXJuIHIuX3NldHRsZWRBdChULHQsZSl9LGZ1bmN0aW9uKGUpe3JldHVybiByLl9zZXR0bGVkQXQoTSx0LGUpfSl9LFYuYWxsPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTih0aGlzLGUpLnByb21pc2V9LFYucmFjZT1mdW5jdGlvbihuKXt2YXIgbz10aGlzO3JldHVybiByKG4pP25ldyBvKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPW4ubGVuZ3RoLGk9MDtpPHI7aSsrKW8ucmVzb2x2ZShuW2ldKS50aGVuKGUsdCl9KTpuZXcgbyhmdW5jdGlvbihlLHQpe3JldHVybiB0KG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuXCIpKX0pfSxWLnJlc29sdmU9XyxWLnJlamVjdD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdGhpcyh3KTtyZXR1cm4gSSh0LGUpLHR9LFYuX3NldFNjaGVkdWxlcj1mdW5jdGlvbihlKXtuPWV9LFYuX3NldEFzYXA9ZnVuY3Rpb24oZSl7cz1lfSxWLl9hc2FwPXMsVi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlYsdGhlbjpiLGNhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX19LFYucG9seWZpbGw9ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDA7aWYodm9pZCAwIT09SCllPUg7ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZillPXNlbGY7ZWxzZSB0cnl7ZT1GdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwicG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50XCIpfXZhciB0PWUuUHJvbWlzZTtpZih0KXt2YXIgcj1udWxsO3RyeXtyPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0LnJlc29sdmUoKSl9Y2F0Y2goZSl7fWlmKFwiW29iamVjdCBQcm9taXNlXVwiPT09ciYmIXQuY2FzdClyZXR1cm59ZS5Qcm9taXNlPVZ9LFYuUHJvbWlzZT1WfSxcIm9iamVjdFwiPT10eXBlb2YgaSYmdm9pZCAwIT09cj9yLmV4cG9ydHM9dCgpOmUuRVM2UHJvbWlzZT10KCl9KS5jYWxsKHRoaXMsaihcIl9wcm9jZXNzXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7X3Byb2Nlc3M6MTB9XSw1OltmdW5jdGlvbihlLGksbil7IWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09biYmdm9pZCAwIT09aSl0KG4saSk7ZWxzZXt2YXIgcj17ZXhwb3J0czp7fX07dChyLmV4cG9ydHMsciksZS5mZXRjaEpzb25wPXIuZXhwb3J0c319KHRoaXMsZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgcj01ZTMsaT1cImNhbGxiYWNrXCI7ZnVuY3Rpb24gYyh0KXt0cnl7ZGVsZXRlIHdpbmRvd1t0XX1jYXRjaChlKXt3aW5kb3dbdF09dm9pZCAwfX1mdW5jdGlvbiBwKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO3QmJmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5yZW1vdmVDaGlsZCh0KX10LmV4cG9ydHM9ZnVuY3Rpb24obyl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdP3t9OmFyZ3VtZW50c1sxXSxzPW8saD1hLnRpbWVvdXR8fHIsbD1hLmpzb25wQ2FsbGJhY2t8fGksdT12b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsZSl7dmFyIHI9YS5qc29ucENhbGxiYWNrRnVuY3Rpb258fFwianNvbnBfXCIrRGF0ZS5ub3coKStcIl9cIitNYXRoLmNlaWwoMWU1Kk1hdGgucmFuZG9tKCkpLGk9bCtcIl9cIityO3dpbmRvd1tyXT1mdW5jdGlvbihlKXt0KHtvazohMCxqc29uOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShlKX19KSx1JiZjbGVhclRpbWVvdXQodSkscChpKSxjKHIpfSxzKz0tMT09PXMuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCI7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtuLnNldEF0dHJpYnV0ZShcInNyY1wiLFwiXCIrcytsK1wiPVwiK3IpLGEuY2hhcnNldCYmbi5zZXRBdHRyaWJ1dGUoXCJjaGFyc2V0XCIsYS5jaGFyc2V0KSxuLmlkPWksZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKG4pLHU9c2V0VGltZW91dChmdW5jdGlvbigpe2UobmV3IEVycm9yKFwiSlNPTlAgcmVxdWVzdCB0byBcIitvK1wiIHRpbWVkIG91dFwiKSksYyhyKSxwKGkpLHdpbmRvd1tyXT1mdW5jdGlvbigpe2Mocil9fSxoKSxuLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKG5ldyBFcnJvcihcIkpTT05QIHJlcXVlc3QgdG8gXCIrbytcIiBmYWlsZWRcIikpLGMocikscChpKSx1JiZjbGVhclRpbWVvdXQodSl9fSl9fSl9LHt9XSw2OltmdW5jdGlvbihlLHQscil7dmFyIGk9aXx8ZnVuY3Rpb24ocyl7XCJ1c2Ugc3RyaWN0XCI7aWYoISh2b2lkIDA9PT1zfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkpe3ZhciBlPXMuZG9jdW1lbnQsaD1mdW5jdGlvbigpe3JldHVybiBzLlVSTHx8cy53ZWJraXRVUkx8fHN9LGw9ZS5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsXCJhXCIpLHU9XCJkb3dubG9hZFwiaW4gbCxjPS9jb25zdHJ1Y3Rvci9pLnRlc3Qocy5IVE1MRWxlbWVudCl8fHMuc2FmYXJpLHA9L0NyaU9TXFwvW1xcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGQ9ZnVuY3Rpb24oZSl7KHMuc2V0SW1tZWRpYXRlfHxzLnNldFRpbWVvdXQpKGZ1bmN0aW9uKCl7dGhyb3cgZX0sMCl9LGY9ZnVuY3Rpb24oZSl7c2V0VGltZW91dChmdW5jdGlvbigpe1wic3RyaW5nXCI9PXR5cGVvZiBlP2goKS5yZXZva2VPYmplY3RVUkwoZSk6ZS5yZW1vdmUoKX0sNGU0KX0sbT1mdW5jdGlvbihlKXtyZXR1cm4vXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChlLnR5cGUpP25ldyBCbG9iKFtTdHJpbmcuZnJvbUNoYXJDb2RlKDY1Mjc5KSxlXSx7dHlwZTplLnR5cGV9KTplfSxpPWZ1bmN0aW9uKGUscix0KXt0fHwoZT1tKGUpKTt2YXIgaSxuPXRoaXMsbz1cImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiPT09ZS50eXBlLGE9ZnVuY3Rpb24oKXshZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT0odD1bXS5jb25jYXQodCkpLmxlbmd0aDtpLS07KXt2YXIgbj1lW1wib25cIit0W2ldXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXRyeXtuLmNhbGwoZSxyfHxlKX1jYXRjaChlKXtkKGUpfX19KG4sXCJ3cml0ZXN0YXJ0IHByb2dyZXNzIHdyaXRlIHdyaXRlZW5kXCIuc3BsaXQoXCIgXCIpKX07aWYobi5yZWFkeVN0YXRlPW4uSU5JVCx1KXJldHVybiBpPWgoKS5jcmVhdGVPYmplY3RVUkwoZSksdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGUsdDtsLmhyZWY9aSxsLmRvd25sb2FkPXIsZT1sLHQ9bmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKSxlLmRpc3BhdGNoRXZlbnQodCksYSgpLGYoaSksbi5yZWFkeVN0YXRlPW4uRE9ORX0pOyFmdW5jdGlvbigpe2lmKChwfHxvJiZjKSYmcy5GaWxlUmVhZGVyKXt2YXIgdD1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gdC5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXt2YXIgZT1wP3QucmVzdWx0OnQucmVzdWx0LnJlcGxhY2UoL15kYXRhOlteO10qOy8sXCJkYXRhOmF0dGFjaG1lbnQvZmlsZTtcIik7cy5vcGVuKGUsXCJfYmxhbmtcIil8fChzLmxvY2F0aW9uLmhyZWY9ZSksZT12b2lkIDAsbi5yZWFkeVN0YXRlPW4uRE9ORSxhKCl9LHQucmVhZEFzRGF0YVVSTChlKSxuLnJlYWR5U3RhdGU9bi5JTklUfWl8fChpPWgoKS5jcmVhdGVPYmplY3RVUkwoZSkpLG8/cy5sb2NhdGlvbi5ocmVmPWk6cy5vcGVuKGksXCJfYmxhbmtcIil8fChzLmxvY2F0aW9uLmhyZWY9aSk7bi5yZWFkeVN0YXRlPW4uRE9ORSxhKCksZihpKX0oKX0sdD1pLnByb3RvdHlwZTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYj9mdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9dHx8ZS5uYW1lfHxcImRvd25sb2FkXCIscnx8KGU9bShlKSksbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoZSx0KX06KHQuYWJvcnQ9ZnVuY3Rpb24oKXt9LHQucmVhZHlTdGF0ZT10LklOSVQ9MCx0LldSSVRJTkc9MSx0LkRPTkU9Mix0LmVycm9yPXQub253cml0ZXN0YXJ0PXQub25wcm9ncmVzcz10Lm9ud3JpdGU9dC5vbmFib3J0PXQub25lcnJvcj10Lm9ud3JpdGVlbmQ9bnVsbCxmdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBpKGUsdHx8ZS5uYW1lfHxcImRvd25sb2FkXCIscil9KX19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3d8fHRoaXMuY29udGVudCk7dm9pZCAwIT09dCYmdC5leHBvcnRzJiYodC5leHBvcnRzLnNhdmVBcz1pKX0se31dLDc6W2Z1bmN0aW9uKGUsdCxyKXtyLnJlYWQ9ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgbyxhLHM9OCpuLWktMSxoPSgxPDxzKS0xLGw9aD4+MSx1PS03LGM9cj9uLTE6MCxwPXI/LTE6MSxkPWVbdCtjXTtmb3IoYys9cCxvPWQmKDE8PC11KS0xLGQ+Pj0tdSx1Kz1zOzA8dTtvPTI1NipvK2VbdCtjXSxjKz1wLHUtPTgpO2ZvcihhPW8mKDE8PC11KS0xLG8+Pj0tdSx1Kz1pOzA8dTthPTI1NiphK2VbdCtjXSxjKz1wLHUtPTgpO2lmKDA9PT1vKW89MS1sO2Vsc2V7aWYobz09PWgpcmV0dXJuIGE/TmFOOjEvMCooZD8tMToxKTthKz1NYXRoLnBvdygyLGkpLG8tPWx9cmV0dXJuKGQ/LTE6MSkqYSpNYXRoLnBvdygyLG8taSl9LHIud3JpdGU9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe3ZhciBhLHMsaCxsPTgqby1uLTEsdT0oMTw8bCktMSxjPXU+PjEscD0yMz09PW4/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLGQ9aT8wOm8tMSxmPWk/MTotMSxtPXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8ocz1pc05hTih0KT8xOjAsYT11KTooYT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0KihoPU1hdGgucG93KDIsLWEpKTwxJiYoYS0tLGgqPTIpLDI8PSh0Kz0xPD1hK2M/cC9oOnAqTWF0aC5wb3coMiwxLWMpKSpoJiYoYSsrLGgvPTIpLHU8PWErYz8ocz0wLGE9dSk6MTw9YStjPyhzPSh0KmgtMSkqTWF0aC5wb3coMixuKSxhKz1jKToocz10Kk1hdGgucG93KDIsYy0xKSpNYXRoLnBvdygyLG4pLGE9MCkpOzg8PW47ZVtyK2RdPTI1NSZzLGQrPWYscy89MjU2LG4tPTgpO2ZvcihhPWE8PG58cyxsKz1uOzA8bDtlW3IrZF09MjU1JmEsZCs9ZixhLz0yNTYsbC09OCk7ZVtyK2QtZl18PTEyOCptfX0se31dLDg6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaTtmdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGUuYj09PXQuYiYmZS5hPT09dC5hfWZ1bmN0aW9uIGcoZSx0KXtyZXR1cm4gZS5iPHQuYnx8ZS5iPT09dC5iJiZlLmE8PXQuYX1mdW5jdGlvbiB5KGUsdCxyKXt2YXIgaT10LmItZS5iLG49ci5iLXQuYjtyZXR1cm4gMDxpK24/aTxuP3QuYS1lLmEraS8oaStuKSooZS5hLXIuYSk6dC5hLXIuYStuLyhpK24pKihyLmEtZS5hKTowfWZ1bmN0aW9uIGIoZSx0LHIpe3ZhciBpPXQuYi1lLmIsbj1yLmItdC5iO3JldHVybiAwPGkrbj8odC5hLXIuYSkqaSsodC5hLWUuYSkqbjowfWZ1bmN0aW9uIF8oZSx0KXtyZXR1cm4gZS5hPHQuYXx8ZS5hPT09dC5hJiZlLmI8PXQuYn1mdW5jdGlvbiB4KGUsdCxyKXt2YXIgaT10LmEtZS5hLG49ci5hLXQuYTtyZXR1cm4gMDxpK24/aTxuP3QuYi1lLmIraS8oaStuKSooZS5iLXIuYik6dC5iLXIuYituLyhpK24pKihyLmItZS5iKTowfWZ1bmN0aW9uIHcoZSx0LHIpe3ZhciBpPXQuYS1lLmEsbj1yLmEtdC5hO3JldHVybiAwPGkrbj8odC5iLXIuYikqaSsodC5iLWUuYikqbjowfWZ1bmN0aW9uIFMoZSx0LHIsaSl7cmV0dXJuKGU9ZTwwPzA6ZSk8PShyPXI8MD8wOnIpPzA9PT1yPyh0K2kpLzI6dCtlLyhlK3IpKihpLXQpOmkrci8oZStyKSoodC1pKX1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZS5iKTtyZXR1cm4gbih0LGUuYyksbih0LmIsZS5jKSxzKHQsZS5hKSx0fWZ1bmN0aW9uIFQoZSx0KXt2YXIgcj0hMSxpPSExO2UhPT10JiYodC5hIT09ZS5hJiYoaT0hMCxtKHQuYSxlLmEpKSx0LmQhPT1lLmQmJihyPSEwLGgodC5kLGUuZCkpLGQodCxlKSxpfHwobih0LGUuYSksZS5hLmM9ZSkscnx8KHModCxlLmQpLGUuZC5hPWUpKX1mdW5jdGlvbiBjKGUpe3ZhciB0PWUuYixyPSExO2UuZCE9PWUuYi5kJiYocj0hMCxoKGUuZCxlLmIuZCkpLGUuYz09PWU/bShlLmEsbnVsbCk6KGUuYi5kLmE9SyhlKSxlLmEuYz1lLmMsZChlLEsoZSkpLHJ8fHMoZSxlLmQpKSx0LmM9PT10PyhtKHQuYSxudWxsKSxoKHQuZCxudWxsKSk6KGUuZC5hPUsodCksdC5hLmM9dC5jLGQodCxLKHQpKSksZihlKX1mdW5jdGlvbiBNKGUpe3ZhciB0PW8oZSkscj10LmI7cmV0dXJuIGQodCxlLmUpLHQuYT1lLmIuYSxuKHIsdC5hKSx0LmQ9ci5kPWUuZCx0PXQuYixkKGUuYixLKGUuYikpLGQoZS5iLHQpLGUuYi5hPXQuYSx0LmIuYS5jPXQuYix0LmIuZD1lLmIuZCx0LmY9ZS5mLHQuYi5mPWUuYi5mLHR9ZnVuY3Rpb24gcChlLHQpe3ZhciByPSExLGk9byhlKSxuPWkuYjtyZXR1cm4gdC5kIT09ZS5kJiYocj0hMCxoKHQuZCxlLmQpKSxkKGksZS5lKSxkKG4sdCksaS5hPWUuYi5hLG4uYT10LmEsaS5kPW4uZD1lLmQsZS5kLmE9bixyfHxzKGksZS5kKSxpfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9bmV3IEoscj1uZXcgSixpPWUuYi5oO3JldHVybigoKHIuaD1pKS5iLmg9dCkuaD1lKS5iLmg9cix0LmI9ciwoKHQuYz10KS5lPXIpLmI9dCwoci5jPXIpLmU9dH1mdW5jdGlvbiBkKGUsdCl7dmFyIHI9ZS5jLGk9dC5jO3IuYi5lPXQsKGkuYi5lPWUpLmM9aSx0LmM9cn1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9dC5mLGk9bmV3IGVlKHQscik7Zm9yKHIuZT1pLHI9KHQuZj1pKS5jPWU7ci5hPWksKHI9ci5jKSE9PWU7KTt9ZnVuY3Rpb24gcyhlLHQpe3ZhciByPXQuZCxpPW5ldyBRKHQscik7Zm9yKHIuYj1pLCh0LmQ9aSkuYT1lLGkuYz10LmMscj1lO3IuZD1pLChyPXIuZSkhPT1lOyk7fWZ1bmN0aW9uIGYoZSl7dmFyIHQ9ZS5oO2U9ZS5iLmgsKHQuYi5oPWUpLmIuaD10fWZ1bmN0aW9uIG0oZSx0KXtmb3IodmFyIHI9ZS5jLGk9cjtpLmE9dCwoaT1pLmMpIT09cjspO3I9ZS5mLCgoaT1lLmUpLmY9cikuZT1pfWZ1bmN0aW9uIGgoZSx0KXtmb3IodmFyIHI9ZS5hLGk9cjtpLmQ9dCwoaT1pLmUpIT09cjspO3I9ZS5kLCgoaT1lLmIpLmQ9cikuYj1pfWZ1bmN0aW9uIEUoZSl7dmFyIHQ9MDtyZXR1cm4gTWF0aC5hYnMoZVsxXSk+TWF0aC5hYnMoZVswXSkmJih0PTEpLE1hdGguYWJzKGVbMl0pPk1hdGguYWJzKGVbdF0pJiYodD0yKSx0fXZhciBDPTRlMTUwO2Z1bmN0aW9uIFIoZSx0KXtlLmYrPXQuZixlLmIuZis9dC5iLmZ9ZnVuY3Rpb24gbChlLHQscil7cmV0dXJuIGU9ZS5hLHQ9dC5hLHI9ci5hLHQuYi5hPT09ZT9yLmIuYT09PWU/Zyh0LmEsci5hKT9iKHIuYi5hLHQuYSxyLmEpPD0wOjA8PWIodC5iLmEsci5hLHQuYSk6YihyLmIuYSxlLHIuYSk8PTA6ci5iLmE9PT1lPzA8PWIodC5iLmEsZSx0LmEpOih0PXkodC5iLmEsZSx0LmEpLChlPXkoci5iLmEsZSxyLmEpKTw9dCl9ZnVuY3Rpb24gTChlKXtlLmEuaT1udWxsO3ZhciB0PWUuZTt0LmEuYz10LmMsdC5jLmE9dC5hLGUuZT1udWxsfWZ1bmN0aW9uIHUoZSx0KXtjKGUuYSksZS5jPSExLChlLmE9dCkuaT1lfWZ1bmN0aW9uIFAoZSl7Zm9yKHZhciB0PWUuYS5hOyhlPXBlKGUpKS5hLmE9PT10Oyk7cmV0dXJuIGUuYyYmKHUoZSx0PXAoY2UoZSkuYS5iLGUuYS5lKSksZT1wZShlKSksZX1mdW5jdGlvbiBrKGUsdCxyKXt2YXIgaT1uZXcgdWU7cmV0dXJuIGkuYT1yLGkuZT1XKGUuZix0LmUsaSksci5pPWl9ZnVuY3Rpb24gSShlLHQpe3N3aXRjaChlLnMpe2Nhc2UgMTAwMTMwOnJldHVybiAwIT0oMSZ0KTtjYXNlIDEwMDEzMTpyZXR1cm4gMCE9PXQ7Y2FzZSAxMDAxMzI6cmV0dXJuIDA8dDtjYXNlIDEwMDEzMzpyZXR1cm4gdDwwO2Nhc2UgMTAwMTM0OnJldHVybiAyPD10fHx0PD0tMn1yZXR1cm4hMX1mdW5jdGlvbiBEKGUpe3ZhciB0PWUuYSxyPXQuZDtyLmM9ZS5kLHIuYT10LEwoZSl9ZnVuY3Rpb24gQShlLHQscil7Zm9yKHQ9KGU9dCkuYTtlIT09cjspe2UuYz0hMTt2YXIgaT1jZShlKSxuPWkuYTtpZihuLmEhPT10LmEpe2lmKCFpLmMpe0QoZSk7YnJlYWt9dShpLG49cCh0LmMuYixuLmIpKX10LmMhPT1uJiYoVChLKG4pLG4pLFQodCxuKSksRChlKSx0PWkuYSxlPWl9cmV0dXJuIHR9ZnVuY3Rpb24gVShlLHQscixpLG4sbyl7Zm9yKHZhciBhPSEwO2soZSx0LHIuYiksKHI9ci5jKSE9PWk7KTtmb3IobnVsbD09PW4mJihuPWNlKHQpLmEuYi5jKTsocj0oaT1jZSh0KSkuYS5iKS5hPT09bi5hOylyLmMhPT1uJiYoVChLKHIpLHIpLFQoSyhuKSxyKSksaS5mPXQuZi1yLmYsaS5kPUkoZSxpLmYpLHQuYj0hMCwhYSYmRyhlLHQpJiYoUihyLG4pLEwodCksYyhuKSksYT0hMSx0PWksbj1yO3QuYj0hMCxvJiZWKGUsdCl9ZnVuY3Rpb24gTyhlLHQscixpLG4pe3ZhciBvPVt0LmdbMF0sdC5nWzFdLHQuZ1syXV07dC5kPW51bGwsdC5kPWUubyYmZS5vKG8scixpLGUuYyl8fG51bGwsbnVsbD09PXQuZCYmKG4/ZS5ufHwoWihlLDEwMDE1NiksZS5uPSEwKTp0LmQ9clswXSl9ZnVuY3Rpb24gQihlLHQscil7dmFyIGk9W251bGwsbnVsbCxudWxsLG51bGxdO2lbMF09dC5hLmQsaVsxXT1yLmEuZCxPKGUsdC5hLGksWy41LC41LDAsMF0sITEpLFQodCxyKX1mdW5jdGlvbiBGKGUsdCxyLGksbil7dmFyIG89TWF0aC5hYnModC5iLWUuYikrTWF0aC5hYnModC5hLWUuYSksYT1NYXRoLmFicyhyLmItZS5iKStNYXRoLmFicyhyLmEtZS5hKSxzPW4rMTtpW25dPS41KmEvKG8rYSksaVtzXT0uNSpvLyhvK2EpLGUuZ1swXSs9aVtuXSp0LmdbMF0raVtzXSpyLmdbMF0sZS5nWzFdKz1pW25dKnQuZ1sxXStpW3NdKnIuZ1sxXSxlLmdbMl0rPWlbbl0qdC5nWzJdK2lbc10qci5nWzJdfWZ1bmN0aW9uIEcoZSx0KXt2YXIgcj1jZSh0KSxpPXQuYSxuPXIuYTtpZihnKGkuYSxuLmEpKXtpZigwPGIobi5iLmEsaS5hLG4uYSkpcmV0dXJuITE7aWYodihpLmEsbi5hKSl7aWYoaS5hIT09bi5hKXtyPWUuZTt2YXIgbz1pLmEuaDtpZigwPD1vKXt2YXIgYT0ocj1yLmIpLmQscz1yLmUsaD1yLmMsbD1oW29dO2FbbF09YVtyLmFdLChoW2FbbF1dPWwpPD0tLXIuYSYmKGw8PTE/aGUocixsKTpnKHNbYVtsPj4xXV0sc1thW2xdXSk/aGUocixsKTpsZShyLGwpKSxzW29dPW51bGwsaFtvXT1yLmIsci5iPW99ZWxzZSBmb3Ioci5jWy0obysxKV09bnVsbDswPHIuYSYmbnVsbD09PXIuY1tyLmRbci5hLTFdXTspLS1yLmE7QihlLEsobiksaSl9fWVsc2UgTShuLmIpLFQoaSxLKG4pKSx0LmI9ci5iPSEwfWVsc2V7aWYoYihpLmIuYSxuLmEsaS5hKTwwKXJldHVybiExO3BlKHQpLmI9dC5iPSEwLE0oaS5iKSxUKEsobiksaSl9cmV0dXJuITB9ZnVuY3Rpb24gTihlLHQpe3ZhciByPWNlKHQpLGk9dC5hLG49ci5hLG89aS5hLGE9bi5hLHM9aS5iLmEsaD1uLmIuYSxsPW5ldyBlZTtpZihiKHMsZS5hLG8pLGIoaCxlLmEsYSksbz09PWF8fE1hdGgubWluKG8uYSxzLmEpPk1hdGgubWF4KGEuYSxoLmEpKXJldHVybiExO2lmKGcobyxhKSl7aWYoMDxiKGgsbyxhKSlyZXR1cm4hMX1lbHNlIGlmKGIocyxhLG8pPDApcmV0dXJuITE7dmFyIHUsYyxwPXMsZD1vLGY9aCxtPWE7aWYoZyhwLGQpfHwodT1wLHA9ZCxkPXUpLGcoZixtKXx8KHU9ZixmPW0sbT11KSxnKHAsZil8fCh1PXAscD1mLGY9dSx1PWQsZD1tLG09dSksZyhmLGQpP2coZCxtKT8oKHU9eShwLGYsZCkpKyhjPXkoZixkLG0pKTwwJiYodT0tdSxjPS1jKSxsLmI9Uyh1LGYuYixjLGQuYikpOigodT1iKHAsZixkKSkrKGM9LWIocCxtLGQpKTwwJiYodT0tdSxjPS1jKSxsLmI9Uyh1LGYuYixjLG0uYikpOmwuYj0oZi5iK2QuYikvMixfKHAsZCl8fCh1PXAscD1kLGQ9dSksXyhmLG0pfHwodT1mLGY9bSxtPXUpLF8ocCxmKXx8KHU9cCxwPWYsZj11LHU9ZCxkPW0sbT11KSxfKGYsZCk/XyhkLG0pPygodT14KHAsZixkKSkrKGM9eChmLGQsbSkpPDAmJih1PS11LGM9LWMpLGwuYT1TKHUsZi5hLGMsZC5hKSk6KCh1PXcocCxmLGQpKSsoYz0tdyhwLG0sZCkpPDAmJih1PS11LGM9LWMpLGwuYT1TKHUsZi5hLGMsbS5hKSk6bC5hPShmLmErZC5hKS8yLGcobCxlLmEpJiYobC5iPWUuYS5iLGwuYT1lLmEuYSksZyhwPWcobyxhKT9vOmEsbCkmJihsLmI9cC5iLGwuYT1wLmEpLHYobCxvKXx8dihsLGEpKXJldHVybiBHKGUsdCksITE7aWYoIXYocyxlLmEpJiYwPD1iKHMsZS5hLGwpfHwhdihoLGUuYSkmJmIoaCxlLmEsbCk8PTApe2lmKGg9PT1lLmEpcmV0dXJuIE0oaS5iKSxUKG4uYixpKSxpPWNlKHQ9UCh0KSkuYSxBKGUsY2UodCksciksVShlLHQsSyhpKSxpLGksITApLCEwO2lmKHMhPT1lLmEpcmV0dXJuIDA8PWIocyxlLmEsbCkmJihwZSh0KS5iPXQuYj0hMCxNKGkuYiksaS5hLmI9ZS5hLmIsaS5hLmE9ZS5hLmEpLGIoaCxlLmEsbCk8PTAmJih0LmI9ci5iPSEwLE0obi5iKSxuLmEuYj1lLmEuYixuLmEuYT1lLmEuYSksITE7Zm9yKE0obi5iKSxUKGkuZSxLKG4pKSxhPShvPXI9dCkuYS5iLmE7KG89cGUobykpLmEuYi5hPT09YTspO3JldHVybiBvPWNlKHQ9bykuYS5iLmMsci5hPUsobiksVShlLHQsKG49QShlLHIsbnVsbCkpLmMsaS5iLmMsbywhMCksITB9cmV0dXJuIE0oaS5iKSxNKG4uYiksVChLKG4pLGkpLGkuYS5iPWwuYixpLmEuYT1sLmEsaS5hLmg9cmUoZS5lLGkuYSksaT1pLmEsbj1bMCwwLDAsMF0sbD1bby5kLHMuZCxhLmQsaC5kXSxpLmdbMF09aS5nWzFdPWkuZ1syXT0wLEYoaSxvLHMsbiwwKSxGKGksYSxoLG4sMiksTyhlLGksbCxuLCEwKSxwZSh0KS5iPXQuYj1yLmI9ITAsITF9ZnVuY3Rpb24gVihlLHQpe2Zvcih2YXIgcj1jZSh0KTs7KXtmb3IoO3IuYjspcj1jZSh0PXIpO2lmKCF0LmImJihudWxsPT09KHQ9cGUocj10KSl8fCF0LmIpKWJyZWFrO3QuYj0hMTt2YXIgaSxuPXQuYSxvPXIuYTtpZihpPW4uYi5hIT09by5iLmEpZTp7dmFyIGE9Y2UoaT10KSxzPWkuYSxoPWEuYSxsPXZvaWQgMDtpZihnKHMuYi5hLGguYi5hKSl7aWYoYihzLmIuYSxoLmIuYSxzLmEpPDApe2k9ITE7YnJlYWsgZX1wZShpKS5iPWkuYj0hMCxsPU0ocyksVChoLmIsbCksbC5kLmM9aS5kfWVsc2V7aWYoMDxiKGguYi5hLHMuYi5hLGguYSkpe2k9ITE7YnJlYWsgZX1pLmI9YS5iPSEwLGw9TShoKSxUKHMuZSxoLmIpLGwuYi5kLmM9aS5kfWk9ITB9aWYoaSYmKHIuYz8oTChyKSxjKG8pLG89KHI9Y2UodCkpLmEpOnQuYyYmKEwodCksYyhuKSxuPSh0PXBlKHIpKS5hKSksbi5hIT09by5hKWlmKG4uYi5hPT09by5iLmF8fHQuY3x8ci5jfHxuLmIuYSE9PWUuYSYmby5iLmEhPT1lLmEpRyhlLHQpO2Vsc2UgaWYoTihlLHQpKWJyZWFrO24uYT09PW8uYSYmbi5iLmE9PT1vLmIuYSYmKFIobyxuKSxMKHQpLGMobiksdD1wZShyKSl9fWZ1bmN0aW9uIHooZSx0KXtmb3IodmFyIHI9KGUuYT10KS5jO251bGw9PT1yLmk7KWlmKChyPXIuYyk9PT10LmMpe3I9ZTt2YXIgaT10OyhhPW5ldyB1ZSkuYT1pLmMuYjtmb3IodmFyIG49KGg9ci5mKS5hO251bGwhPT0obj1uLmEpLmImJiFoLmMoaC5iLGEsbi5iKTspO3ZhciBvPWNlKGg9bi5iKSxhPWguYTtuPW8uYTtpZigwPT09YihhLmIuYSxpLGEuYSkpdigoYT1oLmEpLmEsaSl8fHYoYS5iLmEsaSl8fChNKGEuYiksaC5jJiYoYyhhLmMpLGguYz0hMSksVChpLmMsYSkseihyLGkpKTtlbHNle3ZhciBzPWcobi5iLmEsYS5iLmEpP2g6bztvPXZvaWQgMDtoLmR8fHMuYz8obz1zPT09aD9wKGkuYy5iLGEuZSk6cChuLmIuYy5iLGkuYykuYixzLmM/dShzLG8pOigoaD1rKGE9cixoLG8pKS5mPXBlKGgpLmYraC5hLmYsaC5kPUkoYSxoLmYpKSx6KHIsaSkpOlUocixoLGkuYyxpLmMsbnVsbCwhMCl9cmV0dXJufWlmKGg9KGE9Y2Uocj1QKHIuaSkpKS5hLChhPUEoZSxhLG51bGwpKS5jPT09aCl7YT0oaD1hKS5jLG49Y2Uociksbz1yLmEscz1uLmE7dmFyIGgsbD0hMTtvLmIuYSE9PXMuYi5hJiZOKGUsciksdihvLmEsZS5hKSYmKFQoSyhhKSxvKSxhPWNlKHI9UChyKSkuYSxBKGUsY2UociksbiksbD0hMCksdihzLmEsZS5hKSYmKFQoaCxLKHMpKSxoPUEoZSxuLG51bGwpLGw9ITApLGw/VShlLHIsaC5jLGEsYSwhMCk6KGk9ZyhzLmEsby5hKT9LKHMpOm8sVShlLHIsaT1wKGguYy5iLGkpLGkuYyxpLmMsITEpLGkuYi5pLmM9ITAsVihlLHIpKX1lbHNlIFUoZSxyLGEuYyxoLGgsITApfWZ1bmN0aW9uIEgoZSx0KXt2YXIgcj1uZXcgdWUsaT1hKGUuYik7aS5hLmI9QyxpLmEuYT10LGkuYi5hLmI9LUMsaS5iLmEuYT10LGUuYT1pLmIuYSxyLmE9aSxyLmY9MCxyLmQ9ITEsci5jPSExLHIuaD0hMCxyLmI9ITEsaT1XKGk9ZS5mLGkuYSxyKSxyLmU9aX1mdW5jdGlvbiBqKGUpe3RoaXMuYT1uZXcgWCx0aGlzLmI9ZSx0aGlzLmM9bH1mdW5jdGlvbiBXKGUsdCxyKXtmb3IoO251bGwhPT0odD10LmMpLmImJiFlLmMoZS5iLHQuYixyKTspO3JldHVybiBlPW5ldyBYKHIsdC5hLHQpLHQuYS5jPWUsdC5hPWV9ZnVuY3Rpb24gWChlLHQscil7dGhpcy5iPWV8fG51bGwsdGhpcy5hPXR8fHRoaXMsdGhpcy5jPXJ8fHRoaXN9ZnVuY3Rpb24gcSgpe3RoaXMuZD0wLHRoaXMucD10aGlzLmI9dGhpcy5xPW51bGwsdGhpcy5qPVswLDAsMF0sdGhpcy5zPTEwMDEzMCx0aGlzLm49ITEsdGhpcy5vPXRoaXMuYT10aGlzLmU9dGhpcy5mPW51bGwsdGhpcy5tPSExLHRoaXMuYz10aGlzLnI9dGhpcy5pPXRoaXMuaz10aGlzLmw9dGhpcy5oPW51bGx9ZnVuY3Rpb24gWShlLHQpe2lmKGUuZCE9PXQpZm9yKDtlLmQhPT10OylpZihlLmQ8dClzd2l0Y2goZS5kKXtjYXNlIDA6WihlLDEwMDE1MSksZS51KG51bGwpO2JyZWFrO2Nhc2UgMTpaKGUsMTAwMTUyKSxlLnQoKX1lbHNlIHN3aXRjaChlLmQpe2Nhc2UgMjpaKGUsMTAwMTU0KSxlLnYoKTticmVhaztjYXNlIDE6WihlLDEwMDE1MyksZS53KCl9fWZ1bmN0aW9uIFooZSx0KXtlLnAmJmUucCh0LGUuYyl9ZnVuY3Rpb24gUShlLHQpe3RoaXMuYj1lfHx0aGlzLHRoaXMuZD10fHx0aGlzLHRoaXMuYT1udWxsLHRoaXMuYz0hMX1mdW5jdGlvbiBKKCl7KHRoaXMuaD10aGlzKS5pPXRoaXMuZD10aGlzLmE9dGhpcy5lPXRoaXMuYz10aGlzLmI9bnVsbCx0aGlzLmY9MH1mdW5jdGlvbiBLKGUpe3JldHVybiBlLmIuZX1mdW5jdGlvbiAkKCl7dGhpcy5jPW5ldyBlZSx0aGlzLmE9bmV3IFEsdGhpcy5iPW5ldyBKLHRoaXMuZD1uZXcgSix0aGlzLmIuYj10aGlzLmQsdGhpcy5kLmI9dGhpcy5ifWZ1bmN0aW9uIGVlKGUsdCl7dGhpcy5lPWV8fHRoaXMsdGhpcy5mPXR8fHRoaXMsdGhpcy5kPXRoaXMuYz1udWxsLHRoaXMuZz1bMCwwLDBdLHRoaXMuaD10aGlzLmE9dGhpcy5iPTB9ZnVuY3Rpb24gdGUoKXt0aGlzLmM9W10sdGhpcy5kPW51bGwsdGhpcy5hPTAsdGhpcy5lPSExLHRoaXMuYj1uZXcgbmV9ZnVuY3Rpb24gcmUoZSx0KXtpZihlLmUpe3ZhciByLGk9ZS5iLG49KytpLmE7cmV0dXJuIDIqbj5pLmYmJihpLmYqPTIsaS5jPW9lKGkuYyxpLmYrMSkpLDA9PT1pLmI/cj1uOihyPWkuYixpLmI9aS5jW2kuYl0pLGkuZVtyXT10LGkuY1tyXT1uLGkuZFtuXT1yLGkuaCYmbGUoaSxuKSxyfXJldHVybiBpPWUuYSsrLGUuY1tpXT10LC0oaSsxKX1mdW5jdGlvbiBpZShlKXtpZigwPT09ZS5hKXJldHVybiBzZShlLmIpO3ZhciB0PWUuY1tlLmRbZS5hLTFdXTtpZigwIT09ZS5iLmEmJmcoYWUoZS5iKSx0KSlyZXR1cm4gc2UoZS5iKTtmb3IoOy0tZS5hLDA8ZS5hJiZudWxsPT09ZS5jW2UuZFtlLmEtMV1dOyk7cmV0dXJuIHR9ZnVuY3Rpb24gbmUoKXt0aGlzLmQ9b2UoWzBdLDMzKSx0aGlzLmU9W251bGwsbnVsbF0sdGhpcy5jPVswLDBdLHRoaXMuYT0wLHRoaXMuZj0zMix0aGlzLmI9MCx0aGlzLmg9ITEsdGhpcy5kWzFdPTF9ZnVuY3Rpb24gb2UoZSx0KXtmb3IodmFyIHI9QXJyYXkodCksaT0wO2k8ZS5sZW5ndGg7aSsrKXJbaV09ZVtpXTtmb3IoO2k8dDtpKyspcltpXT0wO3JldHVybiByfWZ1bmN0aW9uIGFlKGUpe3JldHVybiBlLmVbZS5kWzFdXX1mdW5jdGlvbiBzZShlKXt2YXIgdD1lLmQscj1lLmUsaT1lLmMsbj10WzFdLG89cltuXTtyZXR1cm4gMDxlLmEmJih0WzFdPXRbZS5hXSxpW3RbMV1dPTEscltuXT1udWxsLGlbbl09ZS5iLGUuYj1uLDA8LS1lLmEmJmhlKGUsMSkpLG99ZnVuY3Rpb24gaGUoZSx0KXtmb3IodmFyIHI9ZS5kLGk9ZS5lLG49ZS5jLG89dCxhPXJbb107Oyl7dmFyIHM9bzw8MTtzPGUuYSYmZyhpW3JbcysxXV0saVtyW3NdXSkmJihzKz0xKTt2YXIgaD1yW3NdO2lmKHM+ZS5hfHxnKGlbYV0saVtoXSkpe25bcltvXT1hXT1vO2JyZWFrfW5bcltvXT1oXT1vLG89c319ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIHI9ZS5kLGk9ZS5lLG49ZS5jLG89dCxhPXJbb107Oyl7dmFyIHM9bz4+MSxoPXJbc107aWYoMD09PXN8fGcoaVtoXSxpW2FdKSl7bltyW29dPWFdPW87YnJlYWt9bltyW29dPWhdPW8sbz1zfX1mdW5jdGlvbiB1ZSgpe3RoaXMuZT10aGlzLmE9bnVsbCx0aGlzLmY9MCx0aGlzLmM9dGhpcy5iPXRoaXMuaD10aGlzLmQ9ITF9ZnVuY3Rpb24gY2UoZSl7cmV0dXJuIGUuZS5jLmJ9ZnVuY3Rpb24gcGUoZSl7cmV0dXJuIGUuZS5hLmJ9KGk9cS5wcm90b3R5cGUpLng9ZnVuY3Rpb24oKXtZKHRoaXMsMCl9LGkuQj1mdW5jdGlvbihlLHQpe3N3aXRjaChlKXtjYXNlIDEwMDE0MjpyZXR1cm47Y2FzZSAxMDAxNDA6c3dpdGNoKHQpe2Nhc2UgMTAwMTMwOmNhc2UgMTAwMTMxOmNhc2UgMTAwMTMyOmNhc2UgMTAwMTMzOmNhc2UgMTAwMTM0OnJldHVybiB2b2lkKHRoaXMucz10KX1icmVhaztjYXNlIDEwMDE0MTpyZXR1cm4gdm9pZCh0aGlzLm09ISF0KTtkZWZhdWx0OnJldHVybiB2b2lkIFoodGhpcywxMDA5MDApfVoodGhpcywxMDA5MDEpfSxpLnk9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMTAwMTQyOnJldHVybiAwO2Nhc2UgMTAwMTQwOnJldHVybiB0aGlzLnM7Y2FzZSAxMDAxNDE6cmV0dXJuIHRoaXMubTtkZWZhdWx0OloodGhpcywxMDA5MDApfXJldHVybiExfSxpLkE9ZnVuY3Rpb24oZSx0LHIpe3RoaXMualswXT1lLHRoaXMualsxXT10LHRoaXMualsyXT1yfSxpLno9ZnVuY3Rpb24oZSx0KXt2YXIgcj10fHxudWxsO3N3aXRjaChlKXtjYXNlIDEwMDEwMDpjYXNlIDEwMDEwNjp0aGlzLmg9cjticmVhaztjYXNlIDEwMDEwNDpjYXNlIDEwMDExMDp0aGlzLmw9cjticmVhaztjYXNlIDEwMDEwMTpjYXNlIDEwMDEwNzp0aGlzLms9cjticmVhaztjYXNlIDEwMDEwMjpjYXNlIDEwMDEwODp0aGlzLmk9cjticmVhaztjYXNlIDEwMDEwMzpjYXNlIDEwMDEwOTp0aGlzLnA9cjticmVhaztjYXNlIDEwMDEwNTpjYXNlIDEwMDExMTp0aGlzLm89cjticmVhaztjYXNlIDEwMDExMjp0aGlzLnI9cjticmVhaztkZWZhdWx0OloodGhpcywxMDA5MDApfX0saS5DPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ITEsaT1bMCwwLDBdO1kodGhpcywyKTtmb3IodmFyIG49MDtuPDM7KytuKXt2YXIgbz1lW25dO288LTFlMTUwJiYobz0tMWUxNTAscj0hMCksMWUxNTA8byYmKG89MWUxNTAscj0hMCksaVtuXT1vfXImJloodGhpcywxMDAxNTUpLG51bGw9PT0ocj10aGlzLnEpP1Qocj1hKHRoaXMuYiksci5iKTooTShyKSxyPXIuZSksci5hLmQ9dCxyLmEuZ1swXT1pWzBdLHIuYS5nWzFdPWlbMV0sci5hLmdbMl09aVsyXSxyLmY9MSxyLmIuZj0tMSx0aGlzLnE9cn0saS51PWZ1bmN0aW9uKGUpe1kodGhpcywwKSx0aGlzLmQ9MSx0aGlzLmI9bmV3ICQsdGhpcy5jPWV9LGkudD1mdW5jdGlvbigpe1kodGhpcywxKSx0aGlzLmQ9Mix0aGlzLnE9bnVsbH0saS52PWZ1bmN0aW9uKCl7WSh0aGlzLDIpLHRoaXMuZD0xfSxpLnc9ZnVuY3Rpb24oKXtZKHRoaXMsMSksdGhpcy5kPTA7dmFyIGUsdCxyPSExLGk9W2g9dGhpcy5qWzBdLG49dGhpcy5qWzFdLGE9dGhpcy5qWzJdXTtpZigwPT09aCYmMD09PW4mJjA9PT1hKXtmb3IodmFyIG49Wy0yZTE1MCwtMmUxNTAsLTJlMTUwXSxvPVsyZTE1MCwyZTE1MCwyZTE1MF0sYT1bXSxzPVtdLGg9KHI9dGhpcy5iLmMpLmU7aCE9PXI7aD1oLmUpZm9yKHZhciBsPTA7bDwzOysrbCl7dmFyIHU9aC5nW2xdO3U8b1tsXSYmKG9bbF09dSxzW2xdPWgpLHU+bltsXSYmKG5bbF09dSxhW2xdPWgpfWlmKGg9MCxuWzFdLW9bMV0+blswXS1vWzBdJiYoaD0xKSxuWzJdLW9bMl0+bltoXS1vW2hdJiYoaD0yKSxvW2hdPj1uW2hdKWlbMF09MCxpWzFdPTAsaVsyXT0xO2Vsc2V7Zm9yKG49MCxvPXNbaF0sYT1hW2hdLHM9WzAsMCwwXSxvPVtvLmdbMF0tYS5nWzBdLG8uZ1sxXS1hLmdbMV0sby5nWzJdLWEuZ1syXV0sbD1bMCwwLDBdLGg9ci5lO2ghPT1yO2g9aC5lKWxbMF09aC5nWzBdLWEuZ1swXSxsWzFdPWguZ1sxXS1hLmdbMV0sbFsyXT1oLmdbMl0tYS5nWzJdLHNbMF09b1sxXSpsWzJdLW9bMl0qbFsxXSxzWzFdPW9bMl0qbFswXS1vWzBdKmxbMl0sc1syXT1vWzBdKmxbMV0tb1sxXSpsWzBdLG48KHU9c1swXSpzWzBdK3NbMV0qc1sxXStzWzJdKnNbMl0pJiYobj11LGlbMF09c1swXSxpWzFdPXNbMV0saVsyXT1zWzJdKTtuPD0wJiYoaVswXT1pWzFdPWlbMl09MCxpW0UobyldPTEpfXI9ITB9Zm9yKHM9RShpKSxoPXRoaXMuYi5jLG49KHMrMSklMyxhPShzKzIpJTMscz0wPGlbc10/MTotMSxpPWguZTtpIT09aDtpPWkuZSlpLmI9aS5nW25dLGkuYT1zKmkuZ1thXTtpZihyKXtmb3IoaT0wLGg9KHI9dGhpcy5iLmEpLmI7aCE9PXI7aD1oLmIpaWYoISgobj1oLmEpLmY8PTApKWZvcig7aSs9KG4uYS5iLW4uYi5hLmIpKihuLmEuYStuLmIuYS5hKSwobj1uLmUpIT09aC5hOyk7aWYoaTwwKWZvcihyPShpPXRoaXMuYi5jKS5lO3IhPT1pO3I9ci5lKXIuYT0tci5hfWZvcih0aGlzLm49ITEsaD0oaT10aGlzLmIuYikuaDtoIT09aTtoPXIpcj1oLmgsbj1oLmUsdihoLmEsaC5iLmEpJiZoLmUuZSE9PWgmJihCKHRoaXMsbixoKSxjKGgpLG49KGg9bikuZSksbi5lPT09aCYmKG4hPT1oJiYobiE9PXImJm4hPT1yLmJ8fChyPXIuaCksYyhuKSksaCE9PXImJmghPT1yLmJ8fChyPXIuaCksYyhoKSk7Zm9yKHRoaXMuZT1pPW5ldyB0ZSxoPShyPXRoaXMuYi5jKS5lO2ghPT1yO2g9aC5lKWguaD1yZShpLGgpO2ZvcihmdW5jdGlvbihlKXtlLmQ9W107Zm9yKHZhciB0PTA7dDxlLmE7dCsrKWUuZFt0XT10O2UuZC5zb3J0KChyPWUuYyxmdW5jdGlvbihlLHQpe3JldHVybiBnKHJbZV0sclt0XSk/MTotMX0pKSxlLmU9ITAsZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuYTsxPD10Oy0tdCloZShlLHQpO2UuaD0hMH0oZS5iKTt2YXIgcn0oaSksdGhpcy5mPW5ldyBqKHRoaXMpLEgodGhpcywtQyksSCh0aGlzLEMpO251bGwhPT0oaT1pZSh0aGlzLmUpKTspe2Zvcig7Oyl7ZTppZihoPXRoaXMuZSwwPT09aC5hKXI9YWUoaC5iKTtlbHNlIGlmKHI9aC5jW2guZFtoLmEtMV1dLDAhPT1oLmIuYSYmKGg9YWUoaC5iKSxnKGgscikpKXtyPWg7YnJlYWsgZX1pZihudWxsPT09cnx8IXYocixpKSlicmVhaztyPWllKHRoaXMuZSksQih0aGlzLGkuYyxyLmMpfXoodGhpcyxpKX1mb3IodGhpcy5hPXRoaXMuZi5hLmEuYi5hLmEsaT0wO251bGwhPT0ocj10aGlzLmYuYS5hLmIpOylyLmh8fCsraSxMKHIpO2Zvcih0aGlzLmY9bnVsbCwoaT10aGlzLmUpLmI9bnVsbCxpLmQ9bnVsbCx0aGlzLmU9aS5jPW51bGwsaD0oaT10aGlzLmIpLmEuYjtoIT09aS5hO2g9cilyPWguYiwoaD1oLmEpLmUuZT09PWgmJihSKGguYyxoKSxjKGgpKTtpZighdGhpcy5uKXtpZihpPXRoaXMuYix0aGlzLm0pZm9yKGg9aS5iLmg7aCE9PWkuYjtoPXIpcj1oLmgsaC5iLmQuYyE9PWguZC5jP2guZj1oLmQuYz8xOi0xOmMoaCk7ZWxzZSBmb3IoaD1pLmEuYjtoIT09aS5hO2g9cilpZihyPWguYixoLmMpe2ZvcihoPWguYTtnKGguYi5hLGguYSk7aD1oLmMuYik7Zm9yKDtnKGguYSxoLmIuYSk7aD1oLmUpO2ZvcihuPWguYy5iLGE9dm9pZCAwO2guZSE9PW47KWlmKGcoaC5iLmEsbi5hKSl7Zm9yKDtuLmUhPT1oJiYoZygodD1uLmUpLmIuYSx0LmEpfHxiKG4uYSxuLmIuYSxuLmUuYi5hKTw9MCk7KW49KGE9cChuLmUsbikpLmI7bj1uLmMuYn1lbHNle2Zvcig7bi5lIT09aCYmKGcoKGU9aC5jLmIpLmEsZS5iLmEpfHwwPD1iKGguYi5hLGguYSxoLmMuYi5hKSk7KWg9KGE9cChoLGguYy5iKSkuYjtoPWguZX1mb3IoO24uZS5lIT09aDspbj0oYT1wKG4uZSxuKSkuYn1pZih0aGlzLmh8fHRoaXMuaXx8dGhpcy5rfHx0aGlzLmwpaWYodGhpcy5tKXtmb3Iocj0oaT10aGlzLmIpLmEuYjtyIT09aS5hO3I9ci5iKWlmKHIuYyl7Zm9yKHRoaXMuaCYmdGhpcy5oKDIsdGhpcy5jKSxoPXIuYTt0aGlzLmsmJnRoaXMuayhoLmEuZCx0aGlzLmMpLChoPWguZSkhPT1yLmE7KTt0aGlzLmkmJnRoaXMuaSh0aGlzLmMpfX1lbHNle2ZvcihpPXRoaXMuYixyPSEhdGhpcy5sLGg9ITEsbj0tMSxhPWkuYS5kO2EhPT1pLmE7YT1hLmQpaWYoYS5jKWZvcihofHwodGhpcy5oJiZ0aGlzLmgoNCx0aGlzLmMpLGg9ITApLHM9YS5hO3ImJihuIT09KG89cy5iLmQuYz8wOjEpJiYobj1vLHRoaXMubCYmdGhpcy5sKCEhbix0aGlzLmMpKSksdGhpcy5rJiZ0aGlzLmsocy5hLmQsdGhpcy5jKSwocz1zLmUpIT09YS5hOyk7aCYmdGhpcy5pJiZ0aGlzLmkodGhpcy5jKX1pZih0aGlzLnIpe2ZvcihoPShpPXRoaXMuYikuYS5iO2ghPT1pLmE7aD1yKWlmKHI9aC5iLCFoLmMpe2ZvcihhPShuPWguYSkuZSxzPXZvaWQgMDthPShzPWEpLmUsKHMuZD1udWxsKT09PXMuYi5kJiYocy5jPT09cz9tKHMuYSxudWxsKToocy5hLmM9cy5jLGQocyxLKHMpKSksKG89cy5iKS5jPT09bz9tKG8uYSxudWxsKTooby5hLmM9by5jLGQobyxLKG8pKSksZihzKSkscyE9PW47KTtuPWguZCwoKGg9aC5iKS5kPW4pLmI9aH1yZXR1cm4gdGhpcy5yKHRoaXMuYiksdm9pZCh0aGlzLmM9dGhpcy5iPW51bGwpfX10aGlzLmI9dGhpcy5jPW51bGx9LHRoaXMubGlidGVzcz17R2x1VGVzc2VsYXRvcjpxLHdpbmRpbmdSdWxlOntHTFVfVEVTU19XSU5ESU5HX09ERDoxMDAxMzAsR0xVX1RFU1NfV0lORElOR19OT05aRVJPOjEwMDEzMSxHTFVfVEVTU19XSU5ESU5HX1BPU0lUSVZFOjEwMDEzMixHTFVfVEVTU19XSU5ESU5HX05FR0FUSVZFOjEwMDEzMyxHTFVfVEVTU19XSU5ESU5HX0FCU19HRVFfVFdPOjEwMDEzNH0scHJpbWl0aXZlVHlwZTp7R0xfTElORV9MT09QOjIsR0xfVFJJQU5HTEVTOjQsR0xfVFJJQU5HTEVfU1RSSVA6NSxHTF9UUklBTkdMRV9GQU46Nn0sZXJyb3JUeXBlOntHTFVfVEVTU19NSVNTSU5HX0JFR0lOX1BPTFlHT046MTAwMTUxLEdMVV9URVNTX01JU1NJTkdfRU5EX1BPTFlHT046MTAwMTUzLEdMVV9URVNTX01JU1NJTkdfQkVHSU5fQ09OVE9VUjoxMDAxNTIsR0xVX1RFU1NfTUlTU0lOR19FTkRfQ09OVE9VUjoxMDAxNTQsR0xVX1RFU1NfQ09PUkRfVE9PX0xBUkdFOjEwMDE1NSxHTFVfVEVTU19ORUVEX0NPTUJJTkVfQ0FMTEJBQ0s6MTAwMTU2fSxnbHVFbnVtOntHTFVfVEVTU19NRVNIOjEwMDExMixHTFVfVEVTU19UT0xFUkFOQ0U6MTAwMTQyLEdMVV9URVNTX1dJTkRJTkdfUlVMRToxMDAxNDAsR0xVX1RFU1NfQk9VTkRBUllfT05MWToxMDAxNDEsR0xVX0lOVkFMSURfRU5VTToxMDA5MDAsR0xVX0lOVkFMSURfVkFMVUU6MTAwOTAxLEdMVV9URVNTX0JFR0lOOjEwMDEwMCxHTFVfVEVTU19WRVJURVg6MTAwMTAxLEdMVV9URVNTX0VORDoxMDAxMDIsR0xVX1RFU1NfRVJST1I6MTAwMTAzLEdMVV9URVNTX0VER0VfRkxBRzoxMDAxMDQsR0xVX1RFU1NfQ09NQklORToxMDAxMDUsR0xVX1RFU1NfQkVHSU5fREFUQToxMDAxMDYsR0xVX1RFU1NfVkVSVEVYX0RBVEE6MTAwMTA3LEdMVV9URVNTX0VORF9EQVRBOjEwMDEwOCxHTFVfVEVTU19FUlJPUl9EQVRBOjEwMDEwOSxHTFVfVEVTU19FREdFX0ZMQUdfREFUQToxMDAxMTAsR0xVX1RFU1NfQ09NQklORV9EQVRBOjEwMDExMX19LHEucHJvdG90eXBlLmdsdURlbGV0ZVRlc3M9cS5wcm90b3R5cGUueCxxLnByb3RvdHlwZS5nbHVUZXNzUHJvcGVydHk9cS5wcm90b3R5cGUuQixxLnByb3RvdHlwZS5nbHVHZXRUZXNzUHJvcGVydHk9cS5wcm90b3R5cGUueSxxLnByb3RvdHlwZS5nbHVUZXNzTm9ybWFsPXEucHJvdG90eXBlLkEscS5wcm90b3R5cGUuZ2x1VGVzc0NhbGxiYWNrPXEucHJvdG90eXBlLnoscS5wcm90b3R5cGUuZ2x1VGVzc1ZlcnRleD1xLnByb3RvdHlwZS5DLHEucHJvdG90eXBlLmdsdVRlc3NCZWdpblBvbHlnb249cS5wcm90b3R5cGUudSxxLnByb3RvdHlwZS5nbHVUZXNzQmVnaW5Db250b3VyPXEucHJvdG90eXBlLnQscS5wcm90b3R5cGUuZ2x1VGVzc0VuZENvbnRvdXI9cS5wcm90b3R5cGUudixxLnByb3RvdHlwZS5nbHVUZXNzRW5kUG9seWdvbj1xLnByb3RvdHlwZS53LHZvaWQgMCE9PXQmJih0LmV4cG9ydHM9dGhpcy5saWJ0ZXNzKX0se31dLDk6W2Z1bmN0aW9uKFZyLHQscil7KGZ1bmN0aW9uKE5yKXt2YXIgZTtlPXRoaXMsZnVuY3Rpb24oTSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGUsdDtTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0fHwoZT1mdW5jdGlvbigpe3RyeXt2YXIgZT17fSx0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxyPXQoZSxlLGUpJiZ0fWNhdGNoKGUpe31yZXR1cm4gcn0oKSx0PWZ1bmN0aW9uKGUpe2lmKG51bGw9PXRoaXMpdGhyb3cgVHlwZUVycm9yKCk7dmFyIHQ9U3RyaW5nKHRoaXMpLHI9dC5sZW5ndGgsaT1lP051bWJlcihlKTowO2lmKGkhPWkmJihpPTApLCEoaTwwfHxyPD1pKSl7dmFyIG4sbz10LmNoYXJDb2RlQXQoaSk7cmV0dXJuIDU1Mjk2PD1vJiZvPD01NjMxOSYmaSsxPHImJjU2MzIwPD0obj10LmNoYXJDb2RlQXQoaSsxKSkmJm48PTU3MzQzPzEwMjQqKG8tNTUyOTYpK24tNTYzMjArNjU1MzY6b319LGU/ZShTdHJpbmcucHJvdG90eXBlLFwiY29kZVBvaW50QXRcIix7dmFsdWU6dCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0PXQpO3ZhciBoPTAsbz0tMztmdW5jdGlvbiByKCl7dGhpcy50YWJsZT1uZXcgVWludDE2QXJyYXkoMTYpLHRoaXMudHJhbnM9bmV3IFVpbnQxNkFycmF5KDI4OCl9ZnVuY3Rpb24gYShlLHQpe3RoaXMuc291cmNlPWUsdGhpcy5zb3VyY2VJbmRleD0wLHRoaXMudGFnPTAsdGhpcy5iaXRjb3VudD0wLHRoaXMuZGVzdD10LHRoaXMuZGVzdExlbj0wLHRoaXMubHRyZWU9bmV3IHIsdGhpcy5kdHJlZT1uZXcgcn12YXIgcz1uZXcgcixsPW5ldyByLHU9bmV3IFVpbnQ4QXJyYXkoMzApLGM9bmV3IFVpbnQxNkFycmF5KDMwKSxwPW5ldyBVaW50OEFycmF5KDMwKSxkPW5ldyBVaW50MTZBcnJheSgzMCksZj1uZXcgVWludDhBcnJheShbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLG09bmV3IHIsdj1uZXcgVWludDhBcnJheSgzMjApO2Z1bmN0aW9uIGkoZSx0LHIsaSl7dmFyIG4sbztmb3Iobj0wO248cjsrK24pZVtuXT0wO2ZvcihuPTA7bjwzMC1yOysrbillW24rcl09bi9yfDA7Zm9yKG89aSxuPTA7bjwzMDsrK24pdFtuXT1vLG8rPTE8PGVbbl19dmFyIGc9bmV3IFVpbnQxNkFycmF5KDE2KTtmdW5jdGlvbiB5KGUsdCxyLGkpe3ZhciBuLG87Zm9yKG49MDtuPDE2OysrbillLnRhYmxlW25dPTA7Zm9yKG49MDtuPGk7KytuKWUudGFibGVbdFtyK25dXSsrO2ZvcihuPW89ZS50YWJsZVswXT0wO248MTY7KytuKWdbbl09byxvKz1lLnRhYmxlW25dO2ZvcihuPTA7bjxpOysrbil0W3Irbl0mJihlLnRyYW5zW2dbdFtyK25dXSsrXT1uKX1mdW5jdGlvbiBiKGUpe2UuYml0Y291bnQtLXx8KGUudGFnPWUuc291cmNlW2Uuc291cmNlSW5kZXgrK10sZS5iaXRjb3VudD03KTt2YXIgdD0xJmUudGFnO3JldHVybiBlLnRhZz4+Pj0xLHR9ZnVuY3Rpb24gXyhlLHQscil7aWYoIXQpcmV0dXJuIHI7Zm9yKDtlLmJpdGNvdW50PDI0OyllLnRhZ3w9ZS5zb3VyY2VbZS5zb3VyY2VJbmRleCsrXTw8ZS5iaXRjb3VudCxlLmJpdGNvdW50Kz04O3ZhciBpPWUudGFnJjY1NTM1Pj4+MTYtdDtyZXR1cm4gZS50YWc+Pj49dCxlLmJpdGNvdW50LT10LGkrcn1mdW5jdGlvbiB4KGUsdCl7Zm9yKDtlLmJpdGNvdW50PDI0OyllLnRhZ3w9ZS5zb3VyY2VbZS5zb3VyY2VJbmRleCsrXTw8ZS5iaXRjb3VudCxlLmJpdGNvdW50Kz04O2Zvcih2YXIgcj0wLGk9MCxuPTAsbz1lLnRhZztpPTIqaSsoMSZvKSxvPj4+PTEsKytuLHIrPXQudGFibGVbbl0sMDw9KGktPXQudGFibGVbbl0pOyk7cmV0dXJuIGUudGFnPW8sZS5iaXRjb3VudC09bix0LnRyYW5zW3IraV19ZnVuY3Rpb24gdyhlLHQscil7dmFyIGksbixvLGEscyxoO2ZvcihpPV8oZSw1LDI1Nyksbj1fKGUsNSwxKSxvPV8oZSw0LDQpLGE9MDthPDE5OysrYSl2W2FdPTA7Zm9yKGE9MDthPG87KythKXt2YXIgbD1fKGUsMywwKTt2W2ZbYV1dPWx9Zm9yKHkobSx2LDAsMTkpLHM9MDtzPGkrbjspe3ZhciB1PXgoZSxtKTtzd2l0Y2godSl7Y2FzZSAxNjp2YXIgYz12W3MtMV07Zm9yKGg9XyhlLDIsMyk7aDstLWgpdltzKytdPWM7YnJlYWs7Y2FzZSAxNzpmb3IoaD1fKGUsMywzKTtoOy0taCl2W3MrK109MDticmVhaztjYXNlIDE4OmZvcihoPV8oZSw3LDExKTtoOy0taCl2W3MrK109MDticmVhaztkZWZhdWx0OnZbcysrXT11fX15KHQsdiwwLGkpLHkocix2LGksbil9ZnVuY3Rpb24gUyhlLHQscil7Zm9yKDs7KXt2YXIgaSxuLG8sYSxzPXgoZSx0KTtpZigyNTY9PT1zKXJldHVybiBoO2lmKHM8MjU2KWUuZGVzdFtlLmRlc3RMZW4rK109cztlbHNlIGZvcihpPV8oZSx1W3MtPTI1N10sY1tzXSksbj14KGUsciksYT1vPWUuZGVzdExlbi1fKGUscFtuXSxkW25dKTthPG8raTsrK2EpZS5kZXN0W2UuZGVzdExlbisrXT1lLmRlc3RbYV19fWZ1bmN0aW9uIFQoZSl7Zm9yKHZhciB0LHI7ODxlLmJpdGNvdW50OyllLnNvdXJjZUluZGV4LS0sZS5iaXRjb3VudC09ODtpZigodD0yNTYqKHQ9ZS5zb3VyY2VbZS5zb3VyY2VJbmRleCsxXSkrZS5zb3VyY2VbZS5zb3VyY2VJbmRleF0pIT09KDY1NTM1Jn4oMjU2KmUuc291cmNlW2Uuc291cmNlSW5kZXgrM10rZS5zb3VyY2VbZS5zb3VyY2VJbmRleCsyXSkpKXJldHVybiBvO2ZvcihlLnNvdXJjZUluZGV4Kz00LHI9dDtyOy0tcillLmRlc3RbZS5kZXN0TGVuKytdPWUuc291cmNlW2Uuc291cmNlSW5kZXgrK107cmV0dXJuIGUuYml0Y291bnQ9MCxofSFmdW5jdGlvbihlLHQpe3ZhciByO2ZvcihyPTA7cjw3OysrcillLnRhYmxlW3JdPTA7Zm9yKGUudGFibGVbN109MjQsZS50YWJsZVs4XT0xNTIsZS50YWJsZVs5XT0xMTIscj0wO3I8MjQ7KytyKWUudHJhbnNbcl09MjU2K3I7Zm9yKHI9MDtyPDE0NDsrK3IpZS50cmFuc1syNCtyXT1yO2ZvcihyPTA7cjw4OysrcillLnRyYW5zWzE2OCtyXT0yODArcjtmb3Iocj0wO3I8MTEyOysrcillLnRyYW5zWzE3NityXT0xNDQrcjtmb3Iocj0wO3I8NTsrK3IpdC50YWJsZVtyXT0wO2Zvcih0LnRhYmxlWzVdPTMyLHI9MDtyPDMyOysrcil0LnRyYW5zW3JdPXJ9KHMsbCksaSh1LGMsNCwzKSxpKHAsZCwyLDEpLHVbMjhdPTAsY1syOF09MjU4O3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxuPW5ldyBhKGUsdCk7ZG97c3dpdGNoKHI9YihuKSxfKG4sMiwwKSl7Y2FzZSAwOmk9VChuKTticmVhaztjYXNlIDE6aT1TKG4scyxsKTticmVhaztjYXNlIDI6dyhuLG4ubHRyZWUsbi5kdHJlZSksaT1TKG4sbi5sdHJlZSxuLmR0cmVlKTticmVhaztkZWZhdWx0Omk9b31pZihpIT09aCl0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIGVycm9yXCIpfXdoaWxlKCFyKTtyZXR1cm4gbi5kZXN0TGVuPG4uZGVzdC5sZW5ndGg/XCJmdW5jdGlvblwiPT10eXBlb2Ygbi5kZXN0LnNsaWNlP24uZGVzdC5zbGljZSgwLG4uZGVzdExlbik6bi5kZXN0LnN1YmFycmF5KDAsbi5kZXN0TGVuKTpuLmRlc3R9O2Z1bmN0aW9uIEUoZSx0LHIsaSxuKXtyZXR1cm4gTWF0aC5wb3coMS1uLDMpKmUrMypNYXRoLnBvdygxLW4sMikqbip0KzMqKDEtbikqTWF0aC5wb3cobiwyKSpyK01hdGgucG93KG4sMykqaX1mdW5jdGlvbiBDKCl7dGhpcy54MT1OdW1iZXIuTmFOLHRoaXMueTE9TnVtYmVyLk5hTix0aGlzLngyPU51bWJlci5OYU4sdGhpcy55Mj1OdW1iZXIuTmFOfWZ1bmN0aW9uIFUoKXt0aGlzLmNvbW1hbmRzPVtdLHRoaXMuZmlsbD1cImJsYWNrXCIsdGhpcy5zdHJva2U9bnVsbCx0aGlzLnN0cm9rZVdpZHRoPTF9ZnVuY3Rpb24gUihlKXt0aHJvdyBuZXcgRXJyb3IoZSl9ZnVuY3Rpb24gTChlLHQpe2V8fFIodCl9Qy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiBpc05hTih0aGlzLngxKXx8aXNOYU4odGhpcy55MSl8fGlzTmFOKHRoaXMueDIpfHxpc05hTih0aGlzLnkyKX0sQy5wcm90b3R5cGUuYWRkUG9pbnQ9ZnVuY3Rpb24oZSx0KXtcIm51bWJlclwiPT10eXBlb2YgZSYmKChpc05hTih0aGlzLngxKXx8aXNOYU4odGhpcy54MikpJiYodGhpcy54MT1lLHRoaXMueDI9ZSksZTx0aGlzLngxJiYodGhpcy54MT1lKSxlPnRoaXMueDImJih0aGlzLngyPWUpKSxcIm51bWJlclwiPT10eXBlb2YgdCYmKChpc05hTih0aGlzLnkxKXx8aXNOYU4odGhpcy55MikpJiYodGhpcy55MT10LHRoaXMueTI9dCksdDx0aGlzLnkxJiYodGhpcy55MT10KSx0PnRoaXMueTImJih0aGlzLnkyPXQpKX0sQy5wcm90b3R5cGUuYWRkWD1mdW5jdGlvbihlKXt0aGlzLmFkZFBvaW50KGUsbnVsbCl9LEMucHJvdG90eXBlLmFkZFk9ZnVuY3Rpb24oZSl7dGhpcy5hZGRQb2ludChudWxsLGUpfSxDLnByb3RvdHlwZS5hZGRCZXppZXI9ZnVuY3Rpb24oZSx0LHIsaSxuLG8sYSxzKXt2YXIgaD10aGlzLGw9W2UsdF0sdT1bcixpXSxjPVtuLG9dLHA9W2Esc107dGhpcy5hZGRQb2ludChlLHQpLHRoaXMuYWRkUG9pbnQoYSxzKTtmb3IodmFyIGQ9MDtkPD0xO2QrKyl7dmFyIGY9NipsW2RdLTEyKnVbZF0rNipjW2RdLG09LTMqbFtkXSs5KnVbZF0tOSpjW2RdKzMqcFtkXSx2PTMqdVtkXS0zKmxbZF07aWYoMCE9PW0pe3ZhciBnPU1hdGgucG93KGYsMiktNCp2Km07aWYoIShnPDApKXt2YXIgeT0oLWYrTWF0aC5zcXJ0KGcpKS8oMiptKTswPHkmJnk8MSYmKDA9PT1kJiZoLmFkZFgoRShsW2RdLHVbZF0sY1tkXSxwW2RdLHkpKSwxPT09ZCYmaC5hZGRZKEUobFtkXSx1W2RdLGNbZF0scFtkXSx5KSkpO3ZhciBiPSgtZi1NYXRoLnNxcnQoZykpLygyKm0pOzA8YiYmYjwxJiYoMD09PWQmJmguYWRkWChFKGxbZF0sdVtkXSxjW2RdLHBbZF0sYikpLDE9PT1kJiZoLmFkZFkoRShsW2RdLHVbZF0sY1tkXSxwW2RdLGIpKSl9fWVsc2V7aWYoMD09PWYpY29udGludWU7dmFyIF89LXYvZjswPF8mJl88MSYmKDA9PT1kJiZoLmFkZFgoRShsW2RdLHVbZF0sY1tkXSxwW2RdLF8pKSwxPT09ZCYmaC5hZGRZKEUobFtkXSx1W2RdLGNbZF0scFtkXSxfKSkpfX19LEMucHJvdG90eXBlLmFkZFF1YWQ9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe3ZhciBhPWUrMi8zKihyLWUpLHM9dCsyLzMqKGktdCksaD1hKzEvMyoobi1lKSxsPXMrMS8zKihvLXQpO3RoaXMuYWRkQmV6aWVyKGUsdCxhLHMsaCxsLG4sbyl9LFUucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbihlLHQpe3RoaXMuY29tbWFuZHMucHVzaCh7dHlwZTpcIk1cIix4OmUseTp0fSl9LFUucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbihlLHQpe3RoaXMuY29tbWFuZHMucHVzaCh7dHlwZTpcIkxcIix4OmUseTp0fSl9LFUucHJvdG90eXBlLmN1cnZlVG89VS5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbihlLHQscixpLG4sbyl7dGhpcy5jb21tYW5kcy5wdXNoKHt0eXBlOlwiQ1wiLHgxOmUseTE6dCx4MjpyLHkyOmkseDpuLHk6b30pfSxVLnByb3RvdHlwZS5xdWFkVG89VS5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbz1mdW5jdGlvbihlLHQscixpKXt0aGlzLmNvbW1hbmRzLnB1c2goe3R5cGU6XCJRXCIseDE6ZSx5MTp0LHg6cix5Oml9KX0sVS5wcm90b3R5cGUuY2xvc2U9VS5wcm90b3R5cGUuY2xvc2VQYXRoPWZ1bmN0aW9uKCl7dGhpcy5jb21tYW5kcy5wdXNoKHt0eXBlOlwiWlwifSl9LFUucHJvdG90eXBlLmV4dGVuZD1mdW5jdGlvbihlKXtpZihlLmNvbW1hbmRzKWU9ZS5jb21tYW5kcztlbHNlIGlmKGUgaW5zdGFuY2VvZiBDKXt2YXIgdD1lO3JldHVybiB0aGlzLm1vdmVUbyh0LngxLHQueTEpLHRoaXMubGluZVRvKHQueDIsdC55MSksdGhpcy5saW5lVG8odC54Mix0LnkyKSx0aGlzLmxpbmVUbyh0LngxLHQueTIpLHZvaWQgdGhpcy5jbG9zZSgpfUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMuY29tbWFuZHMsZSl9LFUucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBDLHQ9MCxyPTAsaT0wLG49MCxvPTA7bzx0aGlzLmNvbW1hbmRzLmxlbmd0aDtvKyspe3ZhciBhPXRoaXMuY29tbWFuZHNbb107c3dpdGNoKGEudHlwZSl7Y2FzZVwiTVwiOmUuYWRkUG9pbnQoYS54LGEueSksdD1pPWEueCxyPW49YS55O2JyZWFrO2Nhc2VcIkxcIjplLmFkZFBvaW50KGEueCxhLnkpLGk9YS54LG49YS55O2JyZWFrO2Nhc2VcIlFcIjplLmFkZFF1YWQoaSxuLGEueDEsYS55MSxhLngsYS55KSxpPWEueCxuPWEueTticmVhaztjYXNlXCJDXCI6ZS5hZGRCZXppZXIoaSxuLGEueDEsYS55MSxhLngyLGEueTIsYS54LGEueSksaT1hLngsbj1hLnk7YnJlYWs7Y2FzZVwiWlwiOmk9dCxuPXI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHBhdGggY29tbWFuZCBcIithLnR5cGUpfX1yZXR1cm4gZS5pc0VtcHR5KCkmJmUuYWRkUG9pbnQoMCwwKSxlfSxVLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKGUpe2UuYmVnaW5QYXRoKCk7Zm9yKHZhciB0PTA7dDx0aGlzLmNvbW1hbmRzLmxlbmd0aDt0Kz0xKXt2YXIgcj10aGlzLmNvbW1hbmRzW3RdO1wiTVwiPT09ci50eXBlP2UubW92ZVRvKHIueCxyLnkpOlwiTFwiPT09ci50eXBlP2UubGluZVRvKHIueCxyLnkpOlwiQ1wiPT09ci50eXBlP2UuYmV6aWVyQ3VydmVUbyhyLngxLHIueTEsci54MixyLnkyLHIueCxyLnkpOlwiUVwiPT09ci50eXBlP2UucXVhZHJhdGljQ3VydmVUbyhyLngxLHIueTEsci54LHIueSk6XCJaXCI9PT1yLnR5cGUmJmUuY2xvc2VQYXRoKCl9dGhpcy5maWxsJiYoZS5maWxsU3R5bGU9dGhpcy5maWxsLGUuZmlsbCgpKSx0aGlzLnN0cm9rZSYmKGUuc3Ryb2tlU3R5bGU9dGhpcy5zdHJva2UsZS5saW5lV2lkdGg9dGhpcy5zdHJva2VXaWR0aCxlLnN0cm9rZSgpKX0sVS5wcm90b3R5cGUudG9QYXRoRGF0YT1mdW5jdGlvbihvKXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBlLHQ9YXJndW1lbnRzLHI9XCJcIixpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krPTEpe3ZhciBuPXRbaV07MDw9biYmMDxpJiYocis9XCIgXCIpLHIrPShlPW4sTWF0aC5yb3VuZChlKT09PWU/XCJcIitNYXRoLnJvdW5kKGUpOmUudG9GaXhlZChvKSl9cmV0dXJuIHJ9bz12b2lkIDAhPT1vP286Mjtmb3IodmFyIHQ9XCJcIixyPTA7cjx0aGlzLmNvbW1hbmRzLmxlbmd0aDtyKz0xKXt2YXIgaT10aGlzLmNvbW1hbmRzW3JdO1wiTVwiPT09aS50eXBlP3QrPVwiTVwiK2UoaS54LGkueSk6XCJMXCI9PT1pLnR5cGU/dCs9XCJMXCIrZShpLngsaS55KTpcIkNcIj09PWkudHlwZT90Kz1cIkNcIitlKGkueDEsaS55MSxpLngyLGkueTIsaS54LGkueSk6XCJRXCI9PT1pLnR5cGU/dCs9XCJRXCIrZShpLngxLGkueTEsaS54LGkueSk6XCJaXCI9PT1pLnR5cGUmJih0Kz1cIlpcIil9cmV0dXJuIHR9LFUucHJvdG90eXBlLnRvU1ZHPWZ1bmN0aW9uKGUpe3ZhciB0PSc8cGF0aCBkPVwiJztyZXR1cm4gdCs9dGhpcy50b1BhdGhEYXRhKGUpLHQrPSdcIicsdGhpcy5maWxsJiZcImJsYWNrXCIhPT10aGlzLmZpbGwmJihudWxsPT09dGhpcy5maWxsP3QrPScgZmlsbD1cIm5vbmVcIic6dCs9JyBmaWxsPVwiJyt0aGlzLmZpbGwrJ1wiJyksdGhpcy5zdHJva2UmJih0Kz0nIHN0cm9rZT1cIicrdGhpcy5zdHJva2UrJ1wiIHN0cm9rZS13aWR0aD1cIicrdGhpcy5zdHJva2VXaWR0aCsnXCInKSx0Kz1cIi8+XCJ9LFUucHJvdG90eXBlLnRvRE9NRWxlbWVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRvUGF0aERhdGEoZSkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwicGF0aFwiKTtyZXR1cm4gci5zZXRBdHRyaWJ1dGUoXCJkXCIsdCkscn07dmFyIFA9e2ZhaWw6Uixhcmd1bWVudDpMLGFzc2VydDpMfSxrPTIxNDc0ODM2NDgsST17fSxEPXt9LEE9e307ZnVuY3Rpb24gTyhlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19RC5CWVRFPWZ1bmN0aW9uKGUpe3JldHVybiBQLmFyZ3VtZW50KDA8PWUmJmU8PTI1NSxcIkJ5dGUgdmFsdWUgc2hvdWxkIGJlIGJldHdlZW4gMCBhbmQgMjU1LlwiKSxbZV19LEEuQllURT1PKDEpLEQuQ0hBUj1mdW5jdGlvbihlKXtyZXR1cm5bZS5jaGFyQ29kZUF0KDApXX0sQS5DSEFSPU8oMSksRC5DSEFSQVJSQVk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUubGVuZ3RoO3IrPTEpdFtyXT1lLmNoYXJDb2RlQXQocik7cmV0dXJuIHR9LEEuQ0hBUkFSUkFZPWZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aH0sRC5VU0hPUlQ9ZnVuY3Rpb24oZSl7cmV0dXJuW2U+PjgmMjU1LDI1NSZlXX0sQS5VU0hPUlQ9TygyKSxELlNIT1JUPWZ1bmN0aW9uKGUpe3JldHVybiAzMjc2ODw9ZSYmKGU9LSg2NTUzNi1lKSksW2U+PjgmMjU1LDI1NSZlXX0sQS5TSE9SVD1PKDIpLEQuVUlOVDI0PWZ1bmN0aW9uKGUpe3JldHVybltlPj4xNiYyNTUsZT4+OCYyNTUsMjU1JmVdfSxBLlVJTlQyND1PKDMpLEQuVUxPTkc9ZnVuY3Rpb24oZSl7cmV0dXJuW2U+PjI0JjI1NSxlPj4xNiYyNTUsZT4+OCYyNTUsMjU1JmVdfSxBLlVMT05HPU8oNCksRC5MT05HPWZ1bmN0aW9uKGUpe3JldHVybiBrPD1lJiYoZT0tKDIqay1lKSksW2U+PjI0JjI1NSxlPj4xNiYyNTUsZT4+OCYyNTUsMjU1JmVdfSxBLkxPTkc9Tyg0KSxELkZJWEVEPUQuVUxPTkcsQS5GSVhFRD1BLlVMT05HLEQuRldPUkQ9RC5TSE9SVCxBLkZXT1JEPUEuU0hPUlQsRC5VRldPUkQ9RC5VU0hPUlQsQS5VRldPUkQ9QS5VU0hPUlQsRC5MT05HREFURVRJTUU9ZnVuY3Rpb24oZSl7cmV0dXJuWzAsMCwwLDAsZT4+MjQmMjU1LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV19LEEuTE9OR0RBVEVUSU1FPU8oOCksRC5UQUc9ZnVuY3Rpb24oZSl7cmV0dXJuIFAuYXJndW1lbnQoND09PWUubGVuZ3RoLFwiVGFnIHNob3VsZCBiZSBleGFjdGx5IDQgQVNDSUkgY2hhcmFjdGVycy5cIiksW2UuY2hhckNvZGVBdCgwKSxlLmNoYXJDb2RlQXQoMSksZS5jaGFyQ29kZUF0KDIpLGUuY2hhckNvZGVBdCgzKV19LEEuVEFHPU8oNCksRC5DYXJkOD1ELkJZVEUsQS5DYXJkOD1BLkJZVEUsRC5DYXJkMTY9RC5VU0hPUlQsQS5DYXJkMTY9QS5VU0hPUlQsRC5PZmZTaXplPUQuQllURSxBLk9mZlNpemU9QS5CWVRFLEQuU0lEPUQuVVNIT1JULEEuU0lEPUEuVVNIT1JULEQuTlVNQkVSPWZ1bmN0aW9uKGUpe3JldHVybi0xMDc8PWUmJmU8PTEwNz9bZSsxMzldOjEwODw9ZSYmZTw9MTEzMT9bMjQ3KygoZS09MTA4KT4+OCksMjU1JmVdOi0xMTMxPD1lJiZlPD0tMTA4P1syNTErKChlPS1lLTEwOCk+PjgpLDI1NSZlXTotMzI3Njg8PWUmJmU8PTMyNzY3P0QuTlVNQkVSMTYoZSk6RC5OVU1CRVIzMihlKX0sQS5OVU1CRVI9ZnVuY3Rpb24oZSl7cmV0dXJuIEQuTlVNQkVSKGUpLmxlbmd0aH0sRC5OVU1CRVIxNj1mdW5jdGlvbihlKXtyZXR1cm5bMjgsZT4+OCYyNTUsMjU1JmVdfSxBLk5VTUJFUjE2PU8oMyksRC5OVU1CRVIzMj1mdW5jdGlvbihlKXtyZXR1cm5bMjksZT4+MjQmMjU1LGU+PjE2JjI1NSxlPj44JjI1NSwyNTUmZV19LEEuTlVNQkVSMzI9Tyg1KSxELlJFQUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b1N0cmluZygpLHI9L1xcLihcXGQqPykoPzo5ezUsMjB9fDB7NSwyMH0pXFxkezAsMn0oPzplKC4rKXwkKS8uZXhlYyh0KTtpZihyKXt2YXIgaT1wYXJzZUZsb2F0KFwiMWVcIisoKHJbMl0/K3JbMl06MCkrclsxXS5sZW5ndGgpKTt0PShNYXRoLnJvdW5kKGUqaSkvaSkudG9TdHJpbmcoKX1mb3IodmFyIG49XCJcIixvPTAsYT10Lmxlbmd0aDtvPGE7bys9MSl7dmFyIHM9dFtvXTtuKz1cImVcIj09PXM/XCItXCI9PT10Wysrb10/XCJjXCI6XCJiXCI6XCIuXCI9PT1zP1wiYVwiOlwiLVwiPT09cz9cImVcIjpzfWZvcih2YXIgaD1bMzBdLGw9MCx1PShuKz0xJm4ubGVuZ3RoP1wiZlwiOlwiZmZcIikubGVuZ3RoO2w8dTtsKz0yKWgucHVzaChwYXJzZUludChuLnN1YnN0cihsLDIpLDE2KSk7cmV0dXJuIGh9LEEuUkVBTD1mdW5jdGlvbihlKXtyZXR1cm4gRC5SRUFMKGUpLmxlbmd0aH0sRC5OQU1FPUQuQ0hBUkFSUkFZLEEuTkFNRT1BLkNIQVJBUlJBWSxELlNUUklORz1ELkNIQVJBUlJBWSxBLlNUUklORz1BLkNIQVJBUlJBWSxJLlVURjg9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT1bXSxuPXIsbz0wO288bjtvKyssdCs9MSlpW29dPWUuZ2V0VWludDgodCk7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxpKX0sSS5VVEYxNj1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpPVtdLG49ci8yLG89MDtvPG47bysrLHQrPTIpaVtvXT1lLmdldFVpbnQxNih0KTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGkpfSxELlVURjE2PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDtyKz0xKXt2YXIgaT1lLmNoYXJDb2RlQXQocik7dFt0Lmxlbmd0aF09aT4+OCYyNTUsdFt0Lmxlbmd0aF09MjU1Jml9cmV0dXJuIHR9LEEuVVRGMTY9ZnVuY3Rpb24oZSl7cmV0dXJuIDIqZS5sZW5ndGh9O3ZhciBCPXtcIngtbWFjLWNyb2F0aWFuXCI6XCLDhMOFw4fDicORw5bDnMOhw6DDosOkw6PDpcOnw6nDqMOqw6vDrcOsw67Dr8Oxw7PDssO0w7bDtcO6w7nDu8O84oCgwrDCosKjwqfigKLCtsOfwq7FoOKEosK0wqjiiaDFvcOY4oiewrHiiaTiiaXiiIbCteKIguKIkeKIj8Wh4oirwqrCus6pxb7DuMK/wqHCrOKImsaS4omIxIbCq8SM4oCmwqDDgMODw5XFksWTxJDigJTigJzigJ3igJjigJnDt+KXiu+jv8Kp4oGE4oKs4oC54oC6w4bCu+KAk8K34oCa4oCe4oCww4LEh8OBxI3DiMONw47Dj8OMw5PDlMSRw5LDmsObw5nEscuGy5zCr8+Aw4vLmsK4w4rDpsuHXCIsXCJ4LW1hYy1jeXJpbGxpY1wiOlwi0JDQkdCS0JPQlNCV0JbQl9CY0JnQmtCb0JzQndCe0J/QoNCh0KLQo9Ck0KXQptCn0KjQqdCq0KvQrNCt0K7Qr+KAoMKw0pDCo8Kn4oCiwrbQhsKuwqnihKLQgtGS4omg0IPRk+KInsKx4omk4oml0ZbCtdKR0IjQhNGU0IfRl9CJ0ZnQitGa0ZjQhcKs4oiaxpLiiYjiiIbCq8K74oCmwqDQi9Gb0IzRnNGV4oCT4oCU4oCc4oCd4oCY4oCZw7figJ7QjtGe0I/Rn+KEltCB0ZHRj9Cw0LHQstCz0LTQtdC20LfQuNC50LrQu9C80L3QvtC/0YDRgdGC0YPRhNGF0YbRh9GI0YnRitGL0YzRjdGOXCIsXCJ4LW1hYy1nYWVsaWNcIjpcIsOEw4XDh8OJw5HDlsOcw6HDoMOiw6TDo8Olw6fDqcOow6rDq8Otw6zDrsOvw7HDs8Oyw7TDtsO1w7rDucO7w7zigKDCsMKiwqPCp+KAosK2w5/CrsKp4oSiwrTCqOKJoMOGw5jhuILCseKJpOKJpeG4g8SKxIvhuIrhuIvhuJ7huJ/EoMSh4bmAw6bDuOG5geG5luG5l8m8xpLFv+G5oMKrwrvigKbCoMOAw4PDlcWSxZPigJPigJTigJzigJ3igJjigJnhuaHhupvDv8W44bmq4oKs4oC54oC6xbbFt+G5q8K34buy4buz4oGKw4LDisOBw4vDiMONw47Dj8OMw5PDlOKZo8OSw5rDm8OZxLHDncO9xbTFteG6hOG6heG6gOG6geG6guG6g1wiLFwieC1tYWMtZ3JlZWtcIjpcIsOEwrnCssOJwrPDlsOczoXDoMOiw6TOhMKow6fDqcOow6rDq8Kj4oSiw67Dr+KAosK94oCww7TDtsKm4oKsw7nDu8O84oCgzpPOlM6YzpvOns6gw5/CrsKpzqPOqsKn4omgwrDCt86RwrHiiaTiiaXCpc6SzpXOls6XzpnOms6czqbOq86ozqnOrM6dwqzOn86h4omIzqTCq8K74oCmwqDOpc6nzobOiMWT4oCT4oCV4oCc4oCd4oCY4oCZw7fOic6KzozOjs6tzq7Or8+Mzo/Pjc6xzrLPiM60zrXPhs6zzrfOuc6+zrrOu868zr3Ov8+Az47Pgc+Dz4TOuM+Jz4LPh8+FzrbPis+LzpDOsMKtXCIsXCJ4LW1hYy1pY2VsYW5kaWNcIjpcIsOEw4XDh8OJw5HDlsOcw6HDoMOiw6TDo8Olw6fDqcOow6rDq8Otw6zDrsOvw7HDs8Oyw7TDtsO1w7rDucO7w7zDncKwwqLCo8Kn4oCiwrbDn8KuwqnihKLCtMKo4omgw4bDmOKInsKx4omk4omlwqXCteKIguKIkeKIj8+A4oirwqrCus6pw6bDuMK/wqHCrOKImsaS4omI4oiGwqvCu+KApsKgw4DDg8OVxZLFk+KAk+KAlOKAnOKAneKAmOKAmcO34peKw7/FuOKBhOKCrMOQw7DDnsO+w73Ct+KAmuKAnuKAsMOCw4rDgcOLw4jDjcOOw4/DjMOTw5Tvo7/DksOaw5vDmcSxy4bLnMKvy5jLmcuawrjLncuby4dcIixcIngtbWFjLWludWl0XCI6XCLhkIPhkIThkIXhkIbhkIrhkIvhkLHhkLLhkLPhkLThkLjhkLnhkYnhkY7hkY/hkZDhkZHhkZXhkZbhkabhka3hka7hka/hkbDhkbLhkbPhkoPhkovhkozhko3hko7hkpDhkpHCsOGSoeGSpeGSpuKAosK24ZKnwq7CqeKEouGSqOGSquGSq+GSu+GTguGTg+GThOGTheGTh+GTiOGTkOGTr+GTsOGTseGTsuGTtOGTteGUheGTleGTluGTl+GTmOGTmuGTm+GTquGUqOGUqeGUquGUq+GUreKApsKg4ZSu4ZS+4ZWV4ZWW4ZWX4oCT4oCU4oCc4oCd4oCY4oCZ4ZWY4ZWZ4ZWa4ZWd4ZWG4ZWH4ZWI4ZWJ4ZWL4ZWM4ZWQ4ZW/4ZaA4ZaB4ZaC4ZaD4ZaE4ZaF4ZaP4ZaQ4ZaR4ZaS4ZaT4ZaU4ZaV4Zmx4Zmy4Zmz4Zm04Zm14Zm24ZaW4Zag4Zah4Zai4Zaj4Zak4Zal4Zam4ZW8xYHFglwiLFwieC1tYWMtY2VcIjpcIsOExIDEgcOJxITDlsOcw6HEhcSMw6TEjcSGxIfDqcW5xbrEjsOtxI/EksSTxJbDs8SXw7TDtsO1w7rEmsSbw7zigKDCsMSYwqPCp+KAosK2w5/CrsKp4oSixJnCqOKJoMSjxK7Er8Sq4omk4omlxKvEtuKIguKIkcWCxLvEvMS9xL7EucS6xYXFhsWDwqziiJrFhMWH4oiGwqvCu+KApsKgxYjFkMOVxZHFjOKAk+KAlOKAnOKAneKAmOKAmcO34peKxY3FlMWVxZjigLnigLrFmcWWxZfFoOKAmuKAnsWhxZrFm8OBxaTFpcONxb3FvsWqw5PDlMWrxa7DmsWvxbDFscWyxbPDncO9xLfFu8WBxbzEosuHXCIsbWFjaW50b3NoOlwiw4TDhcOHw4nDkcOWw5zDocOgw6LDpMOjw6XDp8Opw6jDqsOrw63DrMOuw6/DscOzw7LDtMO2w7XDusO5w7vDvOKAoMKwwqLCo8Kn4oCiwrbDn8KuwqnihKLCtMKo4omgw4bDmOKInsKx4omk4omlwqXCteKIguKIkeKIj8+A4oirwqrCus6pw6bDuMK/wqHCrOKImsaS4omI4oiGwqvCu+KApsKgw4DDg8OVxZLFk+KAk+KAlOKAnOKAneKAmOKAmcO34peKw7/FuOKBhOKCrOKAueKAuu+sge+sguKAocK34oCa4oCe4oCww4LDisOBw4vDiMONw47Dj8OMw5PDlO+jv8OSw5rDm8OZxLHLhsucwq/LmMuZy5rCuMudy5vLh1wiLFwieC1tYWMtcm9tYW5pYW5cIjpcIsOEw4XDh8OJw5HDlsOcw6HDoMOiw6TDo8Olw6fDqcOow6rDq8Otw6zDrsOvw7HDs8Oyw7TDtsO1w7rDucO7w7zigKDCsMKiwqPCp+KAosK2w5/CrsKp4oSiwrTCqOKJoMSCyJjiiJ7CseKJpOKJpcKlwrXiiILiiJHiiI/PgOKIq8KqwrrOqcSDyJnCv8KhwqziiJrGkuKJiOKIhsKrwrvigKbCoMOAw4PDlcWSxZPigJPigJTigJzigJ3igJjigJnDt+KXisO/xbjigYTigqzigLnigLrImsib4oChwrfigJrigJ7igLDDgsOKw4HDi8OIw43DjsOPw4zDk8OU76O/w5LDmsObw5nEscuGy5zCr8uYy5nLmsK4y53Lm8uHXCIsXCJ4LW1hYy10dXJraXNoXCI6XCLDhMOFw4fDicORw5bDnMOhw6DDosOkw6PDpcOnw6nDqMOqw6vDrcOsw67Dr8Oxw7PDssO0w7bDtcO6w7nDu8O84oCgwrDCosKjwqfigKLCtsOfwq7CqeKEosK0wqjiiaDDhsOY4oiewrHiiaTiiaXCpcK14oiC4oiR4oiPz4DiiKvCqsK6zqnDpsO4wr/CocKs4oiaxpLiiYjiiIbCq8K74oCmwqDDgMODw5XFksWT4oCT4oCU4oCc4oCd4oCY4oCZw7fil4rDv8W4xJ7En8SwxLHFnsWf4oChwrfigJrigJ7igLDDgsOKw4HDi8OIw43DjsOPw4zDk8OU76O/w5LDmsObw5nvoqDLhsucwq/LmMuZy5rCuMudy5vLh1wifTtJLk1BQ1NUUklORz1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1CW2ldO2lmKHZvaWQgMCE9PW4pe2Zvcih2YXIgbz1cIlwiLGE9MDthPHI7YSsrKXt2YXIgcz1lLmdldFVpbnQ4KHQrYSk7bys9czw9MTI3P1N0cmluZy5mcm9tQ2hhckNvZGUocyk6blsxMjcmc119cmV0dXJuIG99fTt2YXIgRixHPVwiZnVuY3Rpb25cIj09dHlwZW9mIFdlYWtNYXAmJm5ldyBXZWFrTWFwO2Z1bmN0aW9uIE4oZSl7cmV0dXJuLTEyODw9ZSYmZTw9MTI3fWZ1bmN0aW9uIFYoZSx0LHIpe2Zvcih2YXIgaT0wLG49ZS5sZW5ndGg7dDxuJiZpPDY0JiYwPT09ZVt0XTspKyt0LCsraTtyZXR1cm4gci5wdXNoKDEyOHxpLTEpLHR9ZnVuY3Rpb24geihlLHQscil7Zm9yKHZhciBpPTAsbj1lLmxlbmd0aCxvPXQ7bzxuJiZpPDY0Oyl7dmFyIGE9ZVtvXTtpZighTihhKSlicmVhaztpZigwPT09YSYmbysxPG4mJjA9PT1lW28rMV0pYnJlYWs7KytvLCsraX1yLnB1c2goaS0xKTtmb3IodmFyIHM9dDtzPG87KytzKXIucHVzaChlW3NdKzI1NiYyNTUpO3JldHVybiBvfWZ1bmN0aW9uIEgoZSx0LHIpe2Zvcih2YXIgaT0wLG49ZS5sZW5ndGgsbz10O288biYmaTw2NDspe3ZhciBhPWVbb107aWYoMD09PWEpYnJlYWs7aWYoTihhKSYmbysxPG4mJk4oZVtvKzFdKSlicmVhazsrK28sKytpfXIucHVzaCg2NHxpLTEpO2Zvcih2YXIgcz10O3M8bzsrK3Mpe3ZhciBoPWVbc107ci5wdXNoKGgrNjU1MzY+PjgmMjU1LGgrMjU2JjI1NSl9cmV0dXJuIG99RC5NQUNTVFJJTkc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1mdW5jdGlvbihlKXtpZighRilmb3IodmFyIHQgaW4gRj17fSxCKUZbdF09bmV3IFN0cmluZyh0KTt2YXIgcj1GW2VdO2lmKHZvaWQgMCE9PXIpe2lmKEcpe3ZhciBpPUcuZ2V0KHIpO2lmKHZvaWQgMCE9PWkpcmV0dXJuIGl9dmFyIG49QltlXTtpZih2b2lkIDAhPT1uKXtmb3IodmFyIG89e30sYT0wO2E8bi5sZW5ndGg7YSsrKW9bbi5jaGFyQ29kZUF0KGEpXT1hKzEyODtyZXR1cm4gRyYmRy5zZXQocixvKSxvfX19KHQpO2lmKHZvaWQgMCE9PXIpe2Zvcih2YXIgaT1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPWUuY2hhckNvZGVBdChuKTtpZigxMjg8PW8mJnZvaWQgMD09PShvPXJbb10pKXJldHVybjtpW25dPW99cmV0dXJuIGl9fSxBLk1BQ1NUUklORz1mdW5jdGlvbihlLHQpe3ZhciByPUQuTUFDU1RSSU5HKGUsdCk7cmV0dXJuIHZvaWQgMCE9PXI/ci5sZW5ndGg6MH0sRC5WQVJERUxUQVM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj1bXTt0PGUubGVuZ3RoOyl7dmFyIGk9ZVt0XTt0PTA9PT1pP1YoZSx0LHIpOi0xMjg8PWkmJmk8PTEyNz96KGUsdCxyKTpIKGUsdCxyKX1yZXR1cm4gcn0sRC5JTkRFWD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MSxyPVt0XSxpPVtdLG49MDtuPGUubGVuZ3RoO24rPTEpe3ZhciBvPUQuT0JKRUNUKGVbbl0pO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGksbyksdCs9by5sZW5ndGgsci5wdXNoKHQpfWlmKDA9PT1pLmxlbmd0aClyZXR1cm5bMCwwXTtmb3IodmFyIGE9W10scz0xK01hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5sb2coMikpLzh8MCxoPVt2b2lkIDAsRC5CWVRFLEQuVVNIT1JULEQuVUlOVDI0LEQuVUxPTkddW3NdLGw9MDtsPHIubGVuZ3RoO2wrPTEpe3ZhciB1PWgocltsXSk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYSx1KX1yZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdChELkNhcmQxNihlLmxlbmd0aCksRC5PZmZTaXplKHMpLGEsaSl9LEEuSU5ERVg9ZnVuY3Rpb24oZSl7cmV0dXJuIEQuSU5ERVgoZSkubGVuZ3RofSxELkRJQ1Q9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9T2JqZWN0LmtleXMoZSksaT1yLmxlbmd0aCxuPTA7bjxpO24rPTEpe3ZhciBvPXBhcnNlSW50KHJbbl0sMCksYT1lW29dO3Q9KHQ9dC5jb25jYXQoRC5PUEVSQU5EKGEudmFsdWUsYS50eXBlKSkpLmNvbmNhdChELk9QRVJBVE9SKG8pKX1yZXR1cm4gdH0sQS5ESUNUPWZ1bmN0aW9uKGUpe3JldHVybiBELkRJQ1QoZSkubGVuZ3RofSxELk9QRVJBVE9SPWZ1bmN0aW9uKGUpe3JldHVybiBlPDEyMDA/W2VdOlsxMixlLTEyMDBdfSxELk9QRVJBTkQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSs9MSlQLmFyZ3VtZW50KGUubGVuZ3RoPT09dC5sZW5ndGgsXCJOb3QgZW5vdWdoIGFyZ3VtZW50cyBnaXZlbiBmb3IgdHlwZVwiK3QpLHI9ci5jb25jYXQoRC5PUEVSQU5EKGVbaV0sdFtpXSkpO2Vsc2UgaWYoXCJTSURcIj09PXQpcj1yLmNvbmNhdChELk5VTUJFUihlKSk7ZWxzZSBpZihcIm9mZnNldFwiPT09dClyPXIuY29uY2F0KEQuTlVNQkVSMzIoZSkpO2Vsc2UgaWYoXCJudW1iZXJcIj09PXQpcj1yLmNvbmNhdChELk5VTUJFUihlKSk7ZWxzZXtpZihcInJlYWxcIiE9PXQpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBvcGVyYW5kIHR5cGUgXCIrdCk7cj1yLmNvbmNhdChELlJFQUwoZSkpfXJldHVybiByfSxELk9QPUQuQllURSxBLk9QPUEuQllURTt2YXIgaj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrTWFwJiZuZXcgV2Vha01hcDtmdW5jdGlvbiBXKGUsdCxyKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krPTEpe3ZhciBuPXRbaV07dGhpc1tuLm5hbWVdPW4udmFsdWV9aWYodGhpcy50YWJsZU5hbWU9ZSx0aGlzLmZpZWxkcz10LHIpZm9yKHZhciBvPU9iamVjdC5rZXlzKHIpLGE9MDthPG8ubGVuZ3RoO2ErPTEpe3ZhciBzPW9bYV0saD1yW3NdO3ZvaWQgMCE9PXRoaXNbc10mJih0aGlzW3NdPWgpfX1mdW5jdGlvbiBYKGUsdCxyKXt2b2lkIDA9PT1yJiYocj10Lmxlbmd0aCk7dmFyIGk9bmV3IEFycmF5KHQubGVuZ3RoKzEpO2lbMF09e25hbWU6ZStcIkNvdW50XCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOnJ9O2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlbbisxXT17bmFtZTplK24sdHlwZTpcIlVTSE9SVFwiLHZhbHVlOnRbbl19O3JldHVybiBpfWZ1bmN0aW9uIHEoZSx0LHIpe3ZhciBpPXQubGVuZ3RoLG49bmV3IEFycmF5KGkrMSk7blswXT17bmFtZTplK1wiQ291bnRcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6aX07Zm9yKHZhciBvPTA7bzxpO28rKyluW28rMV09e25hbWU6ZStvLHR5cGU6XCJUQUJMRVwiLHZhbHVlOnIodFtvXSxvKX07cmV0dXJuIG59ZnVuY3Rpb24gWShlLHQscil7dmFyIGk9dC5sZW5ndGgsbj1bXTtuWzBdPXtuYW1lOmUrXCJDb3VudFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTppfTtmb3IodmFyIG89MDtvPGk7bysrKW49bi5jb25jYXQocih0W29dLG8pKTtyZXR1cm4gbn1mdW5jdGlvbiBaKGUpezE9PT1lLmZvcm1hdD9XLmNhbGwodGhpcyxcImNvdmVyYWdlVGFibGVcIixbe25hbWU6XCJjb3ZlcmFnZUZvcm1hdFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZToxfV0uY29uY2F0KFgoXCJnbHlwaFwiLGUuZ2x5cGhzKSkpOlAuYXNzZXJ0KCExLFwiQ2FuJ3QgY3JlYXRlIGNvdmVyYWdlIHRhYmxlIGZvcm1hdCAyIHlldC5cIil9ZnVuY3Rpb24gUShlKXtXLmNhbGwodGhpcyxcInNjcmlwdExpc3RUYWJsZVwiLFkoXCJzY3JpcHRSZWNvcmRcIixlLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5zY3JpcHQsaT1yLmRlZmF1bHRMYW5nU3lzO3JldHVybiBQLmFzc2VydCghIWksXCJVbmFibGUgdG8gd3JpdGUgR1NVQjogc2NyaXB0IFwiK2UudGFnK1wiIGhhcyBubyBkZWZhdWx0IGxhbmd1YWdlIHN5c3RlbS5cIiksW3tuYW1lOlwic2NyaXB0VGFnXCIrdCx0eXBlOlwiVEFHXCIsdmFsdWU6ZS50YWd9LHtuYW1lOlwic2NyaXB0XCIrdCx0eXBlOlwiVEFCTEVcIix2YWx1ZTpuZXcgVyhcInNjcmlwdFRhYmxlXCIsW3tuYW1lOlwiZGVmYXVsdExhbmdTeXNcIix0eXBlOlwiVEFCTEVcIix2YWx1ZTpuZXcgVyhcImRlZmF1bHRMYW5nU3lzXCIsW3tuYW1lOlwibG9va3VwT3JkZXJcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJyZXFGZWF0dXJlSW5kZXhcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6aS5yZXFGZWF0dXJlSW5kZXh9XS5jb25jYXQoWChcImZlYXR1cmVJbmRleFwiLGkuZmVhdHVyZUluZGV4ZXMpKSl9XS5jb25jYXQoWShcImxhbmdTeXNcIixyLmxhbmdTeXNSZWNvcmRzLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5sYW5nU3lzO3JldHVyblt7bmFtZTpcImxhbmdTeXNUYWdcIit0LHR5cGU6XCJUQUdcIix2YWx1ZTplLnRhZ30se25hbWU6XCJsYW5nU3lzXCIrdCx0eXBlOlwiVEFCTEVcIix2YWx1ZTpuZXcgVyhcImxhbmdTeXNcIixbe25hbWU6XCJsb29rdXBPcmRlclwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInJlcUZlYXR1cmVJbmRleFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTpyLnJlcUZlYXR1cmVJbmRleH1dLmNvbmNhdChYKFwiZmVhdHVyZUluZGV4XCIsci5mZWF0dXJlSW5kZXhlcykpKX1dfSkpKX1dfSkpfWZ1bmN0aW9uIEooZSl7Vy5jYWxsKHRoaXMsXCJmZWF0dXJlTGlzdFRhYmxlXCIsWShcImZlYXR1cmVSZWNvcmRcIixlLGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5mZWF0dXJlO3JldHVyblt7bmFtZTpcImZlYXR1cmVUYWdcIit0LHR5cGU6XCJUQUdcIix2YWx1ZTplLnRhZ30se25hbWU6XCJmZWF0dXJlXCIrdCx0eXBlOlwiVEFCTEVcIix2YWx1ZTpuZXcgVyhcImZlYXR1cmVUYWJsZVwiLFt7bmFtZTpcImZlYXR1cmVQYXJhbXNcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6ci5mZWF0dXJlUGFyYW1zfV0uY29uY2F0KFgoXCJsb29rdXBMaXN0SW5kZXhcIixyLmxvb2t1cExpc3RJbmRleGVzKSkpfV19KSl9ZnVuY3Rpb24gSyhlLHIpe1cuY2FsbCh0aGlzLFwibG9va3VwTGlzdFRhYmxlXCIscShcImxvb2t1cFwiLGUsZnVuY3Rpb24oZSl7dmFyIHQ9cltlLmxvb2t1cFR5cGVdO3JldHVybiBQLmFzc2VydCghIXQsXCJVbmFibGUgdG8gd3JpdGUgR1NVQiBsb29rdXAgdHlwZSBcIitlLmxvb2t1cFR5cGUrXCIgdGFibGVzLlwiKSxuZXcgVyhcImxvb2t1cFRhYmxlXCIsW3tuYW1lOlwibG9va3VwVHlwZVwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTplLmxvb2t1cFR5cGV9LHtuYW1lOlwibG9va3VwRmxhZ1wiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTplLmxvb2t1cEZsYWd9XS5jb25jYXQocShcInN1YnRhYmxlXCIsZS5zdWJ0YWJsZXMsdCkpKX0pKX1ELkNIQVJTVFJJTkc9ZnVuY3Rpb24oZSl7aWYoail7dmFyIHQ9ai5nZXQoZSk7aWYodm9pZCAwIT09dClyZXR1cm4gdH1mb3IodmFyIHI9W10saT1lLmxlbmd0aCxuPTA7bjxpO24rPTEpe3ZhciBvPWVbbl07cj1yLmNvbmNhdChEW28udHlwZV0oby52YWx1ZSkpfXJldHVybiBqJiZqLnNldChlLHIpLHJ9LEEuQ0hBUlNUUklORz1mdW5jdGlvbihlKXtyZXR1cm4gRC5DSEFSU1RSSU5HKGUpLmxlbmd0aH0sRC5PQkpFQ1Q9ZnVuY3Rpb24oZSl7dmFyIHQ9RFtlLnR5cGVdO3JldHVybiBQLmFyZ3VtZW50KHZvaWQgMCE9PXQsXCJObyBlbmNvZGluZyBmdW5jdGlvbiBmb3IgdHlwZSBcIitlLnR5cGUpLHQoZS52YWx1ZSl9LEEuT0JKRUNUPWZ1bmN0aW9uKGUpe3ZhciB0PUFbZS50eXBlXTtyZXR1cm4gUC5hcmd1bWVudCh2b2lkIDAhPT10LFwiTm8gc2l6ZU9mIGZ1bmN0aW9uIGZvciB0eXBlIFwiK2UudHlwZSksdChlLnZhbHVlKX0sRC5UQUJMRT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj1lLmZpZWxkcy5sZW5ndGgsaT1bXSxuPVtdLG89MDtvPHI7bys9MSl7dmFyIGE9ZS5maWVsZHNbb10scz1EW2EudHlwZV07UC5hcmd1bWVudCh2b2lkIDAhPT1zLFwiTm8gZW5jb2RpbmcgZnVuY3Rpb24gZm9yIGZpZWxkIHR5cGUgXCIrYS50eXBlK1wiIChcIithLm5hbWUrXCIpXCIpO3ZhciBoPWVbYS5uYW1lXTt2b2lkIDA9PT1oJiYoaD1hLnZhbHVlKTt2YXIgbD1zKGgpO1wiVEFCTEVcIj09PWEudHlwZT8obi5wdXNoKHQubGVuZ3RoKSx0PXQuY29uY2F0KFswLDBdKSxpLnB1c2gobCkpOnQ9dC5jb25jYXQobCl9Zm9yKHZhciB1PTA7dTxpLmxlbmd0aDt1Kz0xKXt2YXIgYz1uW3VdLHA9dC5sZW5ndGg7UC5hcmd1bWVudChwPDY1NTM2LFwiVGFibGUgXCIrZS50YWJsZU5hbWUrXCIgdG9vIGJpZy5cIiksdFtjXT1wPj44LHRbYysxXT0yNTUmcCx0PXQuY29uY2F0KGlbdV0pfXJldHVybiB0fSxBLlRBQkxFPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9ZS5maWVsZHMubGVuZ3RoLGk9MDtpPHI7aSs9MSl7dmFyIG49ZS5maWVsZHNbaV0sbz1BW24udHlwZV07UC5hcmd1bWVudCh2b2lkIDAhPT1vLFwiTm8gc2l6ZU9mIGZ1bmN0aW9uIGZvciBmaWVsZCB0eXBlIFwiK24udHlwZStcIiAoXCIrbi5uYW1lK1wiKVwiKTt2YXIgYT1lW24ubmFtZV07dm9pZCAwPT09YSYmKGE9bi52YWx1ZSksdCs9byhhKSxcIlRBQkxFXCI9PT1uLnR5cGUmJih0Kz0yKX1yZXR1cm4gdH0sRC5SRUNPUkQ9RC5UQUJMRSxBLlJFQ09SRD1BLlRBQkxFLEQuTElURVJBTD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sQS5MSVRFUkFMPWZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aH0sVy5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIEQuVEFCTEUodGhpcyl9LFcucHJvdG90eXBlLnNpemVPZj1mdW5jdGlvbigpe3JldHVybiBBLlRBQkxFKHRoaXMpfTt2YXIgJD17VGFibGU6VyxSZWNvcmQ6VyxDb3ZlcmFnZTooWi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPVosU2NyaXB0TGlzdDooUS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPVEsRmVhdHVyZUxpc3Q6KEoucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVy5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1KLExvb2t1cExpc3Q6KEsucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVy5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1LLHVzaG9ydExpc3Q6WCx0YWJsZUxpc3Q6cSxyZWNvcmRMaXN0Oll9O2Z1bmN0aW9uIGVlKGUsdCl7cmV0dXJuIGUuZ2V0VWludDgodCl9ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gZS5nZXRVaW50MTYodCwhMSl9ZnVuY3Rpb24gcmUoZSx0KXtyZXR1cm4gZS5nZXRVaW50MzIodCwhMSl9ZnVuY3Rpb24gaWUoZSx0KXtyZXR1cm4gZS5nZXRJbnQxNih0LCExKStlLmdldFVpbnQxNih0KzIsITEpLzY1NTM1fXZhciBuZT17Ynl0ZToxLHVTaG9ydDoyLHNob3J0OjIsdUxvbmc6NCxmaXhlZDo0LGxvbmdEYXRlVGltZTo4LHRhZzo0fTtmdW5jdGlvbiBvZShlLHQpe3RoaXMuZGF0YT1lLHRoaXMub2Zmc2V0PXQsdGhpcy5yZWxhdGl2ZU9mZnNldD0wfW9lLnByb3RvdHlwZS5wYXJzZUJ5dGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGEuZ2V0VWludDgodGhpcy5vZmZzZXQrdGhpcy5yZWxhdGl2ZU9mZnNldCk7cmV0dXJuIHRoaXMucmVsYXRpdmVPZmZzZXQrPTEsZX0sb2UucHJvdG90eXBlLnBhcnNlQ2hhcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YS5nZXRJbnQ4KHRoaXMub2Zmc2V0K3RoaXMucmVsYXRpdmVPZmZzZXQpO3JldHVybiB0aGlzLnJlbGF0aXZlT2Zmc2V0Kz0xLGV9LG9lLnByb3RvdHlwZS5wYXJzZUNhcmQ4PW9lLnByb3RvdHlwZS5wYXJzZUJ5dGUsb2UucHJvdG90eXBlLnBhcnNlQ2FyZDE2PW9lLnByb3RvdHlwZS5wYXJzZVVTaG9ydD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YS5nZXRVaW50MTYodGhpcy5vZmZzZXQrdGhpcy5yZWxhdGl2ZU9mZnNldCk7cmV0dXJuIHRoaXMucmVsYXRpdmVPZmZzZXQrPTIsZX0sb2UucHJvdG90eXBlLnBhcnNlU0lEPW9lLnByb3RvdHlwZS5wYXJzZVVTaG9ydCxvZS5wcm90b3R5cGUucGFyc2VPZmZzZXQxNj1vZS5wcm90b3R5cGUucGFyc2VVU2hvcnQsb2UucHJvdG90eXBlLnBhcnNlU2hvcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRhdGEuZ2V0SW50MTYodGhpcy5vZmZzZXQrdGhpcy5yZWxhdGl2ZU9mZnNldCk7cmV0dXJuIHRoaXMucmVsYXRpdmVPZmZzZXQrPTIsZX0sb2UucHJvdG90eXBlLnBhcnNlRjJEb3QxND1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZGF0YS5nZXRJbnQxNih0aGlzLm9mZnNldCt0aGlzLnJlbGF0aXZlT2Zmc2V0KS8xNjM4NDtyZXR1cm4gdGhpcy5yZWxhdGl2ZU9mZnNldCs9MixlfSxvZS5wcm90b3R5cGUucGFyc2VPZmZzZXQzMj1vZS5wcm90b3R5cGUucGFyc2VVTG9uZz1mdW5jdGlvbigpe3ZhciBlPXJlKHRoaXMuZGF0YSx0aGlzLm9mZnNldCt0aGlzLnJlbGF0aXZlT2Zmc2V0KTtyZXR1cm4gdGhpcy5yZWxhdGl2ZU9mZnNldCs9NCxlfSxvZS5wcm90b3R5cGUucGFyc2VGaXhlZD1mdW5jdGlvbigpe3ZhciBlPWllKHRoaXMuZGF0YSx0aGlzLm9mZnNldCt0aGlzLnJlbGF0aXZlT2Zmc2V0KTtyZXR1cm4gdGhpcy5yZWxhdGl2ZU9mZnNldCs9NCxlfSxvZS5wcm90b3R5cGUucGFyc2VTdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kYXRhLHI9dGhpcy5vZmZzZXQrdGhpcy5yZWxhdGl2ZU9mZnNldCxpPVwiXCI7dGhpcy5yZWxhdGl2ZU9mZnNldCs9ZTtmb3IodmFyIG49MDtuPGU7bisrKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUodC5nZXRVaW50OChyK24pKTtyZXR1cm4gaX0sb2UucHJvdG90eXBlLnBhcnNlVGFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VTdHJpbmcoNCl9LG9lLnByb3RvdHlwZS5wYXJzZUxvbmdEYXRlVGltZT1mdW5jdGlvbigpe3ZhciBlPXJlKHRoaXMuZGF0YSx0aGlzLm9mZnNldCt0aGlzLnJlbGF0aXZlT2Zmc2V0KzQpO3JldHVybiBlLT0yMDgyODQ0ODAwLHRoaXMucmVsYXRpdmVPZmZzZXQrPTgsZX0sb2UucHJvdG90eXBlLnBhcnNlVmVyc2lvbj1mdW5jdGlvbihlKXt2YXIgdD10ZSh0aGlzLmRhdGEsdGhpcy5vZmZzZXQrdGhpcy5yZWxhdGl2ZU9mZnNldCkscj10ZSh0aGlzLmRhdGEsdGhpcy5vZmZzZXQrdGhpcy5yZWxhdGl2ZU9mZnNldCsyKTtyZXR1cm4gdGhpcy5yZWxhdGl2ZU9mZnNldCs9NCx2b2lkIDA9PT1lJiYoZT00MDk2KSx0K3IvZS8xMH0sb2UucHJvdG90eXBlLnNraXA9ZnVuY3Rpb24oZSx0KXt2b2lkIDA9PT10JiYodD0xKSx0aGlzLnJlbGF0aXZlT2Zmc2V0Kz1uZVtlXSp0fSxvZS5wcm90b3R5cGUucGFyc2VVTG9uZ0xpc3Q9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9dGhpcy5wYXJzZVVMb25nKCkpO2Zvcih2YXIgdD1uZXcgQXJyYXkoZSkscj10aGlzLmRhdGEsaT10aGlzLm9mZnNldCt0aGlzLnJlbGF0aXZlT2Zmc2V0LG49MDtuPGU7bisrKXRbbl09ci5nZXRVaW50MzIoaSksaSs9NDtyZXR1cm4gdGhpcy5yZWxhdGl2ZU9mZnNldCs9NCplLHR9LG9lLnByb3RvdHlwZS5wYXJzZU9mZnNldDE2TGlzdD1vZS5wcm90b3R5cGUucGFyc2VVU2hvcnRMaXN0PWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXRoaXMucGFyc2VVU2hvcnQoKSk7Zm9yKHZhciB0PW5ldyBBcnJheShlKSxyPXRoaXMuZGF0YSxpPXRoaXMub2Zmc2V0K3RoaXMucmVsYXRpdmVPZmZzZXQsbj0wO248ZTtuKyspdFtuXT1yLmdldFVpbnQxNihpKSxpKz0yO3JldHVybiB0aGlzLnJlbGF0aXZlT2Zmc2V0Kz0yKmUsdH0sb2UucHJvdG90eXBlLnBhcnNlU2hvcnRMaXN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZSkscj10aGlzLmRhdGEsaT10aGlzLm9mZnNldCt0aGlzLnJlbGF0aXZlT2Zmc2V0LG49MDtuPGU7bisrKXRbbl09ci5nZXRJbnQxNihpKSxpKz0yO3JldHVybiB0aGlzLnJlbGF0aXZlT2Zmc2V0Kz0yKmUsdH0sb2UucHJvdG90eXBlLnBhcnNlQnl0ZUxpc3Q9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBBcnJheShlKSxyPXRoaXMuZGF0YSxpPXRoaXMub2Zmc2V0K3RoaXMucmVsYXRpdmVPZmZzZXQsbj0wO248ZTtuKyspdFtuXT1yLmdldFVpbnQ4KGkrKyk7cmV0dXJuIHRoaXMucmVsYXRpdmVPZmZzZXQrPWUsdH0sb2UucHJvdG90eXBlLnBhcnNlTGlzdD1mdW5jdGlvbihlLHQpe3R8fCh0PWUsZT10aGlzLnBhcnNlVVNob3J0KCkpO2Zvcih2YXIgcj1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspcltpXT10LmNhbGwodGhpcyk7cmV0dXJuIHJ9LG9lLnByb3RvdHlwZS5wYXJzZUxpc3QzMj1mdW5jdGlvbihlLHQpe3R8fCh0PWUsZT10aGlzLnBhcnNlVUxvbmcoKSk7Zm9yKHZhciByPW5ldyBBcnJheShlKSxpPTA7aTxlO2krKylyW2ldPXQuY2FsbCh0aGlzKTtyZXR1cm4gcn0sb2UucHJvdG90eXBlLnBhcnNlUmVjb3JkTGlzdD1mdW5jdGlvbihlLHQpe3R8fCh0PWUsZT10aGlzLnBhcnNlVVNob3J0KCkpO2Zvcih2YXIgcj1uZXcgQXJyYXkoZSksaT1PYmplY3Qua2V5cyh0KSxuPTA7bjxlO24rKyl7Zm9yKHZhciBvPXt9LGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9aVthXSxoPXRbc107b1tzXT1oLmNhbGwodGhpcyl9cltuXT1vfXJldHVybiByfSxvZS5wcm90b3R5cGUucGFyc2VSZWNvcmRMaXN0MzI9ZnVuY3Rpb24oZSx0KXt0fHwodD1lLGU9dGhpcy5wYXJzZVVMb25nKCkpO2Zvcih2YXIgcj1uZXcgQXJyYXkoZSksaT1PYmplY3Qua2V5cyh0KSxuPTA7bjxlO24rKyl7Zm9yKHZhciBvPXt9LGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9aVthXSxoPXRbc107b1tzXT1oLmNhbGwodGhpcyl9cltuXT1vfXJldHVybiByfSxvZS5wcm90b3R5cGUucGFyc2VTdHJ1Y3Q9ZnVuY3Rpb24oZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gZS5jYWxsKHRoaXMpO2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPXt9LGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXSxvPWVbbl07cltuXT1vLmNhbGwodGhpcyl9cmV0dXJuIHJ9LG9lLnByb3RvdHlwZS5wYXJzZVZhbHVlUmVjb3JkPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMucGFyc2VVU2hvcnQoKSksMCE9PWUpe3ZhciB0PXt9O3JldHVybiAxJmUmJih0LnhQbGFjZW1lbnQ9dGhpcy5wYXJzZVNob3J0KCkpLDImZSYmKHQueVBsYWNlbWVudD10aGlzLnBhcnNlU2hvcnQoKSksNCZlJiYodC54QWR2YW5jZT10aGlzLnBhcnNlU2hvcnQoKSksOCZlJiYodC55QWR2YW5jZT10aGlzLnBhcnNlU2hvcnQoKSksMTYmZSYmKHQueFBsYURldmljZT12b2lkIDAsdGhpcy5wYXJzZVNob3J0KCkpLDMyJmUmJih0LnlQbGFEZXZpY2U9dm9pZCAwLHRoaXMucGFyc2VTaG9ydCgpKSw2NCZlJiYodC54QWR2RGV2aWNlPXZvaWQgMCx0aGlzLnBhcnNlU2hvcnQoKSksMTI4JmUmJih0LnlBZHZEZXZpY2U9dm9pZCAwLHRoaXMucGFyc2VTaG9ydCgpKSx0fX0sb2UucHJvdG90eXBlLnBhcnNlVmFsdWVSZWNvcmRMaXN0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMucGFyc2VVU2hvcnQoKSx0PXRoaXMucGFyc2VVU2hvcnQoKSxyPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKylyW2ldPXRoaXMucGFyc2VWYWx1ZVJlY29yZChlKTtyZXR1cm4gcn0sb2UucHJvdG90eXBlLnBhcnNlUG9pbnRlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcnNlT2Zmc2V0MTYoKTtpZigwPHQpcmV0dXJuIG5ldyBvZSh0aGlzLmRhdGEsdGhpcy5vZmZzZXQrdCkucGFyc2VTdHJ1Y3QoZSl9LG9lLnByb3RvdHlwZS5wYXJzZVBvaW50ZXIzMj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcnNlT2Zmc2V0MzIoKTtpZigwPHQpcmV0dXJuIG5ldyBvZSh0aGlzLmRhdGEsdGhpcy5vZmZzZXQrdCkucGFyc2VTdHJ1Y3QoZSl9LG9lLnByb3RvdHlwZS5wYXJzZUxpc3RPZkxpc3RzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLHI9dGhpcy5wYXJzZU9mZnNldDE2TGlzdCgpLGk9ci5sZW5ndGgsbj10aGlzLnJlbGF0aXZlT2Zmc2V0LG89bmV3IEFycmF5KGkpLGE9MDthPGk7YSsrKXt2YXIgcz1yW2FdO2lmKDAhPT1zKWlmKHQucmVsYXRpdmVPZmZzZXQ9cyxlKXtmb3IodmFyIGg9dC5wYXJzZU9mZnNldDE2TGlzdCgpLGw9bmV3IEFycmF5KGgubGVuZ3RoKSx1PTA7dTxoLmxlbmd0aDt1KyspdC5yZWxhdGl2ZU9mZnNldD1zK2hbdV0sbFt1XT1lLmNhbGwodCk7b1thXT1sfWVsc2Ugb1thXT10LnBhcnNlVVNob3J0TGlzdCgpO2Vsc2Ugb1thXT12b2lkIDB9cmV0dXJuIHRoaXMucmVsYXRpdmVPZmZzZXQ9bixvfSxvZS5wcm90b3R5cGUucGFyc2VDb3ZlcmFnZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0K3RoaXMucmVsYXRpdmVPZmZzZXQsdD10aGlzLnBhcnNlVVNob3J0KCkscj10aGlzLnBhcnNlVVNob3J0KCk7aWYoMT09PXQpcmV0dXJue2Zvcm1hdDoxLGdseXBoczp0aGlzLnBhcnNlVVNob3J0TGlzdChyKX07aWYoMiE9PXQpdGhyb3cgbmV3IEVycm9yKFwiMHhcIitlLnRvU3RyaW5nKDE2KStcIjogQ292ZXJhZ2UgZm9ybWF0IG11c3QgYmUgMSBvciAyLlwiKTtmb3IodmFyIGk9bmV3IEFycmF5KHIpLG49MDtuPHI7bisrKWlbbl09e3N0YXJ0OnRoaXMucGFyc2VVU2hvcnQoKSxlbmQ6dGhpcy5wYXJzZVVTaG9ydCgpLGluZGV4OnRoaXMucGFyc2VVU2hvcnQoKX07cmV0dXJue2Zvcm1hdDoyLHJhbmdlczppfX0sb2UucHJvdG90eXBlLnBhcnNlQ2xhc3NEZWY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9mZnNldCt0aGlzLnJlbGF0aXZlT2Zmc2V0LHQ9dGhpcy5wYXJzZVVTaG9ydCgpO2lmKDE9PT10KXJldHVybntmb3JtYXQ6MSxzdGFydEdseXBoOnRoaXMucGFyc2VVU2hvcnQoKSxjbGFzc2VzOnRoaXMucGFyc2VVU2hvcnRMaXN0KCl9O2lmKDI9PT10KXJldHVybntmb3JtYXQ6MixyYW5nZXM6dGhpcy5wYXJzZVJlY29yZExpc3Qoe3N0YXJ0Om9lLnVTaG9ydCxlbmQ6b2UudVNob3J0LGNsYXNzSWQ6b2UudVNob3J0fSl9O3Rocm93IG5ldyBFcnJvcihcIjB4XCIrZS50b1N0cmluZygxNikrXCI6IENsYXNzRGVmIGZvcm1hdCBtdXN0IGJlIDEgb3IgMi5cIil9LG9lLmxpc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZUxpc3QoZSx0KX19LG9lLmxpc3QzMj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlTGlzdDMyKGUsdCl9fSxvZS5yZWNvcmRMaXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VSZWNvcmRMaXN0KGUsdCl9fSxvZS5yZWNvcmRMaXN0MzI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZVJlY29yZExpc3QzMihlLHQpfX0sb2UucG9pbnRlcj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZVBvaW50ZXIoZSl9fSxvZS5wb2ludGVyMzI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VQb2ludGVyMzIoZSl9fSxvZS50YWc9b2UucHJvdG90eXBlLnBhcnNlVGFnLG9lLmJ5dGU9b2UucHJvdG90eXBlLnBhcnNlQnl0ZSxvZS51U2hvcnQ9b2Uub2Zmc2V0MTY9b2UucHJvdG90eXBlLnBhcnNlVVNob3J0LG9lLnVTaG9ydExpc3Q9b2UucHJvdG90eXBlLnBhcnNlVVNob3J0TGlzdCxvZS51TG9uZz1vZS5vZmZzZXQzMj1vZS5wcm90b3R5cGUucGFyc2VVTG9uZyxvZS51TG9uZ0xpc3Q9b2UucHJvdG90eXBlLnBhcnNlVUxvbmdMaXN0LG9lLnN0cnVjdD1vZS5wcm90b3R5cGUucGFyc2VTdHJ1Y3Qsb2UuY292ZXJhZ2U9b2UucHJvdG90eXBlLnBhcnNlQ292ZXJhZ2Usb2UuY2xhc3NEZWY9b2UucHJvdG90eXBlLnBhcnNlQ2xhc3NEZWY7dmFyIGFlPXtyZXNlcnZlZDpvZS51U2hvcnQscmVxRmVhdHVyZUluZGV4Om9lLnVTaG9ydCxmZWF0dXJlSW5kZXhlczpvZS51U2hvcnRMaXN0fTtvZS5wcm90b3R5cGUucGFyc2VTY3JpcHRMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VQb2ludGVyKG9lLnJlY29yZExpc3Qoe3RhZzpvZS50YWcsc2NyaXB0Om9lLnBvaW50ZXIoe2RlZmF1bHRMYW5nU3lzOm9lLnBvaW50ZXIoYWUpLGxhbmdTeXNSZWNvcmRzOm9lLnJlY29yZExpc3Qoe3RhZzpvZS50YWcsbGFuZ1N5czpvZS5wb2ludGVyKGFlKX0pfSl9KSl8fFtdfSxvZS5wcm90b3R5cGUucGFyc2VGZWF0dXJlTGlzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlUG9pbnRlcihvZS5yZWNvcmRMaXN0KHt0YWc6b2UudGFnLGZlYXR1cmU6b2UucG9pbnRlcih7ZmVhdHVyZVBhcmFtczpvZS5vZmZzZXQxNixsb29rdXBMaXN0SW5kZXhlczpvZS51U2hvcnRMaXN0fSl9KSl8fFtdfSxvZS5wcm90b3R5cGUucGFyc2VMb29rdXBMaXN0PWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLnBhcnNlUG9pbnRlcihvZS5saXN0KG9lLnBvaW50ZXIoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcnNlVVNob3J0KCk7UC5hcmd1bWVudCgxPD1lJiZlPD05LFwiR1BPUy9HU1VCIGxvb2t1cCB0eXBlIFwiK2UrXCIgdW5rbm93bi5cIik7dmFyIHQ9dGhpcy5wYXJzZVVTaG9ydCgpLHI9MTYmdDtyZXR1cm57bG9va3VwVHlwZTplLGxvb2t1cEZsYWc6dCxzdWJ0YWJsZXM6dGhpcy5wYXJzZUxpc3Qob2UucG9pbnRlcihpW2VdKSksbWFya0ZpbHRlcmluZ1NldDpyP3RoaXMucGFyc2VVU2hvcnQoKTp2b2lkIDB9fSkpKXx8W119LG9lLnByb3RvdHlwZS5wYXJzZUZlYXR1cmVWYXJpYXRpb25zTGlzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlUG9pbnRlcjMyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJzZVVTaG9ydCgpLHQ9dGhpcy5wYXJzZVVTaG9ydCgpO3JldHVybiBQLmFyZ3VtZW50KDE9PT1lJiZ0PDEsXCJHUE9TL0dTVUIgZmVhdHVyZSB2YXJpYXRpb25zIHRhYmxlIHVua25vd24uXCIpLHRoaXMucGFyc2VSZWNvcmRMaXN0MzIoe2NvbmRpdGlvblNldE9mZnNldDpvZS5vZmZzZXQzMixmZWF0dXJlVGFibGVTdWJzdGl0dXRpb25PZmZzZXQ6b2Uub2Zmc2V0MzJ9KX0pfHxbXX07dmFyIHNlPXtnZXRCeXRlOmVlLGdldENhcmQ4OmVlLGdldFVTaG9ydDp0ZSxnZXRDYXJkMTY6dGUsZ2V0U2hvcnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRJbnQxNih0LCExKX0sZ2V0VUxvbmc6cmUsZ2V0Rml4ZWQ6aWUsZ2V0VGFnOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVwiXCIsaT10O2k8dCs0O2krPTEpcis9U3RyaW5nLmZyb21DaGFyQ29kZShlLmdldEludDgoaSkpO3JldHVybiByfSxnZXRPZmZzZXQ6ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT0wLG49MDtuPHI7bis9MSlpPDw9OCxpKz1lLmdldFVpbnQ4KHQrbik7cmV0dXJuIGl9LGdldEJ5dGVzOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGk9W10sbj10O248cjtuKz0xKWkucHVzaChlLmdldFVpbnQ4KG4pKTtyZXR1cm4gaX0sYnl0ZXNUb1N0cmluZzpmdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixyPTA7cjxlLmxlbmd0aDtyKz0xKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtyXSk7cmV0dXJuIHR9LFBhcnNlcjpvZX07dmFyIGhlPXtwYXJzZTpmdW5jdGlvbihlLHQpe3ZhciByPXt9O3IudmVyc2lvbj1zZS5nZXRVU2hvcnQoZSx0KSxQLmFyZ3VtZW50KDA9PT1yLnZlcnNpb24sXCJjbWFwIHRhYmxlIHZlcnNpb24gc2hvdWxkIGJlIDAuXCIpLHIubnVtVGFibGVzPXNlLmdldFVTaG9ydChlLHQrMik7Zm9yKHZhciBpPS0xLG49ci5udW1UYWJsZXMtMTswPD1uO24tPTEpe3ZhciBvPXNlLmdldFVTaG9ydChlLHQrNCs4Km4pLGE9c2UuZ2V0VVNob3J0KGUsdCs0KzgqbisyKTtpZigzPT09byYmKDA9PT1hfHwxPT09YXx8MTA9PT1hKXx8MD09PW8mJigwPT09YXx8MT09PWF8fDI9PT1hfHwzPT09YXx8ND09PWEpKXtpPXNlLmdldFVMb25nKGUsdCs0Kzgqbis0KTticmVha319aWYoLTE9PT1pKXRocm93IG5ldyBFcnJvcihcIk5vIHZhbGlkIGNtYXAgc3ViLXRhYmxlcyBmb3VuZC5cIik7dmFyIHM9bmV3IHNlLlBhcnNlcihlLHQraSk7aWYoci5mb3JtYXQ9cy5wYXJzZVVTaG9ydCgpLDEyPT09ci5mb3JtYXQpIWZ1bmN0aW9uKGUsdCl7dmFyIHI7dC5wYXJzZVVTaG9ydCgpLGUubGVuZ3RoPXQucGFyc2VVTG9uZygpLGUubGFuZ3VhZ2U9dC5wYXJzZVVMb25nKCksZS5ncm91cENvdW50PXI9dC5wYXJzZVVMb25nKCksZS5nbHlwaEluZGV4TWFwPXt9O2Zvcih2YXIgaT0wO2k8cjtpKz0xKWZvcih2YXIgbj10LnBhcnNlVUxvbmcoKSxvPXQucGFyc2VVTG9uZygpLGE9dC5wYXJzZVVMb25nKCkscz1uO3M8PW87cys9MSllLmdseXBoSW5kZXhNYXBbc109YSxhKyt9KHIscyk7ZWxzZXtpZig0IT09ci5mb3JtYXQpdGhyb3cgbmV3IEVycm9yKFwiT25seSBmb3JtYXQgNCBhbmQgMTIgY21hcCB0YWJsZXMgYXJlIHN1cHBvcnRlZCAoZm91bmQgZm9ybWF0IFwiK3IuZm9ybWF0K1wiKS5cIik7IWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIG87ZS5sZW5ndGg9dC5wYXJzZVVTaG9ydCgpLGUubGFuZ3VhZ2U9dC5wYXJzZVVTaG9ydCgpLGUuc2VnQ291bnQ9bz10LnBhcnNlVVNob3J0KCk+PjEsdC5za2lwKFwidVNob3J0XCIsMyksZS5nbHlwaEluZGV4TWFwPXt9O2Zvcih2YXIgYT1uZXcgc2UuUGFyc2VyKHIsaStuKzE0KSxzPW5ldyBzZS5QYXJzZXIocixpK24rMTYrMipvKSxoPW5ldyBzZS5QYXJzZXIocixpK24rMTYrNCpvKSxsPW5ldyBzZS5QYXJzZXIocixpK24rMTYrNipvKSx1PWkrbisxNis4Km8sYz0wO2M8by0xO2MrPTEpZm9yKHZhciBwPXZvaWQgMCxkPWEucGFyc2VVU2hvcnQoKSxmPXMucGFyc2VVU2hvcnQoKSxtPWgucGFyc2VTaG9ydCgpLHY9bC5wYXJzZVVTaG9ydCgpLGc9ZjtnPD1kO2crPTEpMCE9PXY/KHU9bC5vZmZzZXQrbC5yZWxhdGl2ZU9mZnNldC0yLHUrPXYsdSs9MiooZy1mKSwwIT09KHA9c2UuZ2V0VVNob3J0KHIsdSkpJiYocD1wK20mNjU1MzUpKTpwPWcrbSY2NTUzNSxlLmdseXBoSW5kZXhNYXBbZ109cH0ocixzLGUsdCxpKX1yZXR1cm4gcn0sbWFrZTpmdW5jdGlvbihlKXt2YXIgdCxyPSEwO2Zvcih0PWUubGVuZ3RoLTE7MDx0O3QtPTEpaWYoNjU1MzU8ZS5nZXQodCkudW5pY29kZSl7Y29uc29sZS5sb2coXCJBZGRpbmcgQ01BUCBmb3JtYXQgMTIgKG5lZWRlZCEpXCIpLHI9ITE7YnJlYWt9dmFyIGk9W3tuYW1lOlwidmVyc2lvblwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcIm51bVRhYmxlc1wiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTpyPzE6Mn0se25hbWU6XCJwbGF0Zm9ybUlEXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjN9LHtuYW1lOlwiZW5jb2RpbmdJRFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZToxfSx7bmFtZTpcIm9mZnNldFwiLHR5cGU6XCJVTE9OR1wiLHZhbHVlOnI/MTI6MjB9XTtyfHwoaT1pLmNvbmNhdChbe25hbWU6XCJjbWFwMTJQbGF0Zm9ybUlEXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjN9LHtuYW1lOlwiY21hcDEyRW5jb2RpbmdJRFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZToxMH0se25hbWU6XCJjbWFwMTJPZmZzZXRcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTowfV0pKSxpPWkuY29uY2F0KFt7bmFtZTpcImZvcm1hdFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTo0fSx7bmFtZTpcImNtYXA0TGVuZ3RoXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwibGFuZ3VhZ2VcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJzZWdDb3VudFgyXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwic2VhcmNoUmFuZ2VcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJlbnRyeVNlbGVjdG9yXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwicmFuZ2VTaGlmdFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfV0pO3ZhciBuLG8sYSxzPW5ldyAkLlRhYmxlKFwiY21hcFwiLGkpO2ZvcihzLnNlZ21lbnRzPVtdLHQ9MDt0PGUubGVuZ3RoO3QrPTEpe2Zvcih2YXIgaD1lLmdldCh0KSxsPTA7bDxoLnVuaWNvZGVzLmxlbmd0aDtsKz0xKW49cyxvPWgudW5pY29kZXNbbF0sYT10LG4uc2VnbWVudHMucHVzaCh7ZW5kOm8sc3RhcnQ6byxkZWx0YTotKG8tYSksb2Zmc2V0OjAsZ2x5cGhJbmRleDphfSk7cy5zZWdtZW50cz1zLnNlZ21lbnRzLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdGFydC10LnN0YXJ0fSl9cy5zZWdtZW50cy5wdXNoKHtlbmQ6NjU1MzUsc3RhcnQ6NjU1MzUsZGVsdGE6MSxvZmZzZXQ6MH0pO3ZhciB1PXMuc2VnbWVudHMubGVuZ3RoLGM9MCxwPVtdLGQ9W10sZj1bXSxtPVtdLHY9W10sZz1bXTtmb3IodD0wO3Q8dTt0Kz0xKXt2YXIgeT1zLnNlZ21lbnRzW3RdO3kuZW5kPD02NTUzNSYmeS5zdGFydDw9NjU1MzU/KHA9cC5jb25jYXQoe25hbWU6XCJlbmRfXCIrdCx0eXBlOlwiVVNIT1JUXCIsdmFsdWU6eS5lbmR9KSxkPWQuY29uY2F0KHtuYW1lOlwic3RhcnRfXCIrdCx0eXBlOlwiVVNIT1JUXCIsdmFsdWU6eS5zdGFydH0pLGY9Zi5jb25jYXQoe25hbWU6XCJpZERlbHRhX1wiK3QsdHlwZTpcIlNIT1JUXCIsdmFsdWU6eS5kZWx0YX0pLG09bS5jb25jYXQoe25hbWU6XCJpZFJhbmdlT2Zmc2V0X1wiK3QsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOnkub2Zmc2V0fSksdm9pZCAwIT09eS5nbHlwaElkJiYodj12LmNvbmNhdCh7bmFtZTpcImdseXBoX1wiK3QsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOnkuZ2x5cGhJZH0pKSk6Yys9MSxyfHx2b2lkIDA9PT15LmdseXBoSW5kZXh8fChnPShnPShnPWcuY29uY2F0KHtuYW1lOlwiY21hcDEyU3RhcnRfXCIrdCx0eXBlOlwiVUxPTkdcIix2YWx1ZTp5LnN0YXJ0fSkpLmNvbmNhdCh7bmFtZTpcImNtYXAxMkVuZF9cIit0LHR5cGU6XCJVTE9OR1wiLHZhbHVlOnkuZW5kfSkpLmNvbmNhdCh7bmFtZTpcImNtYXAxMkdseXBoX1wiK3QsdHlwZTpcIlVMT05HXCIsdmFsdWU6eS5nbHlwaEluZGV4fSkpfWlmKHMuc2VnQ291bnRYMj0yKih1LWMpLHMuc2VhcmNoUmFuZ2U9MipNYXRoLnBvdygyLE1hdGguZmxvb3IoTWF0aC5sb2codS1jKS9NYXRoLmxvZygyKSkpLHMuZW50cnlTZWxlY3Rvcj1NYXRoLmxvZyhzLnNlYXJjaFJhbmdlLzIpL01hdGgubG9nKDIpLHMucmFuZ2VTaGlmdD1zLnNlZ0NvdW50WDItcy5zZWFyY2hSYW5nZSxzLmZpZWxkcz1zLmZpZWxkcy5jb25jYXQocCkscy5maWVsZHMucHVzaCh7bmFtZTpcInJlc2VydmVkUGFkXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjB9KSxzLmZpZWxkcz1zLmZpZWxkcy5jb25jYXQoZCkscy5maWVsZHM9cy5maWVsZHMuY29uY2F0KGYpLHMuZmllbGRzPXMuZmllbGRzLmNvbmNhdChtKSxzLmZpZWxkcz1zLmZpZWxkcy5jb25jYXQodikscy5jbWFwNExlbmd0aD0xNCsyKnAubGVuZ3RoKzIrMipkLmxlbmd0aCsyKmYubGVuZ3RoKzIqbS5sZW5ndGgrMip2Lmxlbmd0aCwhcil7dmFyIGI9MTYrNCpnLmxlbmd0aDtzLmNtYXAxMk9mZnNldD0yMCtzLmNtYXA0TGVuZ3RoLHMuZmllbGRzPXMuZmllbGRzLmNvbmNhdChbe25hbWU6XCJjbWFwMTJGb3JtYXRcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MTJ9LHtuYW1lOlwiY21hcDEyUmVzZXJ2ZWRcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJjbWFwMTJMZW5ndGhcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTpifSx7bmFtZTpcImNtYXAxMkxhbmd1YWdlXCIsdHlwZTpcIlVMT05HXCIsdmFsdWU6MH0se25hbWU6XCJjbWFwMTJuR3JvdXBzXCIsdHlwZTpcIlVMT05HXCIsdmFsdWU6Zy5sZW5ndGgvM31dKSxzLmZpZWxkcz1zLmZpZWxkcy5jb25jYXQoZyl9cmV0dXJuIHN9fSxsZT1bXCIubm90ZGVmXCIsXCJzcGFjZVwiLFwiZXhjbGFtXCIsXCJxdW90ZWRibFwiLFwibnVtYmVyc2lnblwiLFwiZG9sbGFyXCIsXCJwZXJjZW50XCIsXCJhbXBlcnNhbmRcIixcInF1b3RlcmlnaHRcIixcInBhcmVubGVmdFwiLFwicGFyZW5yaWdodFwiLFwiYXN0ZXJpc2tcIixcInBsdXNcIixcImNvbW1hXCIsXCJoeXBoZW5cIixcInBlcmlvZFwiLFwic2xhc2hcIixcInplcm9cIixcIm9uZVwiLFwidHdvXCIsXCJ0aHJlZVwiLFwiZm91clwiLFwiZml2ZVwiLFwic2l4XCIsXCJzZXZlblwiLFwiZWlnaHRcIixcIm5pbmVcIixcImNvbG9uXCIsXCJzZW1pY29sb25cIixcImxlc3NcIixcImVxdWFsXCIsXCJncmVhdGVyXCIsXCJxdWVzdGlvblwiLFwiYXRcIixcIkFcIixcIkJcIixcIkNcIixcIkRcIixcIkVcIixcIkZcIixcIkdcIixcIkhcIixcIklcIixcIkpcIixcIktcIixcIkxcIixcIk1cIixcIk5cIixcIk9cIixcIlBcIixcIlFcIixcIlJcIixcIlNcIixcIlRcIixcIlVcIixcIlZcIixcIldcIixcIlhcIixcIllcIixcIlpcIixcImJyYWNrZXRsZWZ0XCIsXCJiYWNrc2xhc2hcIixcImJyYWNrZXRyaWdodFwiLFwiYXNjaWljaXJjdW1cIixcInVuZGVyc2NvcmVcIixcInF1b3RlbGVmdFwiLFwiYVwiLFwiYlwiLFwiY1wiLFwiZFwiLFwiZVwiLFwiZlwiLFwiZ1wiLFwiaFwiLFwiaVwiLFwialwiLFwia1wiLFwibFwiLFwibVwiLFwiblwiLFwib1wiLFwicFwiLFwicVwiLFwiclwiLFwic1wiLFwidFwiLFwidVwiLFwidlwiLFwid1wiLFwieFwiLFwieVwiLFwielwiLFwiYnJhY2VsZWZ0XCIsXCJiYXJcIixcImJyYWNlcmlnaHRcIixcImFzY2lpdGlsZGVcIixcImV4Y2xhbWRvd25cIixcImNlbnRcIixcInN0ZXJsaW5nXCIsXCJmcmFjdGlvblwiLFwieWVuXCIsXCJmbG9yaW5cIixcInNlY3Rpb25cIixcImN1cnJlbmN5XCIsXCJxdW90ZXNpbmdsZVwiLFwicXVvdGVkYmxsZWZ0XCIsXCJndWlsbGVtb3RsZWZ0XCIsXCJndWlsc2luZ2xsZWZ0XCIsXCJndWlsc2luZ2xyaWdodFwiLFwiZmlcIixcImZsXCIsXCJlbmRhc2hcIixcImRhZ2dlclwiLFwiZGFnZ2VyZGJsXCIsXCJwZXJpb2RjZW50ZXJlZFwiLFwicGFyYWdyYXBoXCIsXCJidWxsZXRcIixcInF1b3Rlc2luZ2xiYXNlXCIsXCJxdW90ZWRibGJhc2VcIixcInF1b3RlZGJscmlnaHRcIixcImd1aWxsZW1vdHJpZ2h0XCIsXCJlbGxpcHNpc1wiLFwicGVydGhvdXNhbmRcIixcInF1ZXN0aW9uZG93blwiLFwiZ3JhdmVcIixcImFjdXRlXCIsXCJjaXJjdW1mbGV4XCIsXCJ0aWxkZVwiLFwibWFjcm9uXCIsXCJicmV2ZVwiLFwiZG90YWNjZW50XCIsXCJkaWVyZXNpc1wiLFwicmluZ1wiLFwiY2VkaWxsYVwiLFwiaHVuZ2FydW1sYXV0XCIsXCJvZ29uZWtcIixcImNhcm9uXCIsXCJlbWRhc2hcIixcIkFFXCIsXCJvcmRmZW1pbmluZVwiLFwiTHNsYXNoXCIsXCJPc2xhc2hcIixcIk9FXCIsXCJvcmRtYXNjdWxpbmVcIixcImFlXCIsXCJkb3RsZXNzaVwiLFwibHNsYXNoXCIsXCJvc2xhc2hcIixcIm9lXCIsXCJnZXJtYW5kYmxzXCIsXCJvbmVzdXBlcmlvclwiLFwibG9naWNhbG5vdFwiLFwibXVcIixcInRyYWRlbWFya1wiLFwiRXRoXCIsXCJvbmVoYWxmXCIsXCJwbHVzbWludXNcIixcIlRob3JuXCIsXCJvbmVxdWFydGVyXCIsXCJkaXZpZGVcIixcImJyb2tlbmJhclwiLFwiZGVncmVlXCIsXCJ0aG9yblwiLFwidGhyZWVxdWFydGVyc1wiLFwidHdvc3VwZXJpb3JcIixcInJlZ2lzdGVyZWRcIixcIm1pbnVzXCIsXCJldGhcIixcIm11bHRpcGx5XCIsXCJ0aHJlZXN1cGVyaW9yXCIsXCJjb3B5cmlnaHRcIixcIkFhY3V0ZVwiLFwiQWNpcmN1bWZsZXhcIixcIkFkaWVyZXNpc1wiLFwiQWdyYXZlXCIsXCJBcmluZ1wiLFwiQXRpbGRlXCIsXCJDY2VkaWxsYVwiLFwiRWFjdXRlXCIsXCJFY2lyY3VtZmxleFwiLFwiRWRpZXJlc2lzXCIsXCJFZ3JhdmVcIixcIklhY3V0ZVwiLFwiSWNpcmN1bWZsZXhcIixcIklkaWVyZXNpc1wiLFwiSWdyYXZlXCIsXCJOdGlsZGVcIixcIk9hY3V0ZVwiLFwiT2NpcmN1bWZsZXhcIixcIk9kaWVyZXNpc1wiLFwiT2dyYXZlXCIsXCJPdGlsZGVcIixcIlNjYXJvblwiLFwiVWFjdXRlXCIsXCJVY2lyY3VtZmxleFwiLFwiVWRpZXJlc2lzXCIsXCJVZ3JhdmVcIixcIllhY3V0ZVwiLFwiWWRpZXJlc2lzXCIsXCJaY2Fyb25cIixcImFhY3V0ZVwiLFwiYWNpcmN1bWZsZXhcIixcImFkaWVyZXNpc1wiLFwiYWdyYXZlXCIsXCJhcmluZ1wiLFwiYXRpbGRlXCIsXCJjY2VkaWxsYVwiLFwiZWFjdXRlXCIsXCJlY2lyY3VtZmxleFwiLFwiZWRpZXJlc2lzXCIsXCJlZ3JhdmVcIixcImlhY3V0ZVwiLFwiaWNpcmN1bWZsZXhcIixcImlkaWVyZXNpc1wiLFwiaWdyYXZlXCIsXCJudGlsZGVcIixcIm9hY3V0ZVwiLFwib2NpcmN1bWZsZXhcIixcIm9kaWVyZXNpc1wiLFwib2dyYXZlXCIsXCJvdGlsZGVcIixcInNjYXJvblwiLFwidWFjdXRlXCIsXCJ1Y2lyY3VtZmxleFwiLFwidWRpZXJlc2lzXCIsXCJ1Z3JhdmVcIixcInlhY3V0ZVwiLFwieWRpZXJlc2lzXCIsXCJ6Y2Fyb25cIixcImV4Y2xhbXNtYWxsXCIsXCJIdW5nYXJ1bWxhdXRzbWFsbFwiLFwiZG9sbGFyb2xkc3R5bGVcIixcImRvbGxhcnN1cGVyaW9yXCIsXCJhbXBlcnNhbmRzbWFsbFwiLFwiQWN1dGVzbWFsbFwiLFwicGFyZW5sZWZ0c3VwZXJpb3JcIixcInBhcmVucmlnaHRzdXBlcmlvclwiLFwiMjY2IGZmXCIsXCJvbmVkb3RlbmxlYWRlclwiLFwiemVyb29sZHN0eWxlXCIsXCJvbmVvbGRzdHlsZVwiLFwidHdvb2xkc3R5bGVcIixcInRocmVlb2xkc3R5bGVcIixcImZvdXJvbGRzdHlsZVwiLFwiZml2ZW9sZHN0eWxlXCIsXCJzaXhvbGRzdHlsZVwiLFwic2V2ZW5vbGRzdHlsZVwiLFwiZWlnaHRvbGRzdHlsZVwiLFwibmluZW9sZHN0eWxlXCIsXCJjb21tYXN1cGVyaW9yXCIsXCJ0aHJlZXF1YXJ0ZXJzZW1kYXNoXCIsXCJwZXJpb2RzdXBlcmlvclwiLFwicXVlc3Rpb25zbWFsbFwiLFwiYXN1cGVyaW9yXCIsXCJic3VwZXJpb3JcIixcImNlbnRzdXBlcmlvclwiLFwiZHN1cGVyaW9yXCIsXCJlc3VwZXJpb3JcIixcImlzdXBlcmlvclwiLFwibHN1cGVyaW9yXCIsXCJtc3VwZXJpb3JcIixcIm5zdXBlcmlvclwiLFwib3N1cGVyaW9yXCIsXCJyc3VwZXJpb3JcIixcInNzdXBlcmlvclwiLFwidHN1cGVyaW9yXCIsXCJmZlwiLFwiZmZpXCIsXCJmZmxcIixcInBhcmVubGVmdGluZmVyaW9yXCIsXCJwYXJlbnJpZ2h0aW5mZXJpb3JcIixcIkNpcmN1bWZsZXhzbWFsbFwiLFwiaHlwaGVuc3VwZXJpb3JcIixcIkdyYXZlc21hbGxcIixcIkFzbWFsbFwiLFwiQnNtYWxsXCIsXCJDc21hbGxcIixcIkRzbWFsbFwiLFwiRXNtYWxsXCIsXCJGc21hbGxcIixcIkdzbWFsbFwiLFwiSHNtYWxsXCIsXCJJc21hbGxcIixcIkpzbWFsbFwiLFwiS3NtYWxsXCIsXCJMc21hbGxcIixcIk1zbWFsbFwiLFwiTnNtYWxsXCIsXCJPc21hbGxcIixcIlBzbWFsbFwiLFwiUXNtYWxsXCIsXCJSc21hbGxcIixcIlNzbWFsbFwiLFwiVHNtYWxsXCIsXCJVc21hbGxcIixcIlZzbWFsbFwiLFwiV3NtYWxsXCIsXCJYc21hbGxcIixcIllzbWFsbFwiLFwiWnNtYWxsXCIsXCJjb2xvbm1vbmV0YXJ5XCIsXCJvbmVmaXR0ZWRcIixcInJ1cGlhaFwiLFwiVGlsZGVzbWFsbFwiLFwiZXhjbGFtZG93bnNtYWxsXCIsXCJjZW50b2xkc3R5bGVcIixcIkxzbGFzaHNtYWxsXCIsXCJTY2Fyb25zbWFsbFwiLFwiWmNhcm9uc21hbGxcIixcIkRpZXJlc2lzc21hbGxcIixcIkJyZXZlc21hbGxcIixcIkNhcm9uc21hbGxcIixcIkRvdGFjY2VudHNtYWxsXCIsXCJNYWNyb25zbWFsbFwiLFwiZmlndXJlZGFzaFwiLFwiaHlwaGVuaW5mZXJpb3JcIixcIk9nb25la3NtYWxsXCIsXCJSaW5nc21hbGxcIixcIkNlZGlsbGFzbWFsbFwiLFwicXVlc3Rpb25kb3duc21hbGxcIixcIm9uZWVpZ2h0aFwiLFwidGhyZWVlaWdodGhzXCIsXCJmaXZlZWlnaHRoc1wiLFwic2V2ZW5laWdodGhzXCIsXCJvbmV0aGlyZFwiLFwidHdvdGhpcmRzXCIsXCJ6ZXJvc3VwZXJpb3JcIixcImZvdXJzdXBlcmlvclwiLFwiZml2ZXN1cGVyaW9yXCIsXCJzaXhzdXBlcmlvclwiLFwic2V2ZW5zdXBlcmlvclwiLFwiZWlnaHRzdXBlcmlvclwiLFwibmluZXN1cGVyaW9yXCIsXCJ6ZXJvaW5mZXJpb3JcIixcIm9uZWluZmVyaW9yXCIsXCJ0d29pbmZlcmlvclwiLFwidGhyZWVpbmZlcmlvclwiLFwiZm91cmluZmVyaW9yXCIsXCJmaXZlaW5mZXJpb3JcIixcInNpeGluZmVyaW9yXCIsXCJzZXZlbmluZmVyaW9yXCIsXCJlaWdodGluZmVyaW9yXCIsXCJuaW5laW5mZXJpb3JcIixcImNlbnRpbmZlcmlvclwiLFwiZG9sbGFyaW5mZXJpb3JcIixcInBlcmlvZGluZmVyaW9yXCIsXCJjb21tYWluZmVyaW9yXCIsXCJBZ3JhdmVzbWFsbFwiLFwiQWFjdXRlc21hbGxcIixcIkFjaXJjdW1mbGV4c21hbGxcIixcIkF0aWxkZXNtYWxsXCIsXCJBZGllcmVzaXNzbWFsbFwiLFwiQXJpbmdzbWFsbFwiLFwiQUVzbWFsbFwiLFwiQ2NlZGlsbGFzbWFsbFwiLFwiRWdyYXZlc21hbGxcIixcIkVhY3V0ZXNtYWxsXCIsXCJFY2lyY3VtZmxleHNtYWxsXCIsXCJFZGllcmVzaXNzbWFsbFwiLFwiSWdyYXZlc21hbGxcIixcIklhY3V0ZXNtYWxsXCIsXCJJY2lyY3VtZmxleHNtYWxsXCIsXCJJZGllcmVzaXNzbWFsbFwiLFwiRXRoc21hbGxcIixcIk50aWxkZXNtYWxsXCIsXCJPZ3JhdmVzbWFsbFwiLFwiT2FjdXRlc21hbGxcIixcIk9jaXJjdW1mbGV4c21hbGxcIixcIk90aWxkZXNtYWxsXCIsXCJPZGllcmVzaXNzbWFsbFwiLFwiT0VzbWFsbFwiLFwiT3NsYXNoc21hbGxcIixcIlVncmF2ZXNtYWxsXCIsXCJVYWN1dGVzbWFsbFwiLFwiVWNpcmN1bWZsZXhzbWFsbFwiLFwiVWRpZXJlc2lzc21hbGxcIixcIllhY3V0ZXNtYWxsXCIsXCJUaG9ybnNtYWxsXCIsXCJZZGllcmVzaXNzbWFsbFwiLFwiMDAxLjAwMFwiLFwiMDAxLjAwMVwiLFwiMDAxLjAwMlwiLFwiMDAxLjAwM1wiLFwiQmxhY2tcIixcIkJvbGRcIixcIkJvb2tcIixcIkxpZ2h0XCIsXCJNZWRpdW1cIixcIlJlZ3VsYXJcIixcIlJvbWFuXCIsXCJTZW1pYm9sZFwiXSx1ZT1bXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwic3BhY2VcIixcImV4Y2xhbVwiLFwicXVvdGVkYmxcIixcIm51bWJlcnNpZ25cIixcImRvbGxhclwiLFwicGVyY2VudFwiLFwiYW1wZXJzYW5kXCIsXCJxdW90ZXJpZ2h0XCIsXCJwYXJlbmxlZnRcIixcInBhcmVucmlnaHRcIixcImFzdGVyaXNrXCIsXCJwbHVzXCIsXCJjb21tYVwiLFwiaHlwaGVuXCIsXCJwZXJpb2RcIixcInNsYXNoXCIsXCJ6ZXJvXCIsXCJvbmVcIixcInR3b1wiLFwidGhyZWVcIixcImZvdXJcIixcImZpdmVcIixcInNpeFwiLFwic2V2ZW5cIixcImVpZ2h0XCIsXCJuaW5lXCIsXCJjb2xvblwiLFwic2VtaWNvbG9uXCIsXCJsZXNzXCIsXCJlcXVhbFwiLFwiZ3JlYXRlclwiLFwicXVlc3Rpb25cIixcImF0XCIsXCJBXCIsXCJCXCIsXCJDXCIsXCJEXCIsXCJFXCIsXCJGXCIsXCJHXCIsXCJIXCIsXCJJXCIsXCJKXCIsXCJLXCIsXCJMXCIsXCJNXCIsXCJOXCIsXCJPXCIsXCJQXCIsXCJRXCIsXCJSXCIsXCJTXCIsXCJUXCIsXCJVXCIsXCJWXCIsXCJXXCIsXCJYXCIsXCJZXCIsXCJaXCIsXCJicmFja2V0bGVmdFwiLFwiYmFja3NsYXNoXCIsXCJicmFja2V0cmlnaHRcIixcImFzY2lpY2lyY3VtXCIsXCJ1bmRlcnNjb3JlXCIsXCJxdW90ZWxlZnRcIixcImFcIixcImJcIixcImNcIixcImRcIixcImVcIixcImZcIixcImdcIixcImhcIixcImlcIixcImpcIixcImtcIixcImxcIixcIm1cIixcIm5cIixcIm9cIixcInBcIixcInFcIixcInJcIixcInNcIixcInRcIixcInVcIixcInZcIixcIndcIixcInhcIixcInlcIixcInpcIixcImJyYWNlbGVmdFwiLFwiYmFyXCIsXCJicmFjZXJpZ2h0XCIsXCJhc2NpaXRpbGRlXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcImV4Y2xhbWRvd25cIixcImNlbnRcIixcInN0ZXJsaW5nXCIsXCJmcmFjdGlvblwiLFwieWVuXCIsXCJmbG9yaW5cIixcInNlY3Rpb25cIixcImN1cnJlbmN5XCIsXCJxdW90ZXNpbmdsZVwiLFwicXVvdGVkYmxsZWZ0XCIsXCJndWlsbGVtb3RsZWZ0XCIsXCJndWlsc2luZ2xsZWZ0XCIsXCJndWlsc2luZ2xyaWdodFwiLFwiZmlcIixcImZsXCIsXCJcIixcImVuZGFzaFwiLFwiZGFnZ2VyXCIsXCJkYWdnZXJkYmxcIixcInBlcmlvZGNlbnRlcmVkXCIsXCJcIixcInBhcmFncmFwaFwiLFwiYnVsbGV0XCIsXCJxdW90ZXNpbmdsYmFzZVwiLFwicXVvdGVkYmxiYXNlXCIsXCJxdW90ZWRibHJpZ2h0XCIsXCJndWlsbGVtb3RyaWdodFwiLFwiZWxsaXBzaXNcIixcInBlcnRob3VzYW5kXCIsXCJcIixcInF1ZXN0aW9uZG93blwiLFwiXCIsXCJncmF2ZVwiLFwiYWN1dGVcIixcImNpcmN1bWZsZXhcIixcInRpbGRlXCIsXCJtYWNyb25cIixcImJyZXZlXCIsXCJkb3RhY2NlbnRcIixcImRpZXJlc2lzXCIsXCJcIixcInJpbmdcIixcImNlZGlsbGFcIixcIlwiLFwiaHVuZ2FydW1sYXV0XCIsXCJvZ29uZWtcIixcImNhcm9uXCIsXCJlbWRhc2hcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiQUVcIixcIlwiLFwib3JkZmVtaW5pbmVcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiTHNsYXNoXCIsXCJPc2xhc2hcIixcIk9FXCIsXCJvcmRtYXNjdWxpbmVcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJhZVwiLFwiXCIsXCJcIixcIlwiLFwiZG90bGVzc2lcIixcIlwiLFwiXCIsXCJsc2xhc2hcIixcIm9zbGFzaFwiLFwib2VcIixcImdlcm1hbmRibHNcIl0sY2U9W1wiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcInNwYWNlXCIsXCJleGNsYW1zbWFsbFwiLFwiSHVuZ2FydW1sYXV0c21hbGxcIixcIlwiLFwiZG9sbGFyb2xkc3R5bGVcIixcImRvbGxhcnN1cGVyaW9yXCIsXCJhbXBlcnNhbmRzbWFsbFwiLFwiQWN1dGVzbWFsbFwiLFwicGFyZW5sZWZ0c3VwZXJpb3JcIixcInBhcmVucmlnaHRzdXBlcmlvclwiLFwidHdvZG90ZW5sZWFkZXJcIixcIm9uZWRvdGVubGVhZGVyXCIsXCJjb21tYVwiLFwiaHlwaGVuXCIsXCJwZXJpb2RcIixcImZyYWN0aW9uXCIsXCJ6ZXJvb2xkc3R5bGVcIixcIm9uZW9sZHN0eWxlXCIsXCJ0d29vbGRzdHlsZVwiLFwidGhyZWVvbGRzdHlsZVwiLFwiZm91cm9sZHN0eWxlXCIsXCJmaXZlb2xkc3R5bGVcIixcInNpeG9sZHN0eWxlXCIsXCJzZXZlbm9sZHN0eWxlXCIsXCJlaWdodG9sZHN0eWxlXCIsXCJuaW5lb2xkc3R5bGVcIixcImNvbG9uXCIsXCJzZW1pY29sb25cIixcImNvbW1hc3VwZXJpb3JcIixcInRocmVlcXVhcnRlcnNlbWRhc2hcIixcInBlcmlvZHN1cGVyaW9yXCIsXCJxdWVzdGlvbnNtYWxsXCIsXCJcIixcImFzdXBlcmlvclwiLFwiYnN1cGVyaW9yXCIsXCJjZW50c3VwZXJpb3JcIixcImRzdXBlcmlvclwiLFwiZXN1cGVyaW9yXCIsXCJcIixcIlwiLFwiaXN1cGVyaW9yXCIsXCJcIixcIlwiLFwibHN1cGVyaW9yXCIsXCJtc3VwZXJpb3JcIixcIm5zdXBlcmlvclwiLFwib3N1cGVyaW9yXCIsXCJcIixcIlwiLFwicnN1cGVyaW9yXCIsXCJzc3VwZXJpb3JcIixcInRzdXBlcmlvclwiLFwiXCIsXCJmZlwiLFwiZmlcIixcImZsXCIsXCJmZmlcIixcImZmbFwiLFwicGFyZW5sZWZ0aW5mZXJpb3JcIixcIlwiLFwicGFyZW5yaWdodGluZmVyaW9yXCIsXCJDaXJjdW1mbGV4c21hbGxcIixcImh5cGhlbnN1cGVyaW9yXCIsXCJHcmF2ZXNtYWxsXCIsXCJBc21hbGxcIixcIkJzbWFsbFwiLFwiQ3NtYWxsXCIsXCJEc21hbGxcIixcIkVzbWFsbFwiLFwiRnNtYWxsXCIsXCJHc21hbGxcIixcIkhzbWFsbFwiLFwiSXNtYWxsXCIsXCJKc21hbGxcIixcIktzbWFsbFwiLFwiTHNtYWxsXCIsXCJNc21hbGxcIixcIk5zbWFsbFwiLFwiT3NtYWxsXCIsXCJQc21hbGxcIixcIlFzbWFsbFwiLFwiUnNtYWxsXCIsXCJTc21hbGxcIixcIlRzbWFsbFwiLFwiVXNtYWxsXCIsXCJWc21hbGxcIixcIldzbWFsbFwiLFwiWHNtYWxsXCIsXCJZc21hbGxcIixcIlpzbWFsbFwiLFwiY29sb25tb25ldGFyeVwiLFwib25lZml0dGVkXCIsXCJydXBpYWhcIixcIlRpbGRlc21hbGxcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiXCIsXCJcIixcIlwiLFwiZXhjbGFtZG93bnNtYWxsXCIsXCJjZW50b2xkc3R5bGVcIixcIkxzbGFzaHNtYWxsXCIsXCJcIixcIlwiLFwiU2Nhcm9uc21hbGxcIixcIlpjYXJvbnNtYWxsXCIsXCJEaWVyZXNpc3NtYWxsXCIsXCJCcmV2ZXNtYWxsXCIsXCJDYXJvbnNtYWxsXCIsXCJcIixcIkRvdGFjY2VudHNtYWxsXCIsXCJcIixcIlwiLFwiTWFjcm9uc21hbGxcIixcIlwiLFwiXCIsXCJmaWd1cmVkYXNoXCIsXCJoeXBoZW5pbmZlcmlvclwiLFwiXCIsXCJcIixcIk9nb25la3NtYWxsXCIsXCJSaW5nc21hbGxcIixcIkNlZGlsbGFzbWFsbFwiLFwiXCIsXCJcIixcIlwiLFwib25lcXVhcnRlclwiLFwib25laGFsZlwiLFwidGhyZWVxdWFydGVyc1wiLFwicXVlc3Rpb25kb3duc21hbGxcIixcIm9uZWVpZ2h0aFwiLFwidGhyZWVlaWdodGhzXCIsXCJmaXZlZWlnaHRoc1wiLFwic2V2ZW5laWdodGhzXCIsXCJvbmV0aGlyZFwiLFwidHdvdGhpcmRzXCIsXCJcIixcIlwiLFwiemVyb3N1cGVyaW9yXCIsXCJvbmVzdXBlcmlvclwiLFwidHdvc3VwZXJpb3JcIixcInRocmVlc3VwZXJpb3JcIixcImZvdXJzdXBlcmlvclwiLFwiZml2ZXN1cGVyaW9yXCIsXCJzaXhzdXBlcmlvclwiLFwic2V2ZW5zdXBlcmlvclwiLFwiZWlnaHRzdXBlcmlvclwiLFwibmluZXN1cGVyaW9yXCIsXCJ6ZXJvaW5mZXJpb3JcIixcIm9uZWluZmVyaW9yXCIsXCJ0d29pbmZlcmlvclwiLFwidGhyZWVpbmZlcmlvclwiLFwiZm91cmluZmVyaW9yXCIsXCJmaXZlaW5mZXJpb3JcIixcInNpeGluZmVyaW9yXCIsXCJzZXZlbmluZmVyaW9yXCIsXCJlaWdodGluZmVyaW9yXCIsXCJuaW5laW5mZXJpb3JcIixcImNlbnRpbmZlcmlvclwiLFwiZG9sbGFyaW5mZXJpb3JcIixcInBlcmlvZGluZmVyaW9yXCIsXCJjb21tYWluZmVyaW9yXCIsXCJBZ3JhdmVzbWFsbFwiLFwiQWFjdXRlc21hbGxcIixcIkFjaXJjdW1mbGV4c21hbGxcIixcIkF0aWxkZXNtYWxsXCIsXCJBZGllcmVzaXNzbWFsbFwiLFwiQXJpbmdzbWFsbFwiLFwiQUVzbWFsbFwiLFwiQ2NlZGlsbGFzbWFsbFwiLFwiRWdyYXZlc21hbGxcIixcIkVhY3V0ZXNtYWxsXCIsXCJFY2lyY3VtZmxleHNtYWxsXCIsXCJFZGllcmVzaXNzbWFsbFwiLFwiSWdyYXZlc21hbGxcIixcIklhY3V0ZXNtYWxsXCIsXCJJY2lyY3VtZmxleHNtYWxsXCIsXCJJZGllcmVzaXNzbWFsbFwiLFwiRXRoc21hbGxcIixcIk50aWxkZXNtYWxsXCIsXCJPZ3JhdmVzbWFsbFwiLFwiT2FjdXRlc21hbGxcIixcIk9jaXJjdW1mbGV4c21hbGxcIixcIk90aWxkZXNtYWxsXCIsXCJPZGllcmVzaXNzbWFsbFwiLFwiT0VzbWFsbFwiLFwiT3NsYXNoc21hbGxcIixcIlVncmF2ZXNtYWxsXCIsXCJVYWN1dGVzbWFsbFwiLFwiVWNpcmN1bWZsZXhzbWFsbFwiLFwiVWRpZXJlc2lzc21hbGxcIixcIllhY3V0ZXNtYWxsXCIsXCJUaG9ybnNtYWxsXCIsXCJZZGllcmVzaXNzbWFsbFwiXSxwZT1bXCIubm90ZGVmXCIsXCIubnVsbFwiLFwibm9ubWFya2luZ3JldHVyblwiLFwic3BhY2VcIixcImV4Y2xhbVwiLFwicXVvdGVkYmxcIixcIm51bWJlcnNpZ25cIixcImRvbGxhclwiLFwicGVyY2VudFwiLFwiYW1wZXJzYW5kXCIsXCJxdW90ZXNpbmdsZVwiLFwicGFyZW5sZWZ0XCIsXCJwYXJlbnJpZ2h0XCIsXCJhc3Rlcmlza1wiLFwicGx1c1wiLFwiY29tbWFcIixcImh5cGhlblwiLFwicGVyaW9kXCIsXCJzbGFzaFwiLFwiemVyb1wiLFwib25lXCIsXCJ0d29cIixcInRocmVlXCIsXCJmb3VyXCIsXCJmaXZlXCIsXCJzaXhcIixcInNldmVuXCIsXCJlaWdodFwiLFwibmluZVwiLFwiY29sb25cIixcInNlbWljb2xvblwiLFwibGVzc1wiLFwiZXF1YWxcIixcImdyZWF0ZXJcIixcInF1ZXN0aW9uXCIsXCJhdFwiLFwiQVwiLFwiQlwiLFwiQ1wiLFwiRFwiLFwiRVwiLFwiRlwiLFwiR1wiLFwiSFwiLFwiSVwiLFwiSlwiLFwiS1wiLFwiTFwiLFwiTVwiLFwiTlwiLFwiT1wiLFwiUFwiLFwiUVwiLFwiUlwiLFwiU1wiLFwiVFwiLFwiVVwiLFwiVlwiLFwiV1wiLFwiWFwiLFwiWVwiLFwiWlwiLFwiYnJhY2tldGxlZnRcIixcImJhY2tzbGFzaFwiLFwiYnJhY2tldHJpZ2h0XCIsXCJhc2NpaWNpcmN1bVwiLFwidW5kZXJzY29yZVwiLFwiZ3JhdmVcIixcImFcIixcImJcIixcImNcIixcImRcIixcImVcIixcImZcIixcImdcIixcImhcIixcImlcIixcImpcIixcImtcIixcImxcIixcIm1cIixcIm5cIixcIm9cIixcInBcIixcInFcIixcInJcIixcInNcIixcInRcIixcInVcIixcInZcIixcIndcIixcInhcIixcInlcIixcInpcIixcImJyYWNlbGVmdFwiLFwiYmFyXCIsXCJicmFjZXJpZ2h0XCIsXCJhc2NpaXRpbGRlXCIsXCJBZGllcmVzaXNcIixcIkFyaW5nXCIsXCJDY2VkaWxsYVwiLFwiRWFjdXRlXCIsXCJOdGlsZGVcIixcIk9kaWVyZXNpc1wiLFwiVWRpZXJlc2lzXCIsXCJhYWN1dGVcIixcImFncmF2ZVwiLFwiYWNpcmN1bWZsZXhcIixcImFkaWVyZXNpc1wiLFwiYXRpbGRlXCIsXCJhcmluZ1wiLFwiY2NlZGlsbGFcIixcImVhY3V0ZVwiLFwiZWdyYXZlXCIsXCJlY2lyY3VtZmxleFwiLFwiZWRpZXJlc2lzXCIsXCJpYWN1dGVcIixcImlncmF2ZVwiLFwiaWNpcmN1bWZsZXhcIixcImlkaWVyZXNpc1wiLFwibnRpbGRlXCIsXCJvYWN1dGVcIixcIm9ncmF2ZVwiLFwib2NpcmN1bWZsZXhcIixcIm9kaWVyZXNpc1wiLFwib3RpbGRlXCIsXCJ1YWN1dGVcIixcInVncmF2ZVwiLFwidWNpcmN1bWZsZXhcIixcInVkaWVyZXNpc1wiLFwiZGFnZ2VyXCIsXCJkZWdyZWVcIixcImNlbnRcIixcInN0ZXJsaW5nXCIsXCJzZWN0aW9uXCIsXCJidWxsZXRcIixcInBhcmFncmFwaFwiLFwiZ2VybWFuZGJsc1wiLFwicmVnaXN0ZXJlZFwiLFwiY29weXJpZ2h0XCIsXCJ0cmFkZW1hcmtcIixcImFjdXRlXCIsXCJkaWVyZXNpc1wiLFwibm90ZXF1YWxcIixcIkFFXCIsXCJPc2xhc2hcIixcImluZmluaXR5XCIsXCJwbHVzbWludXNcIixcImxlc3NlcXVhbFwiLFwiZ3JlYXRlcmVxdWFsXCIsXCJ5ZW5cIixcIm11XCIsXCJwYXJ0aWFsZGlmZlwiLFwic3VtbWF0aW9uXCIsXCJwcm9kdWN0XCIsXCJwaVwiLFwiaW50ZWdyYWxcIixcIm9yZGZlbWluaW5lXCIsXCJvcmRtYXNjdWxpbmVcIixcIk9tZWdhXCIsXCJhZVwiLFwib3NsYXNoXCIsXCJxdWVzdGlvbmRvd25cIixcImV4Y2xhbWRvd25cIixcImxvZ2ljYWxub3RcIixcInJhZGljYWxcIixcImZsb3JpblwiLFwiYXBwcm94ZXF1YWxcIixcIkRlbHRhXCIsXCJndWlsbGVtb3RsZWZ0XCIsXCJndWlsbGVtb3RyaWdodFwiLFwiZWxsaXBzaXNcIixcIm5vbmJyZWFraW5nc3BhY2VcIixcIkFncmF2ZVwiLFwiQXRpbGRlXCIsXCJPdGlsZGVcIixcIk9FXCIsXCJvZVwiLFwiZW5kYXNoXCIsXCJlbWRhc2hcIixcInF1b3RlZGJsbGVmdFwiLFwicXVvdGVkYmxyaWdodFwiLFwicXVvdGVsZWZ0XCIsXCJxdW90ZXJpZ2h0XCIsXCJkaXZpZGVcIixcImxvemVuZ2VcIixcInlkaWVyZXNpc1wiLFwiWWRpZXJlc2lzXCIsXCJmcmFjdGlvblwiLFwiY3VycmVuY3lcIixcImd1aWxzaW5nbGxlZnRcIixcImd1aWxzaW5nbHJpZ2h0XCIsXCJmaVwiLFwiZmxcIixcImRhZ2dlcmRibFwiLFwicGVyaW9kY2VudGVyZWRcIixcInF1b3Rlc2luZ2xiYXNlXCIsXCJxdW90ZWRibGJhc2VcIixcInBlcnRob3VzYW5kXCIsXCJBY2lyY3VtZmxleFwiLFwiRWNpcmN1bWZsZXhcIixcIkFhY3V0ZVwiLFwiRWRpZXJlc2lzXCIsXCJFZ3JhdmVcIixcIklhY3V0ZVwiLFwiSWNpcmN1bWZsZXhcIixcIklkaWVyZXNpc1wiLFwiSWdyYXZlXCIsXCJPYWN1dGVcIixcIk9jaXJjdW1mbGV4XCIsXCJhcHBsZVwiLFwiT2dyYXZlXCIsXCJVYWN1dGVcIixcIlVjaXJjdW1mbGV4XCIsXCJVZ3JhdmVcIixcImRvdGxlc3NpXCIsXCJjaXJjdW1mbGV4XCIsXCJ0aWxkZVwiLFwibWFjcm9uXCIsXCJicmV2ZVwiLFwiZG90YWNjZW50XCIsXCJyaW5nXCIsXCJjZWRpbGxhXCIsXCJodW5nYXJ1bWxhdXRcIixcIm9nb25la1wiLFwiY2Fyb25cIixcIkxzbGFzaFwiLFwibHNsYXNoXCIsXCJTY2Fyb25cIixcInNjYXJvblwiLFwiWmNhcm9uXCIsXCJ6Y2Fyb25cIixcImJyb2tlbmJhclwiLFwiRXRoXCIsXCJldGhcIixcIllhY3V0ZVwiLFwieWFjdXRlXCIsXCJUaG9yblwiLFwidGhvcm5cIixcIm1pbnVzXCIsXCJtdWx0aXBseVwiLFwib25lc3VwZXJpb3JcIixcInR3b3N1cGVyaW9yXCIsXCJ0aHJlZXN1cGVyaW9yXCIsXCJvbmVoYWxmXCIsXCJvbmVxdWFydGVyXCIsXCJ0aHJlZXF1YXJ0ZXJzXCIsXCJmcmFuY1wiLFwiR2JyZXZlXCIsXCJnYnJldmVcIixcIklkb3RhY2NlbnRcIixcIlNjZWRpbGxhXCIsXCJzY2VkaWxsYVwiLFwiQ2FjdXRlXCIsXCJjYWN1dGVcIixcIkNjYXJvblwiLFwiY2Nhcm9uXCIsXCJkY3JvYXRcIl07ZnVuY3Rpb24gZGUoZSl7dGhpcy5mb250PWV9ZnVuY3Rpb24gZmUoZSl7dGhpcy5jbWFwPWV9ZnVuY3Rpb24gbWUoZSx0KXt0aGlzLmVuY29kaW5nPWUsdGhpcy5jaGFyc2V0PXR9ZnVuY3Rpb24gdmUoZSl7c3dpdGNoKGUudmVyc2lvbil7Y2FzZSAxOnRoaXMubmFtZXM9cGUuc2xpY2UoKTticmVhaztjYXNlIDI6dGhpcy5uYW1lcz1uZXcgQXJyYXkoZS5udW1iZXJPZkdseXBocyk7Zm9yKHZhciB0PTA7dDxlLm51bWJlck9mR2x5cGhzO3QrKyllLmdseXBoTmFtZUluZGV4W3RdPHBlLmxlbmd0aD90aGlzLm5hbWVzW3RdPXBlW2UuZ2x5cGhOYW1lSW5kZXhbdF1dOnRoaXMubmFtZXNbdF09ZS5uYW1lc1tlLmdseXBoTmFtZUluZGV4W3RdLXBlLmxlbmd0aF07YnJlYWs7Y2FzZSAyLjU6dGhpcy5uYW1lcz1uZXcgQXJyYXkoZS5udW1iZXJPZkdseXBocyk7Zm9yKHZhciByPTA7cjxlLm51bWJlck9mR2x5cGhzO3IrKyl0aGlzLm5hbWVzW3JdPXBlW3IrZS5nbHlwaE5hbWVJbmRleFtyXV07YnJlYWs7Y2FzZSAzOmRlZmF1bHQ6dGhpcy5uYW1lcz1bXX19ZGUucHJvdG90eXBlLmNoYXJUb0dseXBoSW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb2RlUG9pbnRBdCgwKSxyPXRoaXMuZm9udC5nbHlwaHM7aWYocilmb3IodmFyIGk9MDtpPHIubGVuZ3RoO2krPTEpZm9yKHZhciBuPXIuZ2V0KGkpLG89MDtvPG4udW5pY29kZXMubGVuZ3RoO28rPTEpaWYobi51bmljb2Rlc1tvXT09PXQpcmV0dXJuIGk7cmV0dXJuIG51bGx9LGZlLnByb3RvdHlwZS5jaGFyVG9HbHlwaEluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNtYXAuZ2x5cGhJbmRleE1hcFtlLmNvZGVQb2ludEF0KDApXXx8MH0sbWUucHJvdG90eXBlLmNoYXJUb0dseXBoSW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb2RlUG9pbnRBdCgwKSxyPXRoaXMuZW5jb2RpbmdbdF07cmV0dXJuIHRoaXMuY2hhcnNldC5pbmRleE9mKHIpfSx2ZS5wcm90b3R5cGUubmFtZVRvR2x5cGhJbmRleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5uYW1lcy5pbmRleE9mKGUpfSx2ZS5wcm90b3R5cGUuZ2x5cGhJbmRleFRvTmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5uYW1lc1tlXX07dmFyIGdlPXtsaW5lOmZ1bmN0aW9uKGUsdCxyLGksbil7ZS5iZWdpblBhdGgoKSxlLm1vdmVUbyh0LHIpLGUubGluZVRvKGksbiksZS5zdHJva2UoKX19O2Z1bmN0aW9uIHllKGUpe3RoaXMuYmluZENvbnN0cnVjdG9yVmFsdWVzKGUpfWZ1bmN0aW9uIGJlKHQsZSxyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5wYXRoLHRbcl19LHNldDpmdW5jdGlvbihlKXt0W3JdPWV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9ZnVuY3Rpb24gX2UoZSx0KXtpZih0aGlzLmZvbnQ9ZSx0aGlzLmdseXBocz17fSxBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXRoaXMuZ2x5cGhzW3JdPXRbcl07dGhpcy5sZW5ndGg9dCYmdC5sZW5ndGh8fDB9eWUucHJvdG90eXBlLmJpbmRDb25zdHJ1Y3RvclZhbHVlcz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMuaW5kZXg9ZS5pbmRleHx8MCx0aGlzLm5hbWU9ZS5uYW1lfHxudWxsLHRoaXMudW5pY29kZT1lLnVuaWNvZGV8fHZvaWQgMCx0aGlzLnVuaWNvZGVzPWUudW5pY29kZXN8fHZvaWQgMCE9PWUudW5pY29kZT9bZS51bmljb2RlXTpbXSxlLnhNaW4mJih0aGlzLnhNaW49ZS54TWluKSxlLnlNaW4mJih0aGlzLnlNaW49ZS55TWluKSxlLnhNYXgmJih0aGlzLnhNYXg9ZS54TWF4KSxlLnlNYXgmJih0aGlzLnlNYXg9ZS55TWF4KSxlLmFkdmFuY2VXaWR0aCYmKHRoaXMuYWR2YW5jZVdpZHRoPWUuYWR2YW5jZVdpZHRoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBhdGhcIiwodD1lLnBhdGgscj10fHxuZXcgVSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHImJihyPXIoKSkscn0sc2V0OmZ1bmN0aW9uKGUpe3I9ZX19KSl9LHllLnByb3RvdHlwZS5hZGRVbmljb2RlPWZ1bmN0aW9uKGUpezA9PT10aGlzLnVuaWNvZGVzLmxlbmd0aCYmKHRoaXMudW5pY29kZT1lKSx0aGlzLnVuaWNvZGVzLnB1c2goZSl9LHllLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGguZ2V0Qm91bmRpbmdCb3goKX0seWUucHJvdG90eXBlLmdldFBhdGg9ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgbyxhO2U9dm9pZCAwIT09ZT9lOjAsdD12b2lkIDAhPT10P3Q6MCxyPXZvaWQgMCE9PXI/cjo3MixpfHwoaT17fSk7dmFyIHM9aS54U2NhbGUsaD1pLnlTY2FsZTtpZihpLmhpbnRpbmcmJm4mJm4uaGludGluZyYmKGE9dGhpcy5wYXRoJiZuLmhpbnRpbmcuZXhlYyh0aGlzLHIpKSxhKW89bi5oaW50aW5nLmdldENvbW1hbmRzKGEpLGU9TWF0aC5yb3VuZChlKSx0PU1hdGgucm91bmQodCkscz1oPTE7ZWxzZXtvPXRoaXMucGF0aC5jb21tYW5kczt2YXIgbD0xL3RoaXMucGF0aC51bml0c1BlckVtKnI7dm9pZCAwPT09cyYmKHM9bCksdm9pZCAwPT09aCYmKGg9bCl9Zm9yKHZhciB1PW5ldyBVLGM9MDtjPG8ubGVuZ3RoO2MrPTEpe3ZhciBwPW9bY107XCJNXCI9PT1wLnR5cGU/dS5tb3ZlVG8oZStwLngqcyx0Ky1wLnkqaCk6XCJMXCI9PT1wLnR5cGU/dS5saW5lVG8oZStwLngqcyx0Ky1wLnkqaCk6XCJRXCI9PT1wLnR5cGU/dS5xdWFkcmF0aWNDdXJ2ZVRvKGUrcC54MSpzLHQrLXAueTEqaCxlK3AueCpzLHQrLXAueSpoKTpcIkNcIj09PXAudHlwZT91LmN1cnZlVG8oZStwLngxKnMsdCstcC55MSpoLGUrcC54MipzLHQrLXAueTIqaCxlK3AueCpzLHQrLXAueSpoKTpcIlpcIj09PXAudHlwZSYmdS5jbG9zZVBhdGgoKX1yZXR1cm4gdX0seWUucHJvdG90eXBlLmdldENvbnRvdXJzPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09dGhpcy5wb2ludHMpcmV0dXJuW107Zm9yKHZhciBlPVtdLHQ9W10scj0wO3I8dGhpcy5wb2ludHMubGVuZ3RoO3IrPTEpe3ZhciBpPXRoaXMucG9pbnRzW3JdO3QucHVzaChpKSxpLmxhc3RQb2ludE9mQ29udG91ciYmKGUucHVzaCh0KSx0PVtdKX1yZXR1cm4gUC5hcmd1bWVudCgwPT09dC5sZW5ndGgsXCJUaGVyZSBhcmUgc3RpbGwgcG9pbnRzIGxlZnQgaW4gdGhlIGN1cnJlbnQgY29udG91ci5cIiksZX0seWUucHJvdG90eXBlLmdldE1ldHJpY3M9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5wYXRoLmNvbW1hbmRzLHQ9W10scj1bXSxpPTA7aTxlLmxlbmd0aDtpKz0xKXt2YXIgbj1lW2ldO1wiWlwiIT09bi50eXBlJiYodC5wdXNoKG4ueCksci5wdXNoKG4ueSkpLFwiUVwiIT09bi50eXBlJiZcIkNcIiE9PW4udHlwZXx8KHQucHVzaChuLngxKSxyLnB1c2gobi55MSkpLFwiQ1wiPT09bi50eXBlJiYodC5wdXNoKG4ueDIpLHIucHVzaChuLnkyKSl9dmFyIG89e3hNaW46TWF0aC5taW4uYXBwbHkobnVsbCx0KSx5TWluOk1hdGgubWluLmFwcGx5KG51bGwscikseE1heDpNYXRoLm1heC5hcHBseShudWxsLHQpLHlNYXg6TWF0aC5tYXguYXBwbHkobnVsbCxyKSxsZWZ0U2lkZUJlYXJpbmc6dGhpcy5sZWZ0U2lkZUJlYXJpbmd9O3JldHVybiBpc0Zpbml0ZShvLnhNaW4pfHwoby54TWluPTApLGlzRmluaXRlKG8ueE1heCl8fChvLnhNYXg9dGhpcy5hZHZhbmNlV2lkdGgpLGlzRmluaXRlKG8ueU1pbil8fChvLnlNaW49MCksaXNGaW5pdGUoby55TWF4KXx8KG8ueU1heD0wKSxvLnJpZ2h0U2lkZUJlYXJpbmc9dGhpcy5hZHZhbmNlV2lkdGgtby5sZWZ0U2lkZUJlYXJpbmctKG8ueE1heC1vLnhNaW4pLG99LHllLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKGUsdCxyLGksbil7dGhpcy5nZXRQYXRoKHQscixpLG4pLmRyYXcoZSl9LHllLnByb3RvdHlwZS5kcmF3UG9pbnRzPWZ1bmN0aW9uKGEsZSx0LHIpe2Z1bmN0aW9uIGkoZSx0LHIsaSl7dmFyIG49MipNYXRoLlBJO2EuYmVnaW5QYXRoKCk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKz0xKWEubW92ZVRvKHQrZVtvXS54KmkscitlW29dLnkqaSksYS5hcmModCtlW29dLngqaSxyK2Vbb10ueSppLDIsMCxuLCExKTthLmNsb3NlUGF0aCgpLGEuZmlsbCgpfWU9dm9pZCAwIT09ZT9lOjAsdD12b2lkIDAhPT10P3Q6MCxyPXZvaWQgMCE9PXI/cjoyNDtmb3IodmFyIG49MS90aGlzLnBhdGgudW5pdHNQZXJFbSpyLG89W10scz1bXSxoPXRoaXMucGF0aCxsPTA7bDxoLmNvbW1hbmRzLmxlbmd0aDtsKz0xKXt2YXIgdT1oLmNvbW1hbmRzW2xdO3ZvaWQgMCE9PXUueCYmby5wdXNoKHt4OnUueCx5Oi11Lnl9KSx2b2lkIDAhPT11LngxJiZzLnB1c2goe3g6dS54MSx5Oi11LnkxfSksdm9pZCAwIT09dS54MiYmcy5wdXNoKHt4OnUueDIseTotdS55Mn0pfWEuZmlsbFN0eWxlPVwiYmx1ZVwiLGkobyxlLHQsbiksYS5maWxsU3R5bGU9XCJyZWRcIixpKHMsZSx0LG4pfSx5ZS5wcm90b3R5cGUuZHJhd01ldHJpY3M9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG47dD12b2lkIDAhPT10P3Q6MCxyPXZvaWQgMCE9PXI/cjowLGk9dm9pZCAwIT09aT9pOjI0LG49MS90aGlzLnBhdGgudW5pdHNQZXJFbSppLGUubGluZVdpZHRoPTEsZS5zdHJva2VTdHlsZT1cImJsYWNrXCIsZ2UubGluZShlLHQsLTFlNCx0LDFlNCksZ2UubGluZShlLC0xZTQsciwxZTQscik7dmFyIG89dGhpcy54TWlufHwwLGE9dGhpcy55TWlufHwwLHM9dGhpcy54TWF4fHwwLGg9dGhpcy55TWF4fHwwLGw9dGhpcy5hZHZhbmNlV2lkdGh8fDA7ZS5zdHJva2VTdHlsZT1cImJsdWVcIixnZS5saW5lKGUsdCtvKm4sLTFlNCx0K28qbiwxZTQpLGdlLmxpbmUoZSx0K3MqbiwtMWU0LHQrcypuLDFlNCksZ2UubGluZShlLC0xZTQscistYSpuLDFlNCxyKy1hKm4pLGdlLmxpbmUoZSwtMWU0LHIrLWgqbiwxZTQscistaCpuKSxlLnN0cm9rZVN0eWxlPVwiZ3JlZW5cIixnZS5saW5lKGUsdCtsKm4sLTFlNCx0K2wqbiwxZTQpfSxfZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuZ2x5cGhzW2VdJiYodGhpcy5nbHlwaHNbZV09dGhpcy5nbHlwaHNbZV0oKSksdGhpcy5nbHlwaHNbZV19LF9lLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7dGhpcy5nbHlwaHNbZV09dCx0aGlzLmxlbmd0aCsrfTt2YXIgeGU9e0dseXBoU2V0Ol9lLGdseXBoTG9hZGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB5ZSh7aW5kZXg6dCxmb250OmV9KX0sdHRmR2x5cGhMb2FkZXI6ZnVuY3Rpb24ocixlLGksbixvLGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PW5ldyB5ZSh7aW5kZXg6ZSxmb250OnJ9KTtyZXR1cm4gdC5wYXRoPWZ1bmN0aW9uKCl7aSh0LG4sbyk7dmFyIGU9YShyLmdseXBocyx0KTtyZXR1cm4gZS51bml0c1BlckVtPXIudW5pdHNQZXJFbSxlfSxiZSh0LFwieE1pblwiLFwiX3hNaW5cIiksYmUodCxcInhNYXhcIixcIl94TWF4XCIpLGJlKHQsXCJ5TWluXCIsXCJfeU1pblwiKSxiZSh0LFwieU1heFwiLFwiX3lNYXhcIiksdH19LGNmZkdseXBoTG9hZGVyOmZ1bmN0aW9uKHIsZSxpLG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PW5ldyB5ZSh7aW5kZXg6ZSxmb250OnJ9KTtyZXR1cm4gdC5wYXRoPWZ1bmN0aW9uKCl7dmFyIGU9aShyLHQsbik7cmV0dXJuIGUudW5pdHNQZXJFbT1yLnVuaXRzUGVyRW0sZX0sdH19fTtmdW5jdGlvbiB3ZShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKEFycmF5LmlzQXJyYXkoZSkmJkFycmF5LmlzQXJyYXkodCkpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKz0xKWlmKCF3ZShlW3JdLHRbcl0pKXJldHVybiExO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIFNlKGUpe3JldHVybiBlLmxlbmd0aDwxMjQwPzEwNzplLmxlbmd0aDwzMzkwMD8xMTMxOjMyNzY4fWZ1bmN0aW9uIFRlKGUsdCxyKXt2YXIgaSxuLG89W10sYT1bXSxzPXNlLmdldENhcmQxNihlLHQpO2lmKDAhPT1zKXt2YXIgaD1zZS5nZXRCeXRlKGUsdCsyKTtpPXQrKHMrMSkqaCsyO2Zvcih2YXIgbD10KzMsdT0wO3U8cysxO3UrPTEpby5wdXNoKHNlLmdldE9mZnNldChlLGwsaCkpLGwrPWg7bj1pK29bc119ZWxzZSBuPXQrMjtmb3IodmFyIGM9MDtjPG8ubGVuZ3RoLTE7Yys9MSl7dmFyIHA9c2UuZ2V0Qnl0ZXMoZSxpK29bY10saStvW2MrMV0pO3ImJihwPXIocCkpLGEucHVzaChwKX1yZXR1cm57b2JqZWN0czphLHN0YXJ0T2Zmc2V0OnQsZW5kT2Zmc2V0Om59fWZ1bmN0aW9uIE1lKGUsdCl7aWYoMjg9PT10KXJldHVybiBlLnBhcnNlQnl0ZSgpPDw4fGUucGFyc2VCeXRlKCk7aWYoMjk9PT10KXJldHVybiBlLnBhcnNlQnl0ZSgpPDwyNHxlLnBhcnNlQnl0ZSgpPDwxNnxlLnBhcnNlQnl0ZSgpPDw4fGUucGFyc2VCeXRlKCk7aWYoMzA9PT10KXJldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixyPVtcIjBcIixcIjFcIixcIjJcIixcIjNcIixcIjRcIixcIjVcIixcIjZcIixcIjdcIixcIjhcIixcIjlcIixcIi5cIixcIkVcIixcIkUtXCIsbnVsbCxcIi1cIl07Oyl7dmFyIGk9ZS5wYXJzZUJ5dGUoKSxuPWk+PjQsbz0xNSZpO2lmKDE1PT09bilicmVhaztpZih0Kz1yW25dLDE1PT09bylicmVhazt0Kz1yW29dfXJldHVybiBwYXJzZUZsb2F0KHQpfShlKTtpZigzMjw9dCYmdDw9MjQ2KXJldHVybiB0LTEzOTtpZigyNDc8PXQmJnQ8PTI1MClyZXR1cm4gMjU2Kih0LTI0NykrZS5wYXJzZUJ5dGUoKSsxMDg7aWYoMjUxPD10JiZ0PD0yNTQpcmV0dXJuIDI1NiotKHQtMjUxKS1lLnBhcnNlQnl0ZSgpLTEwODt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGIwIFwiK3QpfWZ1bmN0aW9uIEVlKGUsdCxyKXt0PXZvaWQgMCE9PXQ/dDowO3ZhciBpPW5ldyBzZS5QYXJzZXIoZSx0KSxuPVtdLG89W107Zm9yKHI9dm9pZCAwIT09cj9yOmUubGVuZ3RoO2kucmVsYXRpdmVPZmZzZXQ8cjspe3ZhciBhPWkucGFyc2VCeXRlKCk7YTw9MjE/KDEyPT09YSYmKGE9MTIwMCtpLnBhcnNlQnl0ZSgpKSxuLnB1c2goW2Esb10pLG89W10pOm8ucHVzaChNZShpLGEpKX1yZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LHI9MDtyPGUubGVuZ3RoO3IrPTEpe3ZhciBpPWVbcl1bMF0sbj1lW3JdWzFdLG89dm9pZCAwO2lmKG89MT09PW4ubGVuZ3RoP25bMF06bix0Lmhhc093blByb3BlcnR5KGkpJiYhaXNOYU4odFtpXSkpdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0IFwiK3QrXCIgYWxyZWFkeSBoYXMga2V5IFwiK2kpO3RbaV09b31yZXR1cm4gdH0obil9ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm4gdD10PD0zOTA/bGVbdF06ZVt0LTM5MV19ZnVuY3Rpb24gUmUoZSx0LHIpe2Zvcih2YXIgaSxuPXt9LG89MDtvPHQubGVuZ3RoO28rPTEpe3ZhciBhPXRbb107aWYoQXJyYXkuaXNBcnJheShhLnR5cGUpKXt2YXIgcz1bXTtzLmxlbmd0aD1hLnR5cGUubGVuZ3RoO2Zvcih2YXIgaD0wO2g8YS50eXBlLmxlbmd0aDtoKyspdm9pZCAwPT09KGk9dm9pZCAwIT09ZVthLm9wXT9lW2Eub3BdW2hdOnZvaWQgMCkmJihpPXZvaWQgMCE9PWEudmFsdWUmJnZvaWQgMCE9PWEudmFsdWVbaF0/YS52YWx1ZVtoXTpudWxsKSxcIlNJRFwiPT09YS50eXBlW2hdJiYoaT1DZShyLGkpKSxzW2hdPWk7blthLm5hbWVdPXN9ZWxzZSB2b2lkIDA9PT0oaT1lW2Eub3BdKSYmKGk9dm9pZCAwIT09YS52YWx1ZT9hLnZhbHVlOm51bGwpLFwiU0lEXCI9PT1hLnR5cGUmJihpPUNlKHIsaSkpLG5bYS5uYW1lXT1pfXJldHVybiBufXZhciBMZT1be25hbWU6XCJ2ZXJzaW9uXCIsb3A6MCx0eXBlOlwiU0lEXCJ9LHtuYW1lOlwibm90aWNlXCIsb3A6MSx0eXBlOlwiU0lEXCJ9LHtuYW1lOlwiY29weXJpZ2h0XCIsb3A6MTIwMCx0eXBlOlwiU0lEXCJ9LHtuYW1lOlwiZnVsbE5hbWVcIixvcDoyLHR5cGU6XCJTSURcIn0se25hbWU6XCJmYW1pbHlOYW1lXCIsb3A6Myx0eXBlOlwiU0lEXCJ9LHtuYW1lOlwid2VpZ2h0XCIsb3A6NCx0eXBlOlwiU0lEXCJ9LHtuYW1lOlwiaXNGaXhlZFBpdGNoXCIsb3A6MTIwMSx0eXBlOlwibnVtYmVyXCIsdmFsdWU6MH0se25hbWU6XCJpdGFsaWNBbmdsZVwiLG9wOjEyMDIsdHlwZTpcIm51bWJlclwiLHZhbHVlOjB9LHtuYW1lOlwidW5kZXJsaW5lUG9zaXRpb25cIixvcDoxMjAzLHR5cGU6XCJudW1iZXJcIix2YWx1ZTotMTAwfSx7bmFtZTpcInVuZGVybGluZVRoaWNrbmVzc1wiLG9wOjEyMDQsdHlwZTpcIm51bWJlclwiLHZhbHVlOjUwfSx7bmFtZTpcInBhaW50VHlwZVwiLG9wOjEyMDUsdHlwZTpcIm51bWJlclwiLHZhbHVlOjB9LHtuYW1lOlwiY2hhcnN0cmluZ1R5cGVcIixvcDoxMjA2LHR5cGU6XCJudW1iZXJcIix2YWx1ZToyfSx7bmFtZTpcImZvbnRNYXRyaXhcIixvcDoxMjA3LHR5cGU6W1wicmVhbFwiLFwicmVhbFwiLFwicmVhbFwiLFwicmVhbFwiLFwicmVhbFwiLFwicmVhbFwiXSx2YWx1ZTpbLjAwMSwwLDAsLjAwMSwwLDBdfSx7bmFtZTpcInVuaXF1ZUlkXCIsb3A6MTMsdHlwZTpcIm51bWJlclwifSx7bmFtZTpcImZvbnRCQm94XCIsb3A6NSx0eXBlOltcIm51bWJlclwiLFwibnVtYmVyXCIsXCJudW1iZXJcIixcIm51bWJlclwiXSx2YWx1ZTpbMCwwLDAsMF19LHtuYW1lOlwic3Ryb2tlV2lkdGhcIixvcDoxMjA4LHR5cGU6XCJudW1iZXJcIix2YWx1ZTowfSx7bmFtZTpcInh1aWRcIixvcDoxNCx0eXBlOltdLHZhbHVlOm51bGx9LHtuYW1lOlwiY2hhcnNldFwiLG9wOjE1LHR5cGU6XCJvZmZzZXRcIix2YWx1ZTowfSx7bmFtZTpcImVuY29kaW5nXCIsb3A6MTYsdHlwZTpcIm9mZnNldFwiLHZhbHVlOjB9LHtuYW1lOlwiY2hhclN0cmluZ3NcIixvcDoxNyx0eXBlOlwib2Zmc2V0XCIsdmFsdWU6MH0se25hbWU6XCJwcml2YXRlXCIsb3A6MTgsdHlwZTpbXCJudW1iZXJcIixcIm9mZnNldFwiXSx2YWx1ZTpbMCwwXX0se25hbWU6XCJyb3NcIixvcDoxMjMwLHR5cGU6W1wiU0lEXCIsXCJTSURcIixcIm51bWJlclwiXX0se25hbWU6XCJjaWRGb250VmVyc2lvblwiLG9wOjEyMzEsdHlwZTpcIm51bWJlclwiLHZhbHVlOjB9LHtuYW1lOlwiY2lkRm9udFJldmlzaW9uXCIsb3A6MTIzMix0eXBlOlwibnVtYmVyXCIsdmFsdWU6MH0se25hbWU6XCJjaWRGb250VHlwZVwiLG9wOjEyMzMsdHlwZTpcIm51bWJlclwiLHZhbHVlOjB9LHtuYW1lOlwiY2lkQ291bnRcIixvcDoxMjM0LHR5cGU6XCJudW1iZXJcIix2YWx1ZTo4NzIwfSx7bmFtZTpcInVpZEJhc2VcIixvcDoxMjM1LHR5cGU6XCJudW1iZXJcIn0se25hbWU6XCJmZEFycmF5XCIsb3A6MTIzNix0eXBlOlwib2Zmc2V0XCJ9LHtuYW1lOlwiZmRTZWxlY3RcIixvcDoxMjM3LHR5cGU6XCJvZmZzZXRcIn0se25hbWU6XCJmb250TmFtZVwiLG9wOjEyMzgsdHlwZTpcIlNJRFwifV0sUGU9W3tuYW1lOlwic3VicnNcIixvcDoxOSx0eXBlOlwib2Zmc2V0XCIsdmFsdWU6MH0se25hbWU6XCJkZWZhdWx0V2lkdGhYXCIsb3A6MjAsdHlwZTpcIm51bWJlclwiLHZhbHVlOjB9LHtuYW1lOlwibm9taW5hbFdpZHRoWFwiLG9wOjIxLHR5cGU6XCJudW1iZXJcIix2YWx1ZTowfV07ZnVuY3Rpb24ga2UoZSx0LHIsaSl7cmV0dXJuIFJlKEVlKGUsdCxyKSxQZSxpKX1mdW5jdGlvbiBJZShlLHQscixpKXtmb3IodmFyIG4sbyxhPVtdLHM9MDtzPHIubGVuZ3RoO3MrPTEpe3ZhciBoPW5ldyBEYXRhVmlldyhuZXcgVWludDhBcnJheShyW3NdKS5idWZmZXIpLGw9KG89aSxSZShFZShuPWgsMCxuLmJ5dGVMZW5ndGgpLExlLG8pKTtsLl9zdWJycz1bXSxsLl9zdWJyc0JpYXM9MDt2YXIgdT1sLnByaXZhdGVbMF0sYz1sLnByaXZhdGVbMV07aWYoMCE9PXUmJjAhPT1jKXt2YXIgcD1rZShlLGMrdCx1LGkpO2lmKGwuX2RlZmF1bHRXaWR0aFg9cC5kZWZhdWx0V2lkdGhYLGwuX25vbWluYWxXaWR0aFg9cC5ub21pbmFsV2lkdGhYLDAhPT1wLnN1YnJzKXt2YXIgZD1UZShlLGMrcC5zdWJycyt0KTtsLl9zdWJycz1kLm9iamVjdHMsbC5fc3VicnNCaWFzPVNlKGwuX3N1YnJzKX1sLl9wcml2YXRlRGljdD1wfWEucHVzaChsKX1yZXR1cm4gYX1mdW5jdGlvbiBEZSh2LGcsZSl7dmFyIHksYixfLHgsdyxTLHQsVCxNPW5ldyBVLEU9W10sQz0wLFI9ITEsTD0hMSxQPTAsaz0wO2lmKHYuaXNDSURGb250KXt2YXIgcj12LnRhYmxlcy5jZmYudG9wRGljdC5fZmRTZWxlY3RbZy5pbmRleF0saT12LnRhYmxlcy5jZmYudG9wRGljdC5fZmRBcnJheVtyXTt3PWkuX3N1YnJzLFM9aS5fc3VicnNCaWFzLHQ9aS5fZGVmYXVsdFdpZHRoWCxUPWkuX25vbWluYWxXaWR0aFh9ZWxzZSB3PXYudGFibGVzLmNmZi50b3BEaWN0Ll9zdWJycyxTPXYudGFibGVzLmNmZi50b3BEaWN0Ll9zdWJyc0JpYXMsdD12LnRhYmxlcy5jZmYudG9wRGljdC5fZGVmYXVsdFdpZHRoWCxUPXYudGFibGVzLmNmZi50b3BEaWN0Ll9ub21pbmFsV2lkdGhYO3ZhciBJPXQ7ZnVuY3Rpb24gRChlLHQpe0wmJk0uY2xvc2VQYXRoKCksTS5tb3ZlVG8oZSx0KSxMPSEwfWZ1bmN0aW9uIEEoKXtFLmxlbmd0aCUyIT0wJiYhUiYmKEk9RS5zaGlmdCgpK1QpLEMrPUUubGVuZ3RoPj4xLEUubGVuZ3RoPTAsUj0hMH1yZXR1cm4gZnVuY3Rpb24gZSh0KXtmb3IodmFyIHIsaSxuLG8sYSxzLGgsbCx1LGMscCxkLGY9MDtmPHQubGVuZ3RoOyl7dmFyIG09dFtmXTtzd2l0Y2goZis9MSxtKXtjYXNlIDE6Y2FzZSAzOkEoKTticmVhaztjYXNlIDQ6MTxFLmxlbmd0aCYmIVImJihJPUUuc2hpZnQoKStULFI9ITApLGsrPUUucG9wKCksRChQLGspO2JyZWFrO2Nhc2UgNTpmb3IoOzA8RS5sZW5ndGg7KVArPUUuc2hpZnQoKSxrKz1FLnNoaWZ0KCksTS5saW5lVG8oUCxrKTticmVhaztjYXNlIDY6Zm9yKDswPEUubGVuZ3RoJiYoUCs9RS5zaGlmdCgpLE0ubGluZVRvKFAsayksMCE9PUUubGVuZ3RoKTspays9RS5zaGlmdCgpLE0ubGluZVRvKFAsayk7YnJlYWs7Y2FzZSA3OmZvcig7MDxFLmxlbmd0aCYmKGsrPUUuc2hpZnQoKSxNLmxpbmVUbyhQLGspLDAhPT1FLmxlbmd0aCk7KVArPUUuc2hpZnQoKSxNLmxpbmVUbyhQLGspO2JyZWFrO2Nhc2UgODpmb3IoOzA8RS5sZW5ndGg7KXk9UCtFLnNoaWZ0KCksYj1rK0Uuc2hpZnQoKSxfPXkrRS5zaGlmdCgpLHg9YitFLnNoaWZ0KCksUD1fK0Uuc2hpZnQoKSxrPXgrRS5zaGlmdCgpLE0uY3VydmVUbyh5LGIsXyx4LFAsayk7YnJlYWs7Y2FzZSAxMDphPUUucG9wKCkrUywocz13W2FdKSYmZShzKTticmVhaztjYXNlIDExOnJldHVybjtjYXNlIDEyOnN3aXRjaChtPXRbZl0sZis9MSxtKXtjYXNlIDM1Onk9UCtFLnNoaWZ0KCksYj1rK0Uuc2hpZnQoKSxfPXkrRS5zaGlmdCgpLHg9YitFLnNoaWZ0KCksaD1fK0Uuc2hpZnQoKSxsPXgrRS5zaGlmdCgpLHU9aCtFLnNoaWZ0KCksYz1sK0Uuc2hpZnQoKSxwPXUrRS5zaGlmdCgpLGQ9YytFLnNoaWZ0KCksUD1wK0Uuc2hpZnQoKSxrPWQrRS5zaGlmdCgpLEUuc2hpZnQoKSxNLmN1cnZlVG8oeSxiLF8seCxoLGwpLE0uY3VydmVUbyh1LGMscCxkLFAsayk7YnJlYWs7Y2FzZSAzNDp5PVArRS5zaGlmdCgpLGI9ayxfPXkrRS5zaGlmdCgpLHg9YitFLnNoaWZ0KCksaD1fK0Uuc2hpZnQoKSxsPXgsdT1oK0Uuc2hpZnQoKSxjPXgscD11K0Uuc2hpZnQoKSxkPWssUD1wK0Uuc2hpZnQoKSxNLmN1cnZlVG8oeSxiLF8seCxoLGwpLE0uY3VydmVUbyh1LGMscCxkLFAsayk7YnJlYWs7Y2FzZSAzNjp5PVArRS5zaGlmdCgpLGI9aytFLnNoaWZ0KCksXz15K0Uuc2hpZnQoKSx4PWIrRS5zaGlmdCgpLGg9XytFLnNoaWZ0KCksbD14LHU9aCtFLnNoaWZ0KCksYz14LHA9dStFLnNoaWZ0KCksZD1jK0Uuc2hpZnQoKSxQPXArRS5zaGlmdCgpLE0uY3VydmVUbyh5LGIsXyx4LGgsbCksTS5jdXJ2ZVRvKHUsYyxwLGQsUCxrKTticmVhaztjYXNlIDM3Onk9UCtFLnNoaWZ0KCksYj1rK0Uuc2hpZnQoKSxfPXkrRS5zaGlmdCgpLHg9YitFLnNoaWZ0KCksaD1fK0Uuc2hpZnQoKSxsPXgrRS5zaGlmdCgpLHU9aCtFLnNoaWZ0KCksYz1sK0Uuc2hpZnQoKSxwPXUrRS5zaGlmdCgpLGQ9YytFLnNoaWZ0KCksTWF0aC5hYnMocC1QKT5NYXRoLmFicyhkLWspP1A9cCtFLnNoaWZ0KCk6az1kK0Uuc2hpZnQoKSxNLmN1cnZlVG8oeSxiLF8seCxoLGwpLE0uY3VydmVUbyh1LGMscCxkLFAsayk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmxvZyhcIkdseXBoIFwiK2cuaW5kZXgrXCI6IHVua25vd24gb3BlcmF0b3IgMTIwMFwiK20pLEUubGVuZ3RoPTB9YnJlYWs7Y2FzZSAxNDowPEUubGVuZ3RoJiYhUiYmKEk9RS5zaGlmdCgpK1QsUj0hMCksTCYmKE0uY2xvc2VQYXRoKCksTD0hMSk7YnJlYWs7Y2FzZSAxODpBKCk7YnJlYWs7Y2FzZSAxOTpjYXNlIDIwOkEoKSxmKz1DKzc+PjM7YnJlYWs7Y2FzZSAyMToyPEUubGVuZ3RoJiYhUiYmKEk9RS5zaGlmdCgpK1QsUj0hMCksays9RS5wb3AoKSxEKFArPUUucG9wKCksayk7YnJlYWs7Y2FzZSAyMjoxPEUubGVuZ3RoJiYhUiYmKEk9RS5zaGlmdCgpK1QsUj0hMCksRChQKz1FLnBvcCgpLGspO2JyZWFrO2Nhc2UgMjM6QSgpO2JyZWFrO2Nhc2UgMjQ6Zm9yKDsyPEUubGVuZ3RoOyl5PVArRS5zaGlmdCgpLGI9aytFLnNoaWZ0KCksXz15K0Uuc2hpZnQoKSx4PWIrRS5zaGlmdCgpLFA9XytFLnNoaWZ0KCksaz14K0Uuc2hpZnQoKSxNLmN1cnZlVG8oeSxiLF8seCxQLGspO1ArPUUuc2hpZnQoKSxrKz1FLnNoaWZ0KCksTS5saW5lVG8oUCxrKTticmVhaztjYXNlIDI1OmZvcig7NjxFLmxlbmd0aDspUCs9RS5zaGlmdCgpLGsrPUUuc2hpZnQoKSxNLmxpbmVUbyhQLGspO3k9UCtFLnNoaWZ0KCksYj1rK0Uuc2hpZnQoKSxfPXkrRS5zaGlmdCgpLHg9YitFLnNoaWZ0KCksUD1fK0Uuc2hpZnQoKSxrPXgrRS5zaGlmdCgpLE0uY3VydmVUbyh5LGIsXyx4LFAsayk7YnJlYWs7Y2FzZSAyNjpmb3IoRS5sZW5ndGglMiYmKFArPUUuc2hpZnQoKSk7MDxFLmxlbmd0aDspeT1QLGI9aytFLnNoaWZ0KCksXz15K0Uuc2hpZnQoKSx4PWIrRS5zaGlmdCgpLFA9XyxrPXgrRS5zaGlmdCgpLE0uY3VydmVUbyh5LGIsXyx4LFAsayk7YnJlYWs7Y2FzZSAyNzpmb3IoRS5sZW5ndGglMiYmKGsrPUUuc2hpZnQoKSk7MDxFLmxlbmd0aDspeT1QK0Uuc2hpZnQoKSxiPWssXz15K0Uuc2hpZnQoKSx4PWIrRS5zaGlmdCgpLFA9XytFLnNoaWZ0KCksaz14LE0uY3VydmVUbyh5LGIsXyx4LFAsayk7YnJlYWs7Y2FzZSAyODpyPXRbZl0saT10W2YrMV0sRS5wdXNoKChyPDwyNHxpPDwxNik+PjE2KSxmKz0yO2JyZWFrO2Nhc2UgMjk6YT1FLnBvcCgpK3YuZ3N1YnJzQmlhcywocz12LmdzdWJyc1thXSkmJmUocyk7YnJlYWs7Y2FzZSAzMDpmb3IoOzA8RS5sZW5ndGgmJih5PVAsYj1rK0Uuc2hpZnQoKSxfPXkrRS5zaGlmdCgpLHg9YitFLnNoaWZ0KCksUD1fK0Uuc2hpZnQoKSxrPXgrKDE9PT1FLmxlbmd0aD9FLnNoaWZ0KCk6MCksTS5jdXJ2ZVRvKHksYixfLHgsUCxrKSwwIT09RS5sZW5ndGgpOyl5PVArRS5zaGlmdCgpLGI9ayxfPXkrRS5zaGlmdCgpLHg9YitFLnNoaWZ0KCksaz14K0Uuc2hpZnQoKSxQPV8rKDE9PT1FLmxlbmd0aD9FLnNoaWZ0KCk6MCksTS5jdXJ2ZVRvKHksYixfLHgsUCxrKTticmVhaztjYXNlIDMxOmZvcig7MDxFLmxlbmd0aCYmKHk9UCtFLnNoaWZ0KCksYj1rLF89eStFLnNoaWZ0KCkseD1iK0Uuc2hpZnQoKSxrPXgrRS5zaGlmdCgpLFA9XysoMT09PUUubGVuZ3RoP0Uuc2hpZnQoKTowKSxNLmN1cnZlVG8oeSxiLF8seCxQLGspLDAhPT1FLmxlbmd0aCk7KXk9UCxiPWsrRS5zaGlmdCgpLF89eStFLnNoaWZ0KCkseD1iK0Uuc2hpZnQoKSxQPV8rRS5zaGlmdCgpLGs9eCsoMT09PUUubGVuZ3RoP0Uuc2hpZnQoKTowKSxNLmN1cnZlVG8oeSxiLF8seCxQLGspO2JyZWFrO2RlZmF1bHQ6bTwzMj9jb25zb2xlLmxvZyhcIkdseXBoIFwiK2cuaW5kZXgrXCI6IHVua25vd24gb3BlcmF0b3IgXCIrbSk6bTwyNDc/RS5wdXNoKG0tMTM5KTptPDI1MT8ocj10W2ZdLGYrPTEsRS5wdXNoKDI1NioobS0yNDcpK3IrMTA4KSk6bTwyNTU/KHI9dFtmXSxmKz0xLEUucHVzaCgyNTYqLShtLTI1MSktci0xMDgpKToocj10W2ZdLGk9dFtmKzFdLG49dFtmKzJdLG89dFtmKzNdLGYrPTQsRS5wdXNoKChyPDwyNHxpPDwxNnxuPDw4fG8pLzY1NTM2KSl9fX0oZSksZy5hZHZhbmNlV2lkdGg9SSxNfWZ1bmN0aW9uIEFlKGUsdCl7dmFyIHIsaT1sZS5pbmRleE9mKGUpO3JldHVybiAwPD1pJiYocj1pKSwwPD0oaT10LmluZGV4T2YoZSkpP3I9aStsZS5sZW5ndGg6KHI9bGUubGVuZ3RoK3QubGVuZ3RoLHQucHVzaChlKSkscn1mdW5jdGlvbiBVZShlLHQscil7Zm9yKHZhciBpPXt9LG49MDtuPGUubGVuZ3RoO24rPTEpe3ZhciBvPWVbbl0sYT10W28ubmFtZV07dm9pZCAwPT09YXx8d2UoYSxvLnZhbHVlKXx8KFwiU0lEXCI9PT1vLnR5cGUmJihhPUFlKGEscikpLGlbby5vcF09e25hbWU6by5uYW1lLHR5cGU6by50eXBlLHZhbHVlOmF9KX1yZXR1cm4gaX1mdW5jdGlvbiBPZShlLHQpe3ZhciByPW5ldyAkLlJlY29yZChcIlRvcCBESUNUXCIsW3tuYW1lOlwiZGljdFwiLHR5cGU6XCJESUNUXCIsdmFsdWU6e319XSk7cmV0dXJuIHIuZGljdD1VZShMZSxlLHQpLHJ9ZnVuY3Rpb24gQmUoZSl7dmFyIHQ9bmV3ICQuUmVjb3JkKFwiVG9wIERJQ1QgSU5ERVhcIixbe25hbWU6XCJ0b3BEaWN0c1wiLHR5cGU6XCJJTkRFWFwiLHZhbHVlOltdfV0pO3JldHVybiB0LnRvcERpY3RzPVt7bmFtZTpcInRvcERpY3RfMFwiLHR5cGU6XCJUQUJMRVwiLHZhbHVlOmV9XSx0fWZ1bmN0aW9uIEZlKGUpe3ZhciB0PVtdLHI9ZS5wYXRoO3QucHVzaCh7bmFtZTpcIndpZHRoXCIsdHlwZTpcIk5VTUJFUlwiLHZhbHVlOmUuYWR2YW5jZVdpZHRofSk7Zm9yKHZhciBpPTAsbj0wLG89MDtvPHIuY29tbWFuZHMubGVuZ3RoO28rPTEpe3ZhciBhPXZvaWQgMCxzPXZvaWQgMCxoPXIuY29tbWFuZHNbb107aWYoXCJRXCI9PT1oLnR5cGUpe2g9e3R5cGU6XCJDXCIseDpoLngseTpoLnkseDE6MS8zKmkrMi8zKmgueDEseTE6MS8zKm4rMi8zKmgueTEseDI6MS8zKmgueCsyLzMqaC54MSx5MjoxLzMqaC55KzIvMypoLnkxfX1pZihcIk1cIj09PWgudHlwZSlhPU1hdGgucm91bmQoaC54LWkpLHM9TWF0aC5yb3VuZChoLnktbiksdC5wdXNoKHtuYW1lOlwiZHhcIix0eXBlOlwiTlVNQkVSXCIsdmFsdWU6YX0pLHQucHVzaCh7bmFtZTpcImR5XCIsdHlwZTpcIk5VTUJFUlwiLHZhbHVlOnN9KSx0LnB1c2goe25hbWU6XCJybW92ZXRvXCIsdHlwZTpcIk9QXCIsdmFsdWU6MjF9KSxpPU1hdGgucm91bmQoaC54KSxuPU1hdGgucm91bmQoaC55KTtlbHNlIGlmKFwiTFwiPT09aC50eXBlKWE9TWF0aC5yb3VuZChoLngtaSkscz1NYXRoLnJvdW5kKGgueS1uKSx0LnB1c2goe25hbWU6XCJkeFwiLHR5cGU6XCJOVU1CRVJcIix2YWx1ZTphfSksdC5wdXNoKHtuYW1lOlwiZHlcIix0eXBlOlwiTlVNQkVSXCIsdmFsdWU6c30pLHQucHVzaCh7bmFtZTpcInJsaW5ldG9cIix0eXBlOlwiT1BcIix2YWx1ZTo1fSksaT1NYXRoLnJvdW5kKGgueCksbj1NYXRoLnJvdW5kKGgueSk7ZWxzZSBpZihcIkNcIj09PWgudHlwZSl7dmFyIGw9TWF0aC5yb3VuZChoLngxLWkpLHU9TWF0aC5yb3VuZChoLnkxLW4pLGM9TWF0aC5yb3VuZChoLngyLWgueDEpLHA9TWF0aC5yb3VuZChoLnkyLWgueTEpO2E9TWF0aC5yb3VuZChoLngtaC54Mikscz1NYXRoLnJvdW5kKGgueS1oLnkyKSx0LnB1c2goe25hbWU6XCJkeDFcIix0eXBlOlwiTlVNQkVSXCIsdmFsdWU6bH0pLHQucHVzaCh7bmFtZTpcImR5MVwiLHR5cGU6XCJOVU1CRVJcIix2YWx1ZTp1fSksdC5wdXNoKHtuYW1lOlwiZHgyXCIsdHlwZTpcIk5VTUJFUlwiLHZhbHVlOmN9KSx0LnB1c2goe25hbWU6XCJkeTJcIix0eXBlOlwiTlVNQkVSXCIsdmFsdWU6cH0pLHQucHVzaCh7bmFtZTpcImR4XCIsdHlwZTpcIk5VTUJFUlwiLHZhbHVlOmF9KSx0LnB1c2goe25hbWU6XCJkeVwiLHR5cGU6XCJOVU1CRVJcIix2YWx1ZTpzfSksdC5wdXNoKHtuYW1lOlwicnJjdXJ2ZXRvXCIsdHlwZTpcIk9QXCIsdmFsdWU6OH0pLGk9TWF0aC5yb3VuZChoLngpLG49TWF0aC5yb3VuZChoLnkpfX1yZXR1cm4gdC5wdXNoKHtuYW1lOlwiZW5kY2hhclwiLHR5cGU6XCJPUFwiLHZhbHVlOjE0fSksdH12YXIgR2U9e3BhcnNlOmZ1bmN0aW9uKGUsdCxyKXtyLnRhYmxlcy5jZmY9e307dmFyIGksbixvLGE9VGUoZSxUZShlLChpPWUsbj10LChvPXt9KS5mb3JtYXRNYWpvcj1zZS5nZXRDYXJkOChpLG4pLG8uZm9ybWF0TWlub3I9c2UuZ2V0Q2FyZDgoaSxuKzEpLG8uc2l6ZT1zZS5nZXRDYXJkOChpLG4rMiksby5vZmZzZXRTaXplPXNlLmdldENhcmQ4KGksbiszKSxvLnN0YXJ0T2Zmc2V0PW4sby5lbmRPZmZzZXQ9bis0LG8pLmVuZE9mZnNldCxzZS5ieXRlc1RvU3RyaW5nKS5lbmRPZmZzZXQpLHM9VGUoZSxhLmVuZE9mZnNldCxzZS5ieXRlc1RvU3RyaW5nKSxoPVRlKGUscy5lbmRPZmZzZXQpO3IuZ3N1YnJzPWgub2JqZWN0cyxyLmdzdWJyc0JpYXM9U2Uoci5nc3VicnMpO3ZhciBsPUllKGUsdCxhLm9iamVjdHMscy5vYmplY3RzKTtpZigxIT09bC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ0ZGIHRhYmxlIGhhcyB0b28gbWFueSBmb250cyBpbiAnRm9udFNldCcgLSBjb3VudCBvZiBmb250cyBOYW1lSW5kZXgubGVuZ3RoID0gXCIrbC5sZW5ndGgpO3ZhciB1PWxbMF07aWYoKHIudGFibGVzLmNmZi50b3BEaWN0PXUpLl9wcml2YXRlRGljdCYmKHIuZGVmYXVsdFdpZHRoWD11Ll9wcml2YXRlRGljdC5kZWZhdWx0V2lkdGhYLHIubm9taW5hbFdpZHRoWD11Ll9wcml2YXRlRGljdC5ub21pbmFsV2lkdGhYKSx2b2lkIDAhPT11LnJvc1swXSYmdm9pZCAwIT09dS5yb3NbMV0mJihyLmlzQ0lERm9udD0hMCksci5pc0NJREZvbnQpe3ZhciBjPXUuZmRBcnJheSxwPXUuZmRTZWxlY3Q7aWYoMD09PWN8fDA9PT1wKXRocm93IG5ldyBFcnJvcihcIkZvbnQgaXMgbWFya2VkIGFzIGEgQ0lEIGZvbnQsIGJ1dCBGREFycmF5IGFuZC9vciBGRFNlbGVjdCBpbmZvcm1hdGlvbiBpcyBtaXNzaW5nXCIpO3ZhciBkPUllKGUsdCxUZShlLGMrPXQpLm9iamVjdHMscy5vYmplY3RzKTt1Ll9mZEFycmF5PWQscCs9dCx1Ll9mZFNlbGVjdD1mdW5jdGlvbihlLHQscixpKXt2YXIgbixvPVtdLGE9bmV3IHNlLlBhcnNlcihlLHQpLHM9YS5wYXJzZUNhcmQ4KCk7aWYoMD09PXMpZm9yKHZhciBoPTA7aDxyO2grKyl7aWYoaTw9KG49YS5wYXJzZUNhcmQ4KCkpKXRocm93IG5ldyBFcnJvcihcIkNGRiB0YWJsZSBDSUQgRm9udCBGRFNlbGVjdCBoYXMgYmFkIEZEIGluZGV4IHZhbHVlIFwiK24rXCIgKEZEIGNvdW50IFwiK2krXCIpXCIpO28ucHVzaChuKX1lbHNle2lmKDMhPT1zKXRocm93IG5ldyBFcnJvcihcIkNGRiBUYWJsZSBDSUQgRm9udCBGRFNlbGVjdCB0YWJsZSBoYXMgdW5zdXBwb3J0ZWQgZm9ybWF0IFwiK3MpO3ZhciBsLHU9YS5wYXJzZUNhcmQxNigpLGM9YS5wYXJzZUNhcmQxNigpO2lmKDAhPT1jKXRocm93IG5ldyBFcnJvcihcIkNGRiBUYWJsZSBDSUQgRm9udCBGRFNlbGVjdCBmb3JtYXQgMyByYW5nZSBoYXMgYmFkIGluaXRpYWwgR0lEIFwiK2MpO2Zvcih2YXIgcD0wO3A8dTtwKyspe2lmKG49YS5wYXJzZUNhcmQ4KCksbD1hLnBhcnNlQ2FyZDE2KCksaTw9bil0aHJvdyBuZXcgRXJyb3IoXCJDRkYgdGFibGUgQ0lEIEZvbnQgRkRTZWxlY3QgaGFzIGJhZCBGRCBpbmRleCB2YWx1ZSBcIituK1wiIChGRCBjb3VudCBcIitpK1wiKVwiKTtpZihyPGwpdGhyb3cgbmV3IEVycm9yKFwiQ0ZGIFRhYmxlIENJRCBGb250IEZEU2VsZWN0IGZvcm1hdCAzIHJhbmdlIGhhcyBiYWQgR0lEIFwiK2wpO2Zvcig7YzxsO2MrKylvLnB1c2gobik7Yz1sfWlmKGwhPT1yKXRocm93IG5ldyBFcnJvcihcIkNGRiBUYWJsZSBDSUQgRm9udCBGRFNlbGVjdCBmb3JtYXQgMyByYW5nZSBoYXMgYmFkIGZpbmFsIEdJRCBcIitsKX1yZXR1cm4gb30oZSxwLHIubnVtR2x5cGhzLGQubGVuZ3RoKX12YXIgZj10K3UucHJpdmF0ZVsxXSxtPWtlKGUsZix1LnByaXZhdGVbMF0scy5vYmplY3RzKTtpZihyLmRlZmF1bHRXaWR0aFg9bS5kZWZhdWx0V2lkdGhYLHIubm9taW5hbFdpZHRoWD1tLm5vbWluYWxXaWR0aFgsMCE9PW0uc3VicnMpe3ZhciB2PVRlKGUsZittLnN1YnJzKTtyLnN1YnJzPXYub2JqZWN0cyxyLnN1YnJzQmlhcz1TZShyLnN1YnJzKX1lbHNlIHIuc3VicnM9W10sci5zdWJyc0JpYXM9MDt2YXIgZz1UZShlLHQrdS5jaGFyU3RyaW5ncyk7ci5uR2x5cGhzPWcub2JqZWN0cy5sZW5ndGg7dmFyIHk9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbyxhPW5ldyBzZS5QYXJzZXIoZSx0KTtyLT0xO3ZhciBzPVtcIi5ub3RkZWZcIl0saD1hLnBhcnNlQ2FyZDgoKTtpZigwPT09aClmb3IodmFyIGw9MDtsPHI7bCs9MSluPWEucGFyc2VTSUQoKSxzLnB1c2goQ2UoaSxuKSk7ZWxzZSBpZigxPT09aClmb3IoO3MubGVuZ3RoPD1yOyl7bj1hLnBhcnNlU0lEKCksbz1hLnBhcnNlQ2FyZDgoKTtmb3IodmFyIHU9MDt1PD1vO3UrPTEpcy5wdXNoKENlKGksbikpLG4rPTF9ZWxzZXtpZigyIT09aCl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNoYXJzZXQgZm9ybWF0IFwiK2gpO2Zvcig7cy5sZW5ndGg8PXI7KXtuPWEucGFyc2VTSUQoKSxvPWEucGFyc2VDYXJkMTYoKTtmb3IodmFyIGM9MDtjPD1vO2MrPTEpcy5wdXNoKENlKGksbikpLG4rPTF9fXJldHVybiBzfShlLHQrdS5jaGFyc2V0LHIubkdseXBocyxzLm9iamVjdHMpOzA9PT11LmVuY29kaW5nP3IuY2ZmRW5jb2Rpbmc9bmV3IG1lKHVlLHkpOjE9PT11LmVuY29kaW5nP3IuY2ZmRW5jb2Rpbmc9bmV3IG1lKGNlLHkpOnIuY2ZmRW5jb2Rpbmc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49e30sbz1uZXcgc2UuUGFyc2VyKGUsdCksYT1vLnBhcnNlQ2FyZDgoKTtpZigwPT09YSlmb3IodmFyIHM9by5wYXJzZUNhcmQ4KCksaD0wO2g8cztoKz0xKW5baT1vLnBhcnNlQ2FyZDgoKV09aDtlbHNle2lmKDEhPT1hKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZW5jb2RpbmcgZm9ybWF0IFwiK2EpO3ZhciBsPW8ucGFyc2VDYXJkOCgpO2k9MTtmb3IodmFyIHU9MDt1PGw7dSs9MSlmb3IodmFyIGM9by5wYXJzZUNhcmQ4KCkscD1vLnBhcnNlQ2FyZDgoKSxkPWM7ZDw9YytwO2QrPTEpbltkXT1pLGkrPTF9cmV0dXJuIG5ldyBtZShuLHIpfShlLHQrdS5lbmNvZGluZyx5KSxyLmVuY29kaW5nPXIuZW5jb2Rpbmd8fHIuY2ZmRW5jb2Rpbmcsci5nbHlwaHM9bmV3IHhlLkdseXBoU2V0KHIpO2Zvcih2YXIgYj0wO2I8ci5uR2x5cGhzO2IrPTEpe3ZhciBfPWcub2JqZWN0c1tiXTtyLmdseXBocy5wdXNoKGIseGUuY2ZmR2x5cGhMb2FkZXIocixiLERlLF8pKX19LG1ha2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1uZXcgJC5UYWJsZShcIkNGRiBcIixbe25hbWU6XCJoZWFkZXJcIix0eXBlOlwiUkVDT1JEXCJ9LHtuYW1lOlwibmFtZUluZGV4XCIsdHlwZTpcIlJFQ09SRFwifSx7bmFtZTpcInRvcERpY3RJbmRleFwiLHR5cGU6XCJSRUNPUkRcIn0se25hbWU6XCJzdHJpbmdJbmRleFwiLHR5cGU6XCJSRUNPUkRcIn0se25hbWU6XCJnbG9iYWxTdWJySW5kZXhcIix0eXBlOlwiUkVDT1JEXCJ9LHtuYW1lOlwiY2hhcnNldHNcIix0eXBlOlwiUkVDT1JEXCJ9LHtuYW1lOlwiY2hhclN0cmluZ3NJbmRleFwiLHR5cGU6XCJSRUNPUkRcIn0se25hbWU6XCJwcml2YXRlRGljdFwiLHR5cGU6XCJSRUNPUkRcIn1dKSxuPTEvdC51bml0c1BlckVtLG89e3ZlcnNpb246dC52ZXJzaW9uLGZ1bGxOYW1lOnQuZnVsbE5hbWUsZmFtaWx5TmFtZTp0LmZhbWlseU5hbWUsd2VpZ2h0OnQud2VpZ2h0TmFtZSxmb250QkJveDp0LmZvbnRCQm94fHxbMCwwLDAsMF0sZm9udE1hdHJpeDpbbiwwLDAsbiwwLDBdLGNoYXJzZXQ6OTk5LGVuY29kaW5nOjAsY2hhclN0cmluZ3M6OTk5LHByaXZhdGU6WzAsOTk5XX0sYT1bXSxzPTE7czxlLmxlbmd0aDtzKz0xKXI9ZS5nZXQocyksYS5wdXNoKHIubmFtZSk7dmFyIGg9W107aS5oZWFkZXI9bmV3ICQuUmVjb3JkKFwiSGVhZGVyXCIsW3tuYW1lOlwibWFqb3JcIix0eXBlOlwiQ2FyZDhcIix2YWx1ZToxfSx7bmFtZTpcIm1pbm9yXCIsdHlwZTpcIkNhcmQ4XCIsdmFsdWU6MH0se25hbWU6XCJoZHJTaXplXCIsdHlwZTpcIkNhcmQ4XCIsdmFsdWU6NH0se25hbWU6XCJtYWpvclwiLHR5cGU6XCJDYXJkOFwiLHZhbHVlOjF9XSksaS5uYW1lSW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3ICQuUmVjb3JkKFwiTmFtZSBJTkRFWFwiLFt7bmFtZTpcIm5hbWVzXCIsdHlwZTpcIklOREVYXCIsdmFsdWU6W119XSk7dC5uYW1lcz1bXTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrPTEpdC5uYW1lcy5wdXNoKHtuYW1lOlwibmFtZV9cIityLHR5cGU6XCJOQU1FXCIsdmFsdWU6ZVtyXX0pO3JldHVybiB0fShbdC5wb3N0U2NyaXB0TmFtZV0pO3ZhciBsLHUsYyxwPU9lKG8saCk7aS50b3BEaWN0SW5kZXg9QmUocCksaS5nbG9iYWxTdWJySW5kZXg9bmV3ICQuUmVjb3JkKFwiR2xvYmFsIFN1YnIgSU5ERVhcIixbe25hbWU6XCJzdWJyc1wiLHR5cGU6XCJJTkRFWFwiLHZhbHVlOltdfV0pLGkuY2hhcnNldHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9bmV3ICQuUmVjb3JkKFwiQ2hhcnNldHNcIixbe25hbWU6XCJmb3JtYXRcIix0eXBlOlwiQ2FyZDhcIix2YWx1ZTowfV0pLGk9MDtpPGUubGVuZ3RoO2krPTEpe3ZhciBuPUFlKGVbaV0sdCk7ci5maWVsZHMucHVzaCh7bmFtZTpcImdseXBoX1wiK2ksdHlwZTpcIlNJRFwiLHZhbHVlOm59KX1yZXR1cm4gcn0oYSxoKSxpLmNoYXJTdHJpbmdzSW5kZXg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyAkLlJlY29yZChcIkNoYXJTdHJpbmdzIElOREVYXCIsW3tuYW1lOlwiY2hhclN0cmluZ3NcIix0eXBlOlwiSU5ERVhcIix2YWx1ZTpbXX1dKSxyPTA7cjxlLmxlbmd0aDtyKz0xKXt2YXIgaT1lLmdldChyKSxuPUZlKGkpO3QuY2hhclN0cmluZ3MucHVzaCh7bmFtZTppLm5hbWUsdHlwZTpcIkNIQVJTVFJJTkdcIix2YWx1ZTpufSl9cmV0dXJuIHR9KGUpLGkucHJpdmF0ZURpY3Q9KGw9e30sdT1oLChjPW5ldyAkLlJlY29yZChcIlByaXZhdGUgRElDVFwiLFt7bmFtZTpcImRpY3RcIix0eXBlOlwiRElDVFwiLHZhbHVlOnt9fV0pKS5kaWN0PVVlKFBlLGwsdSksYyksaS5zdHJpbmdJbmRleD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgJC5SZWNvcmQoXCJTdHJpbmcgSU5ERVhcIixbe25hbWU6XCJzdHJpbmdzXCIsdHlwZTpcIklOREVYXCIsdmFsdWU6W119XSk7dC5zdHJpbmdzPVtdO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cis9MSl0LnN0cmluZ3MucHVzaCh7bmFtZTpcInN0cmluZ19cIityLHR5cGU6XCJTVFJJTkdcIix2YWx1ZTplW3JdfSk7cmV0dXJuIHR9KGgpO3ZhciBkPWkuaGVhZGVyLnNpemVPZigpK2kubmFtZUluZGV4LnNpemVPZigpK2kudG9wRGljdEluZGV4LnNpemVPZigpK2kuc3RyaW5nSW5kZXguc2l6ZU9mKCkraS5nbG9iYWxTdWJySW5kZXguc2l6ZU9mKCk7cmV0dXJuIG8uY2hhcnNldD1kLG8uZW5jb2Rpbmc9MCxvLmNoYXJTdHJpbmdzPW8uY2hhcnNldCtpLmNoYXJzZXRzLnNpemVPZigpLG8ucHJpdmF0ZVsxXT1vLmNoYXJTdHJpbmdzK2kuY2hhclN0cmluZ3NJbmRleC5zaXplT2YoKSxwPU9lKG8saCksaS50b3BEaWN0SW5kZXg9QmUocCksaX19O3ZhciBOZT17cGFyc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxpPW5ldyBzZS5QYXJzZXIoZSx0KTtyZXR1cm4gci52ZXJzaW9uPWkucGFyc2VWZXJzaW9uKCksci5mb250UmV2aXNpb249TWF0aC5yb3VuZCgxZTMqaS5wYXJzZUZpeGVkKCkpLzFlMyxyLmNoZWNrU3VtQWRqdXN0bWVudD1pLnBhcnNlVUxvbmcoKSxyLm1hZ2ljTnVtYmVyPWkucGFyc2VVTG9uZygpLFAuYXJndW1lbnQoMTU5NDgzNDE2NT09PXIubWFnaWNOdW1iZXIsXCJGb250IGhlYWRlciBoYXMgd3JvbmcgbWFnaWMgbnVtYmVyLlwiKSxyLmZsYWdzPWkucGFyc2VVU2hvcnQoKSxyLnVuaXRzUGVyRW09aS5wYXJzZVVTaG9ydCgpLHIuY3JlYXRlZD1pLnBhcnNlTG9uZ0RhdGVUaW1lKCksci5tb2RpZmllZD1pLnBhcnNlTG9uZ0RhdGVUaW1lKCksci54TWluPWkucGFyc2VTaG9ydCgpLHIueU1pbj1pLnBhcnNlU2hvcnQoKSxyLnhNYXg9aS5wYXJzZVNob3J0KCksci55TWF4PWkucGFyc2VTaG9ydCgpLHIubWFjU3R5bGU9aS5wYXJzZVVTaG9ydCgpLHIubG93ZXN0UmVjUFBFTT1pLnBhcnNlVVNob3J0KCksci5mb250RGlyZWN0aW9uSGludD1pLnBhcnNlU2hvcnQoKSxyLmluZGV4VG9Mb2NGb3JtYXQ9aS5wYXJzZVNob3J0KCksci5nbHlwaERhdGFGb3JtYXQ9aS5wYXJzZVNob3J0KCkscn0sbWFrZTpmdW5jdGlvbihlKXt2YXIgdD1NYXRoLnJvdW5kKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzFlMykrMjA4Mjg0NDgwMCxyPXQ7cmV0dXJuIGUuY3JlYXRlZFRpbWVzdGFtcCYmKHI9ZS5jcmVhdGVkVGltZXN0YW1wKzIwODI4NDQ4MDApLG5ldyAkLlRhYmxlKFwiaGVhZFwiLFt7bmFtZTpcInZlcnNpb25cIix0eXBlOlwiRklYRURcIix2YWx1ZTo2NTUzNn0se25hbWU6XCJmb250UmV2aXNpb25cIix0eXBlOlwiRklYRURcIix2YWx1ZTo2NTUzNn0se25hbWU6XCJjaGVja1N1bUFkanVzdG1lbnRcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTowfSx7bmFtZTpcIm1hZ2ljTnVtYmVyXCIsdHlwZTpcIlVMT05HXCIsdmFsdWU6MTU5NDgzNDE2NX0se25hbWU6XCJmbGFnc1wiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInVuaXRzUGVyRW1cIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MWUzfSx7bmFtZTpcImNyZWF0ZWRcIix0eXBlOlwiTE9OR0RBVEVUSU1FXCIsdmFsdWU6cn0se25hbWU6XCJtb2RpZmllZFwiLHR5cGU6XCJMT05HREFURVRJTUVcIix2YWx1ZTp0fSx7bmFtZTpcInhNaW5cIix0eXBlOlwiU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInlNaW5cIix0eXBlOlwiU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInhNYXhcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInlNYXhcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcIm1hY1N0eWxlXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwibG93ZXN0UmVjUFBFTVwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcImZvbnREaXJlY3Rpb25IaW50XCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6Mn0se25hbWU6XCJpbmRleFRvTG9jRm9ybWF0XCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJnbHlwaERhdGFGb3JtYXRcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTowfV0sZSl9fTt2YXIgVmU9e3BhcnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e30saT1uZXcgc2UuUGFyc2VyKGUsdCk7cmV0dXJuIHIudmVyc2lvbj1pLnBhcnNlVmVyc2lvbigpLHIuYXNjZW5kZXI9aS5wYXJzZVNob3J0KCksci5kZXNjZW5kZXI9aS5wYXJzZVNob3J0KCksci5saW5lR2FwPWkucGFyc2VTaG9ydCgpLHIuYWR2YW5jZVdpZHRoTWF4PWkucGFyc2VVU2hvcnQoKSxyLm1pbkxlZnRTaWRlQmVhcmluZz1pLnBhcnNlU2hvcnQoKSxyLm1pblJpZ2h0U2lkZUJlYXJpbmc9aS5wYXJzZVNob3J0KCksci54TWF4RXh0ZW50PWkucGFyc2VTaG9ydCgpLHIuY2FyZXRTbG9wZVJpc2U9aS5wYXJzZVNob3J0KCksci5jYXJldFNsb3BlUnVuPWkucGFyc2VTaG9ydCgpLHIuY2FyZXRPZmZzZXQ9aS5wYXJzZVNob3J0KCksaS5yZWxhdGl2ZU9mZnNldCs9OCxyLm1ldHJpY0RhdGFGb3JtYXQ9aS5wYXJzZVNob3J0KCksci5udW1iZXJPZkhNZXRyaWNzPWkucGFyc2VVU2hvcnQoKSxyfSxtYWtlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgJC5UYWJsZShcImhoZWFcIixbe25hbWU6XCJ2ZXJzaW9uXCIsdHlwZTpcIkZJWEVEXCIsdmFsdWU6NjU1MzZ9LHtuYW1lOlwiYXNjZW5kZXJcIix0eXBlOlwiRldPUkRcIix2YWx1ZTowfSx7bmFtZTpcImRlc2NlbmRlclwiLHR5cGU6XCJGV09SRFwiLHZhbHVlOjB9LHtuYW1lOlwibGluZUdhcFwiLHR5cGU6XCJGV09SRFwiLHZhbHVlOjB9LHtuYW1lOlwiYWR2YW5jZVdpZHRoTWF4XCIsdHlwZTpcIlVGV09SRFwiLHZhbHVlOjB9LHtuYW1lOlwibWluTGVmdFNpZGVCZWFyaW5nXCIsdHlwZTpcIkZXT1JEXCIsdmFsdWU6MH0se25hbWU6XCJtaW5SaWdodFNpZGVCZWFyaW5nXCIsdHlwZTpcIkZXT1JEXCIsdmFsdWU6MH0se25hbWU6XCJ4TWF4RXh0ZW50XCIsdHlwZTpcIkZXT1JEXCIsdmFsdWU6MH0se25hbWU6XCJjYXJldFNsb3BlUmlzZVwiLHR5cGU6XCJTSE9SVFwiLHZhbHVlOjF9LHtuYW1lOlwiY2FyZXRTbG9wZVJ1blwiLHR5cGU6XCJTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwiY2FyZXRPZmZzZXRcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInJlc2VydmVkMVwiLHR5cGU6XCJTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwicmVzZXJ2ZWQyXCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJyZXNlcnZlZDNcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInJlc2VydmVkNFwiLHR5cGU6XCJTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwibWV0cmljRGF0YUZvcm1hdFwiLHR5cGU6XCJTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwibnVtYmVyT2ZITWV0cmljc1wiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfV0sZSl9fTt2YXIgemU9e3BhcnNlOmZ1bmN0aW9uKGUsdCxyLGksbil7Zm9yKHZhciBvLGEscz1uZXcgc2UuUGFyc2VyKGUsdCksaD0wO2g8aTtoKz0xKXtoPHImJihvPXMucGFyc2VVU2hvcnQoKSxhPXMucGFyc2VTaG9ydCgpKTt2YXIgbD1uLmdldChoKTtsLmFkdmFuY2VXaWR0aD1vLGwubGVmdFNpZGVCZWFyaW5nPWF9fSxtYWtlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgJC5UYWJsZShcImhtdHhcIixbXSkscj0wO3I8ZS5sZW5ndGg7cis9MSl7dmFyIGk9ZS5nZXQociksbj1pLmFkdmFuY2VXaWR0aHx8MCxvPWkubGVmdFNpZGVCZWFyaW5nfHwwO3QuZmllbGRzLnB1c2goe25hbWU6XCJhZHZhbmNlV2lkdGhfXCIrcix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6bn0pLHQuZmllbGRzLnB1c2goe25hbWU6XCJsZWZ0U2lkZUJlYXJpbmdfXCIrcix0eXBlOlwiU0hPUlRcIix2YWx1ZTpvfSl9cmV0dXJuIHR9fTt2YXIgSGU9e21ha2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyAkLlRhYmxlKFwibHRhZ1wiLFt7bmFtZTpcInZlcnNpb25cIix0eXBlOlwiVUxPTkdcIix2YWx1ZToxfSx7bmFtZTpcImZsYWdzXCIsdHlwZTpcIlVMT05HXCIsdmFsdWU6MH0se25hbWU6XCJudW1UYWdzXCIsdHlwZTpcIlVMT05HXCIsdmFsdWU6ZS5sZW5ndGh9XSkscj1cIlwiLGk9MTIrNCplLmxlbmd0aCxuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciBvPXIuaW5kZXhPZihlW25dKTtvPDAmJihvPXIubGVuZ3RoLHIrPWVbbl0pLHQuZmllbGRzLnB1c2goe25hbWU6XCJvZmZzZXQgXCIrbix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6aStvfSksdC5maWVsZHMucHVzaCh7bmFtZTpcImxlbmd0aCBcIituLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTplW25dLmxlbmd0aH0pfXJldHVybiB0LmZpZWxkcy5wdXNoKHtuYW1lOlwic3RyaW5nUG9vbFwiLHR5cGU6XCJDSEFSQVJSQVlcIix2YWx1ZTpyfSksdH0scGFyc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgc2UuUGFyc2VyKGUsdCksaT1yLnBhcnNlVUxvbmcoKTtQLmFyZ3VtZW50KDE9PT1pLFwiVW5zdXBwb3J0ZWQgbHRhZyB0YWJsZSB2ZXJzaW9uLlwiKSxyLnNraXAoXCJ1TG9uZ1wiLDEpO2Zvcih2YXIgbj1yLnBhcnNlVUxvbmcoKSxvPVtdLGE9MDthPG47YSsrKXtmb3IodmFyIHM9XCJcIixoPXQrci5wYXJzZVVTaG9ydCgpLGw9ci5wYXJzZVVTaG9ydCgpLHU9aDt1PGgrbDsrK3Upcys9U3RyaW5nLmZyb21DaGFyQ29kZShlLmdldEludDgodSkpO28ucHVzaChzKX1yZXR1cm4gb319O3ZhciBqZT17cGFyc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxpPW5ldyBzZS5QYXJzZXIoZSx0KTtyZXR1cm4gci52ZXJzaW9uPWkucGFyc2VWZXJzaW9uKCksci5udW1HbHlwaHM9aS5wYXJzZVVTaG9ydCgpLDE9PT1yLnZlcnNpb24mJihyLm1heFBvaW50cz1pLnBhcnNlVVNob3J0KCksci5tYXhDb250b3Vycz1pLnBhcnNlVVNob3J0KCksci5tYXhDb21wb3NpdGVQb2ludHM9aS5wYXJzZVVTaG9ydCgpLHIubWF4Q29tcG9zaXRlQ29udG91cnM9aS5wYXJzZVVTaG9ydCgpLHIubWF4Wm9uZXM9aS5wYXJzZVVTaG9ydCgpLHIubWF4VHdpbGlnaHRQb2ludHM9aS5wYXJzZVVTaG9ydCgpLHIubWF4U3RvcmFnZT1pLnBhcnNlVVNob3J0KCksci5tYXhGdW5jdGlvbkRlZnM9aS5wYXJzZVVTaG9ydCgpLHIubWF4SW5zdHJ1Y3Rpb25EZWZzPWkucGFyc2VVU2hvcnQoKSxyLm1heFN0YWNrRWxlbWVudHM9aS5wYXJzZVVTaG9ydCgpLHIubWF4U2l6ZU9mSW5zdHJ1Y3Rpb25zPWkucGFyc2VVU2hvcnQoKSxyLm1heENvbXBvbmVudEVsZW1lbnRzPWkucGFyc2VVU2hvcnQoKSxyLm1heENvbXBvbmVudERlcHRoPWkucGFyc2VVU2hvcnQoKSkscn0sbWFrZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3ICQuVGFibGUoXCJtYXhwXCIsW3tuYW1lOlwidmVyc2lvblwiLHR5cGU6XCJGSVhFRFwiLHZhbHVlOjIwNDgwfSx7bmFtZTpcIm51bUdseXBoc1wiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTplfV0pfX0sV2U9W1wiY29weXJpZ2h0XCIsXCJmb250RmFtaWx5XCIsXCJmb250U3ViZmFtaWx5XCIsXCJ1bmlxdWVJRFwiLFwiZnVsbE5hbWVcIixcInZlcnNpb25cIixcInBvc3RTY3JpcHROYW1lXCIsXCJ0cmFkZW1hcmtcIixcIm1hbnVmYWN0dXJlclwiLFwiZGVzaWduZXJcIixcImRlc2NyaXB0aW9uXCIsXCJtYW51ZmFjdHVyZXJVUkxcIixcImRlc2lnbmVyVVJMXCIsXCJsaWNlbnNlXCIsXCJsaWNlbnNlVVJMXCIsXCJyZXNlcnZlZFwiLFwicHJlZmVycmVkRmFtaWx5XCIsXCJwcmVmZXJyZWRTdWJmYW1pbHlcIixcImNvbXBhdGlibGVGdWxsTmFtZVwiLFwic2FtcGxlVGV4dFwiLFwicG9zdFNjcmlwdEZpbmRGb250TmFtZVwiLFwid3dzRmFtaWx5XCIsXCJ3d3NTdWJmYW1pbHlcIl0sWGU9ezA6XCJlblwiLDE6XCJmclwiLDI6XCJkZVwiLDM6XCJpdFwiLDQ6XCJubFwiLDU6XCJzdlwiLDY6XCJlc1wiLDc6XCJkYVwiLDg6XCJwdFwiLDk6XCJub1wiLDEwOlwiaGVcIiwxMTpcImphXCIsMTI6XCJhclwiLDEzOlwiZmlcIiwxNDpcImVsXCIsMTU6XCJpc1wiLDE2OlwibXRcIiwxNzpcInRyXCIsMTg6XCJoclwiLDE5OlwiemgtSGFudFwiLDIwOlwidXJcIiwyMTpcImhpXCIsMjI6XCJ0aFwiLDIzOlwia29cIiwyNDpcImx0XCIsMjU6XCJwbFwiLDI2OlwiaHVcIiwyNzpcImVzXCIsMjg6XCJsdlwiLDI5Olwic2VcIiwzMDpcImZvXCIsMzE6XCJmYVwiLDMyOlwicnVcIiwzMzpcInpoXCIsMzQ6XCJubC1CRVwiLDM1OlwiZ2FcIiwzNjpcInNxXCIsMzc6XCJyb1wiLDM4OlwiY3pcIiwzOTpcInNrXCIsNDA6XCJzaVwiLDQxOlwieWlcIiw0MjpcInNyXCIsNDM6XCJta1wiLDQ0OlwiYmdcIiw0NTpcInVrXCIsNDY6XCJiZVwiLDQ3OlwidXpcIiw0ODpcImtrXCIsNDk6XCJhei1DeXJsXCIsNTA6XCJhei1BcmFiXCIsNTE6XCJoeVwiLDUyOlwia2FcIiw1MzpcIm1vXCIsNTQ6XCJreVwiLDU1OlwidGdcIiw1NjpcInRrXCIsNTc6XCJtbi1DTlwiLDU4OlwibW5cIiw1OTpcInBzXCIsNjA6XCJrc1wiLDYxOlwia3VcIiw2MjpcInNkXCIsNjM6XCJib1wiLDY0OlwibmVcIiw2NTpcInNhXCIsNjY6XCJtclwiLDY3OlwiYm5cIiw2ODpcImFzXCIsNjk6XCJndVwiLDcwOlwicGFcIiw3MTpcIm9yXCIsNzI6XCJtbFwiLDczOlwia25cIiw3NDpcInRhXCIsNzU6XCJ0ZVwiLDc2Olwic2lcIiw3NzpcIm15XCIsNzg6XCJrbVwiLDc5OlwibG9cIiw4MDpcInZpXCIsODE6XCJpZFwiLDgyOlwidGxcIiw4MzpcIm1zXCIsODQ6XCJtcy1BcmFiXCIsODU6XCJhbVwiLDg2OlwidGlcIiw4NzpcIm9tXCIsODg6XCJzb1wiLDg5Olwic3dcIiw5MDpcInJ3XCIsOTE6XCJyblwiLDkyOlwibnlcIiw5MzpcIm1nXCIsOTQ6XCJlb1wiLDEyODpcImN5XCIsMTI5OlwiZXVcIiwxMzA6XCJjYVwiLDEzMTpcImxhXCIsMTMyOlwicXVcIiwxMzM6XCJnblwiLDEzNDpcImF5XCIsMTM1OlwidHRcIiwxMzY6XCJ1Z1wiLDEzNzpcImR6XCIsMTM4OlwianZcIiwxMzk6XCJzdVwiLDE0MDpcImdsXCIsMTQxOlwiYWZcIiwxNDI6XCJiclwiLDE0MzpcIml1XCIsMTQ0OlwiZ2RcIiwxNDU6XCJndlwiLDE0NjpcImdhXCIsMTQ3OlwidG9cIiwxNDg6XCJlbC1wb2x5dG9uXCIsMTQ5Olwia2xcIiwxNTA6XCJhelwiLDE1MTpcIm5uXCJ9LHFlPXswOjAsMTowLDI6MCwzOjAsNDowLDU6MCw2OjAsNzowLDg6MCw5OjAsMTA6NSwxMToxLDEyOjQsMTM6MCwxNDo2LDE1OjAsMTY6MCwxNzowLDE4OjAsMTk6MiwyMDo0LDIxOjksMjI6MjEsMjM6MywyNDoyOSwyNToyOSwyNjoyOSwyNzoyOSwyODoyOSwyOTowLDMwOjAsMzE6NCwzMjo3LDMzOjI1LDM0OjAsMzU6MCwzNjowLDM3OjAsMzg6MjksMzk6MjksNDA6MCw0MTo1LDQyOjcsNDM6Nyw0NDo3LDQ1OjcsNDY6Nyw0Nzo3LDQ4OjcsNDk6Nyw1MDo0LDUxOjI0LDUyOjIzLDUzOjcsNTQ6Nyw1NTo3LDU2OjcsNTc6MjcsNTg6Nyw1OTo0LDYwOjQsNjE6NCw2Mjo0LDYzOjI2LDY0OjksNjU6OSw2Njo5LDY3OjEzLDY4OjEzLDY5OjExLDcwOjEwLDcxOjEyLDcyOjE3LDczOjE2LDc0OjE0LDc1OjE1LDc2OjE4LDc3OjE5LDc4OjIwLDc5OjIyLDgwOjMwLDgxOjAsODI6MCw4MzowLDg0OjQsODU6MjgsODY6MjgsODc6MjgsODg6MCw4OTowLDkwOjAsOTE6MCw5MjowLDkzOjAsOTQ6MCwxMjg6MCwxMjk6MCwxMzA6MCwxMzE6MCwxMzI6MCwxMzM6MCwxMzQ6MCwxMzU6NywxMzY6NCwxMzc6MjYsMTM4OjAsMTM5OjAsMTQwOjAsMTQxOjAsMTQyOjAsMTQzOjI4LDE0NDowLDE0NTowLDE0NjowLDE0NzowLDE0ODo2LDE0OTowLDE1MDowLDE1MTowfSxZZT17MTA3ODpcImFmXCIsMTA1MjpcInNxXCIsMTE1NjpcImdzd1wiLDExMTg6XCJhbVwiLDUxMjE6XCJhci1EWlwiLDE1MzYxOlwiYXItQkhcIiwzMDczOlwiYXJcIiwyMDQ5OlwiYXItSVFcIiwxMTI2NTpcImFyLUpPXCIsMTMzMTM6XCJhci1LV1wiLDEyMjg5OlwiYXItTEJcIiw0MDk3OlwiYXItTFlcIiw2MTQ1OlwiYXJ5XCIsODE5MzpcImFyLU9NXCIsMTYzODU6XCJhci1RQVwiLDEwMjU6XCJhci1TQVwiLDEwMjQxOlwiYXItU1lcIiw3MTY5OlwiYWViXCIsMTQzMzc6XCJhci1BRVwiLDkyMTc6XCJhci1ZRVwiLDEwNjc6XCJoeVwiLDExMDE6XCJhc1wiLDIwOTI6XCJhei1DeXJsXCIsMTA2ODpcImF6XCIsMTEzMzpcImJhXCIsMTA2OTpcImV1XCIsMTA1OTpcImJlXCIsMjExNzpcImJuXCIsMTA5MzpcImJuLUlOXCIsODIxODpcImJzLUN5cmxcIiw1MTQ2OlwiYnNcIiwxMTUwOlwiYnJcIiwxMDI2OlwiYmdcIiwxMDI3OlwiY2FcIiwzMDc2OlwiemgtSEtcIiw1MTI0OlwiemgtTU9cIiwyMDUyOlwiemhcIiw0MTAwOlwiemgtU0dcIiwxMDI4OlwiemgtVFdcIiwxMTU1OlwiY29cIiwxMDUwOlwiaHJcIiw0MTIyOlwiaHItQkFcIiwxMDI5OlwiY3NcIiwxMDMwOlwiZGFcIiwxMTY0OlwicHJzXCIsMTEyNTpcImR2XCIsMjA2NzpcIm5sLUJFXCIsMTA0MzpcIm5sXCIsMzA4MTpcImVuLUFVXCIsMTAyNDk6XCJlbi1CWlwiLDQxMDU6XCJlbi1DQVwiLDkyMjU6XCJlbi0wMjlcIiwxNjM5MzpcImVuLUlOXCIsNjE1MzpcImVuLUlFXCIsODIwMTpcImVuLUpNXCIsMTc0MTc6XCJlbi1NWVwiLDUxMjk6XCJlbi1OWlwiLDEzMzIxOlwiZW4tUEhcIiwxODQ0MTpcImVuLVNHXCIsNzE3NzpcImVuLVpBXCIsMTEyNzM6XCJlbi1UVFwiLDIwNTc6XCJlbi1HQlwiLDEwMzM6XCJlblwiLDEyMjk3OlwiZW4tWldcIiwxMDYxOlwiZXRcIiwxMDgwOlwiZm9cIiwxMTI0OlwiZmlsXCIsMTAzNTpcImZpXCIsMjA2MDpcImZyLUJFXCIsMzA4NDpcImZyLUNBXCIsMTAzNjpcImZyXCIsNTEzMjpcImZyLUxVXCIsNjE1NjpcImZyLU1DXCIsNDEwODpcImZyLUNIXCIsMTEyMjpcImZ5XCIsMTExMDpcImdsXCIsMTA3OTpcImthXCIsMzA3OTpcImRlLUFUXCIsMTAzMTpcImRlXCIsNTEyNzpcImRlLUxJXCIsNDEwMzpcImRlLUxVXCIsMjA1NTpcImRlLUNIXCIsMTAzMjpcImVsXCIsMTEzNTpcImtsXCIsMTA5NTpcImd1XCIsMTEyODpcImhhXCIsMTAzNzpcImhlXCIsMTA4MTpcImhpXCIsMTAzODpcImh1XCIsMTAzOTpcImlzXCIsMTEzNjpcImlnXCIsMTA1NzpcImlkXCIsMTExNzpcIml1XCIsMjE0MTpcIml1LUxhdG5cIiwyMTA4OlwiZ2FcIiwxMDc2OlwieGhcIiwxMDc3OlwienVcIiwxMDQwOlwiaXRcIiwyMDY0OlwiaXQtQ0hcIiwxMDQxOlwiamFcIiwxMDk5Olwia25cIiwxMDg3Olwia2tcIiwxMTA3Olwia21cIiwxMTU4OlwicXVjXCIsMTE1OTpcInJ3XCIsMTA4OTpcInN3XCIsMTExMTpcImtva1wiLDEwNDI6XCJrb1wiLDEwODg6XCJreVwiLDExMDg6XCJsb1wiLDEwNjI6XCJsdlwiLDEwNjM6XCJsdFwiLDIwOTQ6XCJkc2JcIiwxMTM0OlwibGJcIiwxMDcxOlwibWtcIiwyMTEwOlwibXMtQk5cIiwxMDg2OlwibXNcIiwxMTAwOlwibWxcIiwxMDgyOlwibXRcIiwxMTUzOlwibWlcIiwxMTQ2OlwiYXJuXCIsMTEwMjpcIm1yXCIsMTE0ODpcIm1vaFwiLDExMDQ6XCJtblwiLDIxMjg6XCJtbi1DTlwiLDExMjE6XCJuZVwiLDEwNDQ6XCJuYlwiLDIwNjg6XCJublwiLDExNTQ6XCJvY1wiLDEwOTY6XCJvclwiLDExMjM6XCJwc1wiLDEwNDU6XCJwbFwiLDEwNDY6XCJwdFwiLDIwNzA6XCJwdC1QVFwiLDEwOTQ6XCJwYVwiLDExMzE6XCJxdS1CT1wiLDIxNTU6XCJxdS1FQ1wiLDMxNzk6XCJxdVwiLDEwNDg6XCJyb1wiLDEwNDc6XCJybVwiLDEwNDk6XCJydVwiLDkyNzU6XCJzbW5cIiw0MTU1Olwic21qLU5PXCIsNTE3OTpcInNtalwiLDMxMzE6XCJzZS1GSVwiLDEwODM6XCJzZVwiLDIxMDc6XCJzZS1TRVwiLDgyNTE6XCJzbXNcIiw2MjAzOlwic21hLU5PXCIsNzIyNzpcInNtc1wiLDExMDM6XCJzYVwiLDcxOTQ6XCJzci1DeXJsLUJBXCIsMzA5ODpcInNyXCIsNjE3MDpcInNyLUxhdG4tQkFcIiwyMDc0Olwic3ItTGF0blwiLDExMzI6XCJuc29cIiwxMDc0OlwidG5cIiwxMTE1Olwic2lcIiwxMDUxOlwic2tcIiwxMDYwOlwic2xcIiwxMTI3NDpcImVzLUFSXCIsMTYzOTQ6XCJlcy1CT1wiLDEzMzIyOlwiZXMtQ0xcIiw5MjI2OlwiZXMtQ09cIiw1MTMwOlwiZXMtQ1JcIiw3MTc4OlwiZXMtRE9cIiwxMjI5ODpcImVzLUVDXCIsMTc0MTg6XCJlcy1TVlwiLDQxMDY6XCJlcy1HVFwiLDE4NDQyOlwiZXMtSE5cIiwyMDU4OlwiZXMtTVhcIiwxOTQ2NjpcImVzLU5JXCIsNjE1NDpcImVzLVBBXCIsMTUzNzA6XCJlcy1QWVwiLDEwMjUwOlwiZXMtUEVcIiwyMDQ5MDpcImVzLVBSXCIsMzA4MjpcImVzXCIsMTAzNDpcImVzXCIsMjE1MTQ6XCJlcy1VU1wiLDE0MzQ2OlwiZXMtVVlcIiw4MjAyOlwiZXMtVkVcIiwyMDc3Olwic3YtRklcIiwxMDUzOlwic3ZcIiwxMTE0Olwic3lyXCIsMTA2NDpcInRnXCIsMjE0MzpcInR6bVwiLDEwOTc6XCJ0YVwiLDEwOTI6XCJ0dFwiLDEwOTg6XCJ0ZVwiLDEwNTQ6XCJ0aFwiLDExMDU6XCJib1wiLDEwNTU6XCJ0clwiLDEwOTA6XCJ0a1wiLDExNTI6XCJ1Z1wiLDEwNTg6XCJ1a1wiLDEwNzA6XCJoc2JcIiwxMDU2OlwidXJcIiwyMTE1OlwidXotQ3lybFwiLDEwOTE6XCJ1elwiLDEwNjY6XCJ2aVwiLDExMDY6XCJjeVwiLDExNjA6XCJ3b1wiLDExNTc6XCJzYWhcIiwxMTQ0OlwiaWlcIiwxMTMwOlwieW9cIn07ZnVuY3Rpb24gWmUoZSx0LHIpe3N3aXRjaChlKXtjYXNlIDA6aWYoNjU1MzU9PT10KXJldHVyblwidW5kXCI7aWYocilyZXR1cm4gclt0XTticmVhaztjYXNlIDE6cmV0dXJuIFhlW3RdO2Nhc2UgMzpyZXR1cm4gWWVbdF19fXZhciBRZT1cInV0Zi0xNlwiLEplPXswOlwibWFjaW50b3NoXCIsMTpcIngtbWFjLWphcGFuZXNlXCIsMjpcIngtbWFjLWNoaW5lc2V0cmFkXCIsMzpcIngtbWFjLWtvcmVhblwiLDY6XCJ4LW1hYy1ncmVla1wiLDc6XCJ4LW1hYy1jeXJpbGxpY1wiLDk6XCJ4LW1hYy1kZXZhbmFnYWlcIiwxMDpcIngtbWFjLWd1cm11a2hpXCIsMTE6XCJ4LW1hYy1ndWphcmF0aVwiLDEyOlwieC1tYWMtb3JpeWFcIiwxMzpcIngtbWFjLWJlbmdhbGlcIiwxNDpcIngtbWFjLXRhbWlsXCIsMTU6XCJ4LW1hYy10ZWx1Z3VcIiwxNjpcIngtbWFjLWthbm5hZGFcIiwxNzpcIngtbWFjLW1hbGF5YWxhbVwiLDE4OlwieC1tYWMtc2luaGFsZXNlXCIsMTk6XCJ4LW1hYy1idXJtZXNlXCIsMjA6XCJ4LW1hYy1raG1lclwiLDIxOlwieC1tYWMtdGhhaVwiLDIyOlwieC1tYWMtbGFvXCIsMjM6XCJ4LW1hYy1nZW9yZ2lhblwiLDI0OlwieC1tYWMtYXJtZW5pYW5cIiwyNTpcIngtbWFjLWNoaW5lc2VzaW1wXCIsMjY6XCJ4LW1hYy10aWJldGFuXCIsMjc6XCJ4LW1hYy1tb25nb2xpYW5cIiwyODpcIngtbWFjLWV0aGlvcGljXCIsMjk6XCJ4LW1hYy1jZVwiLDMwOlwieC1tYWMtdmlldG5hbWVzZVwiLDMxOlwieC1tYWMtZXh0YXJhYmljXCJ9LEtlPXsxNTpcIngtbWFjLWljZWxhbmRpY1wiLDE3OlwieC1tYWMtdHVya2lzaFwiLDE4OlwieC1tYWMtY3JvYXRpYW5cIiwyNDpcIngtbWFjLWNlXCIsMjU6XCJ4LW1hYy1jZVwiLDI2OlwieC1tYWMtY2VcIiwyNzpcIngtbWFjLWNlXCIsMjg6XCJ4LW1hYy1jZVwiLDMwOlwieC1tYWMtaWNlbGFuZGljXCIsMzc6XCJ4LW1hYy1yb21hbmlhblwiLDM4OlwieC1tYWMtY2VcIiwzOTpcIngtbWFjLWNlXCIsNDA6XCJ4LW1hYy1jZVwiLDE0MzpcIngtbWFjLWludWl0XCIsMTQ2OlwieC1tYWMtZ2FlbGljXCJ9O2Z1bmN0aW9uICRlKGUsdCxyKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiBRZTtjYXNlIDE6cmV0dXJuIEtlW3JdfHxKZVt0XTtjYXNlIDM6aWYoMT09PXR8fDEwPT09dClyZXR1cm4gUWV9fWZ1bmN0aW9uIGV0KGUpe3ZhciB0PXt9O2Zvcih2YXIgciBpbiBlKXRbZVtyXV09cGFyc2VJbnQocik7cmV0dXJuIHR9ZnVuY3Rpb24gdHQoZSx0LHIsaSxuLG8pe3JldHVybiBuZXcgJC5SZWNvcmQoXCJOYW1lUmVjb3JkXCIsW3tuYW1lOlwicGxhdGZvcm1JRFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTplfSx7bmFtZTpcImVuY29kaW5nSURcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6dH0se25hbWU6XCJsYW5ndWFnZUlEXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOnJ9LHtuYW1lOlwibmFtZUlEXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOml9LHtuYW1lOlwibGVuZ3RoXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOm59LHtuYW1lOlwib2Zmc2V0XCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOm99XSl9ZnVuY3Rpb24gcnQoZSx0KXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciByPWUubGVuZ3RoLGk9dC5sZW5ndGgtcisxO2U6Zm9yKHZhciBuPTA7bjxpO24rKylmb3IoO248aTtuKyspe2Zvcih2YXIgbz0wO288cjtvKyspaWYodFtuK29dIT09ZVtvXSljb250aW51ZSBlO3JldHVybiBufXJldHVybi0xfShlLHQpO2lmKHI8MCl7cj10Lmxlbmd0aDtmb3IodmFyIGk9MCxuPWUubGVuZ3RoO2k8bjsrK2kpdC5wdXNoKGVbaV0pfXJldHVybiByfXZhciBpdD17cGFyc2U6ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaT17fSxuPW5ldyBzZS5QYXJzZXIoZSx0KSxvPW4ucGFyc2VVU2hvcnQoKSxhPW4ucGFyc2VVU2hvcnQoKSxzPW4ub2Zmc2V0K24ucGFyc2VVU2hvcnQoKSxoPTA7aDxhO2grKyl7dmFyIGw9bi5wYXJzZVVTaG9ydCgpLHU9bi5wYXJzZVVTaG9ydCgpLGM9bi5wYXJzZVVTaG9ydCgpLHA9bi5wYXJzZVVTaG9ydCgpLGQ9V2VbcF18fHAsZj1uLnBhcnNlVVNob3J0KCksbT1uLnBhcnNlVVNob3J0KCksdj1aZShsLGMsciksZz0kZShsLHUsYyk7aWYodm9pZCAwIT09ZyYmdm9pZCAwIT09dil7dmFyIHk9dm9pZCAwO2lmKHk9Zz09PVFlP0kuVVRGMTYoZSxzK20sZik6SS5NQUNTVFJJTkcoZSxzK20sZixnKSl7dmFyIGI9aVtkXTt2b2lkIDA9PT1iJiYoYj1pW2RdPXt9KSxiW3ZdPXl9fX1yZXR1cm4gMT09PW8mJm4ucGFyc2VVU2hvcnQoKSxpfSxtYWtlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsaT1bXSxuPXt9LG89ZXQoV2UpO2Zvcih2YXIgYSBpbiBlKXt2YXIgcz1vW2FdO2lmKHZvaWQgMD09PXMmJihzPWEpLHI9cGFyc2VJbnQocyksaXNOYU4ocikpdGhyb3cgbmV3IEVycm9yKCdOYW1lIHRhYmxlIGVudHJ5IFwiJythKydcIiBkb2VzIG5vdCBleGlzdCwgc2VlIG5hbWVUYWJsZU5hbWVzIGZvciBjb21wbGV0ZSBsaXN0LicpO25bcl09ZVthXSxpLnB1c2gocil9Zm9yKHZhciBoPWV0KFhlKSxsPWV0KFllKSx1PVtdLGM9W10scD0wO3A8aS5sZW5ndGg7cCsrKXt2YXIgZD1uW3I9aVtwXV07Zm9yKHZhciBmIGluIGQpe3ZhciBtPWRbZl0sdj0xLGc9aFtmXSx5PXFlW2ddLGI9JGUodix5LGcpLF89RC5NQUNTVFJJTkcobSxiKTt2b2lkIDA9PT1fJiYodj0wLChnPXQuaW5kZXhPZihmKSk8MCYmKGc9dC5sZW5ndGgsdC5wdXNoKGYpKSx5PTQsXz1ELlVURjE2KG0pKTt2YXIgeD1ydChfLGMpO3UucHVzaCh0dCh2LHksZyxyLF8ubGVuZ3RoLHgpKTt2YXIgdz1sW2ZdO2lmKHZvaWQgMCE9PXcpe3ZhciBTPUQuVVRGMTYobSksVD1ydChTLGMpO3UucHVzaCh0dCgzLDEsdyxyLFMubGVuZ3RoLFQpKX19fXUuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLnBsYXRmb3JtSUQtdC5wbGF0Zm9ybUlEfHxlLmVuY29kaW5nSUQtdC5lbmNvZGluZ0lEfHxlLmxhbmd1YWdlSUQtdC5sYW5ndWFnZUlEfHxlLm5hbWVJRC10Lm5hbWVJRH0pO2Zvcih2YXIgTT1uZXcgJC5UYWJsZShcIm5hbWVcIixbe25hbWU6XCJmb3JtYXRcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJjb3VudFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTp1Lmxlbmd0aH0se25hbWU6XCJzdHJpbmdPZmZzZXRcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6NisxMip1Lmxlbmd0aH1dKSxFPTA7RTx1Lmxlbmd0aDtFKyspTS5maWVsZHMucHVzaCh7bmFtZTpcInJlY29yZF9cIitFLHR5cGU6XCJSRUNPUkRcIix2YWx1ZTp1W0VdfSk7cmV0dXJuIE0uZmllbGRzLnB1c2goe25hbWU6XCJzdHJpbmdzXCIsdHlwZTpcIkxJVEVSQUxcIix2YWx1ZTpjfSksTX19LG50PVt7YmVnaW46MCxlbmQ6MTI3fSx7YmVnaW46MTI4LGVuZDoyNTV9LHtiZWdpbjoyNTYsZW5kOjM4M30se2JlZ2luOjM4NCxlbmQ6NTkxfSx7YmVnaW46NTkyLGVuZDo2ODd9LHtiZWdpbjo2ODgsZW5kOjc2N30se2JlZ2luOjc2OCxlbmQ6ODc5fSx7YmVnaW46ODgwLGVuZDoxMDIzfSx7YmVnaW46MTEzOTIsZW5kOjExNTE5fSx7YmVnaW46MTAyNCxlbmQ6MTI3OX0se2JlZ2luOjEzMjgsZW5kOjE0MjN9LHtiZWdpbjoxNDI0LGVuZDoxNTM1fSx7YmVnaW46NDIyNDAsZW5kOjQyNTU5fSx7YmVnaW46MTUzNixlbmQ6MTc5MX0se2JlZ2luOjE5ODQsZW5kOjIwNDd9LHtiZWdpbjoyMzA0LGVuZDoyNDMxfSx7YmVnaW46MjQzMixlbmQ6MjU1OX0se2JlZ2luOjI1NjAsZW5kOjI2ODd9LHtiZWdpbjoyNjg4LGVuZDoyODE1fSx7YmVnaW46MjgxNixlbmQ6Mjk0M30se2JlZ2luOjI5NDQsZW5kOjMwNzF9LHtiZWdpbjozMDcyLGVuZDozMTk5fSx7YmVnaW46MzIwMCxlbmQ6MzMyN30se2JlZ2luOjMzMjgsZW5kOjM0NTV9LHtiZWdpbjozNTg0LGVuZDozNzExfSx7YmVnaW46MzcxMixlbmQ6MzgzOX0se2JlZ2luOjQyNTYsZW5kOjQzNTF9LHtiZWdpbjo2OTEyLGVuZDo3MDM5fSx7YmVnaW46NDM1MixlbmQ6NDYwN30se2JlZ2luOjc2ODAsZW5kOjc5MzV9LHtiZWdpbjo3OTM2LGVuZDo4MTkxfSx7YmVnaW46ODE5MixlbmQ6ODMwM30se2JlZ2luOjgzMDQsZW5kOjgzNTF9LHtiZWdpbjo4MzUyLGVuZDo4Mzk5fSx7YmVnaW46ODQwMCxlbmQ6ODQ0N30se2JlZ2luOjg0NDgsZW5kOjg1Mjd9LHtiZWdpbjo4NTI4LGVuZDo4NTkxfSx7YmVnaW46ODU5MixlbmQ6ODcwM30se2JlZ2luOjg3MDQsZW5kOjg5NTl9LHtiZWdpbjo4OTYwLGVuZDo5MjE1fSx7YmVnaW46OTIxNixlbmQ6OTI3OX0se2JlZ2luOjkyODAsZW5kOjkzMTF9LHtiZWdpbjo5MzEyLGVuZDo5NDcxfSx7YmVnaW46OTQ3MixlbmQ6OTU5OX0se2JlZ2luOjk2MDAsZW5kOjk2MzF9LHtiZWdpbjo5NjMyLGVuZDo5NzI3fSx7YmVnaW46OTcyOCxlbmQ6OTk4M30se2JlZ2luOjk5ODQsZW5kOjEwMTc1fSx7YmVnaW46MTIyODgsZW5kOjEyMzUxfSx7YmVnaW46MTIzNTIsZW5kOjEyNDQ3fSx7YmVnaW46MTI0NDgsZW5kOjEyNTQzfSx7YmVnaW46MTI1NDQsZW5kOjEyNTkxfSx7YmVnaW46MTI1OTIsZW5kOjEyNjg3fSx7YmVnaW46NDMwNzIsZW5kOjQzMTM1fSx7YmVnaW46MTI4MDAsZW5kOjEzMDU1fSx7YmVnaW46MTMwNTYsZW5kOjEzMzExfSx7YmVnaW46NDQwMzIsZW5kOjU1MjE1fSx7YmVnaW46NTUyOTYsZW5kOjU3MzQzfSx7YmVnaW46Njc4NDAsZW5kOjY3ODcxfSx7YmVnaW46MTk5NjgsZW5kOjQwOTU5fSx7YmVnaW46NTczNDQsZW5kOjYzNzQzfSx7YmVnaW46MTI3MzYsZW5kOjEyNzgzfSx7YmVnaW46NjQyNTYsZW5kOjY0MzM1fSx7YmVnaW46NjQzMzYsZW5kOjY1MDIzfSx7YmVnaW46NjUwNTYsZW5kOjY1MDcxfSx7YmVnaW46NjUwNDAsZW5kOjY1MDU1fSx7YmVnaW46NjUxMDQsZW5kOjY1MTM1fSx7YmVnaW46NjUxMzYsZW5kOjY1Mjc5fSx7YmVnaW46NjUyODAsZW5kOjY1NTE5fSx7YmVnaW46NjU1MjAsZW5kOjY1NTM1fSx7YmVnaW46Mzg0MCxlbmQ6NDA5NX0se2JlZ2luOjE3OTIsZW5kOjE4NzF9LHtiZWdpbjoxOTIwLGVuZDoxOTgzfSx7YmVnaW46MzQ1NixlbmQ6MzU4M30se2JlZ2luOjQwOTYsZW5kOjQyNTV9LHtiZWdpbjo0NjA4LGVuZDo0OTkxfSx7YmVnaW46NTAyNCxlbmQ6NTExOX0se2JlZ2luOjUxMjAsZW5kOjU3NTl9LHtiZWdpbjo1NzYwLGVuZDo1NzkxfSx7YmVnaW46NTc5MixlbmQ6NTg4N30se2JlZ2luOjYwMTYsZW5kOjYxNDN9LHtiZWdpbjo2MTQ0LGVuZDo2MzE5fSx7YmVnaW46MTAyNDAsZW5kOjEwNDk1fSx7YmVnaW46NDA5NjAsZW5kOjQyMTI3fSx7YmVnaW46NTg4OCxlbmQ6NTkxOX0se2JlZ2luOjY2MzA0LGVuZDo2NjM1MX0se2JlZ2luOjY2MzUyLGVuZDo2NjM4M30se2JlZ2luOjY2NTYwLGVuZDo2NjYzOX0se2JlZ2luOjExODc4NCxlbmQ6MTE5MDM5fSx7YmVnaW46MTE5ODA4LGVuZDoxMjA4MzF9LHtiZWdpbjoxMDQ0NDgwLGVuZDoxMDQ4NTczfSx7YmVnaW46NjUwMjQsZW5kOjY1MDM5fSx7YmVnaW46OTE3NTA0LGVuZDo5MTc2MzF9LHtiZWdpbjo2NDAwLGVuZDo2NDc5fSx7YmVnaW46NjQ4MCxlbmQ6NjUyN30se2JlZ2luOjY1MjgsZW5kOjY2MjN9LHtiZWdpbjo2NjU2LGVuZDo2Njg3fSx7YmVnaW46MTEyNjQsZW5kOjExMzU5fSx7YmVnaW46MTE1NjgsZW5kOjExNjQ3fSx7YmVnaW46MTk5MDQsZW5kOjE5OTY3fSx7YmVnaW46NDMwMDgsZW5kOjQzMDU1fSx7YmVnaW46NjU1MzYsZW5kOjY1NjYzfSx7YmVnaW46NjU4NTYsZW5kOjY1OTM1fSx7YmVnaW46NjY0MzIsZW5kOjY2NDYzfSx7YmVnaW46NjY0NjQsZW5kOjY2NTI3fSx7YmVnaW46NjY2NDAsZW5kOjY2Njg3fSx7YmVnaW46NjY2ODgsZW5kOjY2NzM1fSx7YmVnaW46Njc1ODQsZW5kOjY3NjQ3fSx7YmVnaW46NjgwOTYsZW5kOjY4MTkxfSx7YmVnaW46MTE5NTUyLGVuZDoxMTk2NDd9LHtiZWdpbjo3MzcyOCxlbmQ6NzQ3NTF9LHtiZWdpbjoxMTk2NDgsZW5kOjExOTY3OX0se2JlZ2luOjcwNDAsZW5kOjcxMDN9LHtiZWdpbjo3MTY4LGVuZDo3MjQ3fSx7YmVnaW46NzI0OCxlbmQ6NzI5NX0se2JlZ2luOjQzMTM2LGVuZDo0MzIzMX0se2JlZ2luOjQzMjY0LGVuZDo0MzMxMX0se2JlZ2luOjQzMzEyLGVuZDo0MzM1OX0se2JlZ2luOjQzNTIwLGVuZDo0MzYxNX0se2JlZ2luOjY1OTM2LGVuZDo2NTk5OX0se2JlZ2luOjY2ZTMsZW5kOjY2MDQ3fSx7YmVnaW46NjYyMDgsZW5kOjY2MjcxfSx7YmVnaW46MTI3MDI0LGVuZDoxMjcxMzV9XTt2YXIgb3Q9e3BhcnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e30saT1uZXcgc2UuUGFyc2VyKGUsdCk7ci52ZXJzaW9uPWkucGFyc2VVU2hvcnQoKSxyLnhBdmdDaGFyV2lkdGg9aS5wYXJzZVNob3J0KCksci51c1dlaWdodENsYXNzPWkucGFyc2VVU2hvcnQoKSxyLnVzV2lkdGhDbGFzcz1pLnBhcnNlVVNob3J0KCksci5mc1R5cGU9aS5wYXJzZVVTaG9ydCgpLHIueVN1YnNjcmlwdFhTaXplPWkucGFyc2VTaG9ydCgpLHIueVN1YnNjcmlwdFlTaXplPWkucGFyc2VTaG9ydCgpLHIueVN1YnNjcmlwdFhPZmZzZXQ9aS5wYXJzZVNob3J0KCksci55U3Vic2NyaXB0WU9mZnNldD1pLnBhcnNlU2hvcnQoKSxyLnlTdXBlcnNjcmlwdFhTaXplPWkucGFyc2VTaG9ydCgpLHIueVN1cGVyc2NyaXB0WVNpemU9aS5wYXJzZVNob3J0KCksci55U3VwZXJzY3JpcHRYT2Zmc2V0PWkucGFyc2VTaG9ydCgpLHIueVN1cGVyc2NyaXB0WU9mZnNldD1pLnBhcnNlU2hvcnQoKSxyLnlTdHJpa2VvdXRTaXplPWkucGFyc2VTaG9ydCgpLHIueVN0cmlrZW91dFBvc2l0aW9uPWkucGFyc2VTaG9ydCgpLHIuc0ZhbWlseUNsYXNzPWkucGFyc2VTaG9ydCgpLHIucGFub3NlPVtdO2Zvcih2YXIgbj0wO248MTA7bisrKXIucGFub3NlW25dPWkucGFyc2VCeXRlKCk7cmV0dXJuIHIudWxVbmljb2RlUmFuZ2UxPWkucGFyc2VVTG9uZygpLHIudWxVbmljb2RlUmFuZ2UyPWkucGFyc2VVTG9uZygpLHIudWxVbmljb2RlUmFuZ2UzPWkucGFyc2VVTG9uZygpLHIudWxVbmljb2RlUmFuZ2U0PWkucGFyc2VVTG9uZygpLHIuYWNoVmVuZElEPVN0cmluZy5mcm9tQ2hhckNvZGUoaS5wYXJzZUJ5dGUoKSxpLnBhcnNlQnl0ZSgpLGkucGFyc2VCeXRlKCksaS5wYXJzZUJ5dGUoKSksci5mc1NlbGVjdGlvbj1pLnBhcnNlVVNob3J0KCksci51c0ZpcnN0Q2hhckluZGV4PWkucGFyc2VVU2hvcnQoKSxyLnVzTGFzdENoYXJJbmRleD1pLnBhcnNlVVNob3J0KCksci5zVHlwb0FzY2VuZGVyPWkucGFyc2VTaG9ydCgpLHIuc1R5cG9EZXNjZW5kZXI9aS5wYXJzZVNob3J0KCksci5zVHlwb0xpbmVHYXA9aS5wYXJzZVNob3J0KCksci51c1dpbkFzY2VudD1pLnBhcnNlVVNob3J0KCksci51c1dpbkRlc2NlbnQ9aS5wYXJzZVVTaG9ydCgpLDE8PXIudmVyc2lvbiYmKHIudWxDb2RlUGFnZVJhbmdlMT1pLnBhcnNlVUxvbmcoKSxyLnVsQ29kZVBhZ2VSYW5nZTI9aS5wYXJzZVVMb25nKCkpLDI8PXIudmVyc2lvbiYmKHIuc3hIZWlnaHQ9aS5wYXJzZVNob3J0KCksci5zQ2FwSGVpZ2h0PWkucGFyc2VTaG9ydCgpLHIudXNEZWZhdWx0Q2hhcj1pLnBhcnNlVVNob3J0KCksci51c0JyZWFrQ2hhcj1pLnBhcnNlVVNob3J0KCksci51c01heENvbnRlbnQ9aS5wYXJzZVVTaG9ydCgpKSxyfSxtYWtlOmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgJC5UYWJsZShcIk9TLzJcIixbe25hbWU6XCJ2ZXJzaW9uXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjN9LHtuYW1lOlwieEF2Z0NoYXJXaWR0aFwiLHR5cGU6XCJTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwidXNXZWlnaHRDbGFzc1wiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInVzV2lkdGhDbGFzc1wiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcImZzVHlwZVwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInlTdWJzY3JpcHRYU2l6ZVwiLHR5cGU6XCJTSE9SVFwiLHZhbHVlOjY1MH0se25hbWU6XCJ5U3Vic2NyaXB0WVNpemVcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTo2OTl9LHtuYW1lOlwieVN1YnNjcmlwdFhPZmZzZXRcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInlTdWJzY3JpcHRZT2Zmc2V0XCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6MTQwfSx7bmFtZTpcInlTdXBlcnNjcmlwdFhTaXplXCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6NjUwfSx7bmFtZTpcInlTdXBlcnNjcmlwdFlTaXplXCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6Njk5fSx7bmFtZTpcInlTdXBlcnNjcmlwdFhPZmZzZXRcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInlTdXBlcnNjcmlwdFlPZmZzZXRcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTo0Nzl9LHtuYW1lOlwieVN0cmlrZW91dFNpemVcIix0eXBlOlwiU0hPUlRcIix2YWx1ZTo0OX0se25hbWU6XCJ5U3RyaWtlb3V0UG9zaXRpb25cIix0eXBlOlwiU0hPUlRcIix2YWx1ZToyNTh9LHtuYW1lOlwic0ZhbWlseUNsYXNzXCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJiRmFtaWx5VHlwZVwiLHR5cGU6XCJCWVRFXCIsdmFsdWU6MH0se25hbWU6XCJiU2VyaWZTdHlsZVwiLHR5cGU6XCJCWVRFXCIsdmFsdWU6MH0se25hbWU6XCJiV2VpZ2h0XCIsdHlwZTpcIkJZVEVcIix2YWx1ZTowfSx7bmFtZTpcImJQcm9wb3J0aW9uXCIsdHlwZTpcIkJZVEVcIix2YWx1ZTowfSx7bmFtZTpcImJDb250cmFzdFwiLHR5cGU6XCJCWVRFXCIsdmFsdWU6MH0se25hbWU6XCJiU3Ryb2tlVmFyaWF0aW9uXCIsdHlwZTpcIkJZVEVcIix2YWx1ZTowfSx7bmFtZTpcImJBcm1TdHlsZVwiLHR5cGU6XCJCWVRFXCIsdmFsdWU6MH0se25hbWU6XCJiTGV0dGVyZm9ybVwiLHR5cGU6XCJCWVRFXCIsdmFsdWU6MH0se25hbWU6XCJiTWlkbGluZVwiLHR5cGU6XCJCWVRFXCIsdmFsdWU6MH0se25hbWU6XCJiWEhlaWdodFwiLHR5cGU6XCJCWVRFXCIsdmFsdWU6MH0se25hbWU6XCJ1bFVuaWNvZGVSYW5nZTFcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTowfSx7bmFtZTpcInVsVW5pY29kZVJhbmdlMlwiLHR5cGU6XCJVTE9OR1wiLHZhbHVlOjB9LHtuYW1lOlwidWxVbmljb2RlUmFuZ2UzXCIsdHlwZTpcIlVMT05HXCIsdmFsdWU6MH0se25hbWU6XCJ1bFVuaWNvZGVSYW5nZTRcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTowfSx7bmFtZTpcImFjaFZlbmRJRFwiLHR5cGU6XCJDSEFSQVJSQVlcIix2YWx1ZTpcIlhYWFhcIn0se25hbWU6XCJmc1NlbGVjdGlvblwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInVzRmlyc3RDaGFySW5kZXhcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJ1c0xhc3RDaGFySW5kZXhcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJzVHlwb0FzY2VuZGVyXCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJzVHlwb0Rlc2NlbmRlclwiLHR5cGU6XCJTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwic1R5cG9MaW5lR2FwXCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJ1c1dpbkFzY2VudFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInVzV2luRGVzY2VudFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcInVsQ29kZVBhZ2VSYW5nZTFcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTowfSx7bmFtZTpcInVsQ29kZVBhZ2VSYW5nZTJcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTowfSx7bmFtZTpcInN4SGVpZ2h0XCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJzQ2FwSGVpZ2h0XCIsdHlwZTpcIlNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJ1c0RlZmF1bHRDaGFyXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwidXNCcmVha0NoYXJcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJ1c01heENvbnRleHRcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH1dLGUpfSx1bmljb2RlUmFuZ2VzOm50LGdldFVuaWNvZGVSYW5nZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PG50Lmxlbmd0aDt0Kz0xKXt2YXIgcj1udFt0XTtpZihlPj1yLmJlZ2luJiZlPHIuZW5kKXJldHVybiB0fXJldHVybi0xfX07dmFyIGF0PXtwYXJzZTpmdW5jdGlvbihlLHQpe3ZhciByPXt9LGk9bmV3IHNlLlBhcnNlcihlLHQpO3N3aXRjaChyLnZlcnNpb249aS5wYXJzZVZlcnNpb24oKSxyLml0YWxpY0FuZ2xlPWkucGFyc2VGaXhlZCgpLHIudW5kZXJsaW5lUG9zaXRpb249aS5wYXJzZVNob3J0KCksci51bmRlcmxpbmVUaGlja25lc3M9aS5wYXJzZVNob3J0KCksci5pc0ZpeGVkUGl0Y2g9aS5wYXJzZVVMb25nKCksci5taW5NZW1UeXBlNDI9aS5wYXJzZVVMb25nKCksci5tYXhNZW1UeXBlNDI9aS5wYXJzZVVMb25nKCksci5taW5NZW1UeXBlMT1pLnBhcnNlVUxvbmcoKSxyLm1heE1lbVR5cGUxPWkucGFyc2VVTG9uZygpLHIudmVyc2lvbil7Y2FzZSAxOnIubmFtZXM9cGUuc2xpY2UoKTticmVhaztjYXNlIDI6ci5udW1iZXJPZkdseXBocz1pLnBhcnNlVVNob3J0KCksci5nbHlwaE5hbWVJbmRleD1uZXcgQXJyYXkoci5udW1iZXJPZkdseXBocyk7Zm9yKHZhciBuPTA7bjxyLm51bWJlck9mR2x5cGhzO24rKylyLmdseXBoTmFtZUluZGV4W25dPWkucGFyc2VVU2hvcnQoKTtyLm5hbWVzPVtdO2Zvcih2YXIgbz0wO288ci5udW1iZXJPZkdseXBocztvKyspaWYoci5nbHlwaE5hbWVJbmRleFtvXT49cGUubGVuZ3RoKXt2YXIgYT1pLnBhcnNlQ2hhcigpO3IubmFtZXMucHVzaChpLnBhcnNlU3RyaW5nKGEpKX1icmVhaztjYXNlIDIuNTpyLm51bWJlck9mR2x5cGhzPWkucGFyc2VVU2hvcnQoKSxyLm9mZnNldD1uZXcgQXJyYXkoci5udW1iZXJPZkdseXBocyk7Zm9yKHZhciBzPTA7czxyLm51bWJlck9mR2x5cGhzO3MrKylyLm9mZnNldFtzXT1pLnBhcnNlQ2hhcigpfXJldHVybiByfSxtYWtlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyAkLlRhYmxlKFwicG9zdFwiLFt7bmFtZTpcInZlcnNpb25cIix0eXBlOlwiRklYRURcIix2YWx1ZToxOTY2MDh9LHtuYW1lOlwiaXRhbGljQW5nbGVcIix0eXBlOlwiRklYRURcIix2YWx1ZTowfSx7bmFtZTpcInVuZGVybGluZVBvc2l0aW9uXCIsdHlwZTpcIkZXT1JEXCIsdmFsdWU6MH0se25hbWU6XCJ1bmRlcmxpbmVUaGlja25lc3NcIix0eXBlOlwiRldPUkRcIix2YWx1ZTowfSx7bmFtZTpcImlzRml4ZWRQaXRjaFwiLHR5cGU6XCJVTE9OR1wiLHZhbHVlOjB9LHtuYW1lOlwibWluTWVtVHlwZTQyXCIsdHlwZTpcIlVMT05HXCIsdmFsdWU6MH0se25hbWU6XCJtYXhNZW1UeXBlNDJcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTowfSx7bmFtZTpcIm1pbk1lbVR5cGUxXCIsdHlwZTpcIlVMT05HXCIsdmFsdWU6MH0se25hbWU6XCJtYXhNZW1UeXBlMVwiLHR5cGU6XCJVTE9OR1wiLHZhbHVlOjB9XSl9fSxzdD1uZXcgQXJyYXkoOSk7c3RbMV09ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9mZnNldCt0aGlzLnJlbGF0aXZlT2Zmc2V0LHQ9dGhpcy5wYXJzZVVTaG9ydCgpO3JldHVybiAxPT09dD97c3Vic3RGb3JtYXQ6MSxjb3ZlcmFnZTp0aGlzLnBhcnNlUG9pbnRlcihvZS5jb3ZlcmFnZSksZGVsdGFHbHlwaElkOnRoaXMucGFyc2VVU2hvcnQoKX06Mj09PXQ/e3N1YnN0Rm9ybWF0OjIsY292ZXJhZ2U6dGhpcy5wYXJzZVBvaW50ZXIob2UuY292ZXJhZ2UpLHN1YnN0aXR1dGU6dGhpcy5wYXJzZU9mZnNldDE2TGlzdCgpfTp2b2lkIFAuYXNzZXJ0KCExLFwiMHhcIitlLnRvU3RyaW5nKDE2KStcIjogbG9va3VwIHR5cGUgMSBmb3JtYXQgbXVzdCBiZSAxIG9yIDIuXCIpfSxzdFsyXT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGFyc2VVU2hvcnQoKTtyZXR1cm4gUC5hcmd1bWVudCgxPT09ZSxcIkdTVUIgTXVsdGlwbGUgU3Vic3RpdHV0aW9uIFN1YnRhYmxlIGlkZW50aWZpZXItZm9ybWF0IG11c3QgYmUgMVwiKSx7c3Vic3RGb3JtYXQ6ZSxjb3ZlcmFnZTp0aGlzLnBhcnNlUG9pbnRlcihvZS5jb3ZlcmFnZSksc2VxdWVuY2VzOnRoaXMucGFyc2VMaXN0T2ZMaXN0cygpfX0sc3RbM109ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcnNlVVNob3J0KCk7cmV0dXJuIFAuYXJndW1lbnQoMT09PWUsXCJHU1VCIEFsdGVybmF0ZSBTdWJzdGl0dXRpb24gU3VidGFibGUgaWRlbnRpZmllci1mb3JtYXQgbXVzdCBiZSAxXCIpLHtzdWJzdEZvcm1hdDplLGNvdmVyYWdlOnRoaXMucGFyc2VQb2ludGVyKG9lLmNvdmVyYWdlKSxhbHRlcm5hdGVTZXRzOnRoaXMucGFyc2VMaXN0T2ZMaXN0cygpfX0sc3RbNF09ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhcnNlVVNob3J0KCk7cmV0dXJuIFAuYXJndW1lbnQoMT09PWUsXCJHU1VCIGxpZ2F0dXJlIHRhYmxlIGlkZW50aWZpZXItZm9ybWF0IG11c3QgYmUgMVwiKSx7c3Vic3RGb3JtYXQ6ZSxjb3ZlcmFnZTp0aGlzLnBhcnNlUG9pbnRlcihvZS5jb3ZlcmFnZSksbGlnYXR1cmVTZXRzOnRoaXMucGFyc2VMaXN0T2ZMaXN0cyhmdW5jdGlvbigpe3JldHVybntsaWdHbHlwaDp0aGlzLnBhcnNlVVNob3J0KCksY29tcG9uZW50czp0aGlzLnBhcnNlVVNob3J0TGlzdCh0aGlzLnBhcnNlVVNob3J0KCktMSl9fSl9fTt2YXIgaHQ9e3NlcXVlbmNlSW5kZXg6b2UudVNob3J0LGxvb2t1cExpc3RJbmRleDpvZS51U2hvcnR9O3N0WzVdPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXQrdGhpcy5yZWxhdGl2ZU9mZnNldCx0PXRoaXMucGFyc2VVU2hvcnQoKTtpZigxPT09dClyZXR1cm57c3Vic3RGb3JtYXQ6dCxjb3ZlcmFnZTp0aGlzLnBhcnNlUG9pbnRlcihvZS5jb3ZlcmFnZSkscnVsZVNldHM6dGhpcy5wYXJzZUxpc3RPZkxpc3RzKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJzZVVTaG9ydCgpLHQ9dGhpcy5wYXJzZVVTaG9ydCgpO3JldHVybntpbnB1dDp0aGlzLnBhcnNlVVNob3J0TGlzdChlLTEpLGxvb2t1cFJlY29yZHM6dGhpcy5wYXJzZVJlY29yZExpc3QodCxodCl9fSl9O2lmKDI9PT10KXJldHVybntzdWJzdEZvcm1hdDp0LGNvdmVyYWdlOnRoaXMucGFyc2VQb2ludGVyKG9lLmNvdmVyYWdlKSxjbGFzc0RlZjp0aGlzLnBhcnNlUG9pbnRlcihvZS5jbGFzc0RlZiksY2xhc3NTZXRzOnRoaXMucGFyc2VMaXN0T2ZMaXN0cyhmdW5jdGlvbigpe3ZhciBlPXRoaXMucGFyc2VVU2hvcnQoKSx0PXRoaXMucGFyc2VVU2hvcnQoKTtyZXR1cm57Y2xhc3Nlczp0aGlzLnBhcnNlVVNob3J0TGlzdChlLTEpLGxvb2t1cFJlY29yZHM6dGhpcy5wYXJzZVJlY29yZExpc3QodCxodCl9fSl9O2lmKDM9PT10KXt2YXIgcj10aGlzLnBhcnNlVVNob3J0KCksaT10aGlzLnBhcnNlVVNob3J0KCk7cmV0dXJue3N1YnN0Rm9ybWF0OnQsY292ZXJhZ2VzOnRoaXMucGFyc2VMaXN0KHIsb2UucG9pbnRlcihvZS5jb3ZlcmFnZSkpLGxvb2t1cFJlY29yZHM6dGhpcy5wYXJzZVJlY29yZExpc3QoaSxodCl9fVAuYXNzZXJ0KCExLFwiMHhcIitlLnRvU3RyaW5nKDE2KStcIjogbG9va3VwIHR5cGUgNSBmb3JtYXQgbXVzdCBiZSAxLCAyIG9yIDMuXCIpfSxzdFs2XT1mdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0K3RoaXMucmVsYXRpdmVPZmZzZXQsdD10aGlzLnBhcnNlVVNob3J0KCk7cmV0dXJuIDE9PT10P3tzdWJzdEZvcm1hdDoxLGNvdmVyYWdlOnRoaXMucGFyc2VQb2ludGVyKG9lLmNvdmVyYWdlKSxjaGFpblJ1bGVTZXRzOnRoaXMucGFyc2VMaXN0T2ZMaXN0cyhmdW5jdGlvbigpe3JldHVybntiYWNrdHJhY2s6dGhpcy5wYXJzZVVTaG9ydExpc3QoKSxpbnB1dDp0aGlzLnBhcnNlVVNob3J0TGlzdCh0aGlzLnBhcnNlU2hvcnQoKS0xKSxsb29rYWhlYWQ6dGhpcy5wYXJzZVVTaG9ydExpc3QoKSxsb29rdXBSZWNvcmRzOnRoaXMucGFyc2VSZWNvcmRMaXN0KGh0KX19KX06Mj09PXQ/e3N1YnN0Rm9ybWF0OjIsY292ZXJhZ2U6dGhpcy5wYXJzZVBvaW50ZXIob2UuY292ZXJhZ2UpLGJhY2t0cmFja0NsYXNzRGVmOnRoaXMucGFyc2VQb2ludGVyKG9lLmNsYXNzRGVmKSxpbnB1dENsYXNzRGVmOnRoaXMucGFyc2VQb2ludGVyKG9lLmNsYXNzRGVmKSxsb29rYWhlYWRDbGFzc0RlZjp0aGlzLnBhcnNlUG9pbnRlcihvZS5jbGFzc0RlZiksY2hhaW5DbGFzc1NldDp0aGlzLnBhcnNlTGlzdE9mTGlzdHMoZnVuY3Rpb24oKXtyZXR1cm57YmFja3RyYWNrOnRoaXMucGFyc2VVU2hvcnRMaXN0KCksaW5wdXQ6dGhpcy5wYXJzZVVTaG9ydExpc3QodGhpcy5wYXJzZVNob3J0KCktMSksbG9va2FoZWFkOnRoaXMucGFyc2VVU2hvcnRMaXN0KCksbG9va3VwUmVjb3Jkczp0aGlzLnBhcnNlUmVjb3JkTGlzdChodCl9fSl9OjM9PT10P3tzdWJzdEZvcm1hdDozLGJhY2t0cmFja0NvdmVyYWdlOnRoaXMucGFyc2VMaXN0KG9lLnBvaW50ZXIob2UuY292ZXJhZ2UpKSxpbnB1dENvdmVyYWdlOnRoaXMucGFyc2VMaXN0KG9lLnBvaW50ZXIob2UuY292ZXJhZ2UpKSxsb29rYWhlYWRDb3ZlcmFnZTp0aGlzLnBhcnNlTGlzdChvZS5wb2ludGVyKG9lLmNvdmVyYWdlKSksbG9va3VwUmVjb3Jkczp0aGlzLnBhcnNlUmVjb3JkTGlzdChodCl9OnZvaWQgUC5hc3NlcnQoITEsXCIweFwiK2UudG9TdHJpbmcoMTYpK1wiOiBsb29rdXAgdHlwZSA2IGZvcm1hdCBtdXN0IGJlIDEsIDIgb3IgMy5cIil9LHN0WzddPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJzZVVTaG9ydCgpO1AuYXJndW1lbnQoMT09PWUsXCJHU1VCIEV4dGVuc2lvbiBTdWJzdGl0dXRpb24gc3VidGFibGUgaWRlbnRpZmllci1mb3JtYXQgbXVzdCBiZSAxXCIpO3ZhciB0PXRoaXMucGFyc2VVU2hvcnQoKSxyPW5ldyBvZSh0aGlzLmRhdGEsdGhpcy5vZmZzZXQrdGhpcy5wYXJzZVVMb25nKCkpO3JldHVybntzdWJzdEZvcm1hdDoxLGxvb2t1cFR5cGU6dCxleHRlbnNpb246c3RbdF0uY2FsbChyKX19LHN0WzhdPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wYXJzZVVTaG9ydCgpO3JldHVybiBQLmFyZ3VtZW50KDE9PT1lLFwiR1NVQiBSZXZlcnNlIENoYWluaW5nIENvbnRleHR1YWwgU2luZ2xlIFN1YnN0aXR1dGlvbiBTdWJ0YWJsZSBpZGVudGlmaWVyLWZvcm1hdCBtdXN0IGJlIDFcIikse3N1YnN0Rm9ybWF0OmUsY292ZXJhZ2U6dGhpcy5wYXJzZVBvaW50ZXIob2UuY292ZXJhZ2UpLGJhY2t0cmFja0NvdmVyYWdlOnRoaXMucGFyc2VMaXN0KG9lLnBvaW50ZXIob2UuY292ZXJhZ2UpKSxsb29rYWhlYWRDb3ZlcmFnZTp0aGlzLnBhcnNlTGlzdChvZS5wb2ludGVyKG9lLmNvdmVyYWdlKSksc3Vic3RpdHV0ZXM6dGhpcy5wYXJzZVVTaG9ydExpc3QoKX19O3ZhciBsdD1uZXcgQXJyYXkoOSk7bHRbMV09ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLnN1YnN0Rm9ybWF0P25ldyAkLlRhYmxlKFwic3Vic3RpdHV0aW9uVGFibGVcIixbe25hbWU6XCJzdWJzdEZvcm1hdFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZToxfSx7bmFtZTpcImNvdmVyYWdlXCIsdHlwZTpcIlRBQkxFXCIsdmFsdWU6bmV3ICQuQ292ZXJhZ2UoZS5jb3ZlcmFnZSl9LHtuYW1lOlwiZGVsdGFHbHlwaElEXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOmUuZGVsdGFHbHlwaElkfV0pOm5ldyAkLlRhYmxlKFwic3Vic3RpdHV0aW9uVGFibGVcIixbe25hbWU6XCJzdWJzdEZvcm1hdFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZToyfSx7bmFtZTpcImNvdmVyYWdlXCIsdHlwZTpcIlRBQkxFXCIsdmFsdWU6bmV3ICQuQ292ZXJhZ2UoZS5jb3ZlcmFnZSl9XS5jb25jYXQoJC51c2hvcnRMaXN0KFwic3Vic3RpdHV0ZVwiLGUuc3Vic3RpdHV0ZSkpKX0sbHRbM109ZnVuY3Rpb24oZSl7cmV0dXJuIFAuYXNzZXJ0KDE9PT1lLnN1YnN0Rm9ybWF0LFwiTG9va3VwIHR5cGUgMyBzdWJzdEZvcm1hdCBtdXN0IGJlIDEuXCIpLG5ldyAkLlRhYmxlKFwic3Vic3RpdHV0aW9uVGFibGVcIixbe25hbWU6XCJzdWJzdEZvcm1hdFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZToxfSx7bmFtZTpcImNvdmVyYWdlXCIsdHlwZTpcIlRBQkxFXCIsdmFsdWU6bmV3ICQuQ292ZXJhZ2UoZS5jb3ZlcmFnZSl9XS5jb25jYXQoJC50YWJsZUxpc3QoXCJhbHRTZXRcIixlLmFsdGVybmF0ZVNldHMsZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyAkLlRhYmxlKFwiYWx0ZXJuYXRlU2V0VGFibGVcIiwkLnVzaG9ydExpc3QoXCJhbHRlcm5hdGVcIixlKSl9KSkpfSxsdFs0XT1mdW5jdGlvbihlKXtyZXR1cm4gUC5hc3NlcnQoMT09PWUuc3Vic3RGb3JtYXQsXCJMb29rdXAgdHlwZSA0IHN1YnN0Rm9ybWF0IG11c3QgYmUgMS5cIiksbmV3ICQuVGFibGUoXCJzdWJzdGl0dXRpb25UYWJsZVwiLFt7bmFtZTpcInN1YnN0Rm9ybWF0XCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjF9LHtuYW1lOlwiY292ZXJhZ2VcIix0eXBlOlwiVEFCTEVcIix2YWx1ZTpuZXcgJC5Db3ZlcmFnZShlLmNvdmVyYWdlKX1dLmNvbmNhdCgkLnRhYmxlTGlzdChcImxpZ1NldFwiLGUubGlnYXR1cmVTZXRzLGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgJC5UYWJsZShcImxpZ2F0dXJlU2V0VGFibGVcIiwkLnRhYmxlTGlzdChcImxpZ2F0dXJlXCIsZSxmdW5jdGlvbihlKXtyZXR1cm4gbmV3ICQuVGFibGUoXCJsaWdhdHVyZVRhYmxlXCIsW3tuYW1lOlwibGlnR2x5cGhcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6ZS5saWdHbHlwaH1dLmNvbmNhdCgkLnVzaG9ydExpc3QoXCJjb21wb25lbnRcIixlLmNvbXBvbmVudHMsZS5jb21wb25lbnRzLmxlbmd0aCsxKSkpfSkpfSkpKX07dmFyIHV0PXtwYXJzZTpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBvZShlLHQ9dHx8MCksaT1yLnBhcnNlVmVyc2lvbigxKTtyZXR1cm4gUC5hcmd1bWVudCgxPT09aXx8MS4xPT09aSxcIlVuc3VwcG9ydGVkIEdTVUIgdGFibGUgdmVyc2lvbi5cIiksMT09PWk/e3ZlcnNpb246aSxzY3JpcHRzOnIucGFyc2VTY3JpcHRMaXN0KCksZmVhdHVyZXM6ci5wYXJzZUZlYXR1cmVMaXN0KCksbG9va3VwczpyLnBhcnNlTG9va3VwTGlzdChzdCl9Ont2ZXJzaW9uOmksc2NyaXB0czpyLnBhcnNlU2NyaXB0TGlzdCgpLGZlYXR1cmVzOnIucGFyc2VGZWF0dXJlTGlzdCgpLGxvb2t1cHM6ci5wYXJzZUxvb2t1cExpc3Qoc3QpLHZhcmlhdGlvbnM6ci5wYXJzZUZlYXR1cmVWYXJpYXRpb25zTGlzdCgpfX0sbWFrZTpmdW5jdGlvbihlKXtyZXR1cm4gbmV3ICQuVGFibGUoXCJHU1VCXCIsW3tuYW1lOlwidmVyc2lvblwiLHR5cGU6XCJVTE9OR1wiLHZhbHVlOjY1NTM2fSx7bmFtZTpcInNjcmlwdHNcIix0eXBlOlwiVEFCTEVcIix2YWx1ZTpuZXcgJC5TY3JpcHRMaXN0KGUuc2NyaXB0cyl9LHtuYW1lOlwiZmVhdHVyZXNcIix0eXBlOlwiVEFCTEVcIix2YWx1ZTpuZXcgJC5GZWF0dXJlTGlzdChlLmZlYXR1cmVzKX0se25hbWU6XCJsb29rdXBzXCIsdHlwZTpcIlRBQkxFXCIsdmFsdWU6bmV3ICQuTG9va3VwTGlzdChlLmxvb2t1cHMsbHQpfV0pfX07dmFyIGN0PXtwYXJzZTpmdW5jdGlvbihlLHQpe3ZhciByPW5ldyBzZS5QYXJzZXIoZSx0KSxpPXIucGFyc2VVTG9uZygpO1AuYXJndW1lbnQoMT09PWksXCJVbnN1cHBvcnRlZCBNRVRBIHRhYmxlIHZlcnNpb24uXCIpLHIucGFyc2VVTG9uZygpLHIucGFyc2VVTG9uZygpO2Zvcih2YXIgbj1yLnBhcnNlVUxvbmcoKSxvPXt9LGE9MDthPG47YSsrKXt2YXIgcz1yLnBhcnNlVGFnKCksaD1yLnBhcnNlVUxvbmcoKSxsPXIucGFyc2VVTG9uZygpLHU9SS5VVEY4KGUsdCtoLGwpO29bc109dX1yZXR1cm4gb30sbWFrZTpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhlKS5sZW5ndGgscj1cIlwiLGk9MTYrMTIqdCxuPW5ldyAkLlRhYmxlKFwibWV0YVwiLFt7bmFtZTpcInZlcnNpb25cIix0eXBlOlwiVUxPTkdcIix2YWx1ZToxfSx7bmFtZTpcImZsYWdzXCIsdHlwZTpcIlVMT05HXCIsdmFsdWU6MH0se25hbWU6XCJvZmZzZXRcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTppfSx7bmFtZTpcIm51bVRhZ3NcIix0eXBlOlwiVUxPTkdcIix2YWx1ZTp0fV0pO2Zvcih2YXIgbyBpbiBlKXt2YXIgYT1yLmxlbmd0aDtyKz1lW29dLG4uZmllbGRzLnB1c2goe25hbWU6XCJ0YWcgXCIrbyx0eXBlOlwiVEFHXCIsdmFsdWU6b30pLG4uZmllbGRzLnB1c2goe25hbWU6XCJvZmZzZXQgXCIrbyx0eXBlOlwiVUxPTkdcIix2YWx1ZTppK2F9KSxuLmZpZWxkcy5wdXNoKHtuYW1lOlwibGVuZ3RoIFwiK28sdHlwZTpcIlVMT05HXCIsdmFsdWU6ZVtvXS5sZW5ndGh9KX1yZXR1cm4gbi5maWVsZHMucHVzaCh7bmFtZTpcInN0cmluZ1Bvb2xcIix0eXBlOlwiQ0hBUkFSUkFZXCIsdmFsdWU6cn0pLG59fTtmdW5jdGlvbiBwdChlKXtyZXR1cm4gTWF0aC5sb2coZSkvTWF0aC5sb2coMil8MH1mdW5jdGlvbiBkdChlKXtmb3IoO2UubGVuZ3RoJTQhPTA7KWUucHVzaCgwKTtmb3IodmFyIHQ9MCxyPTA7cjxlLmxlbmd0aDtyKz00KXQrPShlW3JdPDwyNCkrKGVbcisxXTw8MTYpKyhlW3IrMl08PDgpK2VbciszXTtyZXR1cm4gdCU9TWF0aC5wb3coMiwzMil9ZnVuY3Rpb24gZnQoZSx0LHIsaSl7cmV0dXJuIG5ldyAkLlJlY29yZChcIlRhYmxlIFJlY29yZFwiLFt7bmFtZTpcInRhZ1wiLHR5cGU6XCJUQUdcIix2YWx1ZTp2b2lkIDAhPT1lP2U6XCJcIn0se25hbWU6XCJjaGVja1N1bVwiLHR5cGU6XCJVTE9OR1wiLHZhbHVlOnZvaWQgMCE9PXQ/dDowfSx7bmFtZTpcIm9mZnNldFwiLHR5cGU6XCJVTE9OR1wiLHZhbHVlOnZvaWQgMCE9PXI/cjowfSx7bmFtZTpcImxlbmd0aFwiLHR5cGU6XCJVTE9OR1wiLHZhbHVlOnZvaWQgMCE9PWk/aTowfV0pfWZ1bmN0aW9uIG10KGUpe3ZhciB0PW5ldyAkLlRhYmxlKFwic2ZudFwiLFt7bmFtZTpcInZlcnNpb25cIix0eXBlOlwiVEFHXCIsdmFsdWU6XCJPVFRPXCJ9LHtuYW1lOlwibnVtVGFibGVzXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwic2VhcmNoUmFuZ2VcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJlbnRyeVNlbGVjdG9yXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjB9LHtuYW1lOlwicmFuZ2VTaGlmdFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfV0pO3QudGFibGVzPWUsdC5udW1UYWJsZXM9ZS5sZW5ndGg7dmFyIHI9TWF0aC5wb3coMixwdCh0Lm51bVRhYmxlcykpO3Quc2VhcmNoUmFuZ2U9MTYqcix0LmVudHJ5U2VsZWN0b3I9cHQociksdC5yYW5nZVNoaWZ0PTE2KnQubnVtVGFibGVzLXQuc2VhcmNoUmFuZ2U7Zm9yKHZhciBpPVtdLG49W10sbz10LnNpemVPZigpK2Z0KCkuc2l6ZU9mKCkqdC5udW1UYWJsZXM7byU0IT0wOylvKz0xLG4ucHVzaCh7bmFtZTpcInBhZGRpbmdcIix0eXBlOlwiQllURVwiLHZhbHVlOjB9KTtmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErPTEpe3ZhciBzPWVbYV07UC5hcmd1bWVudCg0PT09cy50YWJsZU5hbWUubGVuZ3RoLFwiVGFibGUgbmFtZVwiK3MudGFibGVOYW1lK1wiIGlzIGludmFsaWQuXCIpO3ZhciBoPXMuc2l6ZU9mKCksbD1mdChzLnRhYmxlTmFtZSxkdChzLmVuY29kZSgpKSxvLGgpO2ZvcihpLnB1c2goe25hbWU6bC50YWcrXCIgVGFibGUgUmVjb3JkXCIsdHlwZTpcIlJFQ09SRFwiLHZhbHVlOmx9KSxuLnB1c2goe25hbWU6cy50YWJsZU5hbWUrXCIgdGFibGVcIix0eXBlOlwiUkVDT1JEXCIsdmFsdWU6c30pLG8rPWgsUC5hcmd1bWVudCghaXNOYU4obyksXCJTb21ldGhpbmcgd2VudCB3cm9uZyBjYWxjdWxhdGluZyB0aGUgb2Zmc2V0LlwiKTtvJTQhPTA7KW8rPTEsbi5wdXNoKHtuYW1lOlwicGFkZGluZ1wiLHR5cGU6XCJCWVRFXCIsdmFsdWU6MH0pfXJldHVybiBpLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS52YWx1ZS50YWc+dC52YWx1ZS50YWc/MTotMX0pLHQuZmllbGRzPXQuZmllbGRzLmNvbmNhdChpKSx0LmZpZWxkcz10LmZpZWxkcy5jb25jYXQobiksdH1mdW5jdGlvbiB2dChlLHQscil7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKz0xKXt2YXIgbj1lLmNoYXJUb0dseXBoSW5kZXgodFtpXSk7aWYoMDxuKXJldHVybiBlLmdseXBocy5nZXQobikuZ2V0TWV0cmljcygpfXJldHVybiByfXZhciBndD17bWFrZTptdCxmb250VG9UYWJsZTpmdW5jdGlvbihlKXtmb3IodmFyIHQscj1bXSxpPVtdLG49W10sbz1bXSxhPVtdLHM9W10saD1bXSxsPTAsdT0wLGM9MCxwPTAsZD0wLGY9MDtmPGUuZ2x5cGhzLmxlbmd0aDtmKz0xKXt2YXIgbT1lLmdseXBocy5nZXQoZiksdj0wfG0udW5pY29kZTtpZihpc05hTihtLmFkdmFuY2VXaWR0aCkpdGhyb3cgbmV3IEVycm9yKFwiR2x5cGggXCIrbS5uYW1lK1wiIChcIitmK1wiKTogYWR2YW5jZVdpZHRoIGlzIG5vdCBhIG51bWJlci5cIik7KHY8dHx8dm9pZCAwPT09dCkmJjA8diYmKHQ9diksbDx2JiYobD12KTt2YXIgZz1vdC5nZXRVbmljb2RlUmFuZ2Uodik7aWYoZzwzMil1fD0xPDxnO2Vsc2UgaWYoZzw2NCljfD0xPDxnLTMyO2Vsc2UgaWYoZzw5NilwfD0xPDxnLTY0O2Vsc2V7aWYoIShnPDEyMykpdGhyb3cgbmV3IEVycm9yKFwiVW5pY29kZSByYW5nZXMgYml0cyA+IDEyMyBhcmUgcmVzZXJ2ZWQgZm9yIGludGVybmFsIHVzYWdlXCIpO2R8PTE8PGctOTZ9aWYoXCIubm90ZGVmXCIhPT1tLm5hbWUpe3ZhciB5PW0uZ2V0TWV0cmljcygpO3IucHVzaCh5LnhNaW4pLGkucHVzaCh5LnlNaW4pLG4ucHVzaCh5LnhNYXgpLG8ucHVzaCh5LnlNYXgpLHMucHVzaCh5LmxlZnRTaWRlQmVhcmluZyksaC5wdXNoKHkucmlnaHRTaWRlQmVhcmluZyksYS5wdXNoKG0uYWR2YW5jZVdpZHRoKX19dmFyIGI9e3hNaW46TWF0aC5taW4uYXBwbHkobnVsbCxyKSx5TWluOk1hdGgubWluLmFwcGx5KG51bGwsaSkseE1heDpNYXRoLm1heC5hcHBseShudWxsLG4pLHlNYXg6TWF0aC5tYXguYXBwbHkobnVsbCxvKSxhZHZhbmNlV2lkdGhNYXg6TWF0aC5tYXguYXBwbHkobnVsbCxhKSxhZHZhbmNlV2lkdGhBdmc6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj0wO3I8ZS5sZW5ndGg7cis9MSl0Kz1lW3JdO3JldHVybiB0L2UubGVuZ3RofShhKSxtaW5MZWZ0U2lkZUJlYXJpbmc6TWF0aC5taW4uYXBwbHkobnVsbCxzKSxtYXhMZWZ0U2lkZUJlYXJpbmc6TWF0aC5tYXguYXBwbHkobnVsbCxzKSxtaW5SaWdodFNpZGVCZWFyaW5nOk1hdGgubWluLmFwcGx5KG51bGwsaCl9O2IuYXNjZW5kZXI9ZS5hc2NlbmRlcixiLmRlc2NlbmRlcj1lLmRlc2NlbmRlcjt2YXIgXz1OZS5tYWtlKHtmbGFnczozLHVuaXRzUGVyRW06ZS51bml0c1BlckVtLHhNaW46Yi54TWluLHlNaW46Yi55TWluLHhNYXg6Yi54TWF4LHlNYXg6Yi55TWF4LGxvd2VzdFJlY1BQRU06MyxjcmVhdGVkVGltZXN0YW1wOmUuY3JlYXRlZFRpbWVzdGFtcH0pLHg9VmUubWFrZSh7YXNjZW5kZXI6Yi5hc2NlbmRlcixkZXNjZW5kZXI6Yi5kZXNjZW5kZXIsYWR2YW5jZVdpZHRoTWF4OmIuYWR2YW5jZVdpZHRoTWF4LG1pbkxlZnRTaWRlQmVhcmluZzpiLm1pbkxlZnRTaWRlQmVhcmluZyxtaW5SaWdodFNpZGVCZWFyaW5nOmIubWluUmlnaHRTaWRlQmVhcmluZyx4TWF4RXh0ZW50OmIubWF4TGVmdFNpZGVCZWFyaW5nKyhiLnhNYXgtYi54TWluKSxudW1iZXJPZkhNZXRyaWNzOmUuZ2x5cGhzLmxlbmd0aH0pLHc9amUubWFrZShlLmdseXBocy5sZW5ndGgpLFM9b3QubWFrZSh7eEF2Z0NoYXJXaWR0aDpNYXRoLnJvdW5kKGIuYWR2YW5jZVdpZHRoQXZnKSx1c1dlaWdodENsYXNzOmUudGFibGVzLm9zMi51c1dlaWdodENsYXNzLHVzV2lkdGhDbGFzczplLnRhYmxlcy5vczIudXNXaWR0aENsYXNzLHVzRmlyc3RDaGFySW5kZXg6dCx1c0xhc3RDaGFySW5kZXg6bCx1bFVuaWNvZGVSYW5nZTE6dSx1bFVuaWNvZGVSYW5nZTI6Yyx1bFVuaWNvZGVSYW5nZTM6cCx1bFVuaWNvZGVSYW5nZTQ6ZCxmc1NlbGVjdGlvbjplLnRhYmxlcy5vczIuZnNTZWxlY3Rpb24sc1R5cG9Bc2NlbmRlcjpiLmFzY2VuZGVyLHNUeXBvRGVzY2VuZGVyOmIuZGVzY2VuZGVyLHNUeXBvTGluZUdhcDowLHVzV2luQXNjZW50OmIueU1heCx1c1dpbkRlc2NlbnQ6TWF0aC5hYnMoYi55TWluKSx1bENvZGVQYWdlUmFuZ2UxOjEsc3hIZWlnaHQ6dnQoZSxcInh5dndcIix7eU1heDpNYXRoLnJvdW5kKGIuYXNjZW5kZXIvMil9KS55TWF4LHNDYXBIZWlnaHQ6dnQoZSxcIkhJS0xFRkpNTlRaQkRQUkFHT1FTVVZXWFlcIixiKS55TWF4LHVzRGVmYXVsdENoYXI6ZS5oYXNDaGFyKFwiIFwiKT8zMjowLHVzQnJlYWtDaGFyOmUuaGFzQ2hhcihcIiBcIik/MzI6MH0pLFQ9emUubWFrZShlLmdseXBocyksTT1oZS5tYWtlKGUuZ2x5cGhzKSxFPWUuZ2V0RW5nbGlzaE5hbWUoXCJmb250RmFtaWx5XCIpLEM9ZS5nZXRFbmdsaXNoTmFtZShcImZvbnRTdWJmYW1pbHlcIiksUj1FK1wiIFwiK0MsTD1lLmdldEVuZ2xpc2hOYW1lKFwicG9zdFNjcmlwdE5hbWVcIik7THx8KEw9RS5yZXBsYWNlKC9cXHMvZyxcIlwiKStcIi1cIitDKTt2YXIgUD17fTtmb3IodmFyIGsgaW4gZS5uYW1lcylQW2tdPWUubmFtZXNba107UC51bmlxdWVJRHx8KFAudW5pcXVlSUQ9e2VuOmUuZ2V0RW5nbGlzaE5hbWUoXCJtYW51ZmFjdHVyZXJcIikrXCI6XCIrUn0pLFAucG9zdFNjcmlwdE5hbWV8fChQLnBvc3RTY3JpcHROYW1lPXtlbjpMfSksUC5wcmVmZXJyZWRGYW1pbHl8fChQLnByZWZlcnJlZEZhbWlseT1lLm5hbWVzLmZvbnRGYW1pbHkpLFAucHJlZmVycmVkU3ViZmFtaWx5fHwoUC5wcmVmZXJyZWRTdWJmYW1pbHk9ZS5uYW1lcy5mb250U3ViZmFtaWx5KTt2YXIgST1bXSxEPWl0Lm1ha2UoUCxJKSxBPTA8SS5sZW5ndGg/SGUubWFrZShJKTp2b2lkIDAsVT1hdC5tYWtlKCksTz1HZS5tYWtlKGUuZ2x5cGhzLHt2ZXJzaW9uOmUuZ2V0RW5nbGlzaE5hbWUoXCJ2ZXJzaW9uXCIpLGZ1bGxOYW1lOlIsZmFtaWx5TmFtZTpFLHdlaWdodE5hbWU6Qyxwb3N0U2NyaXB0TmFtZTpMLHVuaXRzUGVyRW06ZS51bml0c1BlckVtLGZvbnRCQm94OlswLGIueU1pbixiLmFzY2VuZGVyLGIuYWR2YW5jZVdpZHRoTWF4XX0pLEI9ZS5tZXRhcyYmMDxPYmplY3Qua2V5cyhlLm1ldGFzKS5sZW5ndGg/Y3QubWFrZShlLm1ldGFzKTp2b2lkIDAsRj1bXyx4LHcsUyxELE0sVSxPLFRdO0EmJkYucHVzaChBKSxlLnRhYmxlcy5nc3ViJiZGLnB1c2godXQubWFrZShlLnRhYmxlcy5nc3ViKSksQiYmRi5wdXNoKEIpO2Zvcih2YXIgRz1tdChGKSxOPWR0KEcuZW5jb2RlKCkpLFY9Ry5maWVsZHMsej0hMSxIPTA7SDxWLmxlbmd0aDtIKz0xKWlmKFwiaGVhZCB0YWJsZVwiPT09VltIXS5uYW1lKXtWW0hdLnZhbHVlLmNoZWNrU3VtQWRqdXN0bWVudD0yOTgxMTQ2NTU0LU4sej0hMDticmVha31pZigheil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBoZWFkIHRhYmxlIHdpdGggY2hlY2tTdW0gdG8gYWRqdXN0LlwiKTtyZXR1cm4gR30sY29tcHV0ZUNoZWNrU3VtOmR0fTtmdW5jdGlvbiB5dChlLHQpe2Zvcih2YXIgcj0wLGk9ZS5sZW5ndGgtMTtyPD1pOyl7dmFyIG49citpPj4+MSxvPWVbbl0udGFnO2lmKG89PT10KXJldHVybiBuO288dD9yPW4rMTppPW4tMX1yZXR1cm4tci0xfWZ1bmN0aW9uIGJ0KGUsdCl7Zm9yKHZhciByPTAsaT1lLmxlbmd0aC0xO3I8PWk7KXt2YXIgbj1yK2k+Pj4xLG89ZVtuXTtpZihvPT09dClyZXR1cm4gbjtvPHQ/cj1uKzE6aT1uLTF9cmV0dXJuLXItMX1mdW5jdGlvbiBfdChlLHQpe2Zvcih2YXIgcixpPTAsbj1lLmxlbmd0aC0xO2k8PW47KXt2YXIgbz1pK24+Pj4xLGE9KHI9ZVtvXSkuc3RhcnQ7aWYoYT09PXQpcmV0dXJuIHI7YTx0P2k9bysxOm49by0xfWlmKDA8aSlyZXR1cm4gdD4ocj1lW2ktMV0pLmVuZD8wOnJ9ZnVuY3Rpb24geHQoZSx0KXt0aGlzLmZvbnQ9ZSx0aGlzLnRhYmxlTmFtZT10fWZ1bmN0aW9uIHd0KGUpe3h0LmNhbGwodGhpcyxlLFwiZ3Bvc1wiKX1mdW5jdGlvbiBTdChlKXt4dC5jYWxsKHRoaXMsZSxcImdzdWJcIil9ZnVuY3Rpb24gVHQoZSx0KXt2YXIgcj1lLmxlbmd0aDtpZihyIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxyO2krKylpZihlW2ldIT09dFtpXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBNdChlLHQscil7Zm9yKHZhciBpPWUuc3VidGFibGVzLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXTtpZihvLnN1YnN0Rm9ybWF0PT09dClyZXR1cm4gb31pZihyKXJldHVybiBpLnB1c2gocikscn1mdW5jdGlvbiBFdChlKXtmb3IodmFyIHQ9bmV3IEFycmF5QnVmZmVyKGUubGVuZ3RoKSxyPW5ldyBVaW50OEFycmF5KHQpLGk9MDtpPGUubGVuZ3RoOysraSlyW2ldPWVbaV07cmV0dXJuIHR9ZnVuY3Rpb24gQ3QoZSx0KXtpZighZSl0aHJvdyB0fWZ1bmN0aW9uIFJ0KGUsdCxyLGksbil7dmFyIG87cmV0dXJuIG89MDwodCZpKT8obz1lLnBhcnNlQnl0ZSgpLDA9PSh0Jm4pJiYobz0tbykscitvKTowPCh0Jm4pP3I6citlLnBhcnNlU2hvcnQoKX1mdW5jdGlvbiBMdChlLHQscil7dmFyIGksbixvPW5ldyBzZS5QYXJzZXIodCxyKTtpZihlLm51bWJlck9mQ29udG91cnM9by5wYXJzZVNob3J0KCksZS5feE1pbj1vLnBhcnNlU2hvcnQoKSxlLl95TWluPW8ucGFyc2VTaG9ydCgpLGUuX3hNYXg9by5wYXJzZVNob3J0KCksZS5feU1heD1vLnBhcnNlU2hvcnQoKSwwPGUubnVtYmVyT2ZDb250b3Vycyl7Zm9yKHZhciBhPWUuZW5kUG9pbnRJbmRpY2VzPVtdLHM9MDtzPGUubnVtYmVyT2ZDb250b3VycztzKz0xKWEucHVzaChvLnBhcnNlVVNob3J0KCkpO2UuaW5zdHJ1Y3Rpb25MZW5ndGg9by5wYXJzZVVTaG9ydCgpLGUuaW5zdHJ1Y3Rpb25zPVtdO2Zvcih2YXIgaD0wO2g8ZS5pbnN0cnVjdGlvbkxlbmd0aDtoKz0xKWUuaW5zdHJ1Y3Rpb25zLnB1c2goby5wYXJzZUJ5dGUoKSk7dmFyIGw9YVthLmxlbmd0aC0xXSsxO2k9W107Zm9yKHZhciB1PTA7dTxsO3UrPTEpaWYobj1vLnBhcnNlQnl0ZSgpLGkucHVzaChuKSwwPCg4Jm4pKWZvcih2YXIgYz1vLnBhcnNlQnl0ZSgpLHA9MDtwPGM7cCs9MSlpLnB1c2gobiksdSs9MTtpZihQLmFyZ3VtZW50KGkubGVuZ3RoPT09bCxcIkJhZCBmbGFncy5cIiksMDxhLmxlbmd0aCl7dmFyIGQsZj1bXTtpZigwPGwpe2Zvcih2YXIgbT0wO208bDttKz0xKW49aVttXSwoZD17fSkub25DdXJ2ZT0hISgxJm4pLGQubGFzdFBvaW50T2ZDb250b3VyPTA8PWEuaW5kZXhPZihtKSxmLnB1c2goZCk7Zm9yKHZhciB2PTAsZz0wO2c8bDtnKz0xKW49aVtnXSwoZD1mW2ddKS54PVJ0KG8sbix2LDIsMTYpLHY9ZC54O2Zvcih2YXIgeT0wLGI9MDtiPGw7Yis9MSluPWlbYl0sKGQ9ZltiXSkueT1SdChvLG4seSw0LDMyKSx5PWQueX1lLnBvaW50cz1mfWVsc2UgZS5wb2ludHM9W119ZWxzZSBpZigwPT09ZS5udW1iZXJPZkNvbnRvdXJzKWUucG9pbnRzPVtdO2Vsc2V7ZS5pc0NvbXBvc2l0ZT0hMCxlLnBvaW50cz1bXSxlLmNvbXBvbmVudHM9W107Zm9yKHZhciBfPSEwO187KXtpPW8ucGFyc2VVU2hvcnQoKTt2YXIgeD17Z2x5cGhJbmRleDpvLnBhcnNlVVNob3J0KCkseFNjYWxlOjEsc2NhbGUwMTowLHNjYWxlMTA6MCx5U2NhbGU6MSxkeDowLGR5OjB9OzA8KDEmaSk/MDwoMiZpKT8oeC5keD1vLnBhcnNlU2hvcnQoKSx4LmR5PW8ucGFyc2VTaG9ydCgpKTp4Lm1hdGNoZWRQb2ludHM9W28ucGFyc2VVU2hvcnQoKSxvLnBhcnNlVVNob3J0KCldOjA8KDImaSk/KHguZHg9by5wYXJzZUNoYXIoKSx4LmR5PW8ucGFyc2VDaGFyKCkpOngubWF0Y2hlZFBvaW50cz1bby5wYXJzZUJ5dGUoKSxvLnBhcnNlQnl0ZSgpXSwwPCg4JmkpP3gueFNjYWxlPXgueVNjYWxlPW8ucGFyc2VGMkRvdDE0KCk6MDwoNjQmaSk/KHgueFNjYWxlPW8ucGFyc2VGMkRvdDE0KCkseC55U2NhbGU9by5wYXJzZUYyRG90MTQoKSk6MDwoMTI4JmkpJiYoeC54U2NhbGU9by5wYXJzZUYyRG90MTQoKSx4LnNjYWxlMDE9by5wYXJzZUYyRG90MTQoKSx4LnNjYWxlMTA9by5wYXJzZUYyRG90MTQoKSx4LnlTY2FsZT1vLnBhcnNlRjJEb3QxNCgpKSxlLmNvbXBvbmVudHMucHVzaCh4KSxfPSEhKDMyJmkpfWlmKDI1NiZpKXtlLmluc3RydWN0aW9uTGVuZ3RoPW8ucGFyc2VVU2hvcnQoKSxlLmluc3RydWN0aW9ucz1bXTtmb3IodmFyIHc9MDt3PGUuaW5zdHJ1Y3Rpb25MZW5ndGg7dys9MSllLmluc3RydWN0aW9ucy5wdXNoKG8ucGFyc2VCeXRlKCkpfX19ZnVuY3Rpb24gUHQoZSx0KXtmb3IodmFyIHI9W10saT0wO2k8ZS5sZW5ndGg7aSs9MSl7dmFyIG49ZVtpXSxvPXt4OnQueFNjYWxlKm4ueCt0LnNjYWxlMDEqbi55K3QuZHgseTp0LnNjYWxlMTAqbi54K3QueVNjYWxlKm4ueSt0LmR5LG9uQ3VydmU6bi5vbkN1cnZlLGxhc3RQb2ludE9mQ29udG91cjpuLmxhc3RQb2ludE9mQ29udG91cn07ci5wdXNoKG8pfXJldHVybiByfWZ1bmN0aW9uIGt0KGUpe3ZhciB0PW5ldyBVO2lmKCFlKXJldHVybiB0O2Zvcih2YXIgcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj1bXSxpPTA7aTxlLmxlbmd0aDtpKz0xKXt2YXIgbj1lW2ldO3IucHVzaChuKSxuLmxhc3RQb2ludE9mQ29udG91ciYmKHQucHVzaChyKSxyPVtdKX1yZXR1cm4gUC5hcmd1bWVudCgwPT09ci5sZW5ndGgsXCJUaGVyZSBhcmUgc3RpbGwgcG9pbnRzIGxlZnQgaW4gdGhlIGN1cnJlbnQgY29udG91ci5cIiksdH0oZSksaT0wO2k8ci5sZW5ndGg7KytpKXt2YXIgbj1yW2ldLG89bnVsbCxhPW5bbi5sZW5ndGgtMV0scz1uWzBdO2lmKGEub25DdXJ2ZSl0Lm1vdmVUbyhhLngsYS55KTtlbHNlIGlmKHMub25DdXJ2ZSl0Lm1vdmVUbyhzLngscy55KTtlbHNle3ZhciBoPXt4Oi41KihhLngrcy54KSx5Oi41KihhLnkrcy55KX07dC5tb3ZlVG8oaC54LGgueSl9Zm9yKHZhciBsPTA7bDxuLmxlbmd0aDsrK2wpaWYobz1hLGE9cyxzPW5bKGwrMSklbi5sZW5ndGhdLGEub25DdXJ2ZSl0LmxpbmVUbyhhLngsYS55KTtlbHNle3ZhciB1PXM7by5vbkN1cnZlfHx7eDouNSooYS54K28ueCkseTouNSooYS55K28ueSl9LHMub25DdXJ2ZXx8KHU9e3g6LjUqKGEueCtzLngpLHk6LjUqKGEueStzLnkpfSksdC5xdWFkcmF0aWNDdXJ2ZVRvKGEueCxhLnksdS54LHUueSl9dC5jbG9zZVBhdGgoKX1yZXR1cm4gdH1mdW5jdGlvbiBJdChlLHQpe2lmKHQuaXNDb21wb3NpdGUpZm9yKHZhciByPTA7cjx0LmNvbXBvbmVudHMubGVuZ3RoO3IrPTEpe3ZhciBpPXQuY29tcG9uZW50c1tyXSxuPWUuZ2V0KGkuZ2x5cGhJbmRleCk7aWYobi5nZXRQYXRoKCksbi5wb2ludHMpe3ZhciBvPXZvaWQgMDtpZih2b2lkIDA9PT1pLm1hdGNoZWRQb2ludHMpbz1QdChuLnBvaW50cyxpKTtlbHNle2lmKGkubWF0Y2hlZFBvaW50c1swXT50LnBvaW50cy5sZW5ndGgtMXx8aS5tYXRjaGVkUG9pbnRzWzFdPm4ucG9pbnRzLmxlbmd0aC0xKXRocm93IEVycm9yKFwiTWF0Y2hlZCBwb2ludHMgb3V0IG9mIHJhbmdlIGluIFwiK3QubmFtZSk7dmFyIGE9dC5wb2ludHNbaS5tYXRjaGVkUG9pbnRzWzBdXSxzPW4ucG9pbnRzW2kubWF0Y2hlZFBvaW50c1sxXV0saD17eFNjYWxlOmkueFNjYWxlLHNjYWxlMDE6aS5zY2FsZTAxLHNjYWxlMTA6aS5zY2FsZTEwLHlTY2FsZTppLnlTY2FsZSxkeDowLGR5OjB9O3M9UHQoW3NdLGgpWzBdLGguZHg9YS54LXMueCxoLmR5PWEueS1zLnksbz1QdChuLnBvaW50cyxoKX10LnBvaW50cz10LnBvaW50cy5jb25jYXQobyl9fXJldHVybiBrdCh0LnBvaW50cyl9KHd0LnByb3RvdHlwZT14dC5wcm90b3R5cGU9e3NlYXJjaFRhZzp5dCxiaW5TZWFyY2g6YnQsZ2V0VGFibGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5mb250LnRhYmxlc1t0aGlzLnRhYmxlTmFtZV07cmV0dXJuIXQmJmUmJih0PXRoaXMuZm9udC50YWJsZXNbdGhpcy50YWJsZU5hbWVdPXRoaXMuY3JlYXRlRGVmYXVsdFRhYmxlKCkpLHR9LGdldFNjcmlwdE5hbWVzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRUYWJsZSgpO3JldHVybiBlP2Uuc2NyaXB0cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFnfSk6W119LGdldERlZmF1bHRTY3JpcHROYW1lOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRUYWJsZSgpO2lmKGUpe2Zvcih2YXIgdD0hMSxyPTA7cjxlLnNjcmlwdHMubGVuZ3RoO3IrKyl7dmFyIGk9ZS5zY3JpcHRzW3JdLnRhZztpZihcIkRGTFRcIj09PWkpcmV0dXJuIGk7XCJsYXRuXCI9PT1pJiYodD0hMCl9cmV0dXJuIHQ/XCJsYXRuXCI6dm9pZCAwfX0sZ2V0U2NyaXB0VGFibGU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdldFRhYmxlKHQpO2lmKHIpe2U9ZXx8XCJERkxUXCI7dmFyIGk9ci5zY3JpcHRzLG49eXQoci5zY3JpcHRzLGUpO2lmKDA8PW4pcmV0dXJuIGlbbl0uc2NyaXB0O2lmKHQpe3ZhciBvPXt0YWc6ZSxzY3JpcHQ6e2RlZmF1bHRMYW5nU3lzOntyZXNlcnZlZDowLHJlcUZlYXR1cmVJbmRleDo2NTUzNSxmZWF0dXJlSW5kZXhlczpbXX0sbGFuZ1N5c1JlY29yZHM6W119fTtyZXR1cm4gaS5zcGxpY2UoLTEtbiwwLG8pLG8uc2NyaXB0fX19LGdldExhbmdTeXNUYWJsZTpmdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5nZXRTY3JpcHRUYWJsZShlLHIpO2lmKGkpe2lmKCF0fHxcImRmbHRcIj09PXR8fFwiREZMVFwiPT09dClyZXR1cm4gaS5kZWZhdWx0TGFuZ1N5czt2YXIgbj15dChpLmxhbmdTeXNSZWNvcmRzLHQpO2lmKDA8PW4pcmV0dXJuIGkubGFuZ1N5c1JlY29yZHNbbl0ubGFuZ1N5cztpZihyKXt2YXIgbz17dGFnOnQsbGFuZ1N5czp7cmVzZXJ2ZWQ6MCxyZXFGZWF0dXJlSW5kZXg6NjU1MzUsZmVhdHVyZUluZGV4ZXM6W119fTtyZXR1cm4gaS5sYW5nU3lzUmVjb3Jkcy5zcGxpY2UoLTEtbiwwLG8pLG8ubGFuZ1N5c319fSxnZXRGZWF0dXJlVGFibGU6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpcy5nZXRMYW5nU3lzVGFibGUoZSx0LGkpO2lmKG4pe2Zvcih2YXIgbyxhPW4uZmVhdHVyZUluZGV4ZXMscz10aGlzLmZvbnQudGFibGVzW3RoaXMudGFibGVOYW1lXS5mZWF0dXJlcyxoPTA7aDxhLmxlbmd0aDtoKyspaWYoKG89c1thW2hdXSkudGFnPT09cilyZXR1cm4gby5mZWF0dXJlO2lmKGkpe3ZhciBsPXMubGVuZ3RoO3JldHVybiBQLmFzc2VydCgwPT09bHx8cj49c1tsLTFdLnRhZyxcIkZlYXR1cmVzIG11c3QgYmUgYWRkZWQgaW4gYWxwaGFiZXRpY2FsIG9yZGVyLlwiKSxvPXt0YWc6cixmZWF0dXJlOntwYXJhbXM6MCxsb29rdXBMaXN0SW5kZXhlczpbXX19LHMucHVzaChvKSxhLnB1c2gobCksby5mZWF0dXJlfX19LGdldExvb2t1cFRhYmxlczpmdW5jdGlvbihlLHQscixpLG4pe3ZhciBvPXRoaXMuZ2V0RmVhdHVyZVRhYmxlKGUsdCxyLG4pLGE9W107aWYobyl7Zm9yKHZhciBzLGg9by5sb29rdXBMaXN0SW5kZXhlcyxsPXRoaXMuZm9udC50YWJsZXNbdGhpcy50YWJsZU5hbWVdLmxvb2t1cHMsdT0wO3U8aC5sZW5ndGg7dSsrKShzPWxbaFt1XV0pLmxvb2t1cFR5cGU9PT1pJiZhLnB1c2gocyk7aWYoMD09PWEubGVuZ3RoJiZuKXtzPXtsb29rdXBUeXBlOmksbG9va3VwRmxhZzowLHN1YnRhYmxlczpbXSxtYXJrRmlsdGVyaW5nU2V0OnZvaWQgMH07dmFyIGM9bC5sZW5ndGg7cmV0dXJuIGwucHVzaChzKSxoLnB1c2goYyksW3NdfX1yZXR1cm4gYX0sZ2V0R2x5cGhDbGFzczpmdW5jdGlvbihlLHQpe3N3aXRjaChlLmZvcm1hdCl7Y2FzZSAxOnJldHVybiBlLnN0YXJ0R2x5cGg8PXQmJnQ8ZS5zdGFydEdseXBoK2UuY2xhc3Nlcy5sZW5ndGg/ZS5jbGFzc2VzW3QtZS5zdGFydEdseXBoXTowO2Nhc2UgMjp2YXIgcj1fdChlLnJhbmdlcyx0KTtyZXR1cm4gcj9yLmNsYXNzSWQ6MH19LGdldENvdmVyYWdlSW5kZXg6ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZS5mb3JtYXQpe2Nhc2UgMTp2YXIgcj1idChlLmdseXBocyx0KTtyZXR1cm4gMDw9cj9yOi0xO2Nhc2UgMjp2YXIgaT1fdChlLnJhbmdlcyx0KTtyZXR1cm4gaT9pLmluZGV4K3QtaS5zdGFydDotMX19LGV4cGFuZENvdmVyYWdlOmZ1bmN0aW9uKGUpe2lmKDE9PT1lLmZvcm1hdClyZXR1cm4gZS5nbHlwaHM7Zm9yKHZhciB0PVtdLHI9ZS5yYW5nZXMsaT0wO2k8ci5sZW5ndGg7aSsrKWZvcih2YXIgbj1yW2ldLG89bi5zdGFydCxhPW4uZW5kLHM9bztzPD1hO3MrKyl0LnB1c2gocyk7cmV0dXJuIHR9fSkuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0RGVmYXVsdFNjcmlwdE5hbWUoKTt0aGlzLmRlZmF1bHRLZXJuaW5nVGFibGVzPXRoaXMuZ2V0S2VybmluZ1RhYmxlcyhlKX0sd3QucHJvdG90eXBlLmdldEtlcm5pbmdWYWx1ZT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciBuPWVbaV0uc3VidGFibGVzLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXSxzPXRoaXMuZ2V0Q292ZXJhZ2VJbmRleChhLmNvdmVyYWdlLHQpO2lmKCEoczwwKSlzd2l0Y2goYS5wb3NGb3JtYXQpe2Nhc2UgMTpmb3IodmFyIGg9YS5wYWlyU2V0c1tzXSxsPTA7bDxoLmxlbmd0aDtsKyspe3ZhciB1PWhbbF07aWYodS5zZWNvbmRHbHlwaD09PXIpcmV0dXJuIHUudmFsdWUxJiZ1LnZhbHVlMS54QWR2YW5jZXx8MH1icmVhaztjYXNlIDI6dmFyIGM9dGhpcy5nZXRHbHlwaENsYXNzKGEuY2xhc3NEZWYxLHQpLHA9dGhpcy5nZXRHbHlwaENsYXNzKGEuY2xhc3NEZWYyLHIpLGQ9YS5jbGFzc1JlY29yZHNbY11bcF07cmV0dXJuIGQudmFsdWUxJiZkLnZhbHVlMS54QWR2YW5jZXx8MH19cmV0dXJuIDB9LHd0LnByb3RvdHlwZS5nZXRLZXJuaW5nVGFibGVzPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5mb250LnRhYmxlcy5ncG9zKXJldHVybiB0aGlzLmdldExvb2t1cFRhYmxlcyhlLHQsXCJrZXJuXCIsMil9LChTdC5wcm90b3R5cGU9eHQucHJvdG90eXBlKS5jcmVhdGVEZWZhdWx0VGFibGU9ZnVuY3Rpb24oKXtyZXR1cm57dmVyc2lvbjoxLHNjcmlwdHM6W3t0YWc6XCJERkxUXCIsc2NyaXB0OntkZWZhdWx0TGFuZ1N5czp7cmVzZXJ2ZWQ6MCxyZXFGZWF0dXJlSW5kZXg6NjU1MzUsZmVhdHVyZUluZGV4ZXM6W119LGxhbmdTeXNSZWNvcmRzOltdfX1dLGZlYXR1cmVzOltdLGxvb2t1cHM6W119fSxTdC5wcm90b3R5cGUuZ2V0U2luZ2xlPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGk9W10sbj10aGlzLmdldExvb2t1cFRhYmxlcyh0LHIsZSwxKSxvPTA7bzxuLmxlbmd0aDtvKyspZm9yKHZhciBhPW5bb10uc3VidGFibGVzLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGg9YVtzXSxsPXRoaXMuZXhwYW5kQ292ZXJhZ2UoaC5jb3ZlcmFnZSksdT12b2lkIDA7aWYoMT09PWguc3Vic3RGb3JtYXQpe3ZhciBjPWguZGVsdGFHbHlwaElkO2Zvcih1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBwPWxbdV07aS5wdXNoKHtzdWI6cCxieTpwK2N9KX19ZWxzZXt2YXIgZD1oLnN1YnN0aXR1dGU7Zm9yKHU9MDt1PGwubGVuZ3RoO3UrKylpLnB1c2goe3N1YjpsW3VdLGJ5OmRbdV19KX19cmV0dXJuIGl9LFN0LnByb3RvdHlwZS5nZXRBbHRlcm5hdGVzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGk9W10sbj10aGlzLmdldExvb2t1cFRhYmxlcyh0LHIsZSwzKSxvPTA7bzxuLmxlbmd0aDtvKyspZm9yKHZhciBhPW5bb10uc3VidGFibGVzLHM9MDtzPGEubGVuZ3RoO3MrKylmb3IodmFyIGg9YVtzXSxsPXRoaXMuZXhwYW5kQ292ZXJhZ2UoaC5jb3ZlcmFnZSksdT1oLmFsdGVybmF0ZVNldHMsYz0wO2M8bC5sZW5ndGg7YysrKWkucHVzaCh7c3ViOmxbY10sYnk6dVtjXX0pO3JldHVybiBpfSxTdC5wcm90b3R5cGUuZ2V0TGlnYXR1cmVzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGk9W10sbj10aGlzLmdldExvb2t1cFRhYmxlcyh0LHIsZSw0KSxvPTA7bzxuLmxlbmd0aDtvKyspZm9yKHZhciBhPW5bb10uc3VidGFibGVzLHM9MDtzPGEubGVuZ3RoO3MrKylmb3IodmFyIGg9YVtzXSxsPXRoaXMuZXhwYW5kQ292ZXJhZ2UoaC5jb3ZlcmFnZSksdT1oLmxpZ2F0dXJlU2V0cyxjPTA7YzxsLmxlbmd0aDtjKyspZm9yKHZhciBwPWxbY10sZD11W2NdLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIG09ZFtmXTtpLnB1c2goe3N1YjpbcF0uY29uY2F0KG0uY29tcG9uZW50cyksYnk6bS5saWdHbHlwaH0pfXJldHVybiBpfSxTdC5wcm90b3R5cGUuYWRkU2luZ2xlPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPU10KHRoaXMuZ2V0TG9va3VwVGFibGVzKHIsaSxlLDEsITApWzBdLDIse3N1YnN0Rm9ybWF0OjIsY292ZXJhZ2U6e2Zvcm1hdDoxLGdseXBoczpbXX0sc3Vic3RpdHV0ZTpbXX0pO1AuYXNzZXJ0KDE9PT1uLmNvdmVyYWdlLmZvcm1hdCxcIkxpZ2F0dXJlOiB1bmFibGUgdG8gbW9kaWZ5IGNvdmVyYWdlIHRhYmxlIGZvcm1hdCBcIituLmNvdmVyYWdlLmZvcm1hdCk7dmFyIG89dC5zdWIsYT10aGlzLmJpblNlYXJjaChuLmNvdmVyYWdlLmdseXBocyxvKTthPDAmJihhPS0xLWEsbi5jb3ZlcmFnZS5nbHlwaHMuc3BsaWNlKGEsMCxvKSxuLnN1YnN0aXR1dGUuc3BsaWNlKGEsMCwwKSksbi5zdWJzdGl0dXRlW2FdPXQuYnl9LFN0LnByb3RvdHlwZS5hZGRBbHRlcm5hdGU9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49TXQodGhpcy5nZXRMb29rdXBUYWJsZXMocixpLGUsMywhMClbMF0sMSx7c3Vic3RGb3JtYXQ6MSxjb3ZlcmFnZTp7Zm9ybWF0OjEsZ2x5cGhzOltdfSxhbHRlcm5hdGVTZXRzOltdfSk7UC5hc3NlcnQoMT09PW4uY292ZXJhZ2UuZm9ybWF0LFwiTGlnYXR1cmU6IHVuYWJsZSB0byBtb2RpZnkgY292ZXJhZ2UgdGFibGUgZm9ybWF0IFwiK24uY292ZXJhZ2UuZm9ybWF0KTt2YXIgbz10LnN1YixhPXRoaXMuYmluU2VhcmNoKG4uY292ZXJhZ2UuZ2x5cGhzLG8pO2E8MCYmKGE9LTEtYSxuLmNvdmVyYWdlLmdseXBocy5zcGxpY2UoYSwwLG8pLG4uYWx0ZXJuYXRlU2V0cy5zcGxpY2UoYSwwLDApKSxuLmFsdGVybmF0ZVNldHNbYV09dC5ieX0sU3QucHJvdG90eXBlLmFkZExpZ2F0dXJlPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXRoaXMuZ2V0TG9va3VwVGFibGVzKHIsaSxlLDQsITApWzBdLG89bi5zdWJ0YWJsZXNbMF07b3x8KG89e3N1YnN0Rm9ybWF0OjEsY292ZXJhZ2U6e2Zvcm1hdDoxLGdseXBoczpbXX0sbGlnYXR1cmVTZXRzOltdfSxuLnN1YnRhYmxlc1swXT1vKSxQLmFzc2VydCgxPT09by5jb3ZlcmFnZS5mb3JtYXQsXCJMaWdhdHVyZTogdW5hYmxlIHRvIG1vZGlmeSBjb3ZlcmFnZSB0YWJsZSBmb3JtYXQgXCIrby5jb3ZlcmFnZS5mb3JtYXQpO3ZhciBhPXQuc3ViWzBdLHM9dC5zdWIuc2xpY2UoMSksaD17bGlnR2x5cGg6dC5ieSxjb21wb25lbnRzOnN9LGw9dGhpcy5iaW5TZWFyY2goby5jb3ZlcmFnZS5nbHlwaHMsYSk7aWYoMDw9bCl7Zm9yKHZhciB1PW8ubGlnYXR1cmVTZXRzW2xdLGM9MDtjPHUubGVuZ3RoO2MrKylpZihUdCh1W2NdLmNvbXBvbmVudHMscykpcmV0dXJuO3UucHVzaChoKX1lbHNlIGw9LTEtbCxvLmNvdmVyYWdlLmdseXBocy5zcGxpY2UobCwwLGEpLG8ubGlnYXR1cmVTZXRzLnNwbGljZShsLDAsW2hdKX0sU3QucHJvdG90eXBlLmdldEZlYXR1cmU9ZnVuY3Rpb24oZSx0LHIpe2lmKC9zc1xcZFxcZC8udGVzdChlKSlyZXR1cm4gdGhpcy5nZXRTaW5nbGUoZSx0LHIpO3N3aXRjaChlKXtjYXNlXCJhYWx0XCI6Y2FzZVwic2FsdFwiOnJldHVybiB0aGlzLmdldFNpbmdsZShlLHQscikuY29uY2F0KHRoaXMuZ2V0QWx0ZXJuYXRlcyhlLHQscikpO2Nhc2VcImRsaWdcIjpjYXNlXCJsaWdhXCI6Y2FzZVwicmxpZ1wiOnJldHVybiB0aGlzLmdldExpZ2F0dXJlcyhlLHQscil9fSxTdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCxyLGkpe2lmKC9zc1xcZFxcZC8udGVzdChlKSlyZXR1cm4gdGhpcy5hZGRTaW5nbGUoZSx0LHIsaSk7c3dpdGNoKGUpe2Nhc2VcImFhbHRcIjpjYXNlXCJzYWx0XCI6cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQuYnk/dGhpcy5hZGRTaW5nbGUoZSx0LHIsaSk6dGhpcy5hZGRBbHRlcm5hdGUoZSx0LHIsaSk7Y2FzZVwiZGxpZ1wiOmNhc2VcImxpZ2FcIjpjYXNlXCJybGlnXCI6cmV0dXJuIHRoaXMuYWRkTGlnYXR1cmUoZSx0LHIsaSl9fTt2YXIgRHQsQXQsVXQsT3QsQnQ9e2dldFBhdGg6a3QscGFyc2U6ZnVuY3Rpb24oZSx0LHIsaSl7Zm9yKHZhciBuPW5ldyB4ZS5HbHlwaFNldChpKSxvPTA7bzxyLmxlbmd0aC0xO28rPTEpe3ZhciBhPXJbb107YSE9PXJbbysxXT9uLnB1c2gobyx4ZS50dGZHbHlwaExvYWRlcihpLG8sTHQsZSx0K2EsSXQpKTpuLnB1c2gobyx4ZS5nbHlwaExvYWRlcihpLG8pKX1yZXR1cm4gbn19O2Z1bmN0aW9uIEZ0KGUpe3RoaXMuZm9udD1lLHRoaXMuZ2V0Q29tbWFuZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIEJ0LmdldFBhdGgoZSkuY29tbWFuZHN9LHRoaXMuX2ZwZ21TdGF0ZT10aGlzLl9wcmVwU3RhdGU9dm9pZCAwLHRoaXMuX2Vycm9yU3RhdGU9MH1mdW5jdGlvbiBHdChlKXtyZXR1cm4gZX1mdW5jdGlvbiBOdChlKXtyZXR1cm4gTWF0aC5zaWduKGUpKk1hdGgucm91bmQoTWF0aC5hYnMoZSkpfWZ1bmN0aW9uIFZ0KGUpe3JldHVybiBNYXRoLnNpZ24oZSkqTWF0aC5yb3VuZChNYXRoLmFicygyKmUpKS8yfWZ1bmN0aW9uIHp0KGUpe3JldHVybiBNYXRoLnNpZ24oZSkqKE1hdGgucm91bmQoTWF0aC5hYnMoZSkrLjUpLS41KX1mdW5jdGlvbiBIdChlKXtyZXR1cm4gTWF0aC5zaWduKGUpKk1hdGguY2VpbChNYXRoLmFicyhlKSl9ZnVuY3Rpb24ganQoZSl7cmV0dXJuIE1hdGguc2lnbihlKSpNYXRoLmZsb29yKE1hdGguYWJzKGUpKX12YXIgV3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zclBlcmlvZCxyPXRoaXMuc3JQaGFzZSxpPTE7cmV0dXJuIGU8MCYmKGU9LWUsaT0tMSksZSs9dGhpcy5zclRocmVzaG9sZC1yLGU9TWF0aC50cnVuYyhlL3QpKnQsKGUrPXIpPDA/cippOmUqaX0sWHQ9e3g6MSx5OjAsYXhpczpcInhcIixkaXN0YW5jZTpmdW5jdGlvbihlLHQscixpKXtyZXR1cm4ocj9lLnhvOmUueCktKGk/dC54bzp0LngpfSxpbnRlcnBvbGF0ZTpmdW5jdGlvbihlLHQscixpKXt2YXIgbixvLGEscyxoLGwsdTtpZighaXx8aT09PXRoaXMpcmV0dXJuIG49ZS54by10LnhvLG89ZS54by1yLnhvLGg9dC54LXQueG8sbD1yLngtci54bywwPT09KHU9KGE9TWF0aC5hYnMobikpKyhzPU1hdGguYWJzKG8pKSk/dm9pZChlLng9ZS54bysoaCtsKS8yKTp2b2lkKGUueD1lLnhvKyhoKnMrbCphKS91KTtuPWkuZGlzdGFuY2UoZSx0LCEwLCEwKSxvPWkuZGlzdGFuY2UoZSxyLCEwLCEwKSxoPWkuZGlzdGFuY2UodCx0LCExLCEwKSxsPWkuZGlzdGFuY2UocixyLCExLCEwKSwwIT09KHU9KGE9TWF0aC5hYnMobikpKyhzPU1hdGguYWJzKG8pKSk/WHQuc2V0UmVsYXRpdmUoZSxlLChoKnMrbCphKS91LGksITApOlh0LnNldFJlbGF0aXZlKGUsZSwoaCtsKS8yLGksITApfSxub3JtYWxTbG9wZTpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksc2V0UmVsYXRpdmU6ZnVuY3Rpb24oZSx0LHIsaSxuKXtpZihpJiZpIT09dGhpcyl7dmFyIG89bj90LnhvOnQueCxhPW4/dC55bzp0Lnkscz1vK3IqaS54LGg9YStyKmkueTtlLng9cysoZS55LWgpL2kubm9ybWFsU2xvcGV9ZWxzZSBlLng9KG4/dC54bzp0LngpK3J9LHNsb3BlOjAsdG91Y2g6ZnVuY3Rpb24oZSl7ZS54VG91Y2hlZD0hMH0sdG91Y2hlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS54VG91Y2hlZH0sdW50b3VjaDpmdW5jdGlvbihlKXtlLnhUb3VjaGVkPSExfX0scXQ9e3g6MCx5OjEsYXhpczpcInlcIixkaXN0YW5jZTpmdW5jdGlvbihlLHQscixpKXtyZXR1cm4ocj9lLnlvOmUueSktKGk/dC55bzp0LnkpfSxpbnRlcnBvbGF0ZTpmdW5jdGlvbihlLHQscixpKXt2YXIgbixvLGEscyxoLGwsdTtpZighaXx8aT09PXRoaXMpcmV0dXJuIG49ZS55by10LnlvLG89ZS55by1yLnlvLGg9dC55LXQueW8sbD1yLnktci55bywwPT09KHU9KGE9TWF0aC5hYnMobikpKyhzPU1hdGguYWJzKG8pKSk/dm9pZChlLnk9ZS55bysoaCtsKS8yKTp2b2lkKGUueT1lLnlvKyhoKnMrbCphKS91KTtuPWkuZGlzdGFuY2UoZSx0LCEwLCEwKSxvPWkuZGlzdGFuY2UoZSxyLCEwLCEwKSxoPWkuZGlzdGFuY2UodCx0LCExLCEwKSxsPWkuZGlzdGFuY2UocixyLCExLCEwKSwwIT09KHU9KGE9TWF0aC5hYnMobikpKyhzPU1hdGguYWJzKG8pKSk/cXQuc2V0UmVsYXRpdmUoZSxlLChoKnMrbCphKS91LGksITApOnF0LnNldFJlbGF0aXZlKGUsZSwoaCtsKS8yLGksITApfSxub3JtYWxTbG9wZTowLHNldFJlbGF0aXZlOmZ1bmN0aW9uKGUsdCxyLGksbil7aWYoaSYmaSE9PXRoaXMpe3ZhciBvPW4/dC54bzp0LngsYT1uP3QueW86dC55LHM9bytyKmkueCxoPWErcippLnk7ZS55PWgraS5ub3JtYWxTbG9wZSooZS54LXMpfWVsc2UgZS55PShuP3QueW86dC55KStyfSxzbG9wZTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksdG91Y2g6ZnVuY3Rpb24oZSl7ZS55VG91Y2hlZD0hMH0sdG91Y2hlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS55VG91Y2hlZH0sdW50b3VjaDpmdW5jdGlvbihlKXtlLnlUb3VjaGVkPSExfX07ZnVuY3Rpb24gWXQoZSx0KXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLmF4aXM9dm9pZCAwLHRoaXMuc2xvcGU9dC9lLHRoaXMubm9ybWFsU2xvcGU9LWUvdCxPYmplY3QuZnJlZXplKHRoaXMpfWZ1bmN0aW9uIFp0KGUsdCl7dmFyIHI9TWF0aC5zcXJ0KGUqZSt0KnQpO3JldHVybiB0Lz1yLDE9PT0oZS89cikmJjA9PT10P1h0OjA9PT1lJiYxPT09dD9xdDpuZXcgWXQoZSx0KX1mdW5jdGlvbiBRdChlLHQscixpKXt0aGlzLng9dGhpcy54bz1NYXRoLnJvdW5kKDY0KmUpLzY0LHRoaXMueT10aGlzLnlvPU1hdGgucm91bmQoNjQqdCkvNjQsdGhpcy5sYXN0UG9pbnRPZkNvbnRvdXI9cix0aGlzLm9uQ3VydmU9aSx0aGlzLnByZXZQb2ludE9uQ29udG91cj12b2lkIDAsdGhpcy5uZXh0UG9pbnRPbkNvbnRvdXI9dm9pZCAwLHRoaXMueFRvdWNoZWQ9ITEsdGhpcy55VG91Y2hlZD0hMSxPYmplY3QucHJldmVudEV4dGVuc2lvbnModGhpcyl9T2JqZWN0LmZyZWV6ZShYdCksT2JqZWN0LmZyZWV6ZShxdCksWXQucHJvdG90eXBlLmRpc3RhbmNlPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiB0aGlzLngqWHQuZGlzdGFuY2UoZSx0LHIsaSkrdGhpcy55KnF0LmRpc3RhbmNlKGUsdCxyLGkpfSxZdC5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4sbyxhLHMsaCxsLHU7YT1pLmRpc3RhbmNlKGUsdCwhMCwhMCkscz1pLmRpc3RhbmNlKGUsciwhMCwhMCksbj1pLmRpc3RhbmNlKHQsdCwhMSwhMCksbz1pLmRpc3RhbmNlKHIsciwhMSwhMCksMCE9PSh1PShoPU1hdGguYWJzKGEpKSsobD1NYXRoLmFicyhzKSkpP3RoaXMuc2V0UmVsYXRpdmUoZSxlLChuKmwrbypoKS91LGksITApOnRoaXMuc2V0UmVsYXRpdmUoZSxlLChuK28pLzIsaSwhMCl9LFl0LnByb3RvdHlwZS5zZXRSZWxhdGl2ZT1mdW5jdGlvbihlLHQscixpLG4pe2k9aXx8dGhpczt2YXIgbz1uP3QueG86dC54LGE9bj90LnlvOnQueSxzPW8rcippLngsaD1hK3IqaS55LGw9aS5ub3JtYWxTbG9wZSx1PXRoaXMuc2xvcGUsYz1lLngscD1lLnk7ZS54PSh1KmMtbCpzK2gtcCkvKHUtbCksZS55PXUqKGUueC1jKStwfSxZdC5wcm90b3R5cGUudG91Y2g9ZnVuY3Rpb24oZSl7ZS54VG91Y2hlZD0hMCxlLnlUb3VjaGVkPSEwfSxRdC5wcm90b3R5cGUubmV4dFRvdWNoZWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMubmV4dFBvaW50T25Db250b3VyOyFlLnRvdWNoZWQodCkmJnQhPT10aGlzOyl0PXQubmV4dFBvaW50T25Db250b3VyO3JldHVybiB0fSxRdC5wcm90b3R5cGUucHJldlRvdWNoZWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMucHJldlBvaW50T25Db250b3VyOyFlLnRvdWNoZWQodCkmJnQhPT10aGlzOyl0PXQucHJldlBvaW50T25Db250b3VyO3JldHVybiB0fTt2YXIgSnQ9T2JqZWN0LmZyZWV6ZShuZXcgUXQoMCwwKSksS3Q9e2N2Q3V0SW46MTcvMTYsZGVsdGFCYXNlOjksZGVsdGFTaGlmdDouMTI1LGxvb3A6MSxtaW5EaXM6MSxhdXRvRmxpcDohMH07ZnVuY3Rpb24gJHQoZSx0KXtzd2l0Y2godGhpcy5lbnY9ZSx0aGlzLnN0YWNrPVtdLHRoaXMucHJvZz10LGUpe2Nhc2VcImdseWZcIjp0aGlzLnpwMD10aGlzLnpwMT10aGlzLnpwMj0xLHRoaXMucnAwPXRoaXMucnAxPXRoaXMucnAyPTA7Y2FzZVwicHJlcFwiOnRoaXMuZnY9dGhpcy5wdj10aGlzLmRwdj1YdCx0aGlzLnJvdW5kPU50fX1mdW5jdGlvbiBlcihlKXtmb3IodmFyIHQ9ZS50Wm9uZT1uZXcgQXJyYXkoZS5nWm9uZS5sZW5ndGgpLHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdPW5ldyBRdCgwLDApfWZ1bmN0aW9uIHRyKGUsdCl7dmFyIHIsaT1lLnByb2csbj1lLmlwLG89MTtkb3tpZig4OD09PShyPWlbKytuXSkpbysrO2Vsc2UgaWYoODk9PT1yKW8tLTtlbHNlIGlmKDY0PT09ciluKz1pW24rMV0rMTtlbHNlIGlmKDY1PT09ciluKz0yKmlbbisxXSsxO2Vsc2UgaWYoMTc2PD1yJiZyPD0xODMpbis9ci0xNzYrMTtlbHNlIGlmKDE4NDw9ciYmcjw9MTkxKW4rPTIqKHItMTg0KzEpO2Vsc2UgaWYodCYmMT09PW8mJjI3PT09cilicmVha313aGlsZSgwPG8pO2UuaXA9bn1mdW5jdGlvbiBycihlLHQpe00uREVCVUcmJmNvbnNvbGUubG9nKHQuc3RlcCxcIlNWVENBW1wiK2UuYXhpcytcIl1cIiksdC5mdj10LnB2PXQuZHB2PWV9ZnVuY3Rpb24gaXIoZSx0KXtNLkRFQlVHJiZjb25zb2xlLmxvZyh0LnN0ZXAsXCJTUFZUQ0FbXCIrZS5heGlzK1wiXVwiKSx0LnB2PXQuZHB2PWV9ZnVuY3Rpb24gbnIoZSx0KXtNLkRFQlVHJiZjb25zb2xlLmxvZyh0LnN0ZXAsXCJTRlZUQ0FbXCIrZS5heGlzK1wiXVwiKSx0LmZ2PWV9ZnVuY3Rpb24gb3IoZSx0KXt2YXIgcixpLG49dC5zdGFjayxvPW4ucG9wKCksYT1uLnBvcCgpLHM9dC56MltvXSxoPXQuejFbYV07TS5ERUJVRyYmY29uc29sZS5sb2coXCJTUFZUTFtcIitlK1wiXVwiLG8sYSksaT1lPyhyPXMueS1oLnksaC54LXMueCk6KHI9aC54LXMueCxoLnktcy55KSx0LnB2PXQuZHB2PVp0KHIsaSl9ZnVuY3Rpb24gYXIoZSx0KXt2YXIgcixpLG49dC5zdGFjayxvPW4ucG9wKCksYT1uLnBvcCgpLHM9dC56MltvXSxoPXQuejFbYV07TS5ERUJVRyYmY29uc29sZS5sb2coXCJTRlZUTFtcIitlK1wiXVwiLG8sYSksaT1lPyhyPXMueS1oLnksaC54LXMueCk6KHI9aC54LXMueCxoLnktcy55KSx0LmZ2PVp0KHIsaSl9ZnVuY3Rpb24gc3IoZSl7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiUE9QW11cIiksZS5zdGFjay5wb3AoKX1mdW5jdGlvbiBocihlLHQpe3ZhciByPXQuc3RhY2sucG9wKCksaT10LnowW3JdLG49dC5mdixvPXQucHY7TS5ERUJVRyYmY29uc29sZS5sb2codC5zdGVwLFwiTURBUFtcIitlK1wiXVwiLHIpO3ZhciBhPW8uZGlzdGFuY2UoaSxKdCk7ZSYmKGE9dC5yb3VuZChhKSksbi5zZXRSZWxhdGl2ZShpLEp0LGEsbyksbi50b3VjaChpKSx0LnJwMD10LnJwMT1yfWZ1bmN0aW9uIGxyKGUsdCl7dmFyIHIsaSxuLG89dC56MixhPW8ubGVuZ3RoLTI7TS5ERUJVRyYmY29uc29sZS5sb2codC5zdGVwLFwiSVVQW1wiK2UuYXhpcytcIl1cIik7Zm9yKHZhciBzPTA7czxhO3MrKylyPW9bc10sZS50b3VjaGVkKHIpfHwoaT1yLnByZXZUb3VjaGVkKGUpKSE9PXImJihpPT09KG49ci5uZXh0VG91Y2hlZChlKSkmJmUuc2V0UmVsYXRpdmUocixyLGUuZGlzdGFuY2UoaSxpLCExLCEwKSxlLCEwKSxlLmludGVycG9sYXRlKHIsaSxuLGUpKX1mdW5jdGlvbiB1cihlLHQpe2Zvcih2YXIgcj10LnN0YWNrLGk9ZT90LnJwMTp0LnJwMixuPShlP3QuejA6dC56MSlbaV0sbz10LmZ2LGE9dC5wdixzPXQubG9vcCxoPXQuejI7cy0tOyl7dmFyIGw9ci5wb3AoKSx1PWhbbF0sYz1hLmRpc3RhbmNlKG4sbiwhMSwhMCk7by5zZXRSZWxhdGl2ZSh1LHUsYyxhKSxvLnRvdWNoKHUpLE0uREVCVUcmJmNvbnNvbGUubG9nKHQuc3RlcCwoMTx0Lmxvb3A/XCJsb29wIFwiKyh0Lmxvb3AtcykrXCI6IFwiOlwiXCIpK1wiU0hQW1wiKyhlP1wicnAxXCI6XCJycDJcIikrXCJdXCIsbCl9dC5sb29wPTF9ZnVuY3Rpb24gY3IoZSx0KXt2YXIgcj10LnN0YWNrLGk9ZT90LnJwMTp0LnJwMixuPShlP3QuejA6dC56MSlbaV0sbz10LmZ2LGE9dC5wdixzPXIucG9wKCksaD10LnoyW3QuY29udG91cnNbc11dLGw9aDtNLkRFQlVHJiZjb25zb2xlLmxvZyh0LnN0ZXAsXCJTSENbXCIrZStcIl1cIixzKTtmb3IodmFyIHU9YS5kaXN0YW5jZShuLG4sITEsITApO2whPT1uJiZvLnNldFJlbGF0aXZlKGwsbCx1LGEpLChsPWwubmV4dFBvaW50T25Db250b3VyKSE9PWg7KTt9ZnVuY3Rpb24gcHIoZSx0KXt2YXIgcixpLG49dC5zdGFjayxvPWU/dC5ycDE6dC5ycDIsYT0oZT90LnowOnQuejEpW29dLHM9dC5mdixoPXQucHYsbD1uLnBvcCgpO3N3aXRjaChNLkRFQlVHJiZjb25zb2xlLmxvZyh0LnN0ZXAsXCJTSFpbXCIrZStcIl1cIixsKSxsKXtjYXNlIDA6cj10LnRab25lO2JyZWFrO2Nhc2UgMTpyPXQuZ1pvbmU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHpvbmVcIil9Zm9yKHZhciB1PWguZGlzdGFuY2UoYSxhLCExLCEwKSxjPXIubGVuZ3RoLTIscD0wO3A8YztwKyspaT1yW3BdLHMuc2V0UmVsYXRpdmUoaSxpLHUsaCl9ZnVuY3Rpb24gZHIoZSx0KXt2YXIgcj10LnN0YWNrLGk9ci5wb3AoKS82NCxuPXIucG9wKCksbz10LnoxW25dLGE9dC56MFt0LnJwMF0scz10LmZ2LGg9dC5wdjtzLnNldFJlbGF0aXZlKG8sYSxpLGgpLHMudG91Y2gobyksTS5ERUJVRyYmY29uc29sZS5sb2codC5zdGVwLFwiTVNJUlBbXCIrZStcIl1cIixpLG4pLHQucnAxPXQucnAwLHQucnAyPW4sZSYmKHQucnAwPW4pfWZ1bmN0aW9uIGZyKGUsdCl7dmFyIHI9dC5zdGFjayxpPXIucG9wKCksbj1yLnBvcCgpLG89dC56MFtuXSxhPXQuZnYscz10LnB2LGg9dC5jdnRbaV07TS5ERUJVRyYmY29uc29sZS5sb2codC5zdGVwLFwiTUlBUFtcIitlK1wiXVwiLGksXCIoXCIsaCxcIilcIixuKTt2YXIgbD1zLmRpc3RhbmNlKG8sSnQpO2UmJihNYXRoLmFicyhsLWgpPHQuY3ZDdXRJbiYmKGw9aCksbD10LnJvdW5kKGwpKSxhLnNldFJlbGF0aXZlKG8sSnQsbCxzKSwwPT09dC56cDAmJihvLnhvPW8ueCxvLnlvPW8ueSksYS50b3VjaChvKSx0LnJwMD10LnJwMT1ufWZ1bmN0aW9uIG1yKGUsdCl7dmFyIHI9dC5zdGFjayxpPXIucG9wKCksbj10LnoyW2ldO00uREVCVUcmJmNvbnNvbGUubG9nKHQuc3RlcCxcIkdDW1wiK2UrXCJdXCIsaSksci5wdXNoKDY0KnQuZHB2LmRpc3RhbmNlKG4sSnQsZSwhMSkpfWZ1bmN0aW9uIHZyKGUsdCl7dmFyIHI9dC5zdGFjayxpPXIucG9wKCksbj1yLnBvcCgpLG89dC56MVtpXSxhPXQuejBbbl0scz10LmRwdi5kaXN0YW5jZShhLG8sZSxlKTtNLkRFQlVHJiZjb25zb2xlLmxvZyh0LnN0ZXAsXCJNRFtcIitlK1wiXVwiLGksbixcIi0+XCIscyksdC5zdGFjay5wdXNoKE1hdGgucm91bmQoNjQqcykpfWZ1bmN0aW9uIGdyKGUsdCl7dmFyIHI9dC5zdGFjayxpPXIucG9wKCksbj10LmZ2LG89dC5wdixhPXQucHBlbSxzPXQuZGVsdGFCYXNlKzE2KihlLTEpLGg9dC5kZWx0YVNoaWZ0LGw9dC56MDtNLkRFQlVHJiZjb25zb2xlLmxvZyh0LnN0ZXAsXCJERUxUQVBbXCIrZStcIl1cIixpLHIpO2Zvcih2YXIgdT0wO3U8aTt1Kyspe3ZhciBjPXIucG9wKCkscD1yLnBvcCgpO2lmKHMrKCgyNDAmcCk+PjQpPT09YSl7dmFyIGQ9KDE1JnApLTg7MDw9ZCYmZCsrLE0uREVCVUcmJmNvbnNvbGUubG9nKHQuc3RlcCxcIkRFTFRBUEZJWFwiLGMsXCJieVwiLGQqaCk7dmFyIGY9bFtjXTtuLnNldFJlbGF0aXZlKGYsZixkKmgsbyl9fX1mdW5jdGlvbiB5cihlLHQpe3ZhciByPXQuc3RhY2ssaT1yLnBvcCgpO00uREVCVUcmJmNvbnNvbGUubG9nKHQuc3RlcCxcIlJPVU5EW11cIiksci5wdXNoKDY0KnQucm91bmQoaS82NCkpfWZ1bmN0aW9uIGJyKGUsdCl7dmFyIHI9dC5zdGFjayxpPXIucG9wKCksbj10LnBwZW0sbz10LmRlbHRhQmFzZSsxNiooZS0xKSxhPXQuZGVsdGFTaGlmdDtNLkRFQlVHJiZjb25zb2xlLmxvZyh0LnN0ZXAsXCJERUxUQUNbXCIrZStcIl1cIixpLHIpO2Zvcih2YXIgcz0wO3M8aTtzKyspe3ZhciBoPXIucG9wKCksbD1yLnBvcCgpO2lmKG8rKCgyNDAmbCk+PjQpPT09bil7dmFyIHU9KDE1JmwpLTg7MDw9dSYmdSsrO3ZhciBjPXUqYTtNLkRFQlVHJiZjb25zb2xlLmxvZyh0LnN0ZXAsXCJERUxUQUNGSVhcIixoLFwiYnlcIixjKSx0LmN2dFtoXSs9Y319fWZ1bmN0aW9uIF9yKGUsdCl7dmFyIHIsaSxuPXQuc3RhY2ssbz1uLnBvcCgpLGE9bi5wb3AoKSxzPXQuejJbb10saD10LnoxW2FdO00uREVCVUcmJmNvbnNvbGUubG9nKHQuc3RlcCxcIlNEUFZUTFtcIitlK1wiXVwiLG8sYSksaT1lPyhyPXMueS1oLnksaC54LXMueCk6KHI9aC54LXMueCxoLnktcy55KSx0LmRwdj1adChyLGkpfWZ1bmN0aW9uIHhyKGUsdCl7dmFyIHI9dC5zdGFjayxpPXQucHJvZyxuPXQuaXA7TS5ERUJVRyYmY29uc29sZS5sb2codC5zdGVwLFwiUFVTSEJbXCIrZStcIl1cIik7Zm9yKHZhciBvPTA7bzxlO28rKylyLnB1c2goaVsrK25dKTt0LmlwPW59ZnVuY3Rpb24gd3IoZSx0KXt2YXIgcj10LmlwLGk9dC5wcm9nLG49dC5zdGFjaztNLkRFQlVHJiZjb25zb2xlLmxvZyh0LmlwLFwiUFVTSFdbXCIrZStcIl1cIik7Zm9yKHZhciBvPTA7bzxlO28rKyl7dmFyIGE9aVsrK3JdPDw4fGlbKytyXTszMjc2OCZhJiYoYT0tKDErKDY1NTM1XmEpKSksbi5wdXNoKGEpfXQuaXA9cn1mdW5jdGlvbiBTcihlLHQscixpLG4sbyl7dmFyIGEscyxoLGwsdT1vLnN0YWNrLGM9ZSYmdS5wb3AoKSxwPXUucG9wKCksZD1vLnJwMCxmPW8uejBbZF0sbT1vLnoxW3BdLHY9by5taW5EaXMsZz1vLmZ2LHk9by5kcHY7aD0wPD0ocz1hPXkuZGlzdGFuY2UobSxmLCEwLCEwKSk/MTotMSxzPU1hdGguYWJzKHMpLGUmJihsPW8uY3Z0W2NdLGkmJk1hdGguYWJzKHMtbCk8by5jdkN1dEluJiYocz1sKSksciYmczx2JiYocz12KSxpJiYocz1vLnJvdW5kKHMpKSxnLnNldFJlbGF0aXZlKG0sZixoKnMseSksZy50b3VjaChtKSxNLkRFQlVHJiZjb25zb2xlLmxvZyhvLnN0ZXAsKGU/XCJNSVJQW1wiOlwiTURSUFtcIikrKHQ/XCJNXCI6XCJtXCIpKyhyP1wiPlwiOlwiX1wiKSsoaT9cIlJcIjpcIl9cIikrKDA9PT1uP1wiR3JcIjoxPT09bj9cIkJsXCI6Mj09PW4/XCJXaFwiOlwiXCIpK1wiXVwiLGU/YytcIihcIitvLmN2dFtjXStcIixcIitsK1wiKVwiOlwiXCIscCxcIihkID1cIixhLFwiLT5cIixoKnMsXCIpXCIpLG8ucnAxPW8ucnAwLG8ucnAyPXAsdCYmKG8ucnAwPXApfUZ0LnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGUsdCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiUG9pbnQgc2l6ZSBpcyBub3QgYSBudW1iZXIhXCIpO2lmKCEoMjx0aGlzLl9lcnJvclN0YXRlKSl7dmFyIHI9dGhpcy5mb250LGk9dGhpcy5fcHJlcFN0YXRlO2lmKCFpfHxpLnBwZW0hPT10KXt2YXIgbj10aGlzLl9mcGdtU3RhdGU7aWYoIW4peyR0LnByb3RvdHlwZT1LdCwobj10aGlzLl9mcGdtU3RhdGU9bmV3ICR0KFwiZnBnbVwiLHIudGFibGVzLmZwZ20pKS5mdW5jcz1bXSxuLmZvbnQ9cixNLkRFQlVHJiYoY29uc29sZS5sb2coXCItLS1FWEVDIEZQR00tLS1cIiksbi5zdGVwPS0xKTt0cnl7QXQobil9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUubG9nKFwiSGludGluZyBlcnJvciBpbiBGUEdNOlwiK2UpLHZvaWQodGhpcy5fZXJyb3JTdGF0ZT0zKX19JHQucHJvdG90eXBlPW4sKGk9dGhpcy5fcHJlcFN0YXRlPW5ldyAkdChcInByZXBcIixyLnRhYmxlcy5wcmVwKSkucHBlbT10O3ZhciBvPXIudGFibGVzLmN2dDtpZihvKWZvcih2YXIgYT1pLmN2dD1uZXcgQXJyYXkoby5sZW5ndGgpLHM9dC9yLnVuaXRzUGVyRW0saD0wO2g8by5sZW5ndGg7aCsrKWFbaF09b1toXSpzO2Vsc2UgaS5jdnQ9W107TS5ERUJVRyYmKGNvbnNvbGUubG9nKFwiLS0tRVhFQyBQUkVQLS0tXCIpLGkuc3RlcD0tMSk7dHJ5e0F0KGkpfWNhdGNoKGUpe3RoaXMuX2Vycm9yU3RhdGU8MiYmY29uc29sZS5sb2coXCJIaW50aW5nIGVycm9yIGluIFBSRVA6XCIrZSksdGhpcy5fZXJyb3JTdGF0ZT0yfX1pZighKDE8dGhpcy5fZXJyb3JTdGF0ZSkpdHJ5e3JldHVybiBVdChlLGkpfWNhdGNoKGUpe3JldHVybiB0aGlzLl9lcnJvclN0YXRlPDEmJihjb25zb2xlLmxvZyhcIkhpbnRpbmcgZXJyb3I6XCIrZSksY29uc29sZS5sb2coXCJOb3RlOiBmdXJ0aGVyIGhpbnRpbmcgZXJyb3JzIGFyZSBzaWxlbmNlZFwiKSksdm9pZCh0aGlzLl9lcnJvclN0YXRlPTEpfX19LFV0PWZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxuLG89dC5wcGVtL3QuZm9udC51bml0c1BlckVtLGE9byxzPWUuY29tcG9uZW50cztpZigkdC5wcm90b3R5cGU9dCxzKXt2YXIgaD10LmZvbnQ7aT1bXSxyPVtdO2Zvcih2YXIgbD0wO2w8cy5sZW5ndGg7bCsrKXt2YXIgdT1zW2xdLGM9aC5nbHlwaHMuZ2V0KHUuZ2x5cGhJbmRleCk7bj1uZXcgJHQoXCJnbHlmXCIsYy5pbnN0cnVjdGlvbnMpLE0uREVCVUcmJihjb25zb2xlLmxvZyhcIi0tLUVYRUMgQ09NUCBcIitsK1wiLS0tXCIpLG4uc3RlcD0tMSksT3QoYyxuLG8sYSk7Zm9yKHZhciBwPU1hdGgucm91bmQodS5keCpvKSxkPU1hdGgucm91bmQodS5keSphKSxmPW4uZ1pvbmUsbT1uLmNvbnRvdXJzLHY9MDt2PGYubGVuZ3RoO3YrKyl7dmFyIGc9Zlt2XTtnLnhUb3VjaGVkPWcueVRvdWNoZWQ9ITEsZy54bz1nLng9Zy54K3AsZy55bz1nLnk9Zy55K2R9dmFyIHk9aS5sZW5ndGg7aS5wdXNoLmFwcGx5KGksZik7Zm9yKHZhciBiPTA7YjxtLmxlbmd0aDtiKyspci5wdXNoKG1bYl0reSl9ZS5pbnN0cnVjdGlvbnMmJiFuLmluaGliaXRHcmlkRml0JiYoKG49bmV3ICR0KFwiZ2x5ZlwiLGUuaW5zdHJ1Y3Rpb25zKSkuZ1pvbmU9bi56MD1uLnoxPW4uejI9aSxuLmNvbnRvdXJzPXIsaS5wdXNoKG5ldyBRdCgwLDApLG5ldyBRdChNYXRoLnJvdW5kKGUuYWR2YW5jZVdpZHRoKm8pLDApKSxNLkRFQlVHJiYoY29uc29sZS5sb2coXCItLS1FWEVDIENPTVBPU0lURS0tLVwiKSxuLnN0ZXA9LTEpLEF0KG4pLGkubGVuZ3RoLT0yKX1lbHNlIG49bmV3ICR0KFwiZ2x5ZlwiLGUuaW5zdHJ1Y3Rpb25zKSxNLkRFQlVHJiYoY29uc29sZS5sb2coXCItLS1FWEVDIEdMWVBILS0tXCIpLG4uc3RlcD0tMSksT3QoZSxuLG8sYSksaT1uLmdab25lO3JldHVybiBpfSxPdD1mdW5jdGlvbihlLHQscixpKXtmb3IodmFyIG4sbyxhLHM9ZS5wb2ludHN8fFtdLGg9cy5sZW5ndGgsbD10Lmdab25lPXQuejA9dC56MT10LnoyPVtdLHU9dC5jb250b3Vycz1bXSxjPTA7YzxoO2MrKyluPXNbY10sbFtjXT1uZXcgUXQobi54KnIsbi55Kmksbi5sYXN0UG9pbnRPZkNvbnRvdXIsbi5vbkN1cnZlKTtmb3IodmFyIHA9MDtwPGg7cCsrKW49bFtwXSxvfHwobz1uLHUucHVzaChwKSksbi5sYXN0UG9pbnRPZkNvbnRvdXI/KChuLm5leHRQb2ludE9uQ29udG91cj1vKS5wcmV2UG9pbnRPbkNvbnRvdXI9bixvPXZvaWQgMCk6KGE9bFtwKzFdLChuLm5leHRQb2ludE9uQ29udG91cj1hKS5wcmV2UG9pbnRPbkNvbnRvdXI9bik7aWYoIXQuaW5oaWJpdEdyaWRGaXQpe2lmKE0uREVCVUcpe2NvbnNvbGUubG9nKFwiUFJPQ0VTU0lORyBHTFlQSFwiLHQuc3RhY2spO2Zvcih2YXIgZD0wO2Q8aDtkKyspY29uc29sZS5sb2coZCxsW2RdLngsbFtkXS55KX1pZihsLnB1c2gobmV3IFF0KDAsMCksbmV3IFF0KE1hdGgucm91bmQoZS5hZHZhbmNlV2lkdGgqciksMCkpLEF0KHQpLGwubGVuZ3RoLT0yLE0uREVCVUcpe2NvbnNvbGUubG9nKFwiRklOSVNIRUQgR0xZUEhcIix0LnN0YWNrKTtmb3IodmFyIGY9MDtmPGg7ZisrKWNvbnNvbGUubG9nKGYsbFtmXS54LGxbZl0ueSl9fX0sQXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9nO2lmKHQpe3ZhciByLGk9dC5sZW5ndGg7Zm9yKGUuaXA9MDtlLmlwPGk7ZS5pcCsrKXtpZihNLkRFQlVHJiZlLnN0ZXArKywhKHI9RHRbdFtlLmlwXV0pKXRocm93IG5ldyBFcnJvcihcInVua25vd24gaW5zdHJ1Y3Rpb246IDB4XCIrTnVtYmVyKHRbZS5pcF0pLnRvU3RyaW5nKDE2KSk7cihlKX19fSxEdD1bcnIuYmluZCh2b2lkIDAscXQpLHJyLmJpbmQodm9pZCAwLFh0KSxpci5iaW5kKHZvaWQgMCxxdCksaXIuYmluZCh2b2lkIDAsWHQpLG5yLmJpbmQodm9pZCAwLHF0KSxuci5iaW5kKHZvaWQgMCxYdCksb3IuYmluZCh2b2lkIDAsMCksb3IuYmluZCh2b2lkIDAsMSksYXIuYmluZCh2b2lkIDAsMCksYXIuYmluZCh2b2lkIDAsMSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPXQucG9wKCksaT10LnBvcCgpO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIlNQVkZTW11cIixyLGkpLGUucHY9ZS5kcHY9WnQoaSxyKX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPXQucG9wKCksaT10LnBvcCgpO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIlNQVkZTW11cIixyLGkpLGUuZnY9WnQoaSxyKX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPWUucHY7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiR1BWW11cIiksdC5wdXNoKDE2Mzg0KnIueCksdC5wdXNoKDE2Mzg0KnIueSl9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj1lLmZ2O00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIkdGVltdXCIpLHQucHVzaCgxNjM4NCpyLngpLHQucHVzaCgxNjM4NCpyLnkpfSxmdW5jdGlvbihlKXtlLmZ2PWUucHYsTS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiU0ZWVFBWW11cIil9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj10LnBvcCgpLGk9dC5wb3AoKSxuPXQucG9wKCksbz10LnBvcCgpLGE9dC5wb3AoKSxzPWUuejAsaD1lLnoxLGw9c1tyXSx1PXNbaV0sYz1oW25dLHA9aFtvXSxkPWUuejJbYV07TS5ERUJVRyYmY29uc29sZS5sb2coXCJJU0VDVFtdLCBcIixyLGksbixvLGEpO3ZhciBmPWwueCxtPWwueSx2PXUueCxnPXUueSx5PWMueCxiPWMueSxfPXAueCx4PXAueSx3PShmLXYpKihiLXgpLShtLWcpKih5LV8pLFM9ZipnLW0qdixUPXkqeC1iKl87ZC54PShTKih5LV8pLVQqKGYtdikpL3csZC55PShTKihiLXgpLVQqKG0tZykpL3d9LGZ1bmN0aW9uKGUpe2UucnAwPWUuc3RhY2sucG9wKCksTS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiU1JQMFtdXCIsZS5ycDApfSxmdW5jdGlvbihlKXtlLnJwMT1lLnN0YWNrLnBvcCgpLE0uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIlNSUDFbXVwiLGUucnAxKX0sZnVuY3Rpb24oZSl7ZS5ycDI9ZS5zdGFjay5wb3AoKSxNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJTUlAyW11cIixlLnJwMil9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sucG9wKCk7c3dpdGNoKE0uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIlNaUDBbXVwiLHQpLGUuenAwPXQpe2Nhc2UgMDplLnRab25lfHxlcihlKSxlLnowPWUudFpvbmU7YnJlYWs7Y2FzZSAxOmUuejA9ZS5nWm9uZTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgem9uZSBwb2ludGVyXCIpfX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjay5wb3AoKTtzd2l0Y2goTS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiU1pQMVtdXCIsdCksZS56cDE9dCl7Y2FzZSAwOmUudFpvbmV8fGVyKGUpLGUuejE9ZS50Wm9uZTticmVhaztjYXNlIDE6ZS56MT1lLmdab25lO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB6b25lIHBvaW50ZXJcIil9fSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLnBvcCgpO3N3aXRjaChNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJTWlAyW11cIix0KSxlLnpwMj10KXtjYXNlIDA6ZS50Wm9uZXx8ZXIoZSksZS56Mj1lLnRab25lO2JyZWFrO2Nhc2UgMTplLnoyPWUuZ1pvbmU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHpvbmUgcG9pbnRlclwiKX19LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sucG9wKCk7c3dpdGNoKE0uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIlNaUFNbXVwiLHQpLGUuenAwPWUuenAxPWUuenAyPXQsdCl7Y2FzZSAwOmUudFpvbmV8fGVyKGUpLGUuejA9ZS56MT1lLnoyPWUudFpvbmU7YnJlYWs7Y2FzZSAxOmUuejA9ZS56MT1lLnoyPWUuZ1pvbmU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHpvbmUgcG9pbnRlclwiKX19LGZ1bmN0aW9uKGUpe2UubG9vcD1lLnN0YWNrLnBvcCgpLE0uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIlNMT09QW11cIixlLmxvb3ApfSxmdW5jdGlvbihlKXtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJSVEdbXVwiKSxlLnJvdW5kPU50fSxmdW5jdGlvbihlKXtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJSVEhHW11cIiksZS5yb3VuZD16dH0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjay5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJTTURbXVwiLHQpLGUubWluRGlzPXQvNjR9LGZ1bmN0aW9uKGUpe00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIkVMU0VbXVwiKSx0cihlLCExKX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjay5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJKTVBSW11cIix0KSxlLmlwKz10LTF9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiU0NWVENJW11cIix0KSxlLmN2Q3V0SW49dC82NH0sdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIkRVUFtdXCIpLHQucHVzaCh0W3QubGVuZ3RoLTFdKX0sc3IsZnVuY3Rpb24oZSl7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiQ0xFQVJbXVwiKSxlLnN0YWNrLmxlbmd0aD0wfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiU1dBUFtdXCIpLHQucHVzaChyKSx0LnB1c2goaSl9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2s7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiREVQVEhbXVwiKSx0LnB1c2godC5sZW5ndGgpfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJDSU5ERVhbXVwiLHIpLHQucHVzaCh0W3QubGVuZ3RoLXJdKX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiTUlOREVYW11cIixyKSx0LnB1c2godC5zcGxpY2UodC5sZW5ndGgtciwxKVswXSl9LHZvaWQgMCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj10LnBvcCgpLGk9dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJMT09QQ0FMTFtdXCIscixpKTt2YXIgbj1lLmlwLG89ZS5wcm9nO2UucHJvZz1lLmZ1bmNzW3JdO2Zvcih2YXIgYT0wO2E8aTthKyspQXQoZSksTS5ERUJVRyYmY29uc29sZS5sb2coKytlLnN0ZXAsYSsxPGk/XCJuZXh0IGxvb3BjYWxsXCI6XCJkb25lIGxvb3BjYWxsXCIsYSk7ZS5pcD1uLGUucHJvZz1vfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLnBvcCgpO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIkNBTExbXVwiLHQpO3ZhciByPWUuaXAsaT1lLnByb2c7ZS5wcm9nPWUuZnVuY3NbdF0sQXQoZSksZS5pcD1yLGUucHJvZz1pLE0uREVCVUcmJmNvbnNvbGUubG9nKCsrZS5zdGVwLFwicmV0dXJuaW5nIGZyb21cIix0KX0sZnVuY3Rpb24oZSl7aWYoXCJmcGdtXCIhPT1lLmVudil0aHJvdyBuZXcgRXJyb3IoXCJGREVGIG5vdCBhbGxvd2VkIGhlcmVcIik7dmFyIHQ9ZS5zdGFjayxyPWUucHJvZyxpPWUuaXAsbj10LnBvcCgpLG89aTtmb3IoTS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiRkRFRltdXCIsbik7NDUhPT1yWysraV07KTtlLmlwPWksZS5mdW5jc1tuXT1yLnNsaWNlKG8rMSxpKX0sdm9pZCAwLGhyLmJpbmQodm9pZCAwLDApLGhyLmJpbmQodm9pZCAwLDEpLGxyLmJpbmQodm9pZCAwLHF0KSxsci5iaW5kKHZvaWQgMCxYdCksdXIuYmluZCh2b2lkIDAsMCksdXIuYmluZCh2b2lkIDAsMSksY3IuYmluZCh2b2lkIDAsMCksY3IuYmluZCh2b2lkIDAsMSkscHIuYmluZCh2b2lkIDAsMCkscHIuYmluZCh2b2lkIDAsMSksZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuc3RhY2sscj1lLmxvb3AsaT1lLmZ2LG49dC5wb3AoKS82NCxvPWUuejI7ci0tOyl7dmFyIGE9dC5wb3AoKSxzPW9bYV07TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLCgxPGUubG9vcD9cImxvb3AgXCIrKGUubG9vcC1yKStcIjogXCI6XCJcIikrXCJTSFBJWFtdXCIsYSxuKSxpLnNldFJlbGF0aXZlKHMscyxuKSxpLnRvdWNoKHMpfWUubG9vcD0xfSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5zdGFjayxyPWUucnAxLGk9ZS5ycDIsbj1lLmxvb3Asbz1lLnowW3JdLGE9ZS56MVtpXSxzPWUuZnYsaD1lLmRwdixsPWUuejI7bi0tOyl7dmFyIHU9dC5wb3AoKSxjPWxbdV07TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLCgxPGUubG9vcD9cImxvb3AgXCIrKGUubG9vcC1uKStcIjogXCI6XCJcIikrXCJJUFtdXCIsdSxyLFwiPC0+XCIsaSkscy5pbnRlcnBvbGF0ZShjLG8sYSxoKSxzLnRvdWNoKGMpfWUubG9vcD0xfSxkci5iaW5kKHZvaWQgMCwwKSxkci5iaW5kKHZvaWQgMCwxKSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5zdGFjayxyPWUucnAwLGk9ZS56MFtyXSxuPWUubG9vcCxvPWUuZnYsYT1lLnB2LHM9ZS56MTtuLS07KXt2YXIgaD10LnBvcCgpLGw9c1toXTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsKDE8ZS5sb29wP1wibG9vcCBcIisoZS5sb29wLW4pK1wiOiBcIjpcIlwiKStcIkFMSUdOUlBbXVwiLGgpLG8uc2V0UmVsYXRpdmUobCxpLDAsYSksby50b3VjaChsKX1lLmxvb3A9MX0sZnVuY3Rpb24oZSl7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiUlRER1tdXCIpLGUucm91bmQ9VnR9LGZyLmJpbmQodm9pZCAwLDApLGZyLmJpbmQodm9pZCAwLDEpLGZ1bmN0aW9uKGUpe3ZhciB0PWUucHJvZyxyPWUuaXAsaT1lLnN0YWNrLG49dFsrK3JdO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIk5QVVNIQltdXCIsbik7Zm9yKHZhciBvPTA7bzxuO28rKylpLnB1c2godFsrK3JdKTtlLmlwPXJ9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuaXAscj1lLnByb2csaT1lLnN0YWNrLG49clsrK3RdO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIk5QVVNIV1tdXCIsbik7Zm9yKHZhciBvPTA7bzxuO28rKyl7dmFyIGE9clsrK3RdPDw4fHJbKyt0XTszMjc2OCZhJiYoYT0tKDErKDY1NTM1XmEpKSksaS5wdXNoKGEpfWUuaXA9dH0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPWUuc3RvcmU7cnx8KHI9ZS5zdG9yZT1bXSk7dmFyIGk9dC5wb3AoKSxuPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiV1NcIixpLG4pLHJbbl09aX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPWUuc3RvcmUsaT10LnBvcCgpO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIlJTXCIsaSk7dmFyIG49ciYmcltpXXx8MDt0LnB1c2gobil9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj10LnBvcCgpLGk9dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJXQ1ZUUFwiLHIsaSksZS5jdnRbaV09ci82NH0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiUkNWVFwiLHIpLHQucHVzaCg2NCplLmN2dFtyXSl9LG1yLmJpbmQodm9pZCAwLDApLG1yLmJpbmQodm9pZCAwLDEpLHZvaWQgMCx2ci5iaW5kKHZvaWQgMCwwKSx2ci5iaW5kKHZvaWQgMCwxKSxmdW5jdGlvbihlKXtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJNUFBFTVtdXCIpLGUuc3RhY2sucHVzaChlLnBwZW0pfSx2b2lkIDAsZnVuY3Rpb24oZSl7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiRkxJUE9OW11cIiksZS5hdXRvRmxpcD0hMH0sdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiTFRbXVwiLHIsaSksdC5wdXNoKGk8cj8xOjApfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiTFRFUVtdXCIscixpKSx0LnB1c2goaTw9cj8xOjApfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiR1RbXVwiLHIsaSksdC5wdXNoKHI8aT8xOjApfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiR1RFUVtdXCIscixpKSx0LnB1c2gocjw9aT8xOjApfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiRVFbXVwiLHIsaSksdC5wdXNoKHI9PT1pPzE6MCl9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj10LnBvcCgpLGk9dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJORVFbXVwiLHIsaSksdC5wdXNoKHIhPT1pPzE6MCl9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj10LnBvcCgpO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIk9ERFtdXCIsciksdC5wdXNoKE1hdGgudHJ1bmMociklMj8xOjApfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJFVkVOW11cIixyKSx0LnB1c2goTWF0aC50cnVuYyhyKSUyPzA6MSl9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiSUZbXVwiLHQpLHR8fCh0cihlLCEwKSxNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJFSUZbXVwiKSl9LGZ1bmN0aW9uKGUpe00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIkVJRltdXCIpfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiQU5EW11cIixyLGkpLHQucHVzaChyJiZpPzE6MCl9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj10LnBvcCgpLGk9dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJPUltdXCIscixpKSx0LnB1c2gocnx8aT8xOjApfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJOT1RbXVwiLHIpLHQucHVzaChyPzA6MSl9LGdyLmJpbmQodm9pZCAwLDEpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiU0RCW11cIix0KSxlLmRlbHRhQmFzZT10fSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLnBvcCgpO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIlNEU1tdXCIsdCksZS5kZWx0YVNoaWZ0PU1hdGgucG93KC41LHQpfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiQUREW11cIixyLGkpLHQucHVzaChpK3IpfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiU1VCW11cIixyLGkpLHQucHVzaChpLXIpfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiRElWW11cIixyLGkpLHQucHVzaCg2NCppL3IpfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiTVVMW11cIixyLGkpLHQucHVzaChpKnIvNjQpfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJBQlNbXVwiLHIpLHQucHVzaChNYXRoLmFicyhyKSl9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj10LnBvcCgpO00uREVCVUcmJmNvbnNvbGUubG9nKGUuc3RlcCxcIk5FR1tdXCIsciksdC5wdXNoKC1yKX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiRkxPT1JbXVwiLHIpLHQucHVzaCg2NCpNYXRoLmZsb29yKHIvNjQpKX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiQ0VJTElOR1tdXCIsciksdC5wdXNoKDY0Kk1hdGguY2VpbChyLzY0KSl9LHlyLmJpbmQodm9pZCAwLDApLHlyLmJpbmQodm9pZCAwLDEpLHlyLmJpbmQodm9pZCAwLDIpLHlyLmJpbmQodm9pZCAwLDMpLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiV0NWVEZbXVwiLHIsaSksZS5jdnRbaV09ciplLnBwZW0vZS5mb250LnVuaXRzUGVyRW19LGdyLmJpbmQodm9pZCAwLDIpLGdyLmJpbmQodm9pZCAwLDMpLGJyLmJpbmQodm9pZCAwLDEpLGJyLmJpbmQodm9pZCAwLDIpLGJyLmJpbmQodm9pZCAwLDMpLGZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5zdGFjay5wb3AoKTtzd2l0Y2goTS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiU1JPVU5EW11cIixyKSxlLnJvdW5kPVd0LDE5MiZyKXtjYXNlIDA6dD0uNTticmVhaztjYXNlIDY0OnQ9MTticmVhaztjYXNlIDEyODp0PTI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIFNST1VORCB2YWx1ZVwiKX1zd2l0Y2goZS5zclBlcmlvZD10LDQ4JnIpe2Nhc2UgMDplLnNyUGhhc2U9MDticmVhaztjYXNlIDE2OmUuc3JQaGFzZT0uMjUqdDticmVhaztjYXNlIDMyOmUuc3JQaGFzZT0uNSp0O2JyZWFrO2Nhc2UgNDg6ZS5zclBoYXNlPS43NSp0O2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBTUk9VTkQgdmFsdWVcIil9ciY9MTUsZS5zclRocmVzaG9sZD0wPT09cj8wOihyLzgtLjUpKnR9LGZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5zdGFjay5wb3AoKTtzd2l0Y2goTS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiUzQ1Uk9VTkRbXVwiLHIpLGUucm91bmQ9V3QsMTkyJnIpe2Nhc2UgMDp0PU1hdGguc3FydCgyKS8yO2JyZWFrO2Nhc2UgNjQ6dD1NYXRoLnNxcnQoMik7YnJlYWs7Y2FzZSAxMjg6dD0yKk1hdGguc3FydCgyKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImludmFsaWQgUzQ1Uk9VTkQgdmFsdWVcIil9c3dpdGNoKGUuc3JQZXJpb2Q9dCw0OCZyKXtjYXNlIDA6ZS5zclBoYXNlPTA7YnJlYWs7Y2FzZSAxNjplLnNyUGhhc2U9LjI1KnQ7YnJlYWs7Y2FzZSAzMjplLnNyUGhhc2U9LjUqdDticmVhaztjYXNlIDQ4OmUuc3JQaGFzZT0uNzUqdDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImludmFsaWQgUzQ1Uk9VTkQgdmFsdWVcIil9ciY9MTUsZS5zclRocmVzaG9sZD0wPT09cj8wOihyLzgtLjUpKnR9LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oZSl7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiUk9GRltdXCIpLGUucm91bmQ9R3R9LHZvaWQgMCxmdW5jdGlvbihlKXtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJSVVRHW11cIiksZS5yb3VuZD1IdH0sZnVuY3Rpb24oZSl7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiUkRUR1tdXCIpLGUucm91bmQ9anR9LHNyLHNyLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjay5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJTQ0FOQ1RSTFtdXCIsdCl9LF9yLmJpbmQodm9pZCAwLDApLF9yLmJpbmQodm9pZCAwLDEpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj10LnBvcCgpLGk9MDtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJHRVRJTkZPW11cIixyKSwxJnImJihpPTM1KSwzMiZyJiYoaXw9NDA5NiksdC5wdXNoKGkpfSx2b2lkIDAsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjayxyPXQucG9wKCksaT10LnBvcCgpLG49dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJST0xMW11cIiksdC5wdXNoKGkpLHQucHVzaChyKSx0LnB1c2gobil9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sscj10LnBvcCgpLGk9dC5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJNQVhbXVwiLHIsaSksdC5wdXNoKE1hdGgubWF4KGkscikpfSxmdW5jdGlvbihlKXt2YXIgdD1lLnN0YWNrLHI9dC5wb3AoKSxpPXQucG9wKCk7TS5ERUJVRyYmY29uc29sZS5sb2coZS5zdGVwLFwiTUlOW11cIixyLGkpLHQucHVzaChNYXRoLm1pbihpLHIpKX0sZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFjay5wb3AoKTtNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJTQ0FOVFlQRVtdXCIsdCl9LGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhY2sucG9wKCkscj1lLnN0YWNrLnBvcCgpO3N3aXRjaChNLkRFQlVHJiZjb25zb2xlLmxvZyhlLnN0ZXAsXCJJTlNUQ1RSTFtdXCIsdCxyKSx0KXtjYXNlIDE6cmV0dXJuIHZvaWQoZS5pbmhpYml0R3JpZEZpdD0hIXIpO2Nhc2UgMjpyZXR1cm4gdm9pZChlLmlnbm9yZUN2dD0hIXIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBJTlNUQ1RSTFtdIHNlbGVjdG9yXCIpfX0sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAseHIuYmluZCh2b2lkIDAsMSkseHIuYmluZCh2b2lkIDAsMikseHIuYmluZCh2b2lkIDAsMykseHIuYmluZCh2b2lkIDAsNCkseHIuYmluZCh2b2lkIDAsNSkseHIuYmluZCh2b2lkIDAsNikseHIuYmluZCh2b2lkIDAsNykseHIuYmluZCh2b2lkIDAsOCksd3IuYmluZCh2b2lkIDAsMSksd3IuYmluZCh2b2lkIDAsMiksd3IuYmluZCh2b2lkIDAsMyksd3IuYmluZCh2b2lkIDAsNCksd3IuYmluZCh2b2lkIDAsNSksd3IuYmluZCh2b2lkIDAsNiksd3IuYmluZCh2b2lkIDAsNyksd3IuYmluZCh2b2lkIDAsOCksU3IuYmluZCh2b2lkIDAsMCwwLDAsMCwwKSxTci5iaW5kKHZvaWQgMCwwLDAsMCwwLDEpLFNyLmJpbmQodm9pZCAwLDAsMCwwLDAsMiksU3IuYmluZCh2b2lkIDAsMCwwLDAsMCwzKSxTci5iaW5kKHZvaWQgMCwwLDAsMCwxLDApLFNyLmJpbmQodm9pZCAwLDAsMCwwLDEsMSksU3IuYmluZCh2b2lkIDAsMCwwLDAsMSwyKSxTci5iaW5kKHZvaWQgMCwwLDAsMCwxLDMpLFNyLmJpbmQodm9pZCAwLDAsMCwxLDAsMCksU3IuYmluZCh2b2lkIDAsMCwwLDEsMCwxKSxTci5iaW5kKHZvaWQgMCwwLDAsMSwwLDIpLFNyLmJpbmQodm9pZCAwLDAsMCwxLDAsMyksU3IuYmluZCh2b2lkIDAsMCwwLDEsMSwwKSxTci5iaW5kKHZvaWQgMCwwLDAsMSwxLDEpLFNyLmJpbmQodm9pZCAwLDAsMCwxLDEsMiksU3IuYmluZCh2b2lkIDAsMCwwLDEsMSwzKSxTci5iaW5kKHZvaWQgMCwwLDEsMCwwLDApLFNyLmJpbmQodm9pZCAwLDAsMSwwLDAsMSksU3IuYmluZCh2b2lkIDAsMCwxLDAsMCwyKSxTci5iaW5kKHZvaWQgMCwwLDEsMCwwLDMpLFNyLmJpbmQodm9pZCAwLDAsMSwwLDEsMCksU3IuYmluZCh2b2lkIDAsMCwxLDAsMSwxKSxTci5iaW5kKHZvaWQgMCwwLDEsMCwxLDIpLFNyLmJpbmQodm9pZCAwLDAsMSwwLDEsMyksU3IuYmluZCh2b2lkIDAsMCwxLDEsMCwwKSxTci5iaW5kKHZvaWQgMCwwLDEsMSwwLDEpLFNyLmJpbmQodm9pZCAwLDAsMSwxLDAsMiksU3IuYmluZCh2b2lkIDAsMCwxLDEsMCwzKSxTci5iaW5kKHZvaWQgMCwwLDEsMSwxLDApLFNyLmJpbmQodm9pZCAwLDAsMSwxLDEsMSksU3IuYmluZCh2b2lkIDAsMCwxLDEsMSwyKSxTci5iaW5kKHZvaWQgMCwwLDEsMSwxLDMpLFNyLmJpbmQodm9pZCAwLDEsMCwwLDAsMCksU3IuYmluZCh2b2lkIDAsMSwwLDAsMCwxKSxTci5iaW5kKHZvaWQgMCwxLDAsMCwwLDIpLFNyLmJpbmQodm9pZCAwLDEsMCwwLDAsMyksU3IuYmluZCh2b2lkIDAsMSwwLDAsMSwwKSxTci5iaW5kKHZvaWQgMCwxLDAsMCwxLDEpLFNyLmJpbmQodm9pZCAwLDEsMCwwLDEsMiksU3IuYmluZCh2b2lkIDAsMSwwLDAsMSwzKSxTci5iaW5kKHZvaWQgMCwxLDAsMSwwLDApLFNyLmJpbmQodm9pZCAwLDEsMCwxLDAsMSksU3IuYmluZCh2b2lkIDAsMSwwLDEsMCwyKSxTci5iaW5kKHZvaWQgMCwxLDAsMSwwLDMpLFNyLmJpbmQodm9pZCAwLDEsMCwxLDEsMCksU3IuYmluZCh2b2lkIDAsMSwwLDEsMSwxKSxTci5iaW5kKHZvaWQgMCwxLDAsMSwxLDIpLFNyLmJpbmQodm9pZCAwLDEsMCwxLDEsMyksU3IuYmluZCh2b2lkIDAsMSwxLDAsMCwwKSxTci5iaW5kKHZvaWQgMCwxLDEsMCwwLDEpLFNyLmJpbmQodm9pZCAwLDEsMSwwLDAsMiksU3IuYmluZCh2b2lkIDAsMSwxLDAsMCwzKSxTci5iaW5kKHZvaWQgMCwxLDEsMCwxLDApLFNyLmJpbmQodm9pZCAwLDEsMSwwLDEsMSksU3IuYmluZCh2b2lkIDAsMSwxLDAsMSwyKSxTci5iaW5kKHZvaWQgMCwxLDEsMCwxLDMpLFNyLmJpbmQodm9pZCAwLDEsMSwxLDAsMCksU3IuYmluZCh2b2lkIDAsMSwxLDEsMCwxKSxTci5iaW5kKHZvaWQgMCwxLDEsMSwwLDIpLFNyLmJpbmQodm9pZCAwLDEsMSwxLDAsMyksU3IuYmluZCh2b2lkIDAsMSwxLDEsMSwwKSxTci5iaW5kKHZvaWQgMCwxLDEsMSwxLDEpLFNyLmJpbmQodm9pZCAwLDEsMSwxLDEsMiksU3IuYmluZCh2b2lkIDAsMSwxLDEsMSwzKV07dmFyIFRyPUFycmF5LmZyb218fGZ1bmN0aW9uKGUpe3JldHVybiBlLm1hdGNoKC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdP3xbXlxcdUQ4MDAtXFx1REZGRl18Li9nKXx8W119O2Z1bmN0aW9uIE1yKGUpeyhlPWV8fHt9KS5lbXB0eXx8KEN0KGUuZmFtaWx5TmFtZSxcIldoZW4gY3JlYXRpbmcgYSBuZXcgRm9udCBvYmplY3QsIGZhbWlseU5hbWUgaXMgcmVxdWlyZWQuXCIpLEN0KGUuc3R5bGVOYW1lLFwiV2hlbiBjcmVhdGluZyBhIG5ldyBGb250IG9iamVjdCwgc3R5bGVOYW1lIGlzIHJlcXVpcmVkLlwiKSxDdChlLnVuaXRzUGVyRW0sXCJXaGVuIGNyZWF0aW5nIGEgbmV3IEZvbnQgb2JqZWN0LCB1bml0c1BlckVtIGlzIHJlcXVpcmVkLlwiKSxDdChlLmFzY2VuZGVyLFwiV2hlbiBjcmVhdGluZyBhIG5ldyBGb250IG9iamVjdCwgYXNjZW5kZXIgaXMgcmVxdWlyZWQuXCIpLEN0KGUuZGVzY2VuZGVyLFwiV2hlbiBjcmVhdGluZyBhIG5ldyBGb250IG9iamVjdCwgZGVzY2VuZGVyIGlzIHJlcXVpcmVkLlwiKSxDdChlLmRlc2NlbmRlcjwwLFwiRGVzY2VuZGVyIHNob3VsZCBiZSBuZWdhdGl2ZSAoZS5nLiAtNTEyKS5cIiksdGhpcy5uYW1lcz17Zm9udEZhbWlseTp7ZW46ZS5mYW1pbHlOYW1lfHxcIiBcIn0sZm9udFN1YmZhbWlseTp7ZW46ZS5zdHlsZU5hbWV8fFwiIFwifSxmdWxsTmFtZTp7ZW46ZS5mdWxsTmFtZXx8ZS5mYW1pbHlOYW1lK1wiIFwiK2Uuc3R5bGVOYW1lfSxwb3N0U2NyaXB0TmFtZTp7ZW46ZS5wb3N0U2NyaXB0TmFtZXx8KGUuZmFtaWx5TmFtZStlLnN0eWxlTmFtZSkucmVwbGFjZSgvXFxzL2csXCJcIil9LGRlc2lnbmVyOntlbjplLmRlc2lnbmVyfHxcIiBcIn0sZGVzaWduZXJVUkw6e2VuOmUuZGVzaWduZXJVUkx8fFwiIFwifSxtYW51ZmFjdHVyZXI6e2VuOmUubWFudWZhY3R1cmVyfHxcIiBcIn0sbWFudWZhY3R1cmVyVVJMOntlbjplLm1hbnVmYWN0dXJlclVSTHx8XCIgXCJ9LGxpY2Vuc2U6e2VuOmUubGljZW5zZXx8XCIgXCJ9LGxpY2Vuc2VVUkw6e2VuOmUubGljZW5zZVVSTHx8XCIgXCJ9LHZlcnNpb246e2VuOmUudmVyc2lvbnx8XCJWZXJzaW9uIDAuMVwifSxkZXNjcmlwdGlvbjp7ZW46ZS5kZXNjcmlwdGlvbnx8XCIgXCJ9LGNvcHlyaWdodDp7ZW46ZS5jb3B5cmlnaHR8fFwiIFwifSx0cmFkZW1hcms6e2VuOmUudHJhZGVtYXJrfHxcIiBcIn19LHRoaXMudW5pdHNQZXJFbT1lLnVuaXRzUGVyRW18fDFlMyx0aGlzLmFzY2VuZGVyPWUuYXNjZW5kZXIsdGhpcy5kZXNjZW5kZXI9ZS5kZXNjZW5kZXIsdGhpcy5jcmVhdGVkVGltZXN0YW1wPWUuY3JlYXRlZFRpbWVzdGFtcCx0aGlzLnRhYmxlcz17b3MyOnt1c1dlaWdodENsYXNzOmUud2VpZ2h0Q2xhc3N8fHRoaXMudXNXZWlnaHRDbGFzc2VzLk1FRElVTSx1c1dpZHRoQ2xhc3M6ZS53aWR0aENsYXNzfHx0aGlzLnVzV2lkdGhDbGFzc2VzLk1FRElVTSxmc1NlbGVjdGlvbjplLmZzU2VsZWN0aW9ufHx0aGlzLmZzU2VsZWN0aW9uVmFsdWVzLlJFR1VMQVJ9fSksdGhpcy5zdXBwb3J0ZWQ9ITAsdGhpcy5nbHlwaHM9bmV3IHhlLkdseXBoU2V0KHRoaXMsZS5nbHlwaHN8fFtdKSx0aGlzLmVuY29kaW5nPW5ldyBkZSh0aGlzKSx0aGlzLnBvc2l0aW9uPW5ldyB3dCh0aGlzKSx0aGlzLnN1YnN0aXR1dGlvbj1uZXcgU3QodGhpcyksdGhpcy50YWJsZXM9dGhpcy50YWJsZXN8fHt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaGludGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGludGluZz90aGlzLl9oaW50aW5nOlwidHJ1ZXR5cGVcIj09PXRoaXMub3V0bGluZXNGb3JtYXQ/dGhpcy5faGludGluZz1uZXcgRnQodGhpcyk6dm9pZCAwfX0pfWZ1bmN0aW9uIEVyKGUsdCl7dmFyIHI9SlNPTi5zdHJpbmdpZnkoZSksaT0yNTY7Zm9yKHZhciBuIGluIHQpe3ZhciBvPXBhcnNlSW50KG4pO2lmKG8mJiEobzwyNTYpKXtpZihKU09OLnN0cmluZ2lmeSh0W25dKT09PXIpcmV0dXJuIG87aTw9byYmKGk9bysxKX19cmV0dXJuIHRbaV09ZSxpfWZ1bmN0aW9uIENyKGUsdCxyLGkpe2Zvcih2YXIgbj1be25hbWU6XCJuYW1lSURfXCIrZSx0eXBlOlwiVVNIT1JUXCIsdmFsdWU6RXIodC5uYW1lLGkpfSx7bmFtZTpcImZsYWdzX1wiK2UsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjB9XSxvPTA7bzxyLmxlbmd0aDsrK28pe3ZhciBhPXJbb10udGFnO24ucHVzaCh7bmFtZTpcImF4aXNfXCIrZStcIiBcIithLHR5cGU6XCJGSVhFRFwiLHZhbHVlOnQuY29vcmRpbmF0ZXNbYV08PDE2fSl9cmV0dXJuIG59ZnVuY3Rpb24gUnIoZSx0LHIsaSl7dmFyIG49e30sbz1uZXcgc2UuUGFyc2VyKGUsdCk7bi5uYW1lPWlbby5wYXJzZVVTaG9ydCgpXXx8e30sby5za2lwKFwidVNob3J0XCIsMSksbi5jb29yZGluYXRlcz17fTtmb3IodmFyIGE9MDthPHIubGVuZ3RoOysrYSluLmNvb3JkaW5hdGVzW3JbYV0udGFnXT1vLnBhcnNlRml4ZWQoKTtyZXR1cm4gbn1Nci5wcm90b3R5cGUuaGFzQ2hhcj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PXRoaXMuZW5jb2RpbmcuY2hhclRvR2x5cGhJbmRleChlKX0sTXIucHJvdG90eXBlLmNoYXJUb0dseXBoSW5kZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZW5jb2RpbmcuY2hhclRvR2x5cGhJbmRleChlKX0sTXIucHJvdG90eXBlLmNoYXJUb0dseXBoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2hhclRvR2x5cGhJbmRleChlKSxyPXRoaXMuZ2x5cGhzLmdldCh0KTtyZXR1cm4gcnx8KHI9dGhpcy5nbHlwaHMuZ2V0KDApKSxyfSxNci5wcm90b3R5cGUuc3RyaW5nVG9HbHlwaHM9ZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXMuZGVmYXVsdFJlbmRlck9wdGlvbnM7Zm9yKHZhciByPVRyKGUpLGk9W10sbj0wO248ci5sZW5ndGg7bis9MSl7dmFyIG89cltuXTtpLnB1c2godGhpcy5jaGFyVG9HbHlwaEluZGV4KG8pKX12YXIgYT1pLmxlbmd0aDtpZih0LmZlYXR1cmVzKXt2YXIgcz10LnNjcmlwdHx8dGhpcy5zdWJzdGl0dXRpb24uZ2V0RGVmYXVsdFNjcmlwdE5hbWUoKSxoPVtdO3QuZmVhdHVyZXMubGlnYSYmKGg9aC5jb25jYXQodGhpcy5zdWJzdGl0dXRpb24uZ2V0RmVhdHVyZShcImxpZ2FcIixzLHQubGFuZ3VhZ2UpKSksdC5mZWF0dXJlcy5ybGlnJiYoaD1oLmNvbmNhdCh0aGlzLnN1YnN0aXR1dGlvbi5nZXRGZWF0dXJlKFwicmxpZ1wiLHMsdC5sYW5ndWFnZSkpKTtmb3IodmFyIGw9MDtsPGE7bCs9MSlmb3IodmFyIHU9MDt1PGgubGVuZ3RoO3UrKyl7Zm9yKHZhciBjPWhbdV0scD1jLnN1YixkPXAubGVuZ3RoLGY9MDtmPGQmJnBbZl09PT1pW2wrZl07KWYrKztmPT09ZCYmKGkuc3BsaWNlKGwsZCxjLmJ5KSxhPWEtZCsxKX19Zm9yKHZhciBtPW5ldyBBcnJheShhKSx2PXRoaXMuZ2x5cGhzLmdldCgwKSxnPTA7ZzxhO2crPTEpbVtnXT10aGlzLmdseXBocy5nZXQoaVtnXSl8fHY7cmV0dXJuIG19LE1yLnByb3RvdHlwZS5uYW1lVG9HbHlwaEluZGV4PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdseXBoTmFtZXMubmFtZVRvR2x5cGhJbmRleChlKX0sTXIucHJvdG90eXBlLm5hbWVUb0dseXBoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubmFtZVRvR2x5cGhJbmRleChlKSxyPXRoaXMuZ2x5cGhzLmdldCh0KTtyZXR1cm4gcnx8KHI9dGhpcy5nbHlwaHMuZ2V0KDApKSxyfSxNci5wcm90b3R5cGUuZ2x5cGhJbmRleFRvTmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nbHlwaE5hbWVzLmdseXBoSW5kZXhUb05hbWU/dGhpcy5nbHlwaE5hbWVzLmdseXBoSW5kZXhUb05hbWUoZSk6XCJcIn0sTXIucHJvdG90eXBlLmdldEtlcm5pbmdWYWx1ZT1mdW5jdGlvbihlLHQpe2U9ZS5pbmRleHx8ZSx0PXQuaW5kZXh8fHQ7dmFyIHI9dGhpcy5wb3NpdGlvbi5kZWZhdWx0S2VybmluZ1RhYmxlcztyZXR1cm4gcj90aGlzLnBvc2l0aW9uLmdldEtlcm5pbmdWYWx1ZShyLGUsdCk6dGhpcy5rZXJuaW5nUGFpcnNbZStcIixcIit0XXx8MH0sTXIucHJvdG90eXBlLmRlZmF1bHRSZW5kZXJPcHRpb25zPXtrZXJuaW5nOiEwLGZlYXR1cmVzOntsaWdhOiEwLHJsaWc6ITB9fSxNci5wcm90b3R5cGUuZm9yRWFjaEdseXBoPWZ1bmN0aW9uKGUsdCxyLGksbixvKXt0PXZvaWQgMCE9PXQ/dDowLHI9dm9pZCAwIT09cj9yOjAsaT12b2lkIDAhPT1pP2k6NzIsbj1ufHx0aGlzLmRlZmF1bHRSZW5kZXJPcHRpb25zO3ZhciBhLHM9MS90aGlzLnVuaXRzUGVyRW0qaSxoPXRoaXMuc3RyaW5nVG9HbHlwaHMoZSxuKTtpZihuLmtlcm5pbmcpe3ZhciBsPW4uc2NyaXB0fHx0aGlzLnBvc2l0aW9uLmdldERlZmF1bHRTY3JpcHROYW1lKCk7YT10aGlzLnBvc2l0aW9uLmdldEtlcm5pbmdUYWJsZXMobCxuLmxhbmd1YWdlKX1mb3IodmFyIHU9MDt1PGgubGVuZ3RoO3UrPTEpe3ZhciBjPWhbdV07aWYoby5jYWxsKHRoaXMsYyx0LHIsaSxuKSxjLmFkdmFuY2VXaWR0aCYmKHQrPWMuYWR2YW5jZVdpZHRoKnMpLG4ua2VybmluZyYmdTxoLmxlbmd0aC0xKXQrPShhP3RoaXMucG9zaXRpb24uZ2V0S2VybmluZ1ZhbHVlKGEsYy5pbmRleCxoW3UrMV0uaW5kZXgpOnRoaXMuZ2V0S2VybmluZ1ZhbHVlKGMsaFt1KzFdKSkqcztuLmxldHRlclNwYWNpbmc/dCs9bi5sZXR0ZXJTcGFjaW5nKmk6bi50cmFja2luZyYmKHQrPW4udHJhY2tpbmcvMWUzKmkpfXJldHVybiB0fSxNci5wcm90b3R5cGUuZ2V0UGF0aD1mdW5jdGlvbihlLHQscixpLG8pe3ZhciBhPW5ldyBVO3JldHVybiB0aGlzLmZvckVhY2hHbHlwaChlLHQscixpLG8sZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49ZS5nZXRQYXRoKHQscixpLG8sdGhpcyk7YS5leHRlbmQobil9KSxhfSxNci5wcm90b3R5cGUuZ2V0UGF0aHM9ZnVuY3Rpb24oZSx0LHIsaSxvKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoR2x5cGgoZSx0LHIsaSxvLGZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPWUuZ2V0UGF0aCh0LHIsaSxvLHRoaXMpO2EucHVzaChuKX0pLGF9LE1yLnByb3RvdHlwZS5nZXRBZHZhbmNlV2lkdGg9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmZvckVhY2hHbHlwaChlLDAsMCx0LHIsZnVuY3Rpb24oKXt9KX0sTXIucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe3RoaXMuZ2V0UGF0aCh0LHIsaSxuLG8pLmRyYXcoZSl9LE1yLnByb3RvdHlwZS5kcmF3UG9pbnRzPWZ1bmN0aW9uKG4sZSx0LHIsaSxvKXt0aGlzLmZvckVhY2hHbHlwaChlLHQscixpLG8sZnVuY3Rpb24oZSx0LHIsaSl7ZS5kcmF3UG9pbnRzKG4sdCxyLGkpfSl9LE1yLnByb3RvdHlwZS5kcmF3TWV0cmljcz1mdW5jdGlvbihuLGUsdCxyLGksbyl7dGhpcy5mb3JFYWNoR2x5cGgoZSx0LHIsaSxvLGZ1bmN0aW9uKGUsdCxyLGkpe2UuZHJhd01ldHJpY3Mobix0LHIsaSl9KX0sTXIucHJvdG90eXBlLmdldEVuZ2xpc2hOYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubmFtZXNbZV07aWYodClyZXR1cm4gdC5lbn0sTXIucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIHI9dGhpcztmdW5jdGlvbiBlKGUpe3ZhciB0PXIuZ2V0RW5nbGlzaE5hbWUoZSk7dCYmdC50cmltKCkubGVuZ3RofWUoXCJmb250RmFtaWx5XCIpLGUoXCJ3ZWlnaHROYW1lXCIpLGUoXCJtYW51ZmFjdHVyZXJcIiksZShcImNvcHlyaWdodFwiKSxlKFwidmVyc2lvblwiKSx0aGlzLnVuaXRzUGVyRW19LE1yLnByb3RvdHlwZS50b1RhYmxlcz1mdW5jdGlvbigpe3JldHVybiBndC5mb250VG9UYWJsZSh0aGlzKX0sTXIucHJvdG90eXBlLnRvQnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIkZvbnQudG9CdWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIEZvbnQudG9BcnJheUJ1ZmZlciBpbnN0ZWFkLlwiKSx0aGlzLnRvQXJyYXlCdWZmZXIoKX0sTXIucHJvdG90eXBlLnRvQXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy50b1RhYmxlcygpLmVuY29kZSgpLHQ9bmV3IEFycmF5QnVmZmVyKGUubGVuZ3RoKSxyPW5ldyBVaW50OEFycmF5KHQpLGk9MDtpPGUubGVuZ3RoO2krKylyW2ldPWVbaV07cmV0dXJuIHR9LE1yLnByb3RvdHlwZS5kb3dubG9hZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEVuZ2xpc2hOYW1lKFwiZm9udEZhbWlseVwiKSxyPXRoaXMuZ2V0RW5nbGlzaE5hbWUoXCJmb250U3ViZmFtaWx5XCIpO3Q9dHx8ZS5yZXBsYWNlKC9cXHMvZyxcIlwiKStcIi1cIityK1wiLm90ZlwiO3ZhciBuPXRoaXMudG9BcnJheUJ1ZmZlcigpO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtPXdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbXx8d2luZG93LndlYmtpdFJlcXVlc3RGaWxlU3lzdGVtLHdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbSh3aW5kb3cuVEVNUE9SQVJZLG4uYnl0ZUxlbmd0aCxmdW5jdGlvbihlKXtlLnJvb3QuZ2V0RmlsZSh0LHtjcmVhdGU6ITB9LGZ1bmN0aW9uKGkpe2kuY3JlYXRlV3JpdGVyKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRhVmlldyhuKSxyPW5ldyBCbG9iKFt0XSx7dHlwZTpcImZvbnQvb3BlbnR5cGVcIn0pO2Uud3JpdGUociksZS5hZGRFdmVudExpc3RlbmVyKFwid3JpdGVlbmRcIixmdW5jdGlvbigpe2xvY2F0aW9uLmhyZWY9aS50b1VSTCgpfSwhMSl9KX0pfSxmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZS5uYW1lK1wiOiBcIitlLm1lc3NhZ2UpfSk7ZWxzZXt2YXIgaT1WcihcImZzXCIpLG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBOcihlLmJ5dGVMZW5ndGgpLHI9bmV3IFVpbnQ4QXJyYXkoZSksaT0wO2k8dC5sZW5ndGg7KytpKXRbaV09cltpXTtyZXR1cm4gdH0obik7aS53cml0ZUZpbGVTeW5jKHQsbyl9fSxNci5wcm90b3R5cGUuZnNTZWxlY3Rpb25WYWx1ZXM9e0lUQUxJQzoxLFVOREVSU0NPUkU6MixORUdBVElWRTo0LE9VVExJTkVEOjgsU1RSSUtFT1VUOjE2LEJPTEQ6MzIsUkVHVUxBUjo2NCxVU0VSX1RZUE9fTUVUUklDUzoxMjgsV1dTOjI1NixPQkxJUVVFOjUxMn0sTXIucHJvdG90eXBlLnVzV2lkdGhDbGFzc2VzPXtVTFRSQV9DT05ERU5TRUQ6MSxFWFRSQV9DT05ERU5TRUQ6MixDT05ERU5TRUQ6MyxTRU1JX0NPTkRFTlNFRDo0LE1FRElVTTo1LFNFTUlfRVhQQU5ERUQ6NixFWFBBTkRFRDo3LEVYVFJBX0VYUEFOREVEOjgsVUxUUkFfRVhQQU5ERUQ6OX0sTXIucHJvdG90eXBlLnVzV2VpZ2h0Q2xhc3Nlcz17VEhJTjoxMDAsRVhUUkFfTElHSFQ6MjAwLExJR0hUOjMwMCxOT1JNQUw6NDAwLE1FRElVTTo1MDAsU0VNSV9CT0xEOjYwMCxCT0xEOjcwMCxFWFRSQV9CT0xEOjgwMCxCTEFDSzo5MDB9O3ZhciBMcj17bWFrZTpmdW5jdGlvbihlLHQpe3ZhciByLGksbixvLGE9bmV3ICQuVGFibGUoXCJmdmFyXCIsW3tuYW1lOlwidmVyc2lvblwiLHR5cGU6XCJVTE9OR1wiLHZhbHVlOjY1NTM2fSx7bmFtZTpcIm9mZnNldFRvRGF0YVwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTowfSx7bmFtZTpcImNvdW50U2l6ZVBhaXJzXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjJ9LHtuYW1lOlwiYXhpc0NvdW50XCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOmUuYXhlcy5sZW5ndGh9LHtuYW1lOlwiYXhpc1NpemVcIix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MjB9LHtuYW1lOlwiaW5zdGFuY2VDb3VudFwiLHR5cGU6XCJVU0hPUlRcIix2YWx1ZTplLmluc3RhbmNlcy5sZW5ndGh9LHtuYW1lOlwiaW5zdGFuY2VTaXplXCIsdHlwZTpcIlVTSE9SVFwiLHZhbHVlOjQrNCplLmF4ZXMubGVuZ3RofV0pO2Eub2Zmc2V0VG9EYXRhPWEuc2l6ZU9mKCk7Zm9yKHZhciBzPTA7czxlLmF4ZXMubGVuZ3RoO3MrKylhLmZpZWxkcz1hLmZpZWxkcy5jb25jYXQoKHI9cyxpPWUuYXhlc1tzXSxuPXQsbz1FcihpLm5hbWUsbiksW3tuYW1lOlwidGFnX1wiK3IsdHlwZTpcIlRBR1wiLHZhbHVlOmkudGFnfSx7bmFtZTpcIm1pblZhbHVlX1wiK3IsdHlwZTpcIkZJWEVEXCIsdmFsdWU6aS5taW5WYWx1ZTw8MTZ9LHtuYW1lOlwiZGVmYXVsdFZhbHVlX1wiK3IsdHlwZTpcIkZJWEVEXCIsdmFsdWU6aS5kZWZhdWx0VmFsdWU8PDE2fSx7bmFtZTpcIm1heFZhbHVlX1wiK3IsdHlwZTpcIkZJWEVEXCIsdmFsdWU6aS5tYXhWYWx1ZTw8MTZ9LHtuYW1lOlwiZmxhZ3NfXCIrcix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6MH0se25hbWU6XCJuYW1lSURfXCIrcix0eXBlOlwiVVNIT1JUXCIsdmFsdWU6b31dKSk7Zm9yKHZhciBoPTA7aDxlLmluc3RhbmNlcy5sZW5ndGg7aCsrKWEuZmllbGRzPWEuZmllbGRzLmNvbmNhdChDcihoLGUuaW5zdGFuY2VzW2hdLGUuYXhlcyx0KSk7cmV0dXJuIGF9LHBhcnNlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1uZXcgc2UuUGFyc2VyKGUsdCksbj1pLnBhcnNlVUxvbmcoKTtQLmFyZ3VtZW50KDY1NTM2PT09bixcIlVuc3VwcG9ydGVkIGZ2YXIgdGFibGUgdmVyc2lvbi5cIik7dmFyIG89aS5wYXJzZU9mZnNldDE2KCk7aS5za2lwKFwidVNob3J0XCIsMSk7Zm9yKHZhciBhLHMsaCxsLHUsYz1pLnBhcnNlVVNob3J0KCkscD1pLnBhcnNlVVNob3J0KCksZD1pLnBhcnNlVVNob3J0KCksZj1pLnBhcnNlVVNob3J0KCksbT1bXSx2PTA7djxjO3YrKyltLnB1c2goKGE9ZSxzPXQrbyt2KnAsaD1yLHU9bD12b2lkIDAsbD17fSx1PW5ldyBzZS5QYXJzZXIoYSxzKSxsLnRhZz11LnBhcnNlVGFnKCksbC5taW5WYWx1ZT11LnBhcnNlRml4ZWQoKSxsLmRlZmF1bHRWYWx1ZT11LnBhcnNlRml4ZWQoKSxsLm1heFZhbHVlPXUucGFyc2VGaXhlZCgpLHUuc2tpcChcInVTaG9ydFwiLDEpLGwubmFtZT1oW3UucGFyc2VVU2hvcnQoKV18fHt9LGwpKTtmb3IodmFyIGc9W10seT10K28rYypwLGI9MDtiPGQ7YisrKWcucHVzaChScihlLHkrYipmLG0scikpO3JldHVybntheGVzOm0saW5zdGFuY2VzOmd9fX0sUHI9bmV3IEFycmF5KDEwKTtQclsxXT1mdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0K3RoaXMucmVsYXRpdmVPZmZzZXQsdD10aGlzLnBhcnNlVVNob3J0KCk7cmV0dXJuIDE9PT10P3twb3NGb3JtYXQ6MSxjb3ZlcmFnZTp0aGlzLnBhcnNlUG9pbnRlcihvZS5jb3ZlcmFnZSksdmFsdWU6dGhpcy5wYXJzZVZhbHVlUmVjb3JkKCl9OjI9PT10P3twb3NGb3JtYXQ6Mixjb3ZlcmFnZTp0aGlzLnBhcnNlUG9pbnRlcihvZS5jb3ZlcmFnZSksdmFsdWVzOnRoaXMucGFyc2VWYWx1ZVJlY29yZExpc3QoKX06dm9pZCBQLmFzc2VydCghMSxcIjB4XCIrZS50b1N0cmluZygxNikrXCI6IEdQT1MgbG9va3VwIHR5cGUgMSBmb3JtYXQgbXVzdCBiZSAxIG9yIDIuXCIpfSxQclsyXT1mdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0K3RoaXMucmVsYXRpdmVPZmZzZXQsdD10aGlzLnBhcnNlVVNob3J0KCk7UC5hc3NlcnQoMT09PXR8fDI9PT10LFwiMHhcIitlLnRvU3RyaW5nKDE2KStcIjogR1BPUyBsb29rdXAgdHlwZSAyIGZvcm1hdCBtdXN0IGJlIDEgb3IgMi5cIik7dmFyIHI9dGhpcy5wYXJzZVBvaW50ZXIob2UuY292ZXJhZ2UpLGk9dGhpcy5wYXJzZVVTaG9ydCgpLG49dGhpcy5wYXJzZVVTaG9ydCgpO2lmKDE9PT10KXJldHVybntwb3NGb3JtYXQ6dCxjb3ZlcmFnZTpyLHZhbHVlRm9ybWF0MTppLHZhbHVlRm9ybWF0MjpuLHBhaXJTZXRzOnRoaXMucGFyc2VMaXN0KG9lLnBvaW50ZXIob2UubGlzdChmdW5jdGlvbigpe3JldHVybntzZWNvbmRHbHlwaDp0aGlzLnBhcnNlVVNob3J0KCksdmFsdWUxOnRoaXMucGFyc2VWYWx1ZVJlY29yZChpKSx2YWx1ZTI6dGhpcy5wYXJzZVZhbHVlUmVjb3JkKG4pfX0pKSl9O2lmKDI9PT10KXt2YXIgbz10aGlzLnBhcnNlUG9pbnRlcihvZS5jbGFzc0RlZiksYT10aGlzLnBhcnNlUG9pbnRlcihvZS5jbGFzc0RlZikscz10aGlzLnBhcnNlVVNob3J0KCksaD10aGlzLnBhcnNlVVNob3J0KCk7cmV0dXJue3Bvc0Zvcm1hdDp0LGNvdmVyYWdlOnIsdmFsdWVGb3JtYXQxOmksdmFsdWVGb3JtYXQyOm4sY2xhc3NEZWYxOm8sY2xhc3NEZWYyOmEsY2xhc3MxQ291bnQ6cyxjbGFzczJDb3VudDpoLGNsYXNzUmVjb3Jkczp0aGlzLnBhcnNlTGlzdChzLG9lLmxpc3QoaCxmdW5jdGlvbigpe3JldHVybnt2YWx1ZTE6dGhpcy5wYXJzZVZhbHVlUmVjb3JkKGkpLHZhbHVlMjp0aGlzLnBhcnNlVmFsdWVSZWNvcmQobil9fSkpfX19LFByWzNdPWZ1bmN0aW9uKCl7cmV0dXJue2Vycm9yOlwiR1BPUyBMb29rdXAgMyBub3Qgc3VwcG9ydGVkXCJ9fSxQcls0XT1mdW5jdGlvbigpe3JldHVybntlcnJvcjpcIkdQT1MgTG9va3VwIDQgbm90IHN1cHBvcnRlZFwifX0sUHJbNV09ZnVuY3Rpb24oKXtyZXR1cm57ZXJyb3I6XCJHUE9TIExvb2t1cCA1IG5vdCBzdXBwb3J0ZWRcIn19LFByWzZdPWZ1bmN0aW9uKCl7cmV0dXJue2Vycm9yOlwiR1BPUyBMb29rdXAgNiBub3Qgc3VwcG9ydGVkXCJ9fSxQcls3XT1mdW5jdGlvbigpe3JldHVybntlcnJvcjpcIkdQT1MgTG9va3VwIDcgbm90IHN1cHBvcnRlZFwifX0sUHJbOF09ZnVuY3Rpb24oKXtyZXR1cm57ZXJyb3I6XCJHUE9TIExvb2t1cCA4IG5vdCBzdXBwb3J0ZWRcIn19LFByWzldPWZ1bmN0aW9uKCl7cmV0dXJue2Vycm9yOlwiR1BPUyBMb29rdXAgOSBub3Qgc3VwcG9ydGVkXCJ9fTt2YXIga3I9bmV3IEFycmF5KDEwKTt2YXIgSXI9e3BhcnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IG9lKGUsdD10fHwwKSxpPXIucGFyc2VWZXJzaW9uKDEpO3JldHVybiBQLmFyZ3VtZW50KDE9PT1pfHwxLjE9PT1pLFwiVW5zdXBwb3J0ZWQgR1BPUyB0YWJsZSB2ZXJzaW9uIFwiK2kpLDE9PT1pP3t2ZXJzaW9uOmksc2NyaXB0czpyLnBhcnNlU2NyaXB0TGlzdCgpLGZlYXR1cmVzOnIucGFyc2VGZWF0dXJlTGlzdCgpLGxvb2t1cHM6ci5wYXJzZUxvb2t1cExpc3QoUHIpfTp7dmVyc2lvbjppLHNjcmlwdHM6ci5wYXJzZVNjcmlwdExpc3QoKSxmZWF0dXJlczpyLnBhcnNlRmVhdHVyZUxpc3QoKSxsb29rdXBzOnIucGFyc2VMb29rdXBMaXN0KFByKSx2YXJpYXRpb25zOnIucGFyc2VGZWF0dXJlVmFyaWF0aW9uc0xpc3QoKX19LG1ha2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyAkLlRhYmxlKFwiR1BPU1wiLFt7bmFtZTpcInZlcnNpb25cIix0eXBlOlwiVUxPTkdcIix2YWx1ZTo2NTUzNn0se25hbWU6XCJzY3JpcHRzXCIsdHlwZTpcIlRBQkxFXCIsdmFsdWU6bmV3ICQuU2NyaXB0TGlzdChlLnNjcmlwdHMpfSx7bmFtZTpcImZlYXR1cmVzXCIsdHlwZTpcIlRBQkxFXCIsdmFsdWU6bmV3ICQuRmVhdHVyZUxpc3QoZS5mZWF0dXJlcyl9LHtuYW1lOlwibG9va3Vwc1wiLHR5cGU6XCJUQUJMRVwiLHZhbHVlOm5ldyAkLkxvb2t1cExpc3QoZS5sb29rdXBzLGtyKX1dKX19O3ZhciBEcj17cGFyc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgc2UuUGFyc2VyKGUsdCksaT1yLnBhcnNlVVNob3J0KCk7aWYoMD09PWkpcmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Uuc2tpcChcInVTaG9ydFwiKTt2YXIgcj1lLnBhcnNlVVNob3J0KCk7UC5hcmd1bWVudCgwPT09cixcIlVuc3VwcG9ydGVkIGtlcm4gc3ViLXRhYmxlIHZlcnNpb24uXCIpLGUuc2tpcChcInVTaG9ydFwiLDIpO3ZhciBpPWUucGFyc2VVU2hvcnQoKTtlLnNraXAoXCJ1U2hvcnRcIiwzKTtmb3IodmFyIG49MDtuPGk7bis9MSl7dmFyIG89ZS5wYXJzZVVTaG9ydCgpLGE9ZS5wYXJzZVVTaG9ydCgpLHM9ZS5wYXJzZVNob3J0KCk7dFtvK1wiLFwiK2FdPXN9cmV0dXJuIHR9KHIpO2lmKDE9PT1pKXJldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtlLnNraXAoXCJ1U2hvcnRcIiksMTxlLnBhcnNlVUxvbmcoKSYmY29uc29sZS53YXJuKFwiT25seSB0aGUgZmlyc3Qga2VybiBzdWJ0YWJsZSBpcyBzdXBwb3J0ZWQuXCIpLGUuc2tpcChcInVMb25nXCIpO3ZhciByPTI1NSZlLnBhcnNlVVNob3J0KCk7aWYoZS5za2lwKFwidVNob3J0XCIpLDA9PT1yKXt2YXIgaT1lLnBhcnNlVVNob3J0KCk7ZS5za2lwKFwidVNob3J0XCIsMyk7Zm9yKHZhciBuPTA7bjxpO24rPTEpe3ZhciBvPWUucGFyc2VVU2hvcnQoKSxhPWUucGFyc2VVU2hvcnQoKSxzPWUucGFyc2VTaG9ydCgpO3RbbytcIixcIithXT1zfX1yZXR1cm4gdH0ocik7dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQga2VybiB0YWJsZSB2ZXJzaW9uIChcIitpK1wiKS5cIil9fTt2YXIgQXI9e3BhcnNlOmZ1bmN0aW9uKGUsdCxyLGkpe2Zvcih2YXIgbj1uZXcgc2UuUGFyc2VyKGUsdCksbz1pP24ucGFyc2VVU2hvcnQ6bi5wYXJzZVVMb25nLGE9W10scz0wO3M8cisxO3MrPTEpe3ZhciBoPW8uY2FsbChuKTtpJiYoaCo9MiksYS5wdXNoKGgpfXJldHVybiBhfX07ZnVuY3Rpb24gVXIoZSxyKXtWcihcImZzXCIpLnJlYWRGaWxlKGUsZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiByKGUubWVzc2FnZSk7cihudWxsLEV0KHQpKX0pfWZ1bmN0aW9uIE9yKGUsdCl7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3Iub3BlbihcImdldFwiLGUsITApLHIucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIixyLm9ubG9hZD1mdW5jdGlvbigpe3JldHVybiByLnJlc3BvbnNlP3QobnVsbCxyLnJlc3BvbnNlKTp0KFwiRm9udCBjb3VsZCBub3QgYmUgbG9hZGVkOiBcIityLnN0YXR1c1RleHQpfSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXt0KFwiRm9udCBjb3VsZCBub3QgYmUgbG9hZGVkXCIpfSxyLnNlbmQoKX1mdW5jdGlvbiBCcihlLHQpe2Zvcih2YXIgcj1bXSxpPTEyLG49MDtuPHQ7bis9MSl7dmFyIG89c2UuZ2V0VGFnKGUsaSksYT1zZS5nZXRVTG9uZyhlLGkrNCkscz1zZS5nZXRVTG9uZyhlLGkrOCksaD1zZS5nZXRVTG9uZyhlLGkrMTIpO3IucHVzaCh7dGFnOm8sY2hlY2tzdW06YSxvZmZzZXQ6cyxsZW5ndGg6aCxjb21wcmVzc2lvbjohMX0pLGkrPTE2fXJldHVybiByfWZ1bmN0aW9uIEZyKGUsdCl7aWYoXCJXT0ZGXCIhPT10LmNvbXByZXNzaW9uKXJldHVybntkYXRhOmUsb2Zmc2V0OnQub2Zmc2V0fTt2YXIgcj1uZXcgVWludDhBcnJheShlLmJ1ZmZlcix0Lm9mZnNldCsyLHQuY29tcHJlc3NlZExlbmd0aC0yKSxpPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKTtpZihuKHIsaSksaS5ieXRlTGVuZ3RoIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiRGVjb21wcmVzc2lvbiBlcnJvcjogXCIrdC50YWcrXCIgZGVjb21wcmVzc2VkIGxlbmd0aCBkb2Vzbid0IG1hdGNoIHJlY29yZGVkIGxlbmd0aFwiKTtyZXR1cm57ZGF0YTpuZXcgRGF0YVZpZXcoaS5idWZmZXIsMCksb2Zmc2V0OjB9fWZ1bmN0aW9uIEdyKGUpe3ZhciB0LHIsaSxuLG8sYSxzLGgsbCx1LGMscCxkLGYsbT1uZXcgTXIoe2VtcHR5OiEwfSksdj1uZXcgRGF0YVZpZXcoZSwwKSxnPVtdLHk9c2UuZ2V0VGFnKHYsMCk7aWYoeT09PVN0cmluZy5mcm9tQ2hhckNvZGUoMCwxLDAsMCl8fFwidHJ1ZVwiPT09eXx8XCJ0eXAxXCI9PT15KW0ub3V0bGluZXNGb3JtYXQ9XCJ0cnVldHlwZVwiLGc9QnIodixpPXNlLmdldFVTaG9ydCh2LDQpKTtlbHNlIGlmKFwiT1RUT1wiPT09eSltLm91dGxpbmVzRm9ybWF0PVwiY2ZmXCIsZz1Ccih2LGk9c2UuZ2V0VVNob3J0KHYsNCkpO2Vsc2V7aWYoXCJ3T0ZGXCIhPT15KXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIE9wZW5UeXBlIHNpZ25hdHVyZSBcIit5KTt2YXIgYj1zZS5nZXRUYWcodiw0KTtpZihiPT09U3RyaW5nLmZyb21DaGFyQ29kZSgwLDEsMCwwKSltLm91dGxpbmVzRm9ybWF0PVwidHJ1ZXR5cGVcIjtlbHNle2lmKFwiT1RUT1wiIT09Yil0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBPcGVuVHlwZSBmbGF2b3IgXCIreSk7bS5vdXRsaW5lc0Zvcm1hdD1cImNmZlwifWc9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10saT00NCxuPTA7bjx0O24rPTEpe3ZhciBvPXNlLmdldFRhZyhlLGkpLGE9c2UuZ2V0VUxvbmcoZSxpKzQpLHM9c2UuZ2V0VUxvbmcoZSxpKzgpLGg9c2UuZ2V0VUxvbmcoZSxpKzEyKSxsPXZvaWQgMDtsPXM8aCYmXCJXT0ZGXCIsci5wdXNoKHt0YWc6byxvZmZzZXQ6YSxjb21wcmVzc2lvbjpsLGNvbXByZXNzZWRMZW5ndGg6cyxsZW5ndGg6aH0pLGkrPTIwfXJldHVybiByfSh2LGk9c2UuZ2V0VVNob3J0KHYsMTIpKX1mb3IodmFyIF89MDtfPGk7Xys9MSl7dmFyIHg9Z1tfXSx3PXZvaWQgMDtzd2l0Y2goeC50YWcpe2Nhc2VcImNtYXBcIjp3PUZyKHYseCksbS50YWJsZXMuY21hcD1oZS5wYXJzZSh3LmRhdGEsdy5vZmZzZXQpLG0uZW5jb2Rpbmc9bmV3IGZlKG0udGFibGVzLmNtYXApO2JyZWFrO2Nhc2VcImN2dCBcIjp3PUZyKHYseCksZj1uZXcgc2UuUGFyc2VyKHcuZGF0YSx3Lm9mZnNldCksbS50YWJsZXMuY3Z0PWYucGFyc2VTaG9ydExpc3QoeC5sZW5ndGgvMik7YnJlYWs7Y2FzZVwiZnZhclwiOm89eDticmVhaztjYXNlXCJmcGdtXCI6dz1Gcih2LHgpLGY9bmV3IHNlLlBhcnNlcih3LmRhdGEsdy5vZmZzZXQpLG0udGFibGVzLmZwZ209Zi5wYXJzZUJ5dGVMaXN0KHgubGVuZ3RoKTticmVhaztjYXNlXCJoZWFkXCI6dz1Gcih2LHgpLG0udGFibGVzLmhlYWQ9TmUucGFyc2Uody5kYXRhLHcub2Zmc2V0KSxtLnVuaXRzUGVyRW09bS50YWJsZXMuaGVhZC51bml0c1BlckVtLHQ9bS50YWJsZXMuaGVhZC5pbmRleFRvTG9jRm9ybWF0O2JyZWFrO2Nhc2VcImhoZWFcIjp3PUZyKHYseCksbS50YWJsZXMuaGhlYT1WZS5wYXJzZSh3LmRhdGEsdy5vZmZzZXQpLG0uYXNjZW5kZXI9bS50YWJsZXMuaGhlYS5hc2NlbmRlcixtLmRlc2NlbmRlcj1tLnRhYmxlcy5oaGVhLmRlc2NlbmRlcixtLm51bWJlck9mSE1ldHJpY3M9bS50YWJsZXMuaGhlYS5udW1iZXJPZkhNZXRyaWNzO2JyZWFrO2Nhc2VcImhtdHhcIjpsPXg7YnJlYWs7Y2FzZVwibHRhZ1wiOnc9RnIodix4KSxyPUhlLnBhcnNlKHcuZGF0YSx3Lm9mZnNldCk7YnJlYWs7Y2FzZVwibWF4cFwiOnc9RnIodix4KSxtLnRhYmxlcy5tYXhwPWplLnBhcnNlKHcuZGF0YSx3Lm9mZnNldCksbS5udW1HbHlwaHM9bS50YWJsZXMubWF4cC5udW1HbHlwaHM7YnJlYWs7Y2FzZVwibmFtZVwiOnA9eDticmVhaztjYXNlXCJPUy8yXCI6dz1Gcih2LHgpLG0udGFibGVzLm9zMj1vdC5wYXJzZSh3LmRhdGEsdy5vZmZzZXQpO2JyZWFrO2Nhc2VcInBvc3RcIjp3PUZyKHYseCksbS50YWJsZXMucG9zdD1hdC5wYXJzZSh3LmRhdGEsdy5vZmZzZXQpLG0uZ2x5cGhOYW1lcz1uZXcgdmUobS50YWJsZXMucG9zdCk7YnJlYWs7Y2FzZVwicHJlcFwiOnc9RnIodix4KSxmPW5ldyBzZS5QYXJzZXIody5kYXRhLHcub2Zmc2V0KSxtLnRhYmxlcy5wcmVwPWYucGFyc2VCeXRlTGlzdCh4Lmxlbmd0aCk7YnJlYWs7Y2FzZVwiZ2x5ZlwiOmE9eDticmVhaztjYXNlXCJsb2NhXCI6Yz14O2JyZWFrO2Nhc2VcIkNGRiBcIjpuPXg7YnJlYWs7Y2FzZVwia2VyblwiOnU9eDticmVhaztjYXNlXCJHUE9TXCI6cz14O2JyZWFrO2Nhc2VcIkdTVUJcIjpoPXg7YnJlYWs7Y2FzZVwibWV0YVwiOmQ9eH19dmFyIFM9RnIodixwKTtpZihtLnRhYmxlcy5uYW1lPWl0LnBhcnNlKFMuZGF0YSxTLm9mZnNldCxyKSxtLm5hbWVzPW0udGFibGVzLm5hbWUsYSYmYyl7dmFyIFQ9MD09PXQsTT1Gcih2LGMpLEU9QXIucGFyc2UoTS5kYXRhLE0ub2Zmc2V0LG0ubnVtR2x5cGhzLFQpLEM9RnIodixhKTttLmdseXBocz1CdC5wYXJzZShDLmRhdGEsQy5vZmZzZXQsRSxtKX1lbHNle2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkZvbnQgZG9lc24ndCBjb250YWluIFRydWVUeXBlIG9yIENGRiBvdXRsaW5lcy5cIik7dmFyIFI9RnIodixuKTtHZS5wYXJzZShSLmRhdGEsUi5vZmZzZXQsbSl9dmFyIEw9RnIodixsKTtpZih6ZS5wYXJzZShMLmRhdGEsTC5vZmZzZXQsbS5udW1iZXJPZkhNZXRyaWNzLG0ubnVtR2x5cGhzLG0uZ2x5cGhzKSxmdW5jdGlvbihlKXtmb3IodmFyIHQscj1lLnRhYmxlcy5jbWFwLmdseXBoSW5kZXhNYXAsaT1PYmplY3Qua2V5cyhyKSxuPTA7bjxpLmxlbmd0aDtuKz0xKXt2YXIgbz1pW25dLGE9cltvXTsodD1lLmdseXBocy5nZXQoYSkpLmFkZFVuaWNvZGUocGFyc2VJbnQobykpfWZvcih2YXIgcz0wO3M8ZS5nbHlwaHMubGVuZ3RoO3MrPTEpdD1lLmdseXBocy5nZXQocyksZS5jZmZFbmNvZGluZz9lLmlzQ0lERm9udD90Lm5hbWU9XCJnaWRcIitzOnQubmFtZT1lLmNmZkVuY29kaW5nLmNoYXJzZXRbc106ZS5nbHlwaE5hbWVzLm5hbWVzJiYodC5uYW1lPWUuZ2x5cGhOYW1lcy5nbHlwaEluZGV4VG9OYW1lKHMpKX0obSksdSl7dmFyIFA9RnIodix1KTttLmtlcm5pbmdQYWlycz1Eci5wYXJzZShQLmRhdGEsUC5vZmZzZXQpfWVsc2UgbS5rZXJuaW5nUGFpcnM9e307aWYocyl7dmFyIGs9RnIodixzKTttLnRhYmxlcy5ncG9zPUlyLnBhcnNlKGsuZGF0YSxrLm9mZnNldCksbS5wb3NpdGlvbi5pbml0KCl9aWYoaCl7dmFyIEk9RnIodixoKTttLnRhYmxlcy5nc3ViPXV0LnBhcnNlKEkuZGF0YSxJLm9mZnNldCl9aWYobyl7dmFyIEQ9RnIodixvKTttLnRhYmxlcy5mdmFyPUxyLnBhcnNlKEQuZGF0YSxELm9mZnNldCxtLm5hbWVzKX1pZihkKXt2YXIgQT1Gcih2LGQpO20udGFibGVzLm1ldGE9Y3QucGFyc2UoQS5kYXRhLEEub2Zmc2V0KSxtLm1ldGFzPW0udGFibGVzLm1ldGF9cmV0dXJuIG19TS5Gb250PU1yLE0uR2x5cGg9eWUsTS5QYXRoPVUsTS5Cb3VuZGluZ0JveD1DLE0uX3BhcnNlPXNlLE0ucGFyc2U9R3IsTS5sb2FkPWZ1bmN0aW9uKGUsaSl7KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/VXI6T3IpKGUsZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBpKGUpO3ZhciByO3RyeXtyPUdyKHQpfWNhdGNoKGUpe3JldHVybiBpKGUsbnVsbCl9cmV0dXJuIGkobnVsbCxyKX0pfSxNLmxvYWRTeW5jPWZ1bmN0aW9uKGUpe3JldHVybiBHcihFdChWcihcImZzXCIpLnJlYWRGaWxlU3luYyhlKSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0oXCJvYmplY3RcIj09dHlwZW9mIHImJnZvaWQgMCE9PXQ/cjplLm9wZW50eXBlPXt9KX0pLmNhbGwodGhpcyxWcihcImJ1ZmZlclwiKS5CdWZmZXIpfSx7YnVmZmVyOjMsZnM6Mn1dLDEwOltmdW5jdGlvbihlLHQscil7dmFyIGksbixvPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBzKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGgodCl7aWYoaT09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigoaT09PWF8fCFpKSYmc2V0VGltZW91dClyZXR1cm4gaT1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIGkodCwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIGkuY2FsbChudWxsLHQsMCl9Y2F0Y2goZSl7cmV0dXJuIGkuY2FsbCh0aGlzLHQsMCl9fX0hZnVuY3Rpb24oKXt0cnl7aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6YX1jYXRjaChlKXtpPWF9dHJ5e249XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpzfWNhdGNoKGUpe249c319KCk7dmFyIGwsdT1bXSxjPSExLHA9LTE7ZnVuY3Rpb24gZCgpe2MmJmwmJihjPSExLGwubGVuZ3RoP3U9bC5jb25jYXQodSk6cD0tMSx1Lmxlbmd0aCYmZigpKX1mdW5jdGlvbiBmKCl7aWYoIWMpe3ZhciBlPWgoZCk7Yz0hMDtmb3IodmFyIHQ9dS5sZW5ndGg7dDspe2ZvcihsPXUsdT1bXTsrK3A8dDspbCYmbFtwXS5ydW4oKTtwPS0xLHQ9dS5sZW5ndGh9bD1udWxsLGM9ITEsZnVuY3Rpb24odCl7aWYobj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHQpO2lmKChuPT09c3x8IW4pJiZjbGVhclRpbWVvdXQpcmV0dXJuIG49Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dCh0KTt0cnl7bih0KX1jYXRjaChlKXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiBuLmNhbGwodGhpcyx0KX19fShlKX19ZnVuY3Rpb24gbShlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIHYoKXt9by5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZigxPGFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3UucHVzaChuZXcgbShlLHQpKSwxIT09dS5sZW5ndGh8fGN8fGgoZil9LG0ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LG8udGl0bGU9XCJicm93c2VyXCIsby5icm93c2VyPSEwLG8uZW52PXt9LG8uYXJndj1bXSxvLnZlcnNpb249XCJcIixvLnZlcnNpb25zPXt9LG8ub249dixvLmFkZExpc3RlbmVyPXYsby5vbmNlPXYsby5vZmY9dixvLnJlbW92ZUxpc3RlbmVyPXYsby5yZW1vdmVBbGxMaXN0ZW5lcnM9dixvLmVtaXQ9dixvLnByZXBlbmRMaXN0ZW5lcj12LG8ucHJlcGVuZE9uY2VMaXN0ZW5lcj12LG8ubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxvLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LG8uY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LG8uY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxvLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXshZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7aWYoIWUuZmV0Y2gpe3ZhciB0PVwiVVJMU2VhcmNoUGFyYW1zXCJpbiBlLHI9XCJTeW1ib2xcImluIGUmJlwiaXRlcmF0b3JcImluIFN5bWJvbCxhPVwiRmlsZVJlYWRlclwiaW4gZSYmXCJCbG9iXCJpbiBlJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEJsb2IsITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLGk9XCJGb3JtRGF0YVwiaW4gZSxuPVwiQXJyYXlCdWZmZXJcImluIGU7aWYobil2YXIgbz1bXCJbb2JqZWN0IEludDhBcnJheV1cIixcIltvYmplY3QgVWludDhBcnJheV1cIixcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsXCJbb2JqZWN0IEludDE2QXJyYXldXCIsXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLFwiW29iamVjdCBJbnQzMkFycmF5XVwiLFwiW29iamVjdCBVaW50MzJBcnJheV1cIixcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLFwiW29iamVjdCBGbG9hdDY0QXJyYXldXCJdLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJkRhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpfSxoPUFycmF5QnVmZmVyLmlzVmlld3x8ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJi0xPG8uaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpfTtmLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSx0KXtlPWMoZSksdD1wKHQpO3ZhciByPXRoaXMubWFwW2VdO3RoaXMubWFwW2VdPXI/citcIixcIit0OnR9LGYucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtkZWxldGUgdGhpcy5tYXBbYyhlKV19LGYucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gZT1jKGUpLHRoaXMuaGFzKGUpP3RoaXMubWFwW2VdOm51bGx9LGYucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkoYyhlKSl9LGYucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3RoaXMubWFwW2MoZSldPXAodCl9LGYucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdGhpcy5tYXApdGhpcy5tYXAuaGFzT3duUHJvcGVydHkocikmJmUuY2FsbCh0LHRoaXMubWFwW3JdLHIsdGhpcyl9LGYucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ci5wdXNoKHQpfSksZChyKX0sZi5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlKXt0LnB1c2goZSl9KSxkKHQpfSxmLnByb3RvdHlwZS5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIHI9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlLHQpe3IucHVzaChbdCxlXSl9KSxkKHIpfSxyJiYoZi5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mLnByb3RvdHlwZS5lbnRyaWVzKTt2YXIgbD1bXCJERUxFVEVcIixcIkdFVFwiLFwiSEVBRFwiLFwiT1BUSU9OU1wiLFwiUE9TVFwiLFwiUFVUXCJdO18ucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBfKHRoaXMse2JvZHk6dGhpcy5fYm9keUluaXR9KX0sYi5jYWxsKF8ucHJvdG90eXBlKSxiLmNhbGwody5wcm90b3R5cGUpLHcucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB3KHRoaXMuX2JvZHlJbml0LHtzdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDp0aGlzLnN0YXR1c1RleHQsaGVhZGVyczpuZXcgZih0aGlzLmhlYWRlcnMpLHVybDp0aGlzLnVybH0pfSx3LmVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHcobnVsbCx7c3RhdHVzOjAsc3RhdHVzVGV4dDpcIlwifSk7cmV0dXJuIGUudHlwZT1cImVycm9yXCIsZX07dmFyIHU9WzMwMSwzMDIsMzAzLDMwNywzMDhdO3cucmVkaXJlY3Q9ZnVuY3Rpb24oZSx0KXtpZigtMT09PXUuaW5kZXhPZih0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgc3RhdHVzIGNvZGVcIik7cmV0dXJuIG5ldyB3KG51bGwse3N0YXR1czp0LGhlYWRlcnM6e2xvY2F0aW9uOmV9fSl9LGUuSGVhZGVycz1mLGUuUmVxdWVzdD1fLGUuUmVzcG9uc2U9dyxlLmZldGNoPWZ1bmN0aW9uKHIsbil7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGksZSl7dmFyIHQ9bmV3IF8ocixuKSxvPW5ldyBYTUxIdHRwUmVxdWVzdDtvLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlLG4sdD17c3RhdHVzOm8uc3RhdHVzLHN0YXR1c1RleHQ6by5zdGF0dXNUZXh0LGhlYWRlcnM6KGU9by5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKXx8XCJcIixuPW5ldyBmLGUuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCI6XCIpLHI9dC5zaGlmdCgpLnRyaW0oKTtpZihyKXt2YXIgaT10LmpvaW4oXCI6XCIpLnRyaW0oKTtuLmFwcGVuZChyLGkpfX0pLG4pfTt0LnVybD1cInJlc3BvbnNlVVJMXCJpbiBvP28ucmVzcG9uc2VVUkw6dC5oZWFkZXJzLmdldChcIlgtUmVxdWVzdC1VUkxcIik7dmFyIHI9XCJyZXNwb25zZVwiaW4gbz9vLnJlc3BvbnNlOm8ucmVzcG9uc2VUZXh0O2kobmV3IHcocix0KSl9LG8ub25lcnJvcj1mdW5jdGlvbigpe2UobmV3IFR5cGVFcnJvcihcIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWRcIikpfSxvLm9udGltZW91dD1mdW5jdGlvbigpe2UobmV3IFR5cGVFcnJvcihcIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWRcIikpfSxvLm9wZW4odC5tZXRob2QsdC51cmwsITApLFwiaW5jbHVkZVwiPT09dC5jcmVkZW50aWFscyYmKG8ud2l0aENyZWRlbnRpYWxzPSEwKSxcInJlc3BvbnNlVHlwZVwiaW4gbyYmYSYmKG8ucmVzcG9uc2VUeXBlPVwiYmxvYlwiKSx0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihlLHQpe28uc2V0UmVxdWVzdEhlYWRlcih0LGUpfSksby5zZW5kKHZvaWQgMD09PXQuX2JvZHlJbml0P251bGw6dC5fYm9keUluaXQpfSl9LGUuZmV0Y2gucG9seWZpbGw9ITB9ZnVuY3Rpb24gYyhlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSYmKGU9U3RyaW5nKGUpKSwvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWVcIik7cmV0dXJuIGUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBwKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlJiYoZT1TdHJpbmcoZSkpLGV9ZnVuY3Rpb24gZCh0KXt2YXIgZT17bmV4dDpmdW5jdGlvbigpe3ZhciBlPXQuc2hpZnQoKTtyZXR1cm57ZG9uZTp2b2lkIDA9PT1lLHZhbHVlOmV9fX07cmV0dXJuIHImJihlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gZX0pLGV9ZnVuY3Rpb24gZih0KXt0aGlzLm1hcD17fSx0IGluc3RhbmNlb2YgZj90LmZvckVhY2goZnVuY3Rpb24oZSx0KXt0aGlzLmFwcGVuZCh0LGUpfSx0aGlzKTpBcnJheS5pc0FycmF5KHQpP3QuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLmFwcGVuZChlWzBdLGVbMV0pfSx0aGlzKTp0JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuYXBwZW5kKGUsdFtlXSl9LHRoaXMpfWZ1bmN0aW9uIG0oZSl7aWYoZS5ib2R5VXNlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihcIkFscmVhZHkgcmVhZFwiKSk7ZS5ib2R5VXNlZD0hMH1mdW5jdGlvbiB2KHIpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe3Iub25sb2FkPWZ1bmN0aW9uKCl7ZShyLnJlc3VsdCl9LHIub25lcnJvcj1mdW5jdGlvbigpe3Qoci5lcnJvcil9fSl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1uZXcgRmlsZVJlYWRlcixyPXYodCk7cmV0dXJuIHQucmVhZEFzQXJyYXlCdWZmZXIoZSkscn1mdW5jdGlvbiB5KGUpe2lmKGUuc2xpY2UpcmV0dXJuIGUuc2xpY2UoMCk7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoKTtyZXR1cm4gdC5zZXQobmV3IFVpbnQ4QXJyYXkoZSkpLHQuYnVmZmVyfWZ1bmN0aW9uIGIoKXtyZXR1cm4gdGhpcy5ib2R5VXNlZD0hMSx0aGlzLl9pbml0Qm9keT1mdW5jdGlvbihlKXtpZih0aGlzLl9ib2R5SW5pdD1lKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXRoaXMuX2JvZHlUZXh0PWU7ZWxzZSBpZihhJiZCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpKXRoaXMuX2JvZHlCbG9iPWU7ZWxzZSBpZihpJiZGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKSl0aGlzLl9ib2R5Rm9ybURhdGE9ZTtlbHNlIGlmKHQmJlVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKSl0aGlzLl9ib2R5VGV4dD1lLnRvU3RyaW5nKCk7ZWxzZSBpZihuJiZhJiZzKGUpKXRoaXMuX2JvZHlBcnJheUJ1ZmZlcj15KGUuYnVmZmVyKSx0aGlzLl9ib2R5SW5pdD1uZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSk7ZWxzZXtpZighbnx8IUFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpJiYhaChlKSl0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlXCIpO3RoaXMuX2JvZHlBcnJheUJ1ZmZlcj15KGUpfWVsc2UgdGhpcy5fYm9keVRleHQ9XCJcIjt0aGlzLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpfHwoXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5oZWFkZXJzLnNldChcImNvbnRlbnQtdHlwZVwiLFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIpOnRoaXMuX2JvZHlCbG9iJiZ0aGlzLl9ib2R5QmxvYi50eXBlP3RoaXMuaGVhZGVycy5zZXQoXCJjb250ZW50LXR5cGVcIix0aGlzLl9ib2R5QmxvYi50eXBlKTp0JiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSkmJnRoaXMuaGVhZGVycy5zZXQoXCJjb250ZW50LXR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04XCIpKX0sYSYmKHRoaXMuYmxvYj1mdW5jdGlvbigpe3ZhciBlPW0odGhpcyk7aWYoZSlyZXR1cm4gZTtpZih0aGlzLl9ib2R5QmxvYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKTtpZih0aGlzLl9ib2R5QXJyYXlCdWZmZXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpO2lmKHRoaXMuX2JvZHlGb3JtRGF0YSl0aHJvdyBuZXcgRXJyb3IoXCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2JcIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSl9LHRoaXMuYXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keUFycmF5QnVmZmVyP20odGhpcyl8fFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpOnRoaXMuYmxvYigpLnRoZW4oZyl9KSx0aGlzLnRleHQ9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaT1tKHRoaXMpO2lmKGkpcmV0dXJuIGk7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIGU9dGhpcy5fYm9keUJsb2IsdD1uZXcgRmlsZVJlYWRlcixyPXYodCksdC5yZWFkQXNUZXh0KGUpLHI7aWYodGhpcy5fYm9keUFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBVaW50OEFycmF5KGUpLHI9bmV3IEFycmF5KHQubGVuZ3RoKSxpPTA7aTx0Lmxlbmd0aDtpKyspcltpXT1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbaV0pO3JldHVybiByLmpvaW4oXCJcIil9KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpO2lmKHRoaXMuX2JvZHlGb3JtRGF0YSl0aHJvdyBuZXcgRXJyb3IoXCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHRcIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCl9LGkmJih0aGlzLmZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oeCl9KSx0aGlzLmpzb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKX0sdGhpc31mdW5jdGlvbiBfKGUsdCl7dmFyIHIsaSxuPSh0PXR8fHt9KS5ib2R5O2lmKGUgaW5zdGFuY2VvZiBfKXtpZihlLmJvZHlVc2VkKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHJlYWR5IHJlYWRcIik7dGhpcy51cmw9ZS51cmwsdGhpcy5jcmVkZW50aWFscz1lLmNyZWRlbnRpYWxzLHQuaGVhZGVyc3x8KHRoaXMuaGVhZGVycz1uZXcgZihlLmhlYWRlcnMpKSx0aGlzLm1ldGhvZD1lLm1ldGhvZCx0aGlzLm1vZGU9ZS5tb2RlLG58fG51bGw9PWUuX2JvZHlJbml0fHwobj1lLl9ib2R5SW5pdCxlLmJvZHlVc2VkPSEwKX1lbHNlIHRoaXMudXJsPVN0cmluZyhlKTtpZih0aGlzLmNyZWRlbnRpYWxzPXQuY3JlZGVudGlhbHN8fHRoaXMuY3JlZGVudGlhbHN8fFwib21pdFwiLCF0LmhlYWRlcnMmJnRoaXMuaGVhZGVyc3x8KHRoaXMuaGVhZGVycz1uZXcgZih0LmhlYWRlcnMpKSx0aGlzLm1ldGhvZD0ocj10Lm1ldGhvZHx8dGhpcy5tZXRob2R8fFwiR0VUXCIsaT1yLnRvVXBwZXJDYXNlKCksLTE8bC5pbmRleE9mKGkpP2k6ciksdGhpcy5tb2RlPXQubW9kZXx8dGhpcy5tb2RlfHxudWxsLHRoaXMucmVmZXJyZXI9bnVsbCwoXCJHRVRcIj09PXRoaXMubWV0aG9kfHxcIkhFQURcIj09PXRoaXMubWV0aG9kKSYmbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHNcIik7dGhpcy5faW5pdEJvZHkobil9ZnVuY3Rpb24geChlKXt2YXIgbj1uZXcgRm9ybURhdGE7cmV0dXJuIGUudHJpbSgpLnNwbGl0KFwiJlwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PWUuc3BsaXQoXCI9XCIpLHI9dC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSxpPXQuam9pbihcIj1cIikucmVwbGFjZSgvXFwrL2csXCIgXCIpO24uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChyKSxkZWNvZGVVUklDb21wb25lbnQoaSkpfX0pLG59ZnVuY3Rpb24gdyhlLHQpe3R8fCh0PXt9KSx0aGlzLnR5cGU9XCJkZWZhdWx0XCIsdGhpcy5zdGF0dXM9XCJzdGF0dXNcImluIHQ/dC5zdGF0dXM6MjAwLHRoaXMub2s9MjAwPD10aGlzLnN0YXR1cyYmdGhpcy5zdGF0dXM8MzAwLHRoaXMuc3RhdHVzVGV4dD1cInN0YXR1c1RleHRcImluIHQ/dC5zdGF0dXNUZXh0OlwiT0tcIix0aGlzLmhlYWRlcnM9bmV3IGYodC5oZWFkZXJzKSx0aGlzLnVybD10LnVybHx8XCJcIix0aGlzLl9pbml0Qm9keShlKX19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyl9LHt9XSwxMjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuL2NvcmUvbWFpblwiKTtlKFwiLi9jb3JlL2NvbnN0YW50c1wiKSxlKFwiLi9jb3JlL2Vudmlyb25tZW50XCIpLGUoXCIuL2NvcmUvZXJyb3JfaGVscGVyc1wiKSxlKFwiLi9jb3JlL2hlbHBlcnNcIiksZShcIi4vY29yZS9sZWdhY3lcIiksZShcIi4vY29yZS9wNS5FbGVtZW50XCIpLGUoXCIuL2NvcmUvcDUuR3JhcGhpY3NcIiksZShcIi4vY29yZS9wNS5SZW5kZXJlclwiKSxlKFwiLi9jb3JlL3A1LlJlbmRlcmVyMkRcIiksZShcIi4vY29yZS9yZW5kZXJpbmdcIiksZShcIi4vY29yZS9zaGltXCIpLGUoXCIuL2NvcmUvc3RydWN0dXJlXCIpLGUoXCIuL2NvcmUvdHJhbnNmb3JtXCIpLGUoXCIuL2NvcmUvc2hhcGUvMmRfcHJpbWl0aXZlc1wiKSxlKFwiLi9jb3JlL3NoYXBlL2F0dHJpYnV0ZXNcIiksZShcIi4vY29yZS9zaGFwZS9jdXJ2ZXNcIiksZShcIi4vY29yZS9zaGFwZS92ZXJ0ZXhcIiksZShcIi4vY29sb3IvY29sb3JfY29udmVyc2lvblwiKSxlKFwiLi9jb2xvci9jcmVhdGluZ19yZWFkaW5nXCIpLGUoXCIuL2NvbG9yL3A1LkNvbG9yXCIpLGUoXCIuL2NvbG9yL3NldHRpbmdcIiksZShcIi4vZGF0YS9wNS5UeXBlZERpY3RcIiksZShcIi4vZXZlbnRzL2FjY2VsZXJhdGlvblwiKSxlKFwiLi9ldmVudHMva2V5Ym9hcmRcIiksZShcIi4vZXZlbnRzL21vdXNlXCIpLGUoXCIuL2V2ZW50cy90b3VjaFwiKSxlKFwiLi9pbWFnZS9maWx0ZXJzXCIpLGUoXCIuL2ltYWdlL2ltYWdlXCIpLGUoXCIuL2ltYWdlL2xvYWRpbmdfZGlzcGxheWluZ1wiKSxlKFwiLi9pbWFnZS9wNS5JbWFnZVwiKSxlKFwiLi9pbWFnZS9waXhlbHNcIiksZShcIi4vaW8vZmlsZXNcIiksZShcIi4vaW8vcDUuVGFibGVcIiksZShcIi4vaW8vcDUuVGFibGVSb3dcIiksZShcIi4vaW8vcDUuWE1MXCIpLGUoXCIuL21hdGgvY2FsY3VsYXRpb25cIiksZShcIi4vbWF0aC9tYXRoXCIpLGUoXCIuL21hdGgvbm9pc2VcIiksZShcIi4vbWF0aC9wNS5WZWN0b3JcIiksZShcIi4vbWF0aC9yYW5kb21cIiksZShcIi4vbWF0aC90cmlnb25vbWV0cnlcIiksZShcIi4vdHlwb2dyYXBoeS9hdHRyaWJ1dGVzXCIpLGUoXCIuL3R5cG9ncmFwaHkvbG9hZGluZ19kaXNwbGF5aW5nXCIpLGUoXCIuL3R5cG9ncmFwaHkvcDUuRm9udFwiKSxlKFwiLi91dGlsaXRpZXMvYXJyYXlfZnVuY3Rpb25zXCIpLGUoXCIuL3V0aWxpdGllcy9jb252ZXJzaW9uXCIpLGUoXCIuL3V0aWxpdGllcy9zdHJpbmdfZnVuY3Rpb25zXCIpLGUoXCIuL3V0aWxpdGllcy90aW1lX2RhdGVcIiksZShcIi4vd2ViZ2wvM2RfcHJpbWl0aXZlc1wiKSxlKFwiLi93ZWJnbC9pbnRlcmFjdGlvblwiKSxlKFwiLi93ZWJnbC9saWdodFwiKSxlKFwiLi93ZWJnbC9sb2FkaW5nXCIpLGUoXCIuL3dlYmdsL21hdGVyaWFsXCIpLGUoXCIuL3dlYmdsL3A1LkNhbWVyYVwiKSxlKFwiLi93ZWJnbC9wNS5HZW9tZXRyeVwiKSxlKFwiLi93ZWJnbC9wNS5NYXRyaXhcIiksZShcIi4vd2ViZ2wvcDUuUmVuZGVyZXJHTC5JbW1lZGlhdGVcIiksZShcIi4vd2ViZ2wvcDUuUmVuZGVyZXJHTFwiKSxlKFwiLi93ZWJnbC9wNS5SZW5kZXJlckdMLlJldGFpbmVkXCIpLGUoXCIuL3dlYmdsL3A1LlNoYWRlclwiKSxlKFwiLi93ZWJnbC9wNS5UZXh0dXJlXCIpLGUoXCIuL3dlYmdsL3RleHRcIiksZShcIi4vY29yZS9pbml0XCIpLHQuZXhwb3J0cz1pfSx7XCIuL2NvbG9yL2NvbG9yX2NvbnZlcnNpb25cIjoxMyxcIi4vY29sb3IvY3JlYXRpbmdfcmVhZGluZ1wiOjE0LFwiLi9jb2xvci9wNS5Db2xvclwiOjE1LFwiLi9jb2xvci9zZXR0aW5nXCI6MTYsXCIuL2NvcmUvY29uc3RhbnRzXCI6MTcsXCIuL2NvcmUvZW52aXJvbm1lbnRcIjoxOCxcIi4vY29yZS9lcnJvcl9oZWxwZXJzXCI6MTksXCIuL2NvcmUvaGVscGVyc1wiOjIwLFwiLi9jb3JlL2luaXRcIjoyMSxcIi4vY29yZS9sZWdhY3lcIjoyMixcIi4vY29yZS9tYWluXCI6MjMsXCIuL2NvcmUvcDUuRWxlbWVudFwiOjI0LFwiLi9jb3JlL3A1LkdyYXBoaWNzXCI6MjUsXCIuL2NvcmUvcDUuUmVuZGVyZXJcIjoyNixcIi4vY29yZS9wNS5SZW5kZXJlcjJEXCI6MjcsXCIuL2NvcmUvcmVuZGVyaW5nXCI6MjgsXCIuL2NvcmUvc2hhcGUvMmRfcHJpbWl0aXZlc1wiOjI5LFwiLi9jb3JlL3NoYXBlL2F0dHJpYnV0ZXNcIjozMCxcIi4vY29yZS9zaGFwZS9jdXJ2ZXNcIjozMSxcIi4vY29yZS9zaGFwZS92ZXJ0ZXhcIjozMixcIi4vY29yZS9zaGltXCI6MzMsXCIuL2NvcmUvc3RydWN0dXJlXCI6MzQsXCIuL2NvcmUvdHJhbnNmb3JtXCI6MzUsXCIuL2RhdGEvcDUuVHlwZWREaWN0XCI6MzYsXCIuL2V2ZW50cy9hY2NlbGVyYXRpb25cIjozNyxcIi4vZXZlbnRzL2tleWJvYXJkXCI6MzgsXCIuL2V2ZW50cy9tb3VzZVwiOjM5LFwiLi9ldmVudHMvdG91Y2hcIjo0MCxcIi4vaW1hZ2UvZmlsdGVyc1wiOjQxLFwiLi9pbWFnZS9pbWFnZVwiOjQyLFwiLi9pbWFnZS9sb2FkaW5nX2Rpc3BsYXlpbmdcIjo0MyxcIi4vaW1hZ2UvcDUuSW1hZ2VcIjo0NCxcIi4vaW1hZ2UvcGl4ZWxzXCI6NDUsXCIuL2lvL2ZpbGVzXCI6NDYsXCIuL2lvL3A1LlRhYmxlXCI6NDcsXCIuL2lvL3A1LlRhYmxlUm93XCI6NDgsXCIuL2lvL3A1LlhNTFwiOjQ5LFwiLi9tYXRoL2NhbGN1bGF0aW9uXCI6NTAsXCIuL21hdGgvbWF0aFwiOjUxLFwiLi9tYXRoL25vaXNlXCI6NTIsXCIuL21hdGgvcDUuVmVjdG9yXCI6NTMsXCIuL21hdGgvcmFuZG9tXCI6NTQsXCIuL21hdGgvdHJpZ29ub21ldHJ5XCI6NTUsXCIuL3R5cG9ncmFwaHkvYXR0cmlidXRlc1wiOjU2LFwiLi90eXBvZ3JhcGh5L2xvYWRpbmdfZGlzcGxheWluZ1wiOjU3LFwiLi90eXBvZ3JhcGh5L3A1LkZvbnRcIjo1OCxcIi4vdXRpbGl0aWVzL2FycmF5X2Z1bmN0aW9uc1wiOjU5LFwiLi91dGlsaXRpZXMvY29udmVyc2lvblwiOjYwLFwiLi91dGlsaXRpZXMvc3RyaW5nX2Z1bmN0aW9uc1wiOjYxLFwiLi91dGlsaXRpZXMvdGltZV9kYXRlXCI6NjIsXCIuL3dlYmdsLzNkX3ByaW1pdGl2ZXNcIjo2MyxcIi4vd2ViZ2wvaW50ZXJhY3Rpb25cIjo2NCxcIi4vd2ViZ2wvbGlnaHRcIjo2NSxcIi4vd2ViZ2wvbG9hZGluZ1wiOjY2LFwiLi93ZWJnbC9tYXRlcmlhbFwiOjY3LFwiLi93ZWJnbC9wNS5DYW1lcmFcIjo2OCxcIi4vd2ViZ2wvcDUuR2VvbWV0cnlcIjo2OSxcIi4vd2ViZ2wvcDUuTWF0cml4XCI6NzAsXCIuL3dlYmdsL3A1LlJlbmRlcmVyR0xcIjo3MyxcIi4vd2ViZ2wvcDUuUmVuZGVyZXJHTC5JbW1lZGlhdGVcIjo3MSxcIi4vd2ViZ2wvcDUuUmVuZGVyZXJHTC5SZXRhaW5lZFwiOjcyLFwiLi93ZWJnbC9wNS5TaGFkZXJcIjo3NCxcIi4vd2ViZ2wvcDUuVGV4dHVyZVwiOjc1LFwiLi93ZWJnbC90ZXh0XCI6NzZ9XSwxMzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIik7aS5Db2xvckNvbnZlcnNpb249e30saS5Db2xvckNvbnZlcnNpb24uX2hzYmFUb0hTTEE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxyPWVbMV0saT1lWzJdLG49KDItcikqaS8yO3JldHVybiAwIT09biYmKDE9PT1uP3I9MDpuPC41P3IvPTItcjpyPXIqaS8oMi0yKm4pKSxbdCxyLG4sZVszXV19LGkuQ29sb3JDb252ZXJzaW9uLl9oc2JhVG9SR0JBPWZ1bmN0aW9uKGUpe3ZhciB0PTYqZVswXSxyPWVbMV0saT1lWzJdLG49W107aWYoMD09PXIpbj1baSxpLGksZVszXV07ZWxzZXt2YXIgbyxhLHMsaD1NYXRoLmZsb29yKHQpLGw9aSooMS1yKSx1PWkqKDEtcioodC1oKSksYz1pKigxLXIqKDEraC10KSk7cz0xPT09aD8obz11LGE9aSxsKToyPT09aD8obz1sLGE9aSxjKTozPT09aD8obz1sLGE9dSxpKTo0PT09aD8obz1jLGE9bCxpKTo1PT09aD8obz1pLGE9bCx1KToobz1pLGE9YyxsKSxuPVtvLGEscyxlWzNdXX1yZXR1cm4gbn0saS5Db2xvckNvbnZlcnNpb24uX2hzbGFUb0hTQkE9ZnVuY3Rpb24oZSl7dmFyIHQscj1lWzBdLGk9ZVsxXSxuPWVbMl07cmV0dXJuW3IsaT0yKigodD1uPC41PygxK2kpKm46bitpLW4qaSktbikvdCx0LGVbM11dfSxpLkNvbG9yQ29udmVyc2lvbi5faHNsYVRvUkdCQT1mdW5jdGlvbihlKXt2YXIgdD02KmVbMF0scj1lWzFdLGk9ZVsyXSxuPVtdO2lmKDA9PT1yKW49W2ksaSxpLGVbM11dO2Vsc2V7dmFyIG8sYT0yKmktKG89aTwuNT8oMStyKSppOmkrci1pKnIpLHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPDA/ZSs9Njo2PD1lJiYoZS09NiksZTwxP3QrKHItdCkqZTplPDM/cjplPDQ/dCsoci10KSooNC1lKTp0fTtuPVtzKHQrMixhLG8pLHModCxhLG8pLHModC0yLGEsbyksZVszXV19cmV0dXJuIG59LGkuQ29sb3JDb252ZXJzaW9uLl9yZ2JhVG9IU0JBPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaT1lWzBdLG49ZVsxXSxvPWVbMl0sYT1NYXRoLm1heChpLG4sbykscz1hLU1hdGgubWluKGksbixvKTtyZXR1cm4gMD09PXM/cj10PTA6KHI9cy9hLGk9PT1hP3Q9KG4tbykvczpuPT09YT90PTIrKG8taSkvczpvPT09YSYmKHQ9NCsoaS1uKS9zKSx0PDA/dCs9Njo2PD10JiYodC09NikpLFt0LzYscixhLGVbM11dfSxpLkNvbG9yQ29udmVyc2lvbi5fcmdiYVRvSFNMQT1mdW5jdGlvbihlKXt2YXIgdCxyLGk9ZVswXSxuPWVbMV0sbz1lWzJdLGE9TWF0aC5tYXgoaSxuLG8pLHM9TWF0aC5taW4oaSxuLG8pLGg9YStzLGw9YS1zO3JldHVybiAwPT09bD9yPXQ9MDoocj1oPDE/bC9oOmwvKDItaCksaT09PWE/dD0obi1vKS9sOm49PT1hP3Q9Misoby1pKS9sOm89PT1hJiYodD00KyhpLW4pL2wpLHQ8MD90Kz02OjY8PXQmJih0LT02KSksW3QvNixyLGgvMixlWzNdXX0sdC5leHBvcnRzPWkuQ29sb3JDb252ZXJzaW9ufSx7XCIuLi9jb3JlL21haW5cIjoyM31dLDE0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGM9ZShcIi4uL2NvcmUvbWFpblwiKSxwPWUoXCIuLi9jb3JlL2NvbnN0YW50c1wiKTtlKFwiLi9wNS5Db2xvclwiKSxlKFwiLi4vY29yZS9lcnJvcl9oZWxwZXJzXCIpLGMucHJvdG90eXBlLmFscGhhPWZ1bmN0aW9uKGUpe3JldHVybiBjLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJhbHBoYVwiLGFyZ3VtZW50cyksdGhpcy5jb2xvcihlKS5fZ2V0QWxwaGEoKX0sYy5wcm90b3R5cGUuYmx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gYy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiYmx1ZVwiLGFyZ3VtZW50cyksdGhpcy5jb2xvcihlKS5fZ2V0Qmx1ZSgpfSxjLnByb3RvdHlwZS5icmlnaHRuZXNzPWZ1bmN0aW9uKGUpe3JldHVybiBjLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJicmlnaHRuZXNzXCIsYXJndW1lbnRzKSx0aGlzLmNvbG9yKGUpLl9nZXRCcmlnaHRuZXNzKCl9LGMucHJvdG90eXBlLmNvbG9yPWZ1bmN0aW9uKCl7aWYoYy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiY29sb3JcIixhcmd1bWVudHMpLGFyZ3VtZW50c1swXWluc3RhbmNlb2YgYy5Db2xvcilyZXR1cm4gYXJndW1lbnRzWzBdO3ZhciBlPWFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXk/YXJndW1lbnRzWzBdOmFyZ3VtZW50cztyZXR1cm4gbmV3IGMuQ29sb3IodGhpcyxlKX0sYy5wcm90b3R5cGUuZ3JlZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImdyZWVuXCIsYXJndW1lbnRzKSx0aGlzLmNvbG9yKGUpLl9nZXRHcmVlbigpfSxjLnByb3RvdHlwZS5odWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImh1ZVwiLGFyZ3VtZW50cyksdGhpcy5jb2xvcihlKS5fZ2V0SHVlKCl9LGMucHJvdG90eXBlLmxlcnBDb2xvcj1mdW5jdGlvbihlLHQscil7Yy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibGVycENvbG9yXCIsYXJndW1lbnRzKTt2YXIgaSxuLG8sYSxzLGgsbD10aGlzLl9jb2xvck1vZGUsdT10aGlzLl9jb2xvck1heGVzO2lmKGw9PT1wLlJHQilzPWUubGV2ZWxzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS8yNTV9KSxoPXQubGV2ZWxzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS8yNTV9KTtlbHNlIGlmKGw9PT1wLkhTQillLl9nZXRCcmlnaHRuZXNzKCksdC5fZ2V0QnJpZ2h0bmVzcygpLHM9ZS5oc2JhLGg9dC5oc2JhO2Vsc2V7aWYobCE9PXAuSFNMKXRocm93IG5ldyBFcnJvcihsK1wiY2Fubm90IGJlIHVzZWQgZm9yIGludGVycG9sYXRpb24uXCIpO2UuX2dldExpZ2h0bmVzcygpLHQuX2dldExpZ2h0bmVzcygpLHM9ZS5oc2xhLGg9dC5oc2xhfXJldHVybiByPU1hdGgubWF4KE1hdGgubWluKHIsMSksMCksdm9pZCAwPT09dGhpcy5sZXJwJiYodGhpcy5sZXJwPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcioodC1lKStlfSksaT10aGlzLmxlcnAoc1swXSxoWzBdLHIpLG49dGhpcy5sZXJwKHNbMV0saFsxXSxyKSxvPXRoaXMubGVycChzWzJdLGhbMl0sciksYT10aGlzLmxlcnAoc1szXSxoWzNdLHIpLGkqPXVbbF1bMF0sbio9dVtsXVsxXSxvKj11W2xdWzJdLGEqPXVbbF1bM10sdGhpcy5jb2xvcihpLG4sbyxhKX0sYy5wcm90b3R5cGUubGlnaHRuZXNzPWZ1bmN0aW9uKGUpe3JldHVybiBjLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJsaWdodG5lc3NcIixhcmd1bWVudHMpLHRoaXMuY29sb3IoZSkuX2dldExpZ2h0bmVzcygpfSxjLnByb3RvdHlwZS5yZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInJlZFwiLGFyZ3VtZW50cyksdGhpcy5jb2xvcihlKS5fZ2V0UmVkKCl9LGMucHJvdG90eXBlLnNhdHVyYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInNhdHVyYXRpb25cIixhcmd1bWVudHMpLHRoaXMuY29sb3IoZSkuX2dldFNhdHVyYXRpb24oKX0sdC5leHBvcnRzPWN9LHtcIi4uL2NvcmUvY29uc3RhbnRzXCI6MTcsXCIuLi9jb3JlL2Vycm9yX2hlbHBlcnNcIjoxOSxcIi4uL2NvcmUvbWFpblwiOjIzLFwiLi9wNS5Db2xvclwiOjE1fV0sMTU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgYz1lKFwiLi4vY29yZS9tYWluXCIpLHA9ZShcIi4uL2NvcmUvY29uc3RhbnRzXCIpLGQ9ZShcIi4vY29sb3JfY29udmVyc2lvblwiKTtjLkNvbG9yPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fc3RvcmVNb2RlQW5kTWF4ZXMoZS5fY29sb3JNb2RlLGUuX2NvbG9yTWF4ZXMpLHRoaXMubW9kZSE9PXAuUkdCJiZ0aGlzLm1vZGUhPT1wLkhTTCYmdGhpcy5tb2RlIT09cC5IU0IpdGhyb3cgbmV3IEVycm9yKHRoaXMubW9kZStcIiBpcyBhbiBpbnZhbGlkIGNvbG9yTW9kZS5cIik7cmV0dXJuIHRoaXMuX2FycmF5PWMuQ29sb3IuX3BhcnNlSW5wdXRzLmFwcGx5KHRoaXMsdCksdGhpcy5fY2FsY3VsYXRlTGV2ZWxzKCksdGhpc30sYy5Db2xvci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oZSl7dGhpcy5oc2JhfHwodGhpcy5oc2JhPWQuX3JnYmFUb0hTQkEodGhpcy5fYXJyYXkpKSx0aGlzLmhzbGF8fCh0aGlzLmhzbGE9ZC5fcmdiYVRvSFNMQSh0aGlzLl9hcnJheSkpO3ZhciB0PXRoaXMubGV2ZWxzLHI9dGhpcy5fYXJyYXksaT1yWzNdO3N3aXRjaChlKXtjYXNlXCIjcnJnZ2JiXCI6cmV0dXJuXCIjXCIuY29uY2F0KHRbMF08MTY/XCIwXCIuY29uY2F0KHRbMF0udG9TdHJpbmcoMTYpKTp0WzBdLnRvU3RyaW5nKDE2KSx0WzFdPDE2P1wiMFwiLmNvbmNhdCh0WzFdLnRvU3RyaW5nKDE2KSk6dFsxXS50b1N0cmluZygxNiksdFsyXTwxNj9cIjBcIi5jb25jYXQodFsyXS50b1N0cmluZygxNikpOnRbMl0udG9TdHJpbmcoMTYpKTtjYXNlXCIjcnJnZ2JiYWFcIjpyZXR1cm5cIiNcIi5jb25jYXQodFswXTwxNj9cIjBcIi5jb25jYXQodFswXS50b1N0cmluZygxNikpOnRbMF0udG9TdHJpbmcoMTYpLHRbMV08MTY/XCIwXCIuY29uY2F0KHRbMV0udG9TdHJpbmcoMTYpKTp0WzFdLnRvU3RyaW5nKDE2KSx0WzJdPDE2P1wiMFwiLmNvbmNhdCh0WzJdLnRvU3RyaW5nKDE2KSk6dFsyXS50b1N0cmluZygxNiksdFszXTwxNj9cIjBcIi5jb25jYXQodFsyXS50b1N0cmluZygxNikpOnRbM10udG9TdHJpbmcoMTYpKTtjYXNlXCIjcmdiXCI6cmV0dXJuXCIjXCIuY29uY2F0KE1hdGgucm91bmQoMTUqclswXSkudG9TdHJpbmcoMTYpLE1hdGgucm91bmQoMTUqclsxXSkudG9TdHJpbmcoMTYpLE1hdGgucm91bmQoMTUqclsyXSkudG9TdHJpbmcoMTYpKTtjYXNlXCIjcmdiYVwiOnJldHVyblwiI1wiLmNvbmNhdChNYXRoLnJvdW5kKDE1KnJbMF0pLnRvU3RyaW5nKDE2KSxNYXRoLnJvdW5kKDE1KnJbMV0pLnRvU3RyaW5nKDE2KSxNYXRoLnJvdW5kKDE1KnJbMl0pLnRvU3RyaW5nKDE2KSxNYXRoLnJvdW5kKDE1KnJbM10pLnRvU3RyaW5nKDE2KSk7Y2FzZVwicmdiXCI6cmV0dXJuXCJyZ2IoXCIuY29uY2F0KHRbMF0sXCIsIFwiLHRbMV0sXCIsIFwiLHRbMl0sXCIpXCIpO2Nhc2VcInJnYiVcIjpyZXR1cm5cInJnYihcIi5jb25jYXQoKDEwMCpyWzBdKS50b1ByZWNpc2lvbigzKSxcIiUsIFwiLCgxMDAqclsxXSkudG9QcmVjaXNpb24oMyksXCIlLCBcIiwoMTAwKnJbMl0pLnRvUHJlY2lzaW9uKDMpLFwiJSlcIik7Y2FzZVwicmdiYSVcIjpyZXR1cm5cInJnYmEoXCIuY29uY2F0KCgxMDAqclswXSkudG9QcmVjaXNpb24oMyksXCIlLCBcIiwoMTAwKnJbMV0pLnRvUHJlY2lzaW9uKDMpLFwiJSwgXCIsKDEwMCpyWzJdKS50b1ByZWNpc2lvbigzKSxcIiUsIFwiLCgxMDAqclszXSkudG9QcmVjaXNpb24oMyksXCIlKVwiKTtjYXNlXCJoc2JcIjpjYXNlXCJoc3ZcIjpyZXR1cm5cImhzYihcIi5jb25jYXQodGhpcy5oc2JhWzBdKnRoaXMubWF4ZXNbcC5IU0JdWzBdLFwiLCBcIix0aGlzLmhzYmFbMV0qdGhpcy5tYXhlc1twLkhTQl1bMV0sXCIsIFwiLHRoaXMuaHNiYVsyXSp0aGlzLm1heGVzW3AuSFNCXVsyXSxcIilcIik7Y2FzZVwiaHNiJVwiOmNhc2VcImhzdiVcIjpyZXR1cm5cImhzYihcIi5jb25jYXQoKDEwMCp0aGlzLmhzYmFbMF0pLnRvUHJlY2lzaW9uKDMpLFwiJSwgXCIsKDEwMCp0aGlzLmhzYmFbMV0pLnRvUHJlY2lzaW9uKDMpLFwiJSwgXCIsKDEwMCp0aGlzLmhzYmFbMl0pLnRvUHJlY2lzaW9uKDMpLFwiJSlcIik7Y2FzZVwiaHNiYVwiOmNhc2VcImhzdmFcIjpyZXR1cm5cImhzYmEoXCIuY29uY2F0KHRoaXMuaHNiYVswXSp0aGlzLm1heGVzW3AuSFNCXVswXSxcIiwgXCIsdGhpcy5oc2JhWzFdKnRoaXMubWF4ZXNbcC5IU0JdWzFdLFwiLCBcIix0aGlzLmhzYmFbMl0qdGhpcy5tYXhlc1twLkhTQl1bMl0sXCIsIFwiLGksXCIpXCIpO2Nhc2VcImhzYmElXCI6Y2FzZVwiaHN2YSVcIjpyZXR1cm5cImhzYmEoXCIuY29uY2F0KCgxMDAqdGhpcy5oc2JhWzBdKS50b1ByZWNpc2lvbigzKSxcIiUsIFwiLCgxMDAqdGhpcy5oc2JhWzFdKS50b1ByZWNpc2lvbigzKSxcIiUsIFwiLCgxMDAqdGhpcy5oc2JhWzJdKS50b1ByZWNpc2lvbigzKSxcIiUsIFwiLCgxMDAqaSkudG9QcmVjaXNpb24oMyksXCIlKVwiKTtjYXNlXCJoc2xcIjpyZXR1cm5cImhzbChcIi5jb25jYXQodGhpcy5oc2xhWzBdKnRoaXMubWF4ZXNbcC5IU0xdWzBdLFwiLCBcIix0aGlzLmhzbGFbMV0qdGhpcy5tYXhlc1twLkhTTF1bMV0sXCIsIFwiLHRoaXMuaHNsYVsyXSp0aGlzLm1heGVzW3AuSFNMXVsyXSxcIilcIik7Y2FzZVwiaHNsJVwiOnJldHVyblwiaHNsKFwiLmNvbmNhdCgoMTAwKnRoaXMuaHNsYVswXSkudG9QcmVjaXNpb24oMyksXCIlLCBcIiwoMTAwKnRoaXMuaHNsYVsxXSkudG9QcmVjaXNpb24oMyksXCIlLCBcIiwoMTAwKnRoaXMuaHNsYVsyXSkudG9QcmVjaXNpb24oMyksXCIlKVwiKTtjYXNlXCJoc2xhXCI6cmV0dXJuXCJoc2xhKFwiLmNvbmNhdCh0aGlzLmhzbGFbMF0qdGhpcy5tYXhlc1twLkhTTF1bMF0sXCIsIFwiLHRoaXMuaHNsYVsxXSp0aGlzLm1heGVzW3AuSFNMXVsxXSxcIiwgXCIsdGhpcy5oc2xhWzJdKnRoaXMubWF4ZXNbcC5IU0xdWzJdLFwiLCBcIixpLFwiKVwiKTtjYXNlXCJoc2xhJVwiOnJldHVyblwiaHNsKFwiLmNvbmNhdCgoMTAwKnRoaXMuaHNsYVswXSkudG9QcmVjaXNpb24oMyksXCIlLCBcIiwoMTAwKnRoaXMuaHNsYVsxXSkudG9QcmVjaXNpb24oMyksXCIlLCBcIiwoMTAwKnRoaXMuaHNsYVsyXSkudG9QcmVjaXNpb24oMyksXCIlLCBcIiwoMTAwKmkpLnRvUHJlY2lzaW9uKDMpLFwiJSlcIik7Y2FzZVwicmdiYVwiOmRlZmF1bHQ6cmV0dXJuXCJyZ2JhKFwiK3RbMF0rXCIsXCIrdFsxXStcIixcIit0WzJdK1wiLFwiK2krXCIpXCJ9fSxjLkNvbG9yLnByb3RvdHlwZS5zZXRSZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fYXJyYXlbMF09ZS90aGlzLm1heGVzW3AuUkdCXVswXSx0aGlzLl9jYWxjdWxhdGVMZXZlbHMoKX0sYy5Db2xvci5wcm90b3R5cGUuc2V0R3JlZW49ZnVuY3Rpb24oZSl7dGhpcy5fYXJyYXlbMV09ZS90aGlzLm1heGVzW3AuUkdCXVsxXSx0aGlzLl9jYWxjdWxhdGVMZXZlbHMoKX0sYy5Db2xvci5wcm90b3R5cGUuc2V0Qmx1ZT1mdW5jdGlvbihlKXt0aGlzLl9hcnJheVsyXT1lL3RoaXMubWF4ZXNbcC5SR0JdWzJdLHRoaXMuX2NhbGN1bGF0ZUxldmVscygpfSxjLkNvbG9yLnByb3RvdHlwZS5zZXRBbHBoYT1mdW5jdGlvbihlKXt0aGlzLl9hcnJheVszXT1lL3RoaXMubWF4ZXNbdGhpcy5tb2RlXVszXSx0aGlzLl9jYWxjdWxhdGVMZXZlbHMoKX0sYy5Db2xvci5wcm90b3R5cGUuX2NhbGN1bGF0ZUxldmVscz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9hcnJheSx0PXRoaXMubGV2ZWxzPW5ldyBBcnJheShlLmxlbmd0aCkscj1lLmxlbmd0aC0xOzA8PXI7LS1yKXRbcl09TWF0aC5yb3VuZCgyNTUqZVtyXSl9LGMuQ29sb3IucHJvdG90eXBlLl9nZXRBbHBoYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcnJheVszXSp0aGlzLm1heGVzW3RoaXMubW9kZV1bM119LGMuQ29sb3IucHJvdG90eXBlLl9zdG9yZU1vZGVBbmRNYXhlcz1mdW5jdGlvbihlLHQpe3RoaXMubW9kZT1lLHRoaXMubWF4ZXM9dH0sYy5Db2xvci5wcm90b3R5cGUuX2dldE1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlfSxjLkNvbG9yLnByb3RvdHlwZS5fZ2V0TWF4ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhlc30sYy5Db2xvci5wcm90b3R5cGUuX2dldEJsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXJyYXlbMl0qdGhpcy5tYXhlc1twLlJHQl1bMl19LGMuQ29sb3IucHJvdG90eXBlLl9nZXRCcmlnaHRuZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHNiYXx8KHRoaXMuaHNiYT1kLl9yZ2JhVG9IU0JBKHRoaXMuX2FycmF5KSksdGhpcy5oc2JhWzJdKnRoaXMubWF4ZXNbcC5IU0JdWzJdfSxjLkNvbG9yLnByb3RvdHlwZS5fZ2V0R3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXJyYXlbMV0qdGhpcy5tYXhlc1twLlJHQl1bMV19LGMuQ29sb3IucHJvdG90eXBlLl9nZXRIdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlPT09cC5IU0I/KHRoaXMuaHNiYXx8KHRoaXMuaHNiYT1kLl9yZ2JhVG9IU0JBKHRoaXMuX2FycmF5KSksdGhpcy5oc2JhWzBdKnRoaXMubWF4ZXNbcC5IU0JdWzBdKToodGhpcy5oc2xhfHwodGhpcy5oc2xhPWQuX3JnYmFUb0hTTEEodGhpcy5fYXJyYXkpKSx0aGlzLmhzbGFbMF0qdGhpcy5tYXhlc1twLkhTTF1bMF0pfSxjLkNvbG9yLnByb3RvdHlwZS5fZ2V0TGlnaHRuZXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHNsYXx8KHRoaXMuaHNsYT1kLl9yZ2JhVG9IU0xBKHRoaXMuX2FycmF5KSksdGhpcy5oc2xhWzJdKnRoaXMubWF4ZXNbcC5IU0xdWzJdfSxjLkNvbG9yLnByb3RvdHlwZS5fZ2V0UmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FycmF5WzBdKnRoaXMubWF4ZXNbcC5SR0JdWzBdfSxjLkNvbG9yLnByb3RvdHlwZS5fZ2V0U2F0dXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGU9PT1wLkhTQj8odGhpcy5oc2JhfHwodGhpcy5oc2JhPWQuX3JnYmFUb0hTQkEodGhpcy5fYXJyYXkpKSx0aGlzLmhzYmFbMV0qdGhpcy5tYXhlc1twLkhTQl1bMV0pOih0aGlzLmhzbGF8fCh0aGlzLmhzbGE9ZC5fcmdiYVRvSFNMQSh0aGlzLl9hcnJheSkpLHRoaXMuaHNsYVsxXSp0aGlzLm1heGVzW3AuSFNMXVsxXSl9O3ZhciBmPXthbGljZWJsdWU6XCIjZjBmOGZmXCIsYW50aXF1ZXdoaXRlOlwiI2ZhZWJkN1wiLGFxdWE6XCIjMDBmZmZmXCIsYXF1YW1hcmluZTpcIiM3ZmZmZDRcIixhenVyZTpcIiNmMGZmZmZcIixiZWlnZTpcIiNmNWY1ZGNcIixiaXNxdWU6XCIjZmZlNGM0XCIsYmxhY2s6XCIjMDAwMDAwXCIsYmxhbmNoZWRhbG1vbmQ6XCIjZmZlYmNkXCIsYmx1ZTpcIiMwMDAwZmZcIixibHVldmlvbGV0OlwiIzhhMmJlMlwiLGJyb3duOlwiI2E1MmEyYVwiLGJ1cmx5d29vZDpcIiNkZWI4ODdcIixjYWRldGJsdWU6XCIjNWY5ZWEwXCIsY2hhcnRyZXVzZTpcIiM3ZmZmMDBcIixjaG9jb2xhdGU6XCIjZDI2OTFlXCIsY29yYWw6XCIjZmY3ZjUwXCIsY29ybmZsb3dlcmJsdWU6XCIjNjQ5NWVkXCIsY29ybnNpbGs6XCIjZmZmOGRjXCIsY3JpbXNvbjpcIiNkYzE0M2NcIixjeWFuOlwiIzAwZmZmZlwiLGRhcmtibHVlOlwiIzAwMDA4YlwiLGRhcmtjeWFuOlwiIzAwOGI4YlwiLGRhcmtnb2xkZW5yb2Q6XCIjYjg4NjBiXCIsZGFya2dyYXk6XCIjYTlhOWE5XCIsZGFya2dyZWVuOlwiIzAwNjQwMFwiLGRhcmtncmV5OlwiI2E5YTlhOVwiLGRhcmtraGFraTpcIiNiZGI3NmJcIixkYXJrbWFnZW50YTpcIiM4YjAwOGJcIixkYXJrb2xpdmVncmVlbjpcIiM1NTZiMmZcIixkYXJrb3JhbmdlOlwiI2ZmOGMwMFwiLGRhcmtvcmNoaWQ6XCIjOTkzMmNjXCIsZGFya3JlZDpcIiM4YjAwMDBcIixkYXJrc2FsbW9uOlwiI2U5OTY3YVwiLGRhcmtzZWFncmVlbjpcIiM4ZmJjOGZcIixkYXJrc2xhdGVibHVlOlwiIzQ4M2Q4YlwiLGRhcmtzbGF0ZWdyYXk6XCIjMmY0ZjRmXCIsZGFya3NsYXRlZ3JleTpcIiMyZjRmNGZcIixkYXJrdHVycXVvaXNlOlwiIzAwY2VkMVwiLGRhcmt2aW9sZXQ6XCIjOTQwMGQzXCIsZGVlcHBpbms6XCIjZmYxNDkzXCIsZGVlcHNreWJsdWU6XCIjMDBiZmZmXCIsZGltZ3JheTpcIiM2OTY5NjlcIixkaW1ncmV5OlwiIzY5Njk2OVwiLGRvZGdlcmJsdWU6XCIjMWU5MGZmXCIsZmlyZWJyaWNrOlwiI2IyMjIyMlwiLGZsb3JhbHdoaXRlOlwiI2ZmZmFmMFwiLGZvcmVzdGdyZWVuOlwiIzIyOGIyMlwiLGZ1Y2hzaWE6XCIjZmYwMGZmXCIsZ2FpbnNib3JvOlwiI2RjZGNkY1wiLGdob3N0d2hpdGU6XCIjZjhmOGZmXCIsZ29sZDpcIiNmZmQ3MDBcIixnb2xkZW5yb2Q6XCIjZGFhNTIwXCIsZ3JheTpcIiM4MDgwODBcIixncmVlbjpcIiMwMDgwMDBcIixncmVlbnllbGxvdzpcIiNhZGZmMmZcIixncmV5OlwiIzgwODA4MFwiLGhvbmV5ZGV3OlwiI2YwZmZmMFwiLGhvdHBpbms6XCIjZmY2OWI0XCIsaW5kaWFucmVkOlwiI2NkNWM1Y1wiLGluZGlnbzpcIiM0YjAwODJcIixpdm9yeTpcIiNmZmZmZjBcIixraGFraTpcIiNmMGU2OGNcIixsYXZlbmRlcjpcIiNlNmU2ZmFcIixsYXZlbmRlcmJsdXNoOlwiI2ZmZjBmNVwiLGxhd25ncmVlbjpcIiM3Y2ZjMDBcIixsZW1vbmNoaWZmb246XCIjZmZmYWNkXCIsbGlnaHRibHVlOlwiI2FkZDhlNlwiLGxpZ2h0Y29yYWw6XCIjZjA4MDgwXCIsbGlnaHRjeWFuOlwiI2UwZmZmZlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiI2ZhZmFkMlwiLGxpZ2h0Z3JheTpcIiNkM2QzZDNcIixsaWdodGdyZWVuOlwiIzkwZWU5MFwiLGxpZ2h0Z3JleTpcIiNkM2QzZDNcIixsaWdodHBpbms6XCIjZmZiNmMxXCIsbGlnaHRzYWxtb246XCIjZmZhMDdhXCIsbGlnaHRzZWFncmVlbjpcIiMyMGIyYWFcIixsaWdodHNreWJsdWU6XCIjODdjZWZhXCIsbGlnaHRzbGF0ZWdyYXk6XCIjNzc4ODk5XCIsbGlnaHRzbGF0ZWdyZXk6XCIjNzc4ODk5XCIsbGlnaHRzdGVlbGJsdWU6XCIjYjBjNGRlXCIsbGlnaHR5ZWxsb3c6XCIjZmZmZmUwXCIsbGltZTpcIiMwMGZmMDBcIixsaW1lZ3JlZW46XCIjMzJjZDMyXCIsbGluZW46XCIjZmFmMGU2XCIsbWFnZW50YTpcIiNmZjAwZmZcIixtYXJvb246XCIjODAwMDAwXCIsbWVkaXVtYXF1YW1hcmluZTpcIiM2NmNkYWFcIixtZWRpdW1ibHVlOlwiIzAwMDBjZFwiLG1lZGl1bW9yY2hpZDpcIiNiYTU1ZDNcIixtZWRpdW1wdXJwbGU6XCIjOTM3MGRiXCIsbWVkaXVtc2VhZ3JlZW46XCIjM2NiMzcxXCIsbWVkaXVtc2xhdGVibHVlOlwiIzdiNjhlZVwiLG1lZGl1bXNwcmluZ2dyZWVuOlwiIzAwZmE5YVwiLG1lZGl1bXR1cnF1b2lzZTpcIiM0OGQxY2NcIixtZWRpdW12aW9sZXRyZWQ6XCIjYzcxNTg1XCIsbWlkbmlnaHRibHVlOlwiIzE5MTk3MFwiLG1pbnRjcmVhbTpcIiNmNWZmZmFcIixtaXN0eXJvc2U6XCIjZmZlNGUxXCIsbW9jY2FzaW46XCIjZmZlNGI1XCIsbmF2YWpvd2hpdGU6XCIjZmZkZWFkXCIsbmF2eTpcIiMwMDAwODBcIixvbGRsYWNlOlwiI2ZkZjVlNlwiLG9saXZlOlwiIzgwODAwMFwiLG9saXZlZHJhYjpcIiM2YjhlMjNcIixvcmFuZ2U6XCIjZmZhNTAwXCIsb3JhbmdlcmVkOlwiI2ZmNDUwMFwiLG9yY2hpZDpcIiNkYTcwZDZcIixwYWxlZ29sZGVucm9kOlwiI2VlZThhYVwiLHBhbGVncmVlbjpcIiM5OGZiOThcIixwYWxldHVycXVvaXNlOlwiI2FmZWVlZVwiLHBhbGV2aW9sZXRyZWQ6XCIjZGI3MDkzXCIscGFwYXlhd2hpcDpcIiNmZmVmZDVcIixwZWFjaHB1ZmY6XCIjZmZkYWI5XCIscGVydTpcIiNjZDg1M2ZcIixwaW5rOlwiI2ZmYzBjYlwiLHBsdW06XCIjZGRhMGRkXCIscG93ZGVyYmx1ZTpcIiNiMGUwZTZcIixwdXJwbGU6XCIjODAwMDgwXCIscmVkOlwiI2ZmMDAwMFwiLHJvc3licm93bjpcIiNiYzhmOGZcIixyb3lhbGJsdWU6XCIjNDE2OWUxXCIsc2FkZGxlYnJvd246XCIjOGI0NTEzXCIsc2FsbW9uOlwiI2ZhODA3MlwiLHNhbmR5YnJvd246XCIjZjRhNDYwXCIsc2VhZ3JlZW46XCIjMmU4YjU3XCIsc2Vhc2hlbGw6XCIjZmZmNWVlXCIsc2llbm5hOlwiI2EwNTIyZFwiLHNpbHZlcjpcIiNjMGMwYzBcIixza3libHVlOlwiIzg3Y2VlYlwiLHNsYXRlYmx1ZTpcIiM2YTVhY2RcIixzbGF0ZWdyYXk6XCIjNzA4MDkwXCIsc2xhdGVncmV5OlwiIzcwODA5MFwiLHNub3c6XCIjZmZmYWZhXCIsc3ByaW5nZ3JlZW46XCIjMDBmZjdmXCIsc3RlZWxibHVlOlwiIzQ2ODJiNFwiLHRhbjpcIiNkMmI0OGNcIix0ZWFsOlwiIzAwODA4MFwiLHRoaXN0bGU6XCIjZDhiZmQ4XCIsdG9tYXRvOlwiI2ZmNjM0N1wiLHR1cnF1b2lzZTpcIiM0MGUwZDBcIix2aW9sZXQ6XCIjZWU4MmVlXCIsd2hlYXQ6XCIjZjVkZWIzXCIsd2hpdGU6XCIjZmZmZmZmXCIsd2hpdGVzbW9rZTpcIiNmNWY1ZjVcIix5ZWxsb3c6XCIjZmZmZjAwXCIseWVsbG93Z3JlZW46XCIjOWFjZDMyXCJ9LGk9L1xccyovLG49LyhcXGR7MSwzfSkvLG89LygoPzpcXGQrKD86XFwuXFxkKyk/KXwoPzpcXC5cXGQrKSkvLGE9bmV3IFJlZ0V4cChvLnNvdXJjZStcIiVcIiksbT17SEVYMzovXiMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkkL2ksSEVYNDovXiMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkoW2EtZjAtOV0pJC9pLEhFWDY6L14jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pJC9pLEhFWDg6L14jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KSQvaSxSR0I6bmV3IFJlZ0V4cChbXCJecmdiXFxcXChcIixuLnNvdXJjZSxcIixcIixuLnNvdXJjZSxcIixcIixuLnNvdXJjZSxcIlxcXFwpJFwiXS5qb2luKGkuc291cmNlKSxcImlcIiksUkdCX1BFUkNFTlQ6bmV3IFJlZ0V4cChbXCJecmdiXFxcXChcIixhLnNvdXJjZSxcIixcIixhLnNvdXJjZSxcIixcIixhLnNvdXJjZSxcIlxcXFwpJFwiXS5qb2luKGkuc291cmNlKSxcImlcIiksUkdCQTpuZXcgUmVnRXhwKFtcIl5yZ2JhXFxcXChcIixuLnNvdXJjZSxcIixcIixuLnNvdXJjZSxcIixcIixuLnNvdXJjZSxcIixcIixvLnNvdXJjZSxcIlxcXFwpJFwiXS5qb2luKGkuc291cmNlKSxcImlcIiksUkdCQV9QRVJDRU5UOm5ldyBSZWdFeHAoW1wiXnJnYmFcXFxcKFwiLGEuc291cmNlLFwiLFwiLGEuc291cmNlLFwiLFwiLGEuc291cmNlLFwiLFwiLG8uc291cmNlLFwiXFxcXCkkXCJdLmpvaW4oaS5zb3VyY2UpLFwiaVwiKSxIU0w6bmV3IFJlZ0V4cChbXCJeaHNsXFxcXChcIixuLnNvdXJjZSxcIixcIixhLnNvdXJjZSxcIixcIixhLnNvdXJjZSxcIlxcXFwpJFwiXS5qb2luKGkuc291cmNlKSxcImlcIiksSFNMQTpuZXcgUmVnRXhwKFtcIl5oc2xhXFxcXChcIixuLnNvdXJjZSxcIixcIixhLnNvdXJjZSxcIixcIixhLnNvdXJjZSxcIixcIixvLnNvdXJjZSxcIlxcXFwpJFwiXS5qb2luKGkuc291cmNlKSxcImlcIiksSFNCOm5ldyBSZWdFeHAoW1wiXmhzYlxcXFwoXCIsbi5zb3VyY2UsXCIsXCIsYS5zb3VyY2UsXCIsXCIsYS5zb3VyY2UsXCJcXFxcKSRcIl0uam9pbihpLnNvdXJjZSksXCJpXCIpLEhTQkE6bmV3IFJlZ0V4cChbXCJeaHNiYVxcXFwoXCIsbi5zb3VyY2UsXCIsXCIsYS5zb3VyY2UsXCIsXCIsYS5zb3VyY2UsXCIsXCIsby5zb3VyY2UsXCJcXFxcKSRcIl0uam9pbihpLnNvdXJjZSksXCJpXCIpfTtjLkNvbG9yLl9wYXJzZUlucHV0cz1mdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWFyZ3VtZW50cy5sZW5ndGgsYT10aGlzLm1vZGUscz10aGlzLm1heGVzW2FdLGg9W107aWYoMzw9byl7Zm9yKGhbMF09ZS9zWzBdLGhbMV09dC9zWzFdLGhbMl09ci9zWzJdLGhbM109XCJudW1iZXJcIj09dHlwZW9mIGk/aS9zWzNdOjEsbj1oLmxlbmd0aC0xOzA8PW47LS1uKXt2YXIgbD1oW25dO2w8MD9oW25dPTA6MTxsJiYoaFtuXT0xKX1yZXR1cm4gYT09PXAuSFNMP2QuX2hzbGFUb1JHQkEoaCk6YT09PXAuSFNCP2QuX2hzYmFUb1JHQkEoaCk6aH1pZigxPT09byYmXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciB1PWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7aWYoZlt1XSlyZXR1cm4gYy5Db2xvci5fcGFyc2VJbnB1dHMuY2FsbCh0aGlzLGZbdV0pO2lmKG0uSEVYMy50ZXN0KHUpKXJldHVybihoPW0uSEVYMy5leGVjKHUpLnNsaWNlKDEpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZStlLDE2KS8yNTV9KSlbM109MSxoO2lmKG0uSEVYNi50ZXN0KHUpKXJldHVybihoPW0uSEVYNi5leGVjKHUpLnNsaWNlKDEpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxNikvMjU1fSkpWzNdPTEsaDtpZihtLkhFWDQudGVzdCh1KSlyZXR1cm4gaD1tLkhFWDQuZXhlYyh1KS5zbGljZSgxKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUrZSwxNikvMjU1fSk7aWYobS5IRVg4LnRlc3QodSkpcmV0dXJuIGg9bS5IRVg4LmV4ZWModSkuc2xpY2UoMSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDE2KS8yNTV9KTtpZihtLlJHQi50ZXN0KHUpKXJldHVybihoPW0uUkdCLmV4ZWModSkuc2xpY2UoMSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLzI1NX0pKVszXT0xLGg7aWYobS5SR0JfUEVSQ0VOVC50ZXN0KHUpKXJldHVybihoPW0uUkdCX1BFUkNFTlQuZXhlYyh1KS5zbGljZSgxKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQoZSkvMTAwfSkpWzNdPTEsaDtpZihtLlJHQkEudGVzdCh1KSlyZXR1cm4gaD1tLlJHQkEuZXhlYyh1KS5zbGljZSgxKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMz09PXQ/cGFyc2VGbG9hdChlKTplLzI1NX0pO2lmKG0uUkdCQV9QRVJDRU5ULnRlc3QodSkpcmV0dXJuIGg9bS5SR0JBX1BFUkNFTlQuZXhlYyh1KS5zbGljZSgxKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMz09PXQ/cGFyc2VGbG9hdChlKTpwYXJzZUZsb2F0KGUpLzEwMH0pO2lmKG0uSFNMLnRlc3QodSk/KGg9bS5IU0wuZXhlYyh1KS5zbGljZSgxKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PXQ/cGFyc2VJbnQoZSwxMCkvMzYwOnBhcnNlSW50KGUsMTApLzEwMH0pKVszXT0xOm0uSFNMQS50ZXN0KHUpJiYoaD1tLkhTTEEuZXhlYyh1KS5zbGljZSgxKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PXQ/cGFyc2VJbnQoZSwxMCkvMzYwOjM9PT10P3BhcnNlRmxvYXQoZSk6cGFyc2VJbnQoZSwxMCkvMTAwfSkpLChoPWgubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbihlLDEpLDApfSkpLmxlbmd0aClyZXR1cm4gZC5faHNsYVRvUkdCQShoKTtpZihtLkhTQi50ZXN0KHUpPyhoPW0uSFNCLmV4ZWModSkuc2xpY2UoMSkubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT10P3BhcnNlSW50KGUsMTApLzM2MDpwYXJzZUludChlLDEwKS8xMDB9KSlbM109MTptLkhTQkEudGVzdCh1KSYmKGg9bS5IU0JBLmV4ZWModSkuc2xpY2UoMSkubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT10P3BhcnNlSW50KGUsMTApLzM2MDozPT09dD9wYXJzZUZsb2F0KGUpOnBhcnNlSW50KGUsMTApLzEwMH0pKSxoLmxlbmd0aCl7Zm9yKG49aC5sZW5ndGgtMTswPD1uOy0tbiloW25dPU1hdGgubWF4KE1hdGgubWluKGhbbl0sMSksMCk7cmV0dXJuIGQuX2hzYmFUb1JHQkEoaCl9aD1bMSwxLDEsMV19ZWxzZXtpZigxIT09byYmMiE9PW98fFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihhcmd1bWVudHMrXCJpcyBub3QgYSB2YWxpZCBjb2xvciByZXByZXNlbnRhdGlvbi5cIik7aFswXT1lL3NbMl0saFsxXT1lL3NbMl0saFsyXT1lL3NbMl0saFszXT1cIm51bWJlclwiPT10eXBlb2YgdD90L3NbM106MSxoPWgubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbihlLDEpLDApfSl9cmV0dXJuIGh9LHQuZXhwb3J0cz1jLkNvbG9yfSx7XCIuLi9jb3JlL2NvbnN0YW50c1wiOjE3LFwiLi4vY29yZS9tYWluXCI6MjMsXCIuL2NvbG9yX2NvbnZlcnNpb25cIjoxM31dLDE2OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9ZShcIi4uL2NvcmUvbWFpblwiKSxzPWUoXCIuLi9jb3JlL2NvbnN0YW50c1wiKTtlKFwiLi9wNS5Db2xvclwiKSxhLnByb3RvdHlwZS5iYWNrZ3JvdW5kPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXWluc3RhbmNlb2YgYS5JbWFnZT90aGlzLmltYWdlKGFyZ3VtZW50c1swXSwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk6dGhpcy5fcmVuZGVyZXIuYmFja2dyb3VuZC5hcHBseSh0aGlzLl9yZW5kZXJlcixhcmd1bWVudHMpLHRoaXN9LGEucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmVyLmNsZWFyKCksdGhpc30sYS5wcm90b3R5cGUuY29sb3JNb2RlPWZ1bmN0aW9uKGUsdCxyLGksbil7aWYoYS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiY29sb3JNb2RlXCIsYXJndW1lbnRzKSxlPT09cy5SR0J8fGU9PT1zLkhTQnx8ZT09PXMuSFNMKXt0aGlzLl9jb2xvck1vZGU9ZTt2YXIgbz10aGlzLl9jb2xvck1heGVzW2VdOzI9PT1hcmd1bWVudHMubGVuZ3RoPyhvWzBdPXQsb1sxXT10LG9bMl09dCxvWzNdPXQpOjQ9PT1hcmd1bWVudHMubGVuZ3RoPyhvWzBdPXQsb1sxXT1yLG9bMl09aSk6NT09PWFyZ3VtZW50cy5sZW5ndGgmJihvWzBdPXQsb1sxXT1yLG9bMl09aSxvWzNdPW4pfXJldHVybiB0aGlzfSxhLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmVyLl9zZXRQcm9wZXJ0eShcIl9maWxsU2V0XCIsITApLHRoaXMuX3JlbmRlcmVyLl9zZXRQcm9wZXJ0eShcIl9kb0ZpbGxcIiwhMCksdGhpcy5fcmVuZGVyZXIuZmlsbC5hcHBseSh0aGlzLl9yZW5kZXJlcixhcmd1bWVudHMpLHRoaXN9LGEucHJvdG90eXBlLm5vRmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJlci5fc2V0UHJvcGVydHkoXCJfZG9GaWxsXCIsITEpLHRoaXN9LGEucHJvdG90eXBlLm5vU3Ryb2tlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmVyLl9zZXRQcm9wZXJ0eShcIl9kb1N0cm9rZVwiLCExKSx0aGlzfSxhLnByb3RvdHlwZS5zdHJva2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyZXIuX3NldFByb3BlcnR5KFwiX3N0cm9rZVNldFwiLCEwKSx0aGlzLl9yZW5kZXJlci5fc2V0UHJvcGVydHkoXCJfZG9TdHJva2VcIiwhMCksdGhpcy5fcmVuZGVyZXIuc3Ryb2tlLmFwcGx5KHRoaXMuX3JlbmRlcmVyLGFyZ3VtZW50cyksdGhpc30sdC5leHBvcnRzPWF9LHtcIi4uL2NvcmUvY29uc3RhbnRzXCI6MTcsXCIuLi9jb3JlL21haW5cIjoyMyxcIi4vcDUuQ29sb3JcIjoxNX1dLDE3OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9TWF0aC5QSTt0LmV4cG9ydHM9e1AyRDpcInAyZFwiLFdFQkdMOlwid2ViZ2xcIixBUlJPVzpcImRlZmF1bHRcIixDUk9TUzpcImNyb3NzaGFpclwiLEhBTkQ6XCJwb2ludGVyXCIsTU9WRTpcIm1vdmVcIixURVhUOlwidGV4dFwiLFdBSVQ6XCJ3YWl0XCIsSEFMRl9QSTppLzIsUEk6aSxRVUFSVEVSX1BJOmkvNCxUQVU6MippLFRXT19QSToyKmksREVHUkVFUzpcImRlZ3JlZXNcIixSQURJQU5TOlwicmFkaWFuc1wiLERFR19UT19SQUQ6aS8xODAsUkFEX1RPX0RFRzoxODAvaSxDT1JORVI6XCJjb3JuZXJcIixDT1JORVJTOlwiY29ybmVyc1wiLFJBRElVUzpcInJhZGl1c1wiLFJJR0hUOlwicmlnaHRcIixMRUZUOlwibGVmdFwiLENFTlRFUjpcImNlbnRlclwiLFRPUDpcInRvcFwiLEJPVFRPTTpcImJvdHRvbVwiLEJBU0VMSU5FOlwiYWxwaGFiZXRpY1wiLFBPSU5UUzowLExJTkVTOjEsTElORV9TVFJJUDozLExJTkVfTE9PUDoyLFRSSUFOR0xFUzo0LFRSSUFOR0xFX0ZBTjo2LFRSSUFOR0xFX1NUUklQOjUsUVVBRFM6XCJxdWFkc1wiLFFVQURfU1RSSVA6XCJxdWFkX3N0cmlwXCIsQ0xPU0U6XCJjbG9zZVwiLE9QRU46XCJvcGVuXCIsQ0hPUkQ6XCJjaG9yZFwiLFBJRTpcInBpZVwiLFBST0pFQ1Q6XCJzcXVhcmVcIixTUVVBUkU6XCJidXR0XCIsUk9VTkQ6XCJyb3VuZFwiLEJFVkVMOlwiYmV2ZWxcIixNSVRFUjpcIm1pdGVyXCIsUkdCOlwicmdiXCIsSFNCOlwiaHNiXCIsSFNMOlwiaHNsXCIsQVVUTzpcImF1dG9cIixBTFQ6MTgsQkFDS1NQQUNFOjgsQ09OVFJPTDoxNyxERUxFVEU6NDYsRE9XTl9BUlJPVzo0MCxFTlRFUjoxMyxFU0NBUEU6MjcsTEVGVF9BUlJPVzozNyxPUFRJT046MTgsUkVUVVJOOjEzLFJJR0hUX0FSUk9XOjM5LFNISUZUOjE2LFRBQjo5LFVQX0FSUk9XOjM4LEJMRU5EOlwic291cmNlLW92ZXJcIixBREQ6XCJsaWdodGVyXCIsREFSS0VTVDpcImRhcmtlblwiLExJR0hURVNUOlwibGlnaHRlblwiLERJRkZFUkVOQ0U6XCJkaWZmZXJlbmNlXCIsRVhDTFVTSU9OOlwiZXhjbHVzaW9uXCIsTVVMVElQTFk6XCJtdWx0aXBseVwiLFNDUkVFTjpcInNjcmVlblwiLFJFUExBQ0U6XCJjb3B5XCIsT1ZFUkxBWTpcIm92ZXJsYXlcIixIQVJEX0xJR0hUOlwiaGFyZC1saWdodFwiLFNPRlRfTElHSFQ6XCJzb2Z0LWxpZ2h0XCIsRE9ER0U6XCJjb2xvci1kb2RnZVwiLEJVUk46XCJjb2xvci1idXJuXCIsVEhSRVNIT0xEOlwidGhyZXNob2xkXCIsR1JBWTpcImdyYXlcIixPUEFRVUU6XCJvcGFxdWVcIixJTlZFUlQ6XCJpbnZlcnRcIixQT1NURVJJWkU6XCJwb3N0ZXJpemVcIixESUxBVEU6XCJkaWxhdGVcIixFUk9ERTpcImVyb2RlXCIsQkxVUjpcImJsdXJcIixOT1JNQUw6XCJub3JtYWxcIixJVEFMSUM6XCJpdGFsaWNcIixCT0xEOlwiYm9sZFwiLEJPTERJVEFMSUM6XCJib2xkIGl0YWxpY1wiLF9ERUZBVUxUX1RFWFRfRklMTDpcIiMwMDAwMDBcIixfREVGQVVMVF9MRUFETVVMVDoxLjI1LF9DVFhfTUlERExFOlwibWlkZGxlXCIsTElORUFSOlwibGluZWFyXCIsUVVBRFJBVElDOlwicXVhZHJhdGljXCIsQkVaSUVSOlwiYmV6aWVyXCIsQ1VSVkU6XCJjdXJ2ZVwiLFNUUk9LRTpcInN0cm9rZVwiLEZJTEw6XCJmaWxsXCIsVEVYVFVSRTpcInRleHR1cmVcIixJTU1FRElBVEU6XCJpbW1lZGlhdGVcIixJTUFHRTpcImltYWdlXCIsTkVBUkVTVDpcIm5lYXJlc3RcIixSRVBFQVQ6XCJyZXBlYXRcIixDTEFNUDpcImNsYW1wXCIsTUlSUk9SOlwibWlycm9yXCIsTEFORFNDQVBFOlwibGFuZHNjYXBlXCIsUE9SVFJBSVQ6XCJwb3J0cmFpdFwiLF9ERUZBVUxUX1NUUk9LRTpcIiMwMDAwMDBcIixfREVGQVVMVF9GSUxMOlwiI0ZGRkZGRlwiLEdSSUQ6XCJncmlkXCIsQVhFUzpcImF4ZXNcIn19LHt9XSwxODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuL21haW5cIiksbj1lKFwiLi9jb25zdGFudHNcIiksYT1bbi5BUlJPVyxuLkNST1NTLG4uSEFORCxuLk1PVkUsbi5URVhULG4uV0FJVF07aS5wcm90b3R5cGUuX2ZyYW1lUmF0ZT0wLGkucHJvdG90eXBlLl9sYXN0RnJhbWVUaW1lPXdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSxpLnByb3RvdHlwZS5fdGFyZ2V0RnJhbWVSYXRlPTYwO3ZhciBvPXdpbmRvdy5wcmludDtmdW5jdGlvbiBzKCl7cmV0dXJuIHdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keSYmZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aHx8MH1mdW5jdGlvbiBoKCl7cmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fHxkb2N1bWVudC5ib2R5JiZkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8MH1pLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg/Y29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpOm8oKX0saS5wcm90b3R5cGUuZnJhbWVDb3VudD0wLGkucHJvdG90eXBlLmZvY3VzZWQ9ZG9jdW1lbnQuaGFzRm9jdXMoKSxpLnByb3RvdHlwZS5jdXJzb3I9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPVwiYXV0b1wiLG49dGhpcy5fY3VyRWxlbWVudC5lbHQ7aWYoLTE8YS5pbmRleE9mKGUpKWk9ZTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXt2YXIgbz1cIlwiO3QmJnImJlwibnVtYmVyXCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgciYmKG89dCtcIiBcIityKSxpPVwiaHR0cDovL1wiPT09ZS5zdWJzdHJpbmcoMCw3KXx8XCJodHRwczovL1wiPT09ZS5zdWJzdHJpbmcoMCw4KT9cInVybChcIitlK1wiKSBcIitvK1wiLCBhdXRvXCI6L1xcLihjdXJ8anBnfGpwZWd8Z2lmfHBuZ3xDVVJ8SlBHfEpQRUd8R0lGfFBORykkLy50ZXN0KGUpP1widXJsKFwiK2UrXCIpIFwiK28rXCIsIGF1dG9cIjplfW4uc3R5bGUuY3Vyc29yPWl9LGkucHJvdG90eXBlLmZyYW1lUmF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiZnJhbWVSYXRlXCIsYXJndW1lbnRzKSxcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwP3RoaXMuX2ZyYW1lUmF0ZToodGhpcy5fc2V0UHJvcGVydHkoXCJfdGFyZ2V0RnJhbWVSYXRlXCIsZSksdGhpcyl9LGkucHJvdG90eXBlLmdldEZyYW1lUmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYW1lUmF0ZSgpfSxpLnByb3RvdHlwZS5zZXRGcmFtZVJhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnJhbWVSYXRlKGUpfSxpLnByb3RvdHlwZS5ub0N1cnNvcj1mdW5jdGlvbigpe3RoaXMuX2N1ckVsZW1lbnQuZWx0LnN0eWxlLmN1cnNvcj1cIm5vbmVcIn0saS5wcm90b3R5cGUuZGlzcGxheVdpZHRoPXNjcmVlbi53aWR0aCxpLnByb3RvdHlwZS5kaXNwbGF5SGVpZ2h0PXNjcmVlbi5oZWlnaHQsaS5wcm90b3R5cGUud2luZG93V2lkdGg9cygpLGkucHJvdG90eXBlLndpbmRvd0hlaWdodD1oKCksaS5wcm90b3R5cGUuX29ucmVzaXplPWZ1bmN0aW9uKGUpe3RoaXMuX3NldFByb3BlcnR5KFwid2luZG93V2lkdGhcIixzKCkpLHRoaXMuX3NldFByb3BlcnR5KFwid2luZG93SGVpZ2h0XCIsaCgpKTt2YXIgdCxyPXRoaXMuX2lzR2xvYmFsP3dpbmRvdzp0aGlzO1wiZnVuY3Rpb25cIj09dHlwZW9mIHIud2luZG93UmVzaXplZCYmKHZvaWQgMD09PSh0PXIud2luZG93UmVzaXplZChlKSl8fHR8fGUucHJldmVudERlZmF1bHQoKSl9LGkucHJvdG90eXBlLndpZHRoPTAsaS5wcm90b3R5cGUuaGVpZ2h0PTAsaS5wcm90b3R5cGUuZnVsbHNjcmVlbj1mdW5jdGlvbihlKXtpZihpLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJmdWxsc2NyZWVuXCIsYXJndW1lbnRzKSx2b2lkIDA9PT1lKXJldHVybiBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50O2U/ZnVuY3Rpb24oZSl7aWYoIShkb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZHx8ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWR8fGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbmFibGVkfHxkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbmFibGVkKSl0aHJvdyBuZXcgRXJyb3IoXCJGdWxsc2NyZWVuIG5vdCBlbmFibGVkIGluIHRoaXMgYnJvd3Nlci5cIik7ZS5yZXF1ZXN0RnVsbHNjcmVlbj9lLnJlcXVlc3RGdWxsc2NyZWVuKCk6ZS5tb3pSZXF1ZXN0RnVsbFNjcmVlbj9lLm1velJlcXVlc3RGdWxsU2NyZWVuKCk6ZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbj9lLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk6ZS5tc1JlcXVlc3RGdWxsc2NyZWVuJiZlLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKX0oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTpkb2N1bWVudC5leGl0RnVsbHNjcmVlbj9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4/ZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOmRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuP2RvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKCk6ZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbiYmZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpfSxpLnByb3RvdHlwZS5waXhlbERlbnNpdHk9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGkuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInBpeGVsRGVuc2l0eVwiLGFyZ3VtZW50cyksXCJudW1iZXJcIj09dHlwZW9mIGU/KGUhPT10aGlzLl9waXhlbERlbnNpdHkmJih0aGlzLl9waXhlbERlbnNpdHk9ZSx0aGlzLl9waXhlbHNEaXJ0eT0hMCksKHQ9dGhpcykucmVzaXplQ2FudmFzKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsITApKTp0PXRoaXMuX3BpeGVsRGVuc2l0eSx0fSxpLnByb3RvdHlwZS5kaXNwbGF5RGVuc2l0eT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb30saS5wcm90b3R5cGUuZ2V0VVJMPWZ1bmN0aW9uKCl7cmV0dXJuIGxvY2F0aW9uLmhyZWZ9LGkucHJvdG90eXBlLmdldFVSTFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cIlwiIT09ZX0pfSxpLnByb3RvdHlwZS5nZXRVUkxQYXJhbXM9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0vWz8mXShbXiY9XSspKD86WyY9XSkoW14mPV0rKS9naW0scj17fTtudWxsIT0oZT10LmV4ZWMobG9jYXRpb24uc2VhcmNoKSk7KWUuaW5kZXg9PT10Lmxhc3RJbmRleCYmdC5sYXN0SW5kZXgrKyxyW2VbMV1dPWVbMl07cmV0dXJuIHJ9LHQuZXhwb3J0cz1pfSx7XCIuL2NvbnN0YW50c1wiOjE3LFwiLi9tYWluXCI6MjN9XSwxOTpbZnVuY3Rpb24obixlLHQpe1widXNlIHN0cmljdFwiO3ZhciBvPW4oXCIuL21haW5cIik7bihcIi4vY29uc3RhbnRzXCIpO28uX3ZhbGlkYXRlUGFyYW1ldGVycz1vLl9mcmllbmRseUZpbGVMb2FkRXJyb3I9by5fZnJpZW5kbHlFcnJvcj1mdW5jdGlvbigpe307dmFyIGE9bnVsbCxyPWZ1bmN0aW9uKHQscil7dmFyIGksZTtyfHwocj1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKSxhfHwoaT17fSwoYT1bXS5jb25jYXQoKGU9ZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cIl9cIiE9PWVbMF0mJiEoZSBpbiBpKSYmKGlbZV09ITApfSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJbZV0/XCJmdW5jdGlvblwiOmU9PT1lLnRvVXBwZXJDYXNlKCk/XCJjb25zdGFudFwiOlwidmFyaWFibGVcIix7bmFtZTplLHR5cGU6dH19KX0pKG8ucHJvdG90eXBlKSxlKG4oXCIuL2NvbnN0YW50c1wiKSkpKS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQubmFtZS5sZW5ndGgtZS5uYW1lLmxlbmd0aH0pKSxhLnNvbWUoZnVuY3Rpb24oZSl7aWYodC5tZXNzYWdlJiZudWxsIT09dC5tZXNzYWdlLm1hdGNoKFwiXFxcXFc/XCIrZS5uYW1lK1wiXFxcXFdcIikpcmV0dXJuIHIoXCJEaWQgeW91IGp1c3QgdHJ5IHRvIHVzZSBwNS5qcydzIFwiK2UubmFtZSsoXCJmdW5jdGlvblwiPT09ZS50eXBlP1wiKCkgXCI6XCIgXCIpK2UudHlwZStcIj8gSWYgc28sIHlvdSBtYXkgd2FudCB0byBtb3ZlIGl0IGludG8geW91ciBza2V0Y2gncyBzZXR1cCgpIGZ1bmN0aW9uLlxcblxcbkZvciBtb3JlIGRldGFpbHMsIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL3Byb2Nlc3NpbmcvcDUuanMvd2lraS9wNS5qcy1vdmVydmlldyN3aHktY2FudC1pLWFzc2lnbi12YXJpYWJsZXMtdXNpbmctcDUtZnVuY3Rpb25zLWFuZC12YXJpYWJsZXMtYmVmb3JlLXNldHVwXCIpLCEwfSl9O28ucHJvdG90eXBlLl9oZWxwRm9yTWlzdXNlZEF0VG9wTGV2ZWxDb2RlPXIsXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixyLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixyLCExKX0pKSxlLmV4cG9ydHM9b30se1wiLi4vLi4vZG9jcy9yZWZlcmVuY2UvZGF0YS5qc29uXCI6dm9pZCAwLFwiLi9jb25zdGFudHNcIjoxNyxcIi4vbWFpblwiOjIzfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1lKFwiLi9jb25zdGFudHNcIik7dC5leHBvcnRzPXttb2RlQWRqdXN0OmZ1bmN0aW9uKGUsdCxyLGksbil7cmV0dXJuIG49PT1vLkNPUk5FUj97eDplLHk6dCx3OnIsaDppfTpuPT09by5DT1JORVJTP3t4OmUseTp0LHc6ci1lLGg6aS10fTpuPT09by5SQURJVVM/e3g6ZS1yLHk6dC1pLHc6MipyLGg6MippfTpuPT09by5DRU5URVI/e3g6ZS0uNSpyLHk6dC0uNSppLHc6cixoOml9OnZvaWQgMH19fSx7XCIuL2NvbnN0YW50c1wiOjE3fV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiLi4vY29yZS9tYWluXCIpLG49ZnVuY3Rpb24oKXt3aW5kb3cubW9jaGF8fCh3aW5kb3cuc2V0dXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5zZXR1cHx8d2luZG93LmRyYXcmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5kcmF3KSYmIWkuaW5zdGFuY2UmJm5ldyBpfTtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlP24oKTp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixuLCExKX0se1wiLi4vY29yZS9tYWluXCI6MjN9XSwyMjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuL21haW5cIik7aS5wcm90b3R5cGUucHVzaFN0eWxlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwicHVzaFN0eWxlKCkgbm90IHVzZWQsIHNlZSBwdXNoKClcIil9LGkucHJvdG90eXBlLnBvcFN0eWxlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwicG9wU3R5bGUoKSBub3QgdXNlZCwgc2VlIHBvcCgpXCIpfSx0LmV4cG9ydHM9aX0se1wiLi9tYWluXCI6MjN9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UoXCIuL3NoaW1cIik7dmFyIGk9ZShcIi4vY29uc3RhbnRzXCIpLG09ZnVuY3Rpb24oZSx0LHIpe1wiYm9vbGVhblwiPT10eXBlb2YgdCYmdm9pZCAwPT09ciYmKHI9dCx0PXZvaWQgMCksdGhpcy5fc2V0dXBEb25lPSExLHRoaXMuX3BpeGVsRGVuc2l0eT1NYXRoLmNlaWwod2luZG93LmRldmljZVBpeGVsUmF0aW8pfHwxLHRoaXMuX3VzZXJOb2RlPXQsdGhpcy5fY3VyRWxlbWVudD1udWxsLHRoaXMuX2VsZW1lbnRzPVtdLHRoaXMuX3JlcXVlc3RBbmltSWQ9MCx0aGlzLl9wcmVsb2FkQ291bnQ9MCx0aGlzLl9pc0dsb2JhbD0hMSx0aGlzLl9sb29wPSEwLHRoaXMuX2luaXRpYWxpemVJbnN0YW5jZVZhcmlhYmxlcygpLHRoaXMuX2RlZmF1bHRDYW52YXNTaXplPXt3aWR0aDoxMDAsaGVpZ2h0OjEwMH0sdGhpcy5fZXZlbnRzPXttb3VzZW1vdmU6bnVsbCxtb3VzZWRvd246bnVsbCxtb3VzZXVwOm51bGwsZHJhZ2VuZDpudWxsLGRyYWdvdmVyOm51bGwsY2xpY2s6bnVsbCxkYmxjbGljazpudWxsLG1vdXNlb3ZlcjpudWxsLG1vdXNlb3V0Om51bGwsa2V5ZG93bjpudWxsLGtleXVwOm51bGwsa2V5cHJlc3M6bnVsbCx0b3VjaHN0YXJ0Om51bGwsdG91Y2htb3ZlOm51bGwsdG91Y2hlbmQ6bnVsbCxyZXNpemU6bnVsbCxibHVyOm51bGx9LHRoaXMuX2V2ZW50cy53aGVlbD1udWxsLHRoaXMuX2xvYWRpbmdTY3JlZW5JZD1cInA1X2xvYWRpbmdcIix0aGlzLl9yZWdpc3RlcmVkTWV0aG9kcz17fTtmb3IodmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobS5wcm90b3R5cGUuX3JlZ2lzdGVyZWRNZXRob2RzKSxuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBvPWlbbl07dGhpcy5fcmVnaXN0ZXJlZE1ldGhvZHNbb109bS5wcm90b3R5cGUuX3JlZ2lzdGVyZWRNZXRob2RzW29dLnNsaWNlKCl9d2luZG93LkRldmljZU9yaWVudGF0aW9uRXZlbnQmJih0aGlzLl9ldmVudHMuZGV2aWNlb3JpZW50YXRpb249bnVsbCksd2luZG93LkRldmljZU1vdGlvbkV2ZW50JiYhd2luZG93Ll9pc05vZGVXZWJraXQmJih0aGlzLl9ldmVudHMuZGV2aWNlbW90aW9uPW51bGwpLHRoaXMuX3N0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5fdXNlck5vZGUmJlwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLl91c2VyTm9kZSYmKHRoaXMuX3VzZXJOb2RlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX3VzZXJOb2RlKSk7dmFyIGU9KHRoaXMuX2lzR2xvYmFsP3dpbmRvdzp0aGlzKS5wcmVsb2FkO2lmKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2xvYWRpbmdTY3JlZW5JZCk7aWYoIXQpKHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuaW5uZXJIVE1MPVwiTG9hZGluZy4uLlwiLHQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHQuaWQ9dGhpcy5fbG9hZGluZ1NjcmVlbklkLCh0aGlzLl91c2VyTm9kZXx8ZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQodCk7dmFyIHI9dGhpcy5fcHJlbG9hZE1ldGhvZHM7Zm9yKHZhciBpIGluIHIpe3JbaV09cltpXXx8bTt2YXIgbj1yW2ldO24hPT1tLnByb3RvdHlwZSYmbiE9PW18fCh0aGlzLl9pc0dsb2JhbCYmKHdpbmRvd1tpXT10aGlzLl93cmFwUHJlbG9hZCh0aGlzLGkpKSxuPXRoaXMpLHRoaXMuX3JlZ2lzdGVyZWRQcmVsb2FkTWV0aG9kc1tpXT1uW2ldLG5baV09dGhpcy5fd3JhcFByZWxvYWQobixpKX1lKCksdGhpcy5fcnVuSWZQcmVsb2Fkc0FyZURvbmUoKX1lbHNlIHRoaXMuX3NldHVwKCksdGhpcy5fZHJhdygpfS5iaW5kKHRoaXMpLHRoaXMuX3J1bklmUHJlbG9hZHNBcmVEb25lPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faXNHbG9iYWw/d2luZG93OnRoaXM7aWYoMD09PWUuX3ByZWxvYWRDb3VudCl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5fbG9hZGluZ1NjcmVlbklkKTt0JiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksZS5fc2V0dXAoKSxlLl9kcmF3KCl9fSx0aGlzLl9kZWNyZW1lbnRQcmVsb2FkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faXNHbG9iYWw/d2luZG93OnRoaXM7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5wcmVsb2FkJiYoZS5fc2V0UHJvcGVydHkoXCJfcHJlbG9hZENvdW50XCIsZS5fcHJlbG9hZENvdW50LTEpLGUuX3J1bklmUHJlbG9hZHNBcmVEb25lKCkpfSx0aGlzLl93cmFwUHJlbG9hZD1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmNyZW1lbnRQcmVsb2FkKCksdGhpcy5fcmVnaXN0ZXJlZFByZWxvYWRNZXRob2RzW3RdLmFwcGx5KGUsYXJndW1lbnRzKX0uYmluZCh0aGlzKX0sdGhpcy5faW5jcmVtZW50UHJlbG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2lzR2xvYmFsP3dpbmRvdzp0aGlzO2UuX3NldFByb3BlcnR5KFwiX3ByZWxvYWRDb3VudFwiLGUuX3ByZWxvYWRDb3VudCsxKX0sdGhpcy5fc2V0dXA9ZnVuY3Rpb24oKXt0aGlzLmNyZWF0ZUNhbnZhcyh0aGlzLl9kZWZhdWx0Q2FudmFzU2l6ZS53aWR0aCx0aGlzLl9kZWZhdWx0Q2FudmFzU2l6ZS5oZWlnaHQsXCJwMmRcIik7dmFyIGU9dGhpcy5faXNHbG9iYWw/d2luZG93OnRoaXM7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5wcmVsb2FkKWZvcih2YXIgdCBpbiB0aGlzLl9wcmVsb2FkTWV0aG9kcyllW3RdPXRoaXMuX3ByZWxvYWRNZXRob2RzW3RdW3RdLGVbdF0mJnRoaXMmJihlW3RdPWVbdF0uYmluZCh0aGlzKSk7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5zZXR1cCYmZS5zZXR1cCgpO2Zvcih2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNhbnZhc1wiKSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBuPXJbaV07XCJ0cnVlXCI9PT1uLmRhdGFzZXQuaGlkZGVuJiYobi5zdHlsZS52aXNpYmlsaXR5PVwiXCIsZGVsZXRlIG4uZGF0YXNldC5oaWRkZW4pfXRoaXMuX3NldHVwRG9uZT0hMH0uYmluZCh0aGlzKSx0aGlzLl9kcmF3PWZ1bmN0aW9uKCl7dmFyIGU9d2luZG93LnBlcmZvcm1hbmNlLm5vdygpLHQ9ZS10aGlzLl9sYXN0RnJhbWVUaW1lLHI9MWUzL3RoaXMuX3RhcmdldEZyYW1lUmF0ZTsoIXRoaXMuX2xvb3B8fHItNTw9dCkmJih0aGlzLnJlZHJhdygpLHRoaXMuX2ZyYW1lUmF0ZT0xZTMvKGUtdGhpcy5fbGFzdEZyYW1lVGltZSksdGhpcy5fbGFzdEZyYW1lVGltZT1lLHZvaWQgMCE9PXRoaXMuX3VwZGF0ZU1vdXNlQ29vcmRzJiZ0aGlzLl91cGRhdGVNb3VzZUNvb3JkcygpKSx0aGlzLl9sb29wJiYodGhpcy5fcmVxdWVzdEFuaW1JZD13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RyYXcpKX0uYmluZCh0aGlzKSx0aGlzLl9zZXRQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3RoaXNbZV09dCx0aGlzLl9pc0dsb2JhbCYmKHdpbmRvd1tlXT10KX0uYmluZCh0aGlzKSx0aGlzLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX2xvYWRpbmdTY3JlZW5JZCk7aWYoZSYmKGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSx0aGlzLl9pbmNyZW1lbnRQcmVsb2FkKCkpLHRoaXMuX2N1ckVsZW1lbnQpe2Zvcih2YXIgdCBpbiB0aGlzLl9sb29wPSExLHRoaXMuX3JlcXVlc3RBbmltSWQmJndpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0QW5pbUlkKSx0aGlzLl9ldmVudHMpd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIodCx0aGlzLl9ldmVudHNbdF0pO2Zvcih2YXIgcj0wO3I8dGhpcy5fZWxlbWVudHMubGVuZ3RoO3IrKyl7dmFyIGk9dGhpcy5fZWxlbWVudHNbcl07Zm9yKHZhciBuIGluIGkuZWx0LnBhcmVudE5vZGUmJmkuZWx0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaS5lbHQpLGkuX2V2ZW50cylpLmVsdC5yZW1vdmVFdmVudExpc3RlbmVyKG4saS5fZXZlbnRzW25dKX12YXIgbz10aGlzO3RoaXMuX3JlZ2lzdGVyZWRNZXRob2RzLnJlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUmJmUuY2FsbChvKX0pfWlmKHRoaXMuX2lzR2xvYmFsKXtmb3IodmFyIGEgaW4gbS5wcm90b3R5cGUpdHJ5e2RlbGV0ZSB3aW5kb3dbYV19Y2F0Y2goZSl7d2luZG93W2FdPXZvaWQgMH1mb3IodmFyIHMgaW4gdGhpcylpZih0aGlzLmhhc093blByb3BlcnR5KHMpKXRyeXtkZWxldGUgd2luZG93W3NdfWNhdGNoKGUpe3dpbmRvd1tzXT12b2lkIDB9bS5pbnN0YW5jZT1udWxsfX0uYmluZCh0aGlzKSx0aGlzLl9yZWdpc3RlcmVkTWV0aG9kcy5pbml0LmZvckVhY2goZnVuY3Rpb24oZSl7dm9pZCAwIT09ZSYmZS5jYWxsKHRoaXMpfSx0aGlzKTt2YXIgYT10aGlzLl9jcmVhdGVGcmllbmRseUdsb2JhbEZ1bmN0aW9uQmluZGVyKCk7aWYoZSllKHRoaXMpO2Vsc2V7Zm9yKHZhciBzIGluIHRoaXMuX2lzR2xvYmFsPSEwLG0uaW5zdGFuY2U9dGhpcyxtLnByb3RvdHlwZSlpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBtLnByb3RvdHlwZVtzXSl7dmFyIGg9cy5zdWJzdHJpbmcoMik7dGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KGgpfHwoTWF0aC5oYXNPd25Qcm9wZXJ0eShzKSYmTWF0aFtzXT09PW0ucHJvdG90eXBlW3NdP2EocyxtLnByb3RvdHlwZVtzXSk6YShzLG0ucHJvdG90eXBlW3NdLmJpbmQodGhpcykpKX1lbHNlIGEocyxtLnByb3RvdHlwZVtzXSk7Zm9yKHZhciBsIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShsKSYmYShsLHRoaXNbbF0pfWZvcih2YXIgdSBpbiB0aGlzLl9ldmVudHMpe3ZhciBjPXRoaXNbXCJfb25cIit1XTtpZihjKXt2YXIgcD1jLmJpbmQodGhpcyk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIodSxwLHtwYXNzaXZlOiExfSksdGhpcy5fZXZlbnRzW3VdPXB9fXZhciBkPWZ1bmN0aW9uKCl7dGhpcy5fc2V0UHJvcGVydHkoXCJmb2N1c2VkXCIsITApfS5iaW5kKHRoaXMpLGY9ZnVuY3Rpb24oKXt0aGlzLl9zZXRQcm9wZXJ0eShcImZvY3VzZWRcIiwhMSl9LmJpbmQodGhpcyk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLGQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLGYpLHRoaXMucmVnaXN0ZXJNZXRob2QoXCJyZW1vdmVcIixmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIixkKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIixmKX0pLHI/dGhpcy5fc3RhcnQoKTpcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlP3RoaXMuX3N0YXJ0KCk6d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcy5fc3RhcnQuYmluZCh0aGlzKSwhMSl9O2Zvcih2YXIgbiBpbiBtLnByb3RvdHlwZS5faW5pdGlhbGl6ZUluc3RhbmNlVmFyaWFibGVzPWZ1bmN0aW9uKCl7dGhpcy5fc3R5bGVzPVtdLHRoaXMuX2JlemllckRldGFpbD0yMCx0aGlzLl9jdXJ2ZURldGFpbD0yMCx0aGlzLl9jb2xvck1vZGU9aS5SR0IsdGhpcy5fY29sb3JNYXhlcz17cmdiOlsyNTUsMjU1LDI1NSwyNTVdLGhzYjpbMzYwLDEwMCwxMDAsMV0saHNsOlszNjAsMTAwLDEwMCwxXX0sdGhpcy5fcGl4ZWxzRGlydHk9ITB9LG0uaW5zdGFuY2U9bnVsbCxtLmRpc2FibGVGcmllbmRseUVycm9ycz0hMSxpKW0ucHJvdG90eXBlW25dPWlbbl07bS5wcm90b3R5cGUuX3ByZWxvYWRNZXRob2RzPXtsb2FkSlNPTjptLnByb3RvdHlwZSxsb2FkSW1hZ2U6bS5wcm90b3R5cGUsbG9hZFN0cmluZ3M6bS5wcm90b3R5cGUsbG9hZFhNTDptLnByb3RvdHlwZSxsb2FkQnl0ZXM6bS5wcm90b3R5cGUsbG9hZFRhYmxlOm0ucHJvdG90eXBlLGxvYWRGb250Om0ucHJvdG90eXBlLGxvYWRNb2RlbDptLnByb3RvdHlwZSxsb2FkU2hhZGVyOm0ucHJvdG90eXBlfSxtLnByb3RvdHlwZS5fcmVnaXN0ZXJlZE1ldGhvZHM9e2luaXQ6W10scHJlOltdLHBvc3Q6W10scmVtb3ZlOltdfSxtLnByb3RvdHlwZS5fcmVnaXN0ZXJlZFByZWxvYWRNZXRob2RzPXt9LG0ucHJvdG90eXBlLnJlZ2lzdGVyUHJlbG9hZE1ldGhvZD1mdW5jdGlvbihlLHQpe20ucHJvdG90eXBlLl9wcmVsb2FkTWV0aG9kcy5oYXNPd25Qcm9wZXJ0eShlKXx8KG0ucHJvdG90eXBlLl9wcmVsb2FkTWV0aG9kc1tlXT10KX0sbS5wcm90b3R5cGUucmVnaXN0ZXJNZXRob2Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzfHxtLnByb3RvdHlwZTtyLl9yZWdpc3RlcmVkTWV0aG9kcy5oYXNPd25Qcm9wZXJ0eShlKXx8KHIuX3JlZ2lzdGVyZWRNZXRob2RzW2VdPVtdKSxyLl9yZWdpc3RlcmVkTWV0aG9kc1tlXS5wdXNoKHQpfSxtLnByb3RvdHlwZS5fY3JlYXRlRnJpZW5kbHlHbG9iYWxGdW5jdGlvbkJpbmRlcj1mdW5jdGlvbihlKXt2YXIgcj0oZT1lfHx7fSkuZ2xvYmFsT2JqZWN0fHx3aW5kb3c7ZS5sb2d8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7bS5kaXNhYmxlRnJpZW5kbHlFcnJvcnMscltlXT10fX0sdC5leHBvcnRzPW19LHtcIi4vY29uc3RhbnRzXCI6MTcsXCIuL3NoaW1cIjozM31dLDI0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZShcIi4vbWFpblwiKTtvLkVsZW1lbnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmVsdD1lLHRoaXMuX3BJbnN0PXQsdGhpcy5fZXZlbnRzPXt9LHRoaXMud2lkdGg9dGhpcy5lbHQub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5lbHQub2Zmc2V0SGVpZ2h0fSxvLkVsZW1lbnQucHJvdG90eXBlLnBhcmVudD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT90aGlzLmVsdC5wYXJlbnROb2RlOihcInN0cmluZ1wiPT10eXBlb2YgZT8oXCIjXCI9PT1lWzBdJiYoZT1lLnN1YnN0cmluZygxKSksZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSk6ZSBpbnN0YW5jZW9mIG8uRWxlbWVudCYmKGU9ZS5lbHQpLGUuYXBwZW5kQ2hpbGQodGhpcy5lbHQpLHRoaXMpfSxvLkVsZW1lbnQucHJvdG90eXBlLmlkPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMuZWx0LmlkOih0aGlzLmVsdC5pZD1lLHRoaXMud2lkdGg9dGhpcy5lbHQub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5lbHQub2Zmc2V0SGVpZ2h0LHRoaXMpfSxvLkVsZW1lbnQucHJvdG90eXBlLmNsYXNzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMuZWx0LmNsYXNzTmFtZToodGhpcy5lbHQuY2xhc3NOYW1lPWUsdGhpcyl9LG8uRWxlbWVudC5wcm90b3R5cGUubW91c2VQcmVzc2VkPWZ1bmN0aW9uKHQpe3JldHVybiBvLkVsZW1lbnQuX2FkanVzdExpc3RlbmVyKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3BJbnN0Ll9zZXRQcm9wZXJ0eShcIm1vdXNlSXNQcmVzc2VkXCIsITApLHRoaXMuX3BJbnN0Ll9zZXRNb3VzZUJ1dHRvbihlKSx0LmNhbGwodGhpcyl9LHRoaXMpLHRoaXN9LG8uRWxlbWVudC5wcm90b3R5cGUuZG91YmxlQ2xpY2tlZD1mdW5jdGlvbihlKXtyZXR1cm4gby5FbGVtZW50Ll9hZGp1c3RMaXN0ZW5lcihcImRibGNsaWNrXCIsZSx0aGlzKSx0aGlzfSxvLkVsZW1lbnQucHJvdG90eXBlLm1vdXNlV2hlZWw9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uRWxlbWVudC5fYWRqdXN0TGlzdGVuZXIoXCJ3aGVlbFwiLGUsdGhpcyksdGhpc30sby5FbGVtZW50LnByb3RvdHlwZS5tb3VzZVJlbGVhc2VkPWZ1bmN0aW9uKGUpe3JldHVybiBvLkVsZW1lbnQuX2FkanVzdExpc3RlbmVyKFwibW91c2V1cFwiLGUsdGhpcyksdGhpc30sby5FbGVtZW50LnByb3RvdHlwZS5tb3VzZUNsaWNrZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uRWxlbWVudC5fYWRqdXN0TGlzdGVuZXIoXCJjbGlja1wiLGUsdGhpcyksdGhpc30sby5FbGVtZW50LnByb3RvdHlwZS5tb3VzZU1vdmVkPWZ1bmN0aW9uKGUpe3JldHVybiBvLkVsZW1lbnQuX2FkanVzdExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZSx0aGlzKSx0aGlzfSxvLkVsZW1lbnQucHJvdG90eXBlLm1vdXNlT3Zlcj1mdW5jdGlvbihlKXtyZXR1cm4gby5FbGVtZW50Ll9hZGp1c3RMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLGUsdGhpcyksdGhpc30sby5FbGVtZW50LnByb3RvdHlwZS5tb3VzZU91dD1mdW5jdGlvbihlKXtyZXR1cm4gby5FbGVtZW50Ll9hZGp1c3RMaXN0ZW5lcihcIm1vdXNlb3V0XCIsZSx0aGlzKSx0aGlzfSxvLkVsZW1lbnQucHJvdG90eXBlLnRvdWNoU3RhcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gby5FbGVtZW50Ll9hZGp1c3RMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLHRoaXMpLHRoaXN9LG8uRWxlbWVudC5wcm90b3R5cGUudG91Y2hNb3ZlZD1mdW5jdGlvbihlKXtyZXR1cm4gby5FbGVtZW50Ll9hZGp1c3RMaXN0ZW5lcihcInRvdWNobW92ZVwiLGUsdGhpcyksdGhpc30sby5FbGVtZW50LnByb3RvdHlwZS50b3VjaEVuZGVkPWZ1bmN0aW9uKGUpe3JldHVybiBvLkVsZW1lbnQuX2FkanVzdExpc3RlbmVyKFwidG91Y2hlbmRcIixlLHRoaXMpLHRoaXN9LG8uRWxlbWVudC5wcm90b3R5cGUuZHJhZ092ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uRWxlbWVudC5fYWRqdXN0TGlzdGVuZXIoXCJkcmFnb3ZlclwiLGUsdGhpcyksdGhpc30sby5FbGVtZW50LnByb3RvdHlwZS5kcmFnTGVhdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uRWxlbWVudC5fYWRqdXN0TGlzdGVuZXIoXCJkcmFnbGVhdmVcIixlLHRoaXMpLHRoaXN9LG8uRWxlbWVudC5wcm90b3R5cGUuZHJvcD1mdW5jdGlvbihuLGUpe2lmKHdpbmRvdy5GaWxlJiZ3aW5kb3cuRmlsZVJlYWRlciYmd2luZG93LkZpbGVMaXN0JiZ3aW5kb3cuQmxvYil7aWYoIXRoaXMuX2RyYWdEaXNhYmxlZCl7dGhpcy5fZHJhZ0Rpc2FibGVkPSEwO3ZhciB0PWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKX07dGhpcy5lbHQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsdCksdGhpcy5lbHQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdsZWF2ZVwiLHQpfXZvaWQgMCE9PWUmJm8uRWxlbWVudC5fYXR0YWNoTGlzdGVuZXIoXCJkcm9wXCIsZSx0aGlzKSxvLkVsZW1lbnQuX2F0dGFjaExpc3RlbmVyKFwiZHJvcFwiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTtmb3IodmFyIHQ9ZS5kYXRhVHJhbnNmZXIuZmlsZXMscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdO28uRmlsZS5fbG9hZChpLG4pfX0sdGhpcyl9ZWxzZSBjb25zb2xlLmxvZyhcIlRoZSBGaWxlIEFQSXMgYXJlIG5vdCBmdWxseSBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKTtyZXR1cm4gdGhpc30sby5FbGVtZW50Ll9hZGp1c3RMaXN0ZW5lcj1mdW5jdGlvbihlLHQscil7cmV0dXJuITE9PT10P28uRWxlbWVudC5fZGV0YWNoTGlzdGVuZXIoZSxyKTpvLkVsZW1lbnQuX2F0dGFjaExpc3RlbmVyKGUsdCxyKSx0aGlzfSxvLkVsZW1lbnQuX2F0dGFjaExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxyKXtyLl9ldmVudHNbZV0mJm8uRWxlbWVudC5fZGV0YWNoTGlzdGVuZXIoZSxyKTt2YXIgaT10LmJpbmQocik7ci5lbHQuYWRkRXZlbnRMaXN0ZW5lcihlLGksITEpLHIuX2V2ZW50c1tlXT1pfSxvLkVsZW1lbnQuX2RldGFjaExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5fZXZlbnRzW2VdO3QuZWx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxyLCExKSx0Ll9ldmVudHNbZV09bnVsbH0sby5FbGVtZW50LnByb3RvdHlwZS5fc2V0UHJvcGVydHk9ZnVuY3Rpb24oZSx0KXt0aGlzW2VdPXR9LHQuZXhwb3J0cz1vLkVsZW1lbnR9LHtcIi4vbWFpblwiOjIzfV0sMjU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgcz1lKFwiLi9tYWluXCIpLGg9ZShcIi4vY29uc3RhbnRzXCIpO3MuR3JhcGhpY3M9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49cnx8aC5QMkQ7dGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt2YXIgbz1pLl91c2VyTm9kZXx8ZG9jdW1lbnQuYm9keTtmb3IodmFyIGEgaW4gby5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcykscy5FbGVtZW50LmNhbGwodGhpcyx0aGlzLmNhbnZhcyxpLCExKSxzLnByb3RvdHlwZSl0aGlzW2FdfHwoXCJmdW5jdGlvblwiPT10eXBlb2Ygcy5wcm90b3R5cGVbYV0/dGhpc1thXT1zLnByb3RvdHlwZVthXS5iaW5kKHRoaXMpOnRoaXNbYV09cy5wcm90b3R5cGVbYV0pO3JldHVybiBzLnByb3RvdHlwZS5faW5pdGlhbGl6ZUluc3RhbmNlVmFyaWFibGVzLmFwcGx5KHRoaXMpLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMuX3BpeGVsRGVuc2l0eT1pLl9waXhlbERlbnNpdHksbj09PWguV0VCR0w/dGhpcy5fcmVuZGVyZXI9bmV3IHMuUmVuZGVyZXJHTCh0aGlzLmNhbnZhcyx0aGlzLCExKTp0aGlzLl9yZW5kZXJlcj1uZXcgcy5SZW5kZXJlcjJEKHRoaXMuY2FudmFzLHRoaXMsITEpLGkuX2VsZW1lbnRzLnB1c2godGhpcyksdGhpcy5fcmVuZGVyZXIucmVzaXplKGUsdCksdGhpcy5fcmVuZGVyZXIuX2FwcGx5RGVmYXVsdHMoKSx0aGlzfSxzLkdyYXBoaWNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMuRWxlbWVudC5wcm90b3R5cGUpLHMuR3JhcGhpY3MucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMuZWx0LnBhcmVudE5vZGUmJnRoaXMuZWx0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbHQpO3ZhciBlPXRoaXMuX3BJbnN0Ll9lbGVtZW50cy5pbmRleE9mKHRoaXMpO2Zvcih2YXIgdCBpbi0xIT09ZSYmdGhpcy5fcEluc3QuX2VsZW1lbnRzLnNwbGljZShlLDEpLHRoaXMuX2V2ZW50cyl0aGlzLmVsdC5yZW1vdmVFdmVudExpc3RlbmVyKHQsdGhpcy5fZXZlbnRzW3RdKX0sdC5leHBvcnRzPXMuR3JhcGhpY3N9LHtcIi4vY29uc3RhbnRzXCI6MTcsXCIuL21haW5cIjoyM31dLDI2OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZShcIi4vbWFpblwiKSx5PWUoXCIuLi9jb3JlL2NvbnN0YW50c1wiKTtmdW5jdGlvbiBzKGUpe3ZhciB0PTAscj0wO2lmKGUub2Zmc2V0UGFyZW50KWZvcig7dCs9ZS5vZmZzZXRMZWZ0LHIrPWUub2Zmc2V0VG9wLGU9ZS5vZmZzZXRQYXJlbnQ7KTtlbHNlIHQrPWUub2Zmc2V0TGVmdCxyKz1lLm9mZnNldFRvcDtyZXR1cm5bdCxyXX1pLlJlbmRlcmVyPWZ1bmN0aW9uKGUsdCxyKXtpLkVsZW1lbnQuY2FsbCh0aGlzLGUsdCksdGhpcy5jYW52YXM9ZSxyPyh0aGlzLl9pc01haW5DYW52YXM9ITAsdGhpcy5fcEluc3QuX3NldFByb3BlcnR5KFwiX2N1ckVsZW1lbnRcIix0aGlzKSx0aGlzLl9wSW5zdC5fc2V0UHJvcGVydHkoXCJjYW52YXNcIix0aGlzLmNhbnZhcyksdGhpcy5fcEluc3QuX3NldFByb3BlcnR5KFwid2lkdGhcIix0aGlzLndpZHRoKSx0aGlzLl9wSW5zdC5fc2V0UHJvcGVydHkoXCJoZWlnaHRcIix0aGlzLmhlaWdodCkpOih0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuX3N0eWxlcz1bXSksdGhpcy5fdGV4dFNpemU9MTIsdGhpcy5fdGV4dExlYWRpbmc9MTUsdGhpcy5fdGV4dEZvbnQ9XCJzYW5zLXNlcmlmXCIsdGhpcy5fdGV4dFN0eWxlPXkuTk9STUFMLHRoaXMuX3RleHRBc2NlbnQ9bnVsbCx0aGlzLl90ZXh0RGVzY2VudD1udWxsLHRoaXMuX3RleHRBbGlnbj15LkxFRlQsdGhpcy5fdGV4dEJhc2VsaW5lPXkuQkFTRUxJTkUsdGhpcy5fcmVjdE1vZGU9eS5DT1JORVIsdGhpcy5fZWxsaXBzZU1vZGU9eS5DRU5URVIsdGhpcy5fY3VydmVUaWdodG5lc3M9MCx0aGlzLl9pbWFnZU1vZGU9eS5DT1JORVIsdGhpcy5fdGludD1udWxsLHRoaXMuX2RvU3Ryb2tlPSEwLHRoaXMuX2RvRmlsbD0hMCx0aGlzLl9zdHJva2VTZXQ9ITEsdGhpcy5fZmlsbFNldD0hMX0saS5SZW5kZXJlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLkVsZW1lbnQucHJvdG90eXBlKSxpLlJlbmRlcmVyLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7cmV0dXJue3Byb3BlcnRpZXM6e19kb1N0cm9rZTp0aGlzLl9kb1N0cm9rZSxfc3Ryb2tlU2V0OnRoaXMuX3N0cm9rZVNldCxfZG9GaWxsOnRoaXMuX2RvRmlsbCxfZmlsbFNldDp0aGlzLl9maWxsU2V0LF90aW50OnRoaXMuX3RpbnQsX2ltYWdlTW9kZTp0aGlzLl9pbWFnZU1vZGUsX3JlY3RNb2RlOnRoaXMuX3JlY3RNb2RlLF9lbGxpcHNlTW9kZTp0aGlzLl9lbGxpcHNlTW9kZSxfdGV4dEZvbnQ6dGhpcy5fdGV4dEZvbnQsX3RleHRMZWFkaW5nOnRoaXMuX3RleHRMZWFkaW5nLF90ZXh0U2l6ZTp0aGlzLl90ZXh0U2l6ZSxfdGV4dEFsaWduOnRoaXMuX3RleHRBbGlnbixfdGV4dEJhc2VsaW5lOnRoaXMuX3RleHRCYXNlbGluZSxfdGV4dFN0eWxlOnRoaXMuX3RleHRTdHlsZX19fSxpLlJlbmRlcmVyLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oZSl7ZS5wcm9wZXJ0aWVzJiZPYmplY3QuYXNzaWduKHRoaXMsZS5wcm9wZXJ0aWVzKX0saS5SZW5kZXJlci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5lbHQud2lkdGg9ZSp0aGlzLl9wSW5zdC5fcGl4ZWxEZW5zaXR5LHRoaXMuZWx0LmhlaWdodD10KnRoaXMuX3BJbnN0Ll9waXhlbERlbnNpdHksdGhpcy5lbHQuc3R5bGUud2lkdGg9ZStcInB4XCIsdGhpcy5lbHQuc3R5bGUuaGVpZ2h0PXQrXCJweFwiLHRoaXMuX2lzTWFpbkNhbnZhcyYmKHRoaXMuX3BJbnN0Ll9zZXRQcm9wZXJ0eShcIndpZHRoXCIsdGhpcy53aWR0aCksdGhpcy5fcEluc3QuX3NldFByb3BlcnR5KFwiaGVpZ2h0XCIsdGhpcy5oZWlnaHQpKX0saS5SZW5kZXJlci5wcm90b3R5cGUudGV4dExlYWRpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/KHRoaXMuX3NldFByb3BlcnR5KFwiX3RleHRMZWFkaW5nXCIsZSksdGhpcy5fcEluc3QpOnRoaXMuX3RleHRMZWFkaW5nfSxpLlJlbmRlcmVyLnByb3RvdHlwZS50ZXh0U2l6ZT1mdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT8odGhpcy5fc2V0UHJvcGVydHkoXCJfdGV4dFNpemVcIixlKSx0aGlzLl9zZXRQcm9wZXJ0eShcIl90ZXh0TGVhZGluZ1wiLGUqeS5fREVGQVVMVF9MRUFETVVMVCksdGhpcy5fYXBwbHlUZXh0UHJvcGVydGllcygpKTp0aGlzLl90ZXh0U2l6ZX0saS5SZW5kZXJlci5wcm90b3R5cGUudGV4dFN0eWxlPWZ1bmN0aW9uKGUpe3JldHVybiBlPyhlIT09eS5OT1JNQUwmJmUhPT15LklUQUxJQyYmZSE9PXkuQk9MRCYmZSE9PXkuQk9MRElUQUxJQ3x8dGhpcy5fc2V0UHJvcGVydHkoXCJfdGV4dFN0eWxlXCIsZSksdGhpcy5fYXBwbHlUZXh0UHJvcGVydGllcygpKTp0aGlzLl90ZXh0U3R5bGV9LGkuUmVuZGVyZXIucHJvdG90eXBlLnRleHRBc2NlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3RleHRBc2NlbnQmJnRoaXMuX3VwZGF0ZVRleHRNZXRyaWNzKCksdGhpcy5fdGV4dEFzY2VudH0saS5SZW5kZXJlci5wcm90b3R5cGUudGV4dERlc2NlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3RleHREZXNjZW50JiZ0aGlzLl91cGRhdGVUZXh0TWV0cmljcygpLHRoaXMuX3RleHREZXNjZW50fSxpLlJlbmRlcmVyLnByb3RvdHlwZS50ZXh0QWxpZ249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09ZT8odGhpcy5fc2V0UHJvcGVydHkoXCJfdGV4dEFsaWduXCIsZSksdm9pZCAwIT09dCYmdGhpcy5fc2V0UHJvcGVydHkoXCJfdGV4dEJhc2VsaW5lXCIsdCksdGhpcy5fYXBwbHlUZXh0UHJvcGVydGllcygpKTp7aG9yaXpvbnRhbDp0aGlzLl90ZXh0QWxpZ24sdmVydGljYWw6dGhpcy5fdGV4dEJhc2VsaW5lfX0saS5SZW5kZXJlci5wcm90b3R5cGUudGV4dD1mdW5jdGlvbihlLHQscixpLG4pe3ZhciBvLGEscyxoLGwsdSxjLHAsZD10aGlzLl9wSW5zdCxmPU51bWJlci5NQVhfVkFMVUU7aWYoKHRoaXMuX2RvRmlsbHx8dGhpcy5fZG9TdHJva2UpJiZ2b2lkIDAhPT1lKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSYmKGU9ZS50b1N0cmluZygpKSxvPShlPWUucmVwbGFjZSgvKFxcdCkvZyxcIiAgXCIpKS5zcGxpdChcIlxcblwiKSx2b2lkIDAhPT1pKXtmb3Iocz1wPTA7czxvLmxlbmd0aDtzKyspZm9yKGw9XCJcIixjPW9bc10uc3BsaXQoXCIgXCIpLGE9MDthPGMubGVuZ3RoO2ErKyl1PWwrY1thXStcIiBcIixpPHRoaXMudGV4dFdpZHRoKHUpPyhsPWNbYV0rXCIgXCIscCs9ZC50ZXh0TGVhZGluZygpKTpsPXU7c3dpdGNoKHRoaXMuX3JlY3RNb2RlPT09eS5DRU5URVImJih0LT1pLzIsci09bi8yKSx0aGlzLl90ZXh0QWxpZ24pe2Nhc2UgeS5DRU5URVI6dCs9aS8yO2JyZWFrO2Nhc2UgeS5SSUdIVDp0Kz1pfXZhciBtPSExO2lmKHZvaWQgMCE9PW4pe3N3aXRjaCh0aGlzLl90ZXh0QmFzZWxpbmUpe2Nhc2UgeS5CT1RUT006cis9bi1wO2JyZWFrO2Nhc2UgeS5DRU5URVI6cis9KG4tcCkvMjticmVhaztjYXNlIHkuQkFTRUxJTkU6bT0hMCx0aGlzLl90ZXh0QmFzZWxpbmU9eS5UT1B9Zj1yK24tZC50ZXh0QXNjZW50KCl9Zm9yKHM9MDtzPG8ubGVuZ3RoO3MrKyl7Zm9yKGw9XCJcIixjPW9bc10uc3BsaXQoXCIgXCIpLGE9MDthPGMubGVuZ3RoO2ErKyl1PWwrY1thXStcIiBcIixpPHRoaXMudGV4dFdpZHRoKHUpJiYwPGwubGVuZ3RoPyh0aGlzLl9yZW5kZXJUZXh0KGQsbCx0LHIsZiksbD1jW2FdK1wiIFwiLHIrPWQudGV4dExlYWRpbmcoKSk6bD11O3RoaXMuX3JlbmRlclRleHQoZCxsLHQscixmKSxyKz1kLnRleHRMZWFkaW5nKCksbSYmKHRoaXMuX3RleHRCYXNlbGluZT15LkJBU0VMSU5FKX19ZWxzZXt2YXIgdj0wLGc9ZC50ZXh0QWxpZ24oKS52ZXJ0aWNhbDtmb3IoZz09PXkuQ0VOVEVSP3Y9KG8ubGVuZ3RoLTEpKmQudGV4dExlYWRpbmcoKS8yOmc9PT15LkJPVFRPTSYmKHY9KG8ubGVuZ3RoLTEpKmQudGV4dExlYWRpbmcoKSksaD0wO2g8by5sZW5ndGg7aCsrKXRoaXMuX3JlbmRlclRleHQoZCxvW2hdLHQsci12LGYpLHIrPWQudGV4dExlYWRpbmcoKX1yZXR1cm4gZH19LGkuUmVuZGVyZXIucHJvdG90eXBlLl9hcHBseURlZmF1bHRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGkuUmVuZGVyZXIucHJvdG90eXBlLl9pc09wZW5UeXBlPWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZihlPWV8fHRoaXMuX3RleHRGb250KSYmZS5mb250JiZlLmZvbnQuc3VwcG9ydGVkfSxpLlJlbmRlcmVyLnByb3RvdHlwZS5fdXBkYXRlVGV4dE1ldHJpY3M9ZnVuY3Rpb24oKXtpZih0aGlzLl9pc09wZW5UeXBlKCkpcmV0dXJuIHRoaXMuX3NldFByb3BlcnR5KFwiX3RleHRBc2NlbnRcIix0aGlzLl90ZXh0Rm9udC5fdGV4dEFzY2VudCgpKSx0aGlzLl9zZXRQcm9wZXJ0eShcIl90ZXh0RGVzY2VudFwiLHRoaXMuX3RleHRGb250Ll90ZXh0RGVzY2VudCgpKSx0aGlzO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2Uuc3R5bGUuZm9udEZhbWlseT10aGlzLl90ZXh0Rm9udCxlLnN0eWxlLmZvbnRTaXplPXRoaXMuX3RleHRTaXplK1wicHhcIixlLmlubmVySFRNTD1cIkFCQ2pncXxcIjt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Quc3R5bGUuZGlzcGxheT1cImlubGluZS1ibG9ja1wiLHQuc3R5bGUud2lkdGg9XCIxcHhcIix0LnN0eWxlLmhlaWdodD1cIjBweFwiO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5hcHBlbmRDaGlsZChlKSxyLmFwcGVuZENoaWxkKHQpLHIuc3R5bGUuaGVpZ2h0PVwiMHB4XCIsci5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQociksdC5zdHlsZS52ZXJ0aWNhbEFsaWduPVwiYmFzZWxpbmVcIjt2YXIgaT1zKHQpLG49cyhlKSxvPWlbMV0tblsxXTt0LnN0eWxlLnZlcnRpY2FsQWxpZ249XCJib3R0b21cIixpPXModCksbj1zKGUpO3ZhciBhPWlbMV0tblsxXS1vO3JldHVybiBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHIpLHRoaXMuX3NldFByb3BlcnR5KFwiX3RleHRBc2NlbnRcIixvKSx0aGlzLl9zZXRQcm9wZXJ0eShcIl90ZXh0RGVzY2VudFwiLGEpLHRoaXN9LHQuZXhwb3J0cz1pLlJlbmRlcmVyfSx7XCIuLi9jb3JlL2NvbnN0YW50c1wiOjE3LFwiLi9tYWluXCI6MjN9XSwyNzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBtPWUoXCIuL21haW5cIiksZj1lKFwiLi9jb25zdGFudHNcIiksYz1lKFwiLi4vaW1hZ2UvZmlsdGVyc1wiKTtlKFwiLi9wNS5SZW5kZXJlclwiKTt2YXIgdj1cInJnYmEoMCwwLDAsMClcIjttLlJlbmRlcmVyMkQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBtLlJlbmRlcmVyLmNhbGwodGhpcyxlLHQsciksdGhpcy5kcmF3aW5nQ29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5fcEluc3QuX3NldFByb3BlcnR5KFwiZHJhd2luZ0NvbnRleHRcIix0aGlzLmRyYXdpbmdDb250ZXh0KSx0aGlzfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobS5SZW5kZXJlci5wcm90b3R5cGUpLG0uUmVuZGVyZXIyRC5wcm90b3R5cGUuX2FwcGx5RGVmYXVsdHM9ZnVuY3Rpb24oKXt0aGlzLl9jYWNoZWRGaWxsU3R5bGU9dGhpcy5fY2FjaGVkU3Ryb2tlU3R5bGU9dm9pZCAwLHRoaXMuX3NldEZpbGwoZi5fREVGQVVMVF9GSUxMKSx0aGlzLl9zZXRTdHJva2UoZi5fREVGQVVMVF9TVFJPS0UpLHRoaXMuZHJhd2luZ0NvbnRleHQubGluZUNhcD1mLlJPVU5ELHRoaXMuZHJhd2luZ0NvbnRleHQuZm9udD1cIm5vcm1hbCAxMnB4IHNhbnMtc2VyaWZcIn0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXttLlJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLGUsdCksdGhpcy5kcmF3aW5nQ29udGV4dC5zY2FsZSh0aGlzLl9wSW5zdC5fcGl4ZWxEZW5zaXR5LHRoaXMuX3BJbnN0Ll9waXhlbERlbnNpdHkpfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLmJhY2tncm91bmQ9ZnVuY3Rpb24oKXtpZih0aGlzLmRyYXdpbmdDb250ZXh0LnNhdmUoKSx0aGlzLnJlc2V0TWF0cml4KCksYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBtLkltYWdlKXRoaXMuX3BJbnN0LmltYWdlKGFyZ3VtZW50c1swXSwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7ZWxzZXt2YXIgZT10aGlzLl9nZXRGaWxsKCksdD10aGlzLl9wSW5zdC5jb2xvci5hcHBseSh0aGlzLl9wSW5zdCxhcmd1bWVudHMpLnRvU3RyaW5nKCk7dGhpcy5fc2V0RmlsbCh0KSx0aGlzLmRyYXdpbmdDb250ZXh0LmZpbGxSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLl9zZXRGaWxsKGUpfXRoaXMuZHJhd2luZ0NvbnRleHQucmVzdG9yZSgpLHRoaXMuX3BJbnN0Ll9waXhlbHNEaXJ0eT0hMH0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuZHJhd2luZ0NvbnRleHQuc2F2ZSgpLHRoaXMucmVzZXRNYXRyaXgoKSx0aGlzLmRyYXdpbmdDb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5kcmF3aW5nQ29udGV4dC5yZXN0b3JlKCksdGhpcy5fcEluc3QuX3BpeGVsc0RpcnR5PSEwfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wSW5zdC5jb2xvci5hcHBseSh0aGlzLl9wSW5zdCxhcmd1bWVudHMpO3RoaXMuX3NldEZpbGwoZS50b1N0cmluZygpKX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5zdHJva2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wSW5zdC5jb2xvci5hcHBseSh0aGlzLl9wSW5zdCxhcmd1bWVudHMpO3RoaXMuX3NldFN0cm9rZShlLnRvU3RyaW5nKCkpfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLmltYWdlPWZ1bmN0aW9uKGUsdCxyLGksbixvLGEscyxoKXt2YXIgbDt0cnl7dGhpcy5fdGludCYmKG0uTWVkaWFFbGVtZW50JiZlIGluc3RhbmNlb2YgbS5NZWRpYUVsZW1lbnQmJmUubG9hZFBpeGVscygpLGUuY2FudmFzJiYobD10aGlzLl9nZXRUaW50ZWRJbWFnZUNhbnZhcyhlKSkpLGx8fChsPWUuY2FudmFzfHxlLmVsdCk7dmFyIHU9MTtlLndpZHRoJiYwPGUud2lkdGgmJih1PWwud2lkdGgvZS53aWR0aCksdGhpcy5kcmF3aW5nQ29udGV4dC5kcmF3SW1hZ2UobCx1KnQsdSpyLHUqaSx1Km4sbyxhLHMsaCl9Y2F0Y2goZSl7aWYoXCJOU19FUlJPUl9OT1RfQVZBSUxBQkxFXCIhPT1lLm5hbWUpdGhyb3cgZX10aGlzLl9wSW5zdC5fcGl4ZWxzRGlydHk9ITB9LG0uUmVuZGVyZXIyRC5wcm90b3R5cGUuX2dldFRpbnRlZEltYWdlQ2FudmFzPWZ1bmN0aW9uKGUpe2lmKCFlLmNhbnZhcylyZXR1cm4gZTt2YXIgdD1jLl90b1BpeGVscyhlLmNhbnZhcykscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Iud2lkdGg9ZS5jYW52YXMud2lkdGgsci5oZWlnaHQ9ZS5jYW52YXMuaGVpZ2h0O2Zvcih2YXIgaT1yLmdldENvbnRleHQoXCIyZFwiKSxuPWkuY3JlYXRlSW1hZ2VEYXRhKGUuY2FudmFzLndpZHRoLGUuY2FudmFzLmhlaWdodCksbz1uLmRhdGEsYT0wO2E8dC5sZW5ndGg7YSs9NCl7dmFyIHM9dFthXSxoPXRbYSsxXSxsPXRbYSsyXSx1PXRbYSszXTtvW2FdPXMqdGhpcy5fdGludFswXS8yNTUsb1thKzFdPWgqdGhpcy5fdGludFsxXS8yNTUsb1thKzJdPWwqdGhpcy5fdGludFsyXS8yNTUsb1thKzNdPXUqdGhpcy5fdGludFszXS8yNTV9cmV0dXJuIGkucHV0SW1hZ2VEYXRhKG4sMCwwKSxyfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLmJsZW5kTW9kZT1mdW5jdGlvbihlKXt0aGlzLmRyYXdpbmdDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1lfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLmJsZW5kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5kcmF3aW5nQ29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24sdD1hcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXSxyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwLGFyZ3VtZW50cy5sZW5ndGgtMSk7dGhpcy5kcmF3aW5nQ29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249dCx0aGlzLl9wSW5zdD90aGlzLl9wSW5zdC5jb3B5LmFwcGx5KHRoaXMuX3BJbnN0LHIpOnRoaXMuY29weS5hcHBseSh0aGlzLHIpLHRoaXMuZHJhd2luZ0NvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPWV9LG0uUmVuZGVyZXIyRC5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe3ZhciBlLHQscixpLG4sbyxhLHMsaDtpZig5PT09YXJndW1lbnRzLmxlbmd0aCllPWFyZ3VtZW50c1swXSx0PWFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXSxpPWFyZ3VtZW50c1szXSxuPWFyZ3VtZW50c1s0XSxvPWFyZ3VtZW50c1s1XSxhPWFyZ3VtZW50c1s2XSxzPWFyZ3VtZW50c1s3XSxoPWFyZ3VtZW50c1s4XTtlbHNle2lmKDghPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlNpZ25hdHVyZSBub3Qgc3VwcG9ydGVkXCIpO2U9dGhpcy5fcEluc3QsdD1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT1hcmd1bWVudHNbMl0sbj1hcmd1bWVudHNbM10sbz1hcmd1bWVudHNbNF0sYT1hcmd1bWVudHNbNV0scz1hcmd1bWVudHNbNl0saD1hcmd1bWVudHNbN119bS5SZW5kZXJlcjJELl9jb3B5SGVscGVyKHRoaXMsZSx0LHIsaSxuLG8sYSxzLGgpLHRoaXMuX3BJbnN0Ll9waXhlbHNEaXJ0eT0hMH0sbS5SZW5kZXJlcjJELl9jb3B5SGVscGVyPWZ1bmN0aW9uKGUsdCxyLGksbixvLGEscyxoLGwpe3QubG9hZFBpeGVscygpO3ZhciB1PXQuY2FudmFzLndpZHRoL3Qud2lkdGg7ZS5kcmF3aW5nQ29udGV4dC5kcmF3SW1hZ2UodC5jYW52YXMsdSpyLHUqaSx1Km4sdSpvLGEscyxoLGwpfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQscixpKXt2YXIgbixvLGE9dGhpcy5fcEluc3R8fHRoaXMscz1hLl9waXhlbERlbnNpdHksaD1lKnMsbD10KnM7aWYoMT09PXImJjE9PT1pKXJldHVybiBvPWEuX3BpeGVsc0RpcnR5PyhuPXRoaXMuZHJhd2luZ0NvbnRleHQuZ2V0SW1hZ2VEYXRhKGgsbCwxLDEpLmRhdGEsMCk6KG49YS5waXhlbHMsNCooaCtsKnRoaXMud2lkdGgqcykpLFtuW28rMF0sbltvKzFdLG5bbysyXSxuW28rM11dO3ZhciB1PU1hdGgubWluKHIsYS53aWR0aCksYz1NYXRoLm1pbihpLGEuaGVpZ2h0KSxwPXUqcyxkPWMqcyxmPW5ldyBtLkltYWdlKHUsYyk7cmV0dXJuIGYuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UodGhpcy5jYW52YXMsaCxsLHAsZCwwLDAsdSxjKSxmfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLmxvYWRQaXhlbHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wSW5zdHx8dGhpcztpZihlLl9waXhlbHNEaXJ0eSl7ZS5fcGl4ZWxzRGlydHk9ITE7dmFyIHQ9ZS5fcGl4ZWxEZW5zaXR5LHI9dGhpcy53aWR0aCp0LGk9dGhpcy5oZWlnaHQqdCxuPXRoaXMuZHJhd2luZ0NvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCxyLGkpO2UuX3NldFByb3BlcnR5KFwiaW1hZ2VEYXRhXCIsbiksZS5fc2V0UHJvcGVydHkoXCJwaXhlbHNcIixuLmRhdGEpfX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIpe2U9TWF0aC5mbG9vcihlKSx0PU1hdGguZmxvb3IodCk7dmFyIGk9dGhpcy5fcEluc3R8fHRoaXM7aWYociBpbnN0YW5jZW9mIG0uSW1hZ2UpdGhpcy5kcmF3aW5nQ29udGV4dC5zYXZlKCksdGhpcy5kcmF3aW5nQ29udGV4dC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHRoaXMuZHJhd2luZ0NvbnRleHQuc2NhbGUoaS5fcGl4ZWxEZW5zaXR5LGkuX3BpeGVsRGVuc2l0eSksdGhpcy5kcmF3aW5nQ29udGV4dC5kcmF3SW1hZ2Uoci5jYW52YXMsZSx0KSx0aGlzLmRyYXdpbmdDb250ZXh0LnJlc3RvcmUoKSxpLl9waXhlbHNEaXJ0eT0hMDtlbHNle3ZhciBuPTAsbz0wLGE9MCxzPTAsaD00Kih0KmkuX3BpeGVsRGVuc2l0eSoodGhpcy53aWR0aCppLl9waXhlbERlbnNpdHkpK2UqaS5fcGl4ZWxEZW5zaXR5KTtpZihpLmltYWdlRGF0YSYmIWkuX3BpeGVsc0RpcnR5fHxpLmxvYWRQaXhlbHMuY2FsbChpKSxcIm51bWJlclwiPT10eXBlb2YgciloPGkucGl4ZWxzLmxlbmd0aCYmKGE9bz1uPXIscz0yNTUpO2Vsc2UgaWYociBpbnN0YW5jZW9mIEFycmF5KXtpZihyLmxlbmd0aDw0KXRocm93IG5ldyBFcnJvcihcInBpeGVsIGFycmF5IG11c3QgYmUgb2YgdGhlIGZvcm0gW1IsIEcsIEIsIEFdXCIpO2g8aS5waXhlbHMubGVuZ3RoJiYobj1yWzBdLG89clsxXSxhPXJbMl0scz1yWzNdKX1lbHNlIHIgaW5zdGFuY2VvZiBtLkNvbG9yJiZoPGkucGl4ZWxzLmxlbmd0aCYmKG49ci5sZXZlbHNbMF0sbz1yLmxldmVsc1sxXSxhPXIubGV2ZWxzWzJdLHM9ci5sZXZlbHNbM10pO2Zvcih2YXIgbD0wO2w8aS5fcGl4ZWxEZW5zaXR5O2wrKylmb3IodmFyIHU9MDt1PGkuX3BpeGVsRGVuc2l0eTt1KyspaD00KigodCppLl9waXhlbERlbnNpdHkrdSkqdGhpcy53aWR0aCppLl9waXhlbERlbnNpdHkrKGUqaS5fcGl4ZWxEZW5zaXR5K2wpKSxpLnBpeGVsc1toXT1uLGkucGl4ZWxzW2grMV09byxpLnBpeGVsc1toKzJdPWEsaS5waXhlbHNbaCszXT1zfX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS51cGRhdGVQaXhlbHM9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpcy5fcEluc3R8fHRoaXMsbz1uLl9waXhlbERlbnNpdHk7dm9pZCAwPT09ZSYmdm9pZCAwPT09dCYmdm9pZCAwPT09ciYmdm9pZCAwPT09aSYmKHQ9ZT0wLHI9dGhpcy53aWR0aCxpPXRoaXMuaGVpZ2h0KSxyKj1vLGkqPW8sdGhpcy5kcmF3aW5nQ29udGV4dC5wdXRJbWFnZURhdGEobi5pbWFnZURhdGEsZSx0LDAsMCxyLGkpLDA9PT1lJiYwPT09dCYmcj09PXRoaXMud2lkdGgmJmk9PT10aGlzLmhlaWdodHx8KG4uX3BpeGVsc0RpcnR5PSEwKX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5fYWN1dGVBcmNUb0Jlemllcj1mdW5jdGlvbihlLHQpe3ZhciByPXQvMixpPU1hdGguY29zKHIpLG49TWF0aC5zaW4ociksbz0xL01hdGgudGFuKHIpLGE9ZStyLHM9TWF0aC5jb3MoYSksaD1NYXRoLnNpbihhKSxsPSg0LWkpLzMsdT1uKyhpLWwpKm87cmV0dXJue2F4Ok1hdGguY29zKGUpLGF5Ok1hdGguc2luKGUpLGJ4Omwqcyt1KmgsYnk6bCpoLXUqcyxjeDpsKnMtdSpoLGN5OmwqaCt1KnMsZHg6TWF0aC5jb3MoZSt0KSxkeTpNYXRoLnNpbihlK3QpfX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5hcmM9ZnVuY3Rpb24ocixpLGUsdCxuLG8sYSl7dmFyIHM9dGhpcy5kcmF3aW5nQ29udGV4dCxoPWUvMixsPXQvMix1PTAsYz1bXTtmb3Iocis9aCxpKz1sOzFlLTU8by1uOyl1PU1hdGgubWluKG8tbixmLkhBTEZfUEkpLGMucHVzaCh0aGlzLl9hY3V0ZUFyY1RvQmV6aWVyKG4sdSkpLG4rPXU7cmV0dXJuIHRoaXMuX2RvRmlsbCYmKHMuYmVnaW5QYXRoKCksYy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7MD09PXQmJnMubW92ZVRvKHIrZS5heCpoLGkrZS5heSpsKSxzLmJlemllckN1cnZlVG8ocitlLmJ4KmgsaStlLmJ5KmwscitlLmN4KmgsaStlLmN5KmwscitlLmR4KmgsaStlLmR5KmwpfSksYSE9PWYuUElFJiZudWxsIT1hfHxzLmxpbmVUbyhyLGkpLHMuY2xvc2VQYXRoKCkscy5maWxsKCkpLHRoaXMuX2RvU3Ryb2tlJiYocy5iZWdpblBhdGgoKSxjLmZvckVhY2goZnVuY3Rpb24oZSx0KXswPT09dCYmcy5tb3ZlVG8ocitlLmF4KmgsaStlLmF5KmwpLHMuYmV6aWVyQ3VydmVUbyhyK2UuYngqaCxpK2UuYnkqbCxyK2UuY3gqaCxpK2UuY3kqbCxyK2UuZHgqaCxpK2UuZHkqbCl9KSxhPT09Zi5QSUU/KHMubGluZVRvKHIsaSkscy5jbG9zZVBhdGgoKSk6YT09PWYuQ0hPUkQmJnMuY2xvc2VQYXRoKCkscy5zdHJva2UoKSksdGhpc30sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5lbGxpcHNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZHJhd2luZ0NvbnRleHQscj10aGlzLl9kb0ZpbGwsaT10aGlzLl9kb1N0cm9rZSxuPWVbMF0sbz1lWzFdLGE9ZVsyXSxzPWVbM107aWYociYmIWkpe2lmKHRoaXMuX2dldEZpbGwoKT09PXYpcmV0dXJuIHRoaXN9ZWxzZSBpZighciYmaSYmdGhpcy5fZ2V0U3Ryb2tlKCk9PT12KXJldHVybiB0aGlzO3ZhciBoPWEvMiouNTUyMjg0NzQ5OCxsPXMvMiouNTUyMjg0NzQ5OCx1PW4rYSxjPW8rcyxwPW4rYS8yLGQ9bytzLzI7dC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhuLGQpLHQuYmV6aWVyQ3VydmVUbyhuLGQtbCxwLWgsbyxwLG8pLHQuYmV6aWVyQ3VydmVUbyhwK2gsbyx1LGQtbCx1LGQpLHQuYmV6aWVyQ3VydmVUbyh1LGQrbCxwK2gsYyxwLGMpLHQuYmV6aWVyQ3VydmVUbyhwLWgsYyxuLGQrbCxuLGQpLHQuY2xvc2VQYXRoKCksciYmdC5maWxsKCksaSYmdC5zdHJva2UoKX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5saW5lPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXRoaXMuZHJhd2luZ0NvbnRleHQ7cmV0dXJuIHRoaXMuX2RvU3Ryb2tlJiYodGhpcy5fZ2V0U3Ryb2tlKCk9PT12fHwobi5saW5lV2lkdGglMj09MSYmbi50cmFuc2xhdGUoLjUsLjUpLG4uYmVnaW5QYXRoKCksbi5tb3ZlVG8oZSx0KSxuLmxpbmVUbyhyLGkpLG4uc3Ryb2tlKCksbi5saW5lV2lkdGglMj09MSYmbi50cmFuc2xhdGUoLS41LC0uNSkpKSx0aGlzfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLnBvaW50PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5kcmF3aW5nQ29udGV4dDtpZighdGhpcy5fZG9TdHJva2UpcmV0dXJuIHRoaXM7aWYodGhpcy5fZ2V0U3Ryb2tlKCk9PT12KXJldHVybiB0aGlzO3ZhciBpPXRoaXMuX2dldFN0cm9rZSgpLG49dGhpcy5fZ2V0RmlsbCgpO2U9TWF0aC5yb3VuZChlKSx0PU1hdGgucm91bmQodCksdGhpcy5fc2V0RmlsbChpKSwxPHIubGluZVdpZHRoPyhyLmJlZ2luUGF0aCgpLHIuYXJjKGUsdCxyLmxpbmVXaWR0aC8yLDAsZi5UV09fUEksITEpLHIuZmlsbCgpKTpyLmZpbGxSZWN0KGUsdCwxLDEpLHRoaXMuX3NldEZpbGwobil9LG0uUmVuZGVyZXIyRC5wcm90b3R5cGUucXVhZD1mdW5jdGlvbihlLHQscixpLG4sbyxhLHMpe3ZhciBoPXRoaXMuZHJhd2luZ0NvbnRleHQsbD10aGlzLl9kb0ZpbGwsdT10aGlzLl9kb1N0cm9rZTtpZihsJiYhdSl7aWYodGhpcy5fZ2V0RmlsbCgpPT09dilyZXR1cm4gdGhpc31lbHNlIGlmKCFsJiZ1JiZ0aGlzLl9nZXRTdHJva2UoKT09PXYpcmV0dXJuIHRoaXM7cmV0dXJuIGguYmVnaW5QYXRoKCksaC5tb3ZlVG8oZSx0KSxoLmxpbmVUbyhyLGkpLGgubGluZVRvKG4sbyksaC5saW5lVG8oYSxzKSxoLmNsb3NlUGF0aCgpLGwmJmguZmlsbCgpLHUmJmguc3Ryb2tlKCksdGhpc30sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0scj1lWzFdLGk9ZVsyXSxuPWVbM10sbz1lWzRdLGE9ZVs1XSxzPWVbNl0saD1lWzddLGw9dGhpcy5kcmF3aW5nQ29udGV4dCx1PXRoaXMuX2RvRmlsbCxjPXRoaXMuX2RvU3Ryb2tlO2lmKHUmJiFjKXtpZih0aGlzLl9nZXRGaWxsKCk9PT12KXJldHVybiB0aGlzfWVsc2UgaWYoIXUmJmMmJnRoaXMuX2dldFN0cm9rZSgpPT09dilyZXR1cm4gdGhpcztpZih0aGlzLl9kb1N0cm9rZSYmbC5saW5lV2lkdGglMj09MSYmbC50cmFuc2xhdGUoLjUsLjUpLGwuYmVnaW5QYXRoKCksdm9pZCAwPT09bylsLnJlY3QodCxyLGksbik7ZWxzZXt2b2lkIDA9PT1hJiYoYT1vKSx2b2lkIDA9PT1zJiYocz1hKSx2b2lkIDA9PT1oJiYoaD1zKTt2YXIgcD1pLzIsZD1uLzI7aTwyKm8mJihvPXApLG48MipvJiYobz1kKSxpPDIqYSYmKGE9cCksbjwyKmEmJihhPWQpLGk8MipzJiYocz1wKSxuPDIqcyYmKHM9ZCksaTwyKmgmJihoPXApLG48MipoJiYoaD1kKSxsLmJlZ2luUGF0aCgpLGwubW92ZVRvKHQrbyxyKSxsLmFyY1RvKHQraSxyLHQraSxyK24sYSksbC5hcmNUbyh0K2kscituLHQscituLHMpLGwuYXJjVG8odCxyK24sdCxyLGgpLGwuYXJjVG8odCxyLHQraSxyLG8pLGwuY2xvc2VQYXRoKCl9cmV0dXJuIHRoaXMuX2RvRmlsbCYmbC5maWxsKCksdGhpcy5fZG9TdHJva2UmJmwuc3Ryb2tlKCksdGhpcy5fZG9TdHJva2UmJmwubGluZVdpZHRoJTI9PTEmJmwudHJhbnNsYXRlKC0uNSwtLjUpLHRoaXN9LG0uUmVuZGVyZXIyRC5wcm90b3R5cGUudHJpYW5nbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kcmF3aW5nQ29udGV4dCxyPXRoaXMuX2RvRmlsbCxpPXRoaXMuX2RvU3Ryb2tlLG49ZVswXSxvPWVbMV0sYT1lWzJdLHM9ZVszXSxoPWVbNF0sbD1lWzVdO2lmKHImJiFpKXtpZih0aGlzLl9nZXRGaWxsKCk9PT12KXJldHVybiB0aGlzfWVsc2UgaWYoIXImJmkmJnRoaXMuX2dldFN0cm9rZSgpPT09dilyZXR1cm4gdGhpczt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKG4sbyksdC5saW5lVG8oYSxzKSx0LmxpbmVUbyhoLGwpLHQuY2xvc2VQYXRoKCksciYmdC5maWxsKCksaSYmdC5zdHJva2UoKX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5lbmRTaGFwZT1mdW5jdGlvbihlLHQscixpLG4sbyxhKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2RvU3Ryb2tlJiYhdGhpcy5fZG9GaWxsKXJldHVybiB0aGlzO3ZhciBzLGgsbCx1PWU9PT1mLkNMT1NFO3UmJiFvJiZ0LnB1c2godFswXSk7dmFyIGM9dC5sZW5ndGg7aWYoIXJ8fGEhPT1mLlBPTFlHT04mJm51bGwhPT1hKWlmKCFpfHxhIT09Zi5QT0xZR09OJiZudWxsIT09YSlpZighbnx8YSE9PWYuUE9MWUdPTiYmbnVsbCE9PWEpaWYoYT09PWYuUE9JTlRTKWZvcihoPTA7aDxjO2grKylzPXRbaF0sdGhpcy5fZG9TdHJva2UmJnRoaXMuX3BJbnN0LnN0cm9rZShzWzZdKSx0aGlzLl9wSW5zdC5wb2ludChzWzBdLHNbMV0pO2Vsc2UgaWYoYT09PWYuTElORVMpZm9yKGg9MDtoKzE8YztoKz0yKXM9dFtoXSx0aGlzLl9kb1N0cm9rZSYmdGhpcy5fcEluc3Quc3Ryb2tlKHRbaCsxXVs2XSksdGhpcy5fcEluc3QubGluZShzWzBdLHNbMV0sdFtoKzFdWzBdLHRbaCsxXVsxXSk7ZWxzZSBpZihhPT09Zi5UUklBTkdMRVMpZm9yKGg9MDtoKzI8YztoKz0zKXM9dFtoXSx0aGlzLmRyYXdpbmdDb250ZXh0LmJlZ2luUGF0aCgpLHRoaXMuZHJhd2luZ0NvbnRleHQubW92ZVRvKHNbMF0sc1sxXSksdGhpcy5kcmF3aW5nQ29udGV4dC5saW5lVG8odFtoKzFdWzBdLHRbaCsxXVsxXSksdGhpcy5kcmF3aW5nQ29udGV4dC5saW5lVG8odFtoKzJdWzBdLHRbaCsyXVsxXSksdGhpcy5kcmF3aW5nQ29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLl9kb0ZpbGwmJih0aGlzLl9wSW5zdC5maWxsKHRbaCsyXVs1XSksdGhpcy5kcmF3aW5nQ29udGV4dC5maWxsKCkpLHRoaXMuX2RvU3Ryb2tlJiYodGhpcy5fcEluc3Quc3Ryb2tlKHRbaCsyXVs2XSksdGhpcy5kcmF3aW5nQ29udGV4dC5zdHJva2UoKSk7ZWxzZSBpZihhPT09Zi5UUklBTkdMRV9TVFJJUClmb3IoaD0wO2grMTxjO2grKylzPXRbaF0sdGhpcy5kcmF3aW5nQ29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmRyYXdpbmdDb250ZXh0Lm1vdmVUbyh0W2grMV1bMF0sdFtoKzFdWzFdKSx0aGlzLmRyYXdpbmdDb250ZXh0LmxpbmVUbyhzWzBdLHNbMV0pLHRoaXMuX2RvU3Ryb2tlJiZ0aGlzLl9wSW5zdC5zdHJva2UodFtoKzFdWzZdKSx0aGlzLl9kb0ZpbGwmJnRoaXMuX3BJbnN0LmZpbGwodFtoKzFdWzVdKSxoKzI8YyYmKHRoaXMuZHJhd2luZ0NvbnRleHQubGluZVRvKHRbaCsyXVswXSx0W2grMl1bMV0pLHRoaXMuX2RvU3Ryb2tlJiZ0aGlzLl9wSW5zdC5zdHJva2UodFtoKzJdWzZdKSx0aGlzLl9kb0ZpbGwmJnRoaXMuX3BJbnN0LmZpbGwodFtoKzJdWzVdKSksdGhpcy5fZG9GaWxsU3Ryb2tlQ2xvc2UodSk7ZWxzZSBpZihhPT09Zi5UUklBTkdMRV9GQU4pe2lmKDI8Yyl7Zm9yKHRoaXMuZHJhd2luZ0NvbnRleHQuYmVnaW5QYXRoKCksaD0yO2g8YztoKyspcz10W2hdLHRoaXMuZHJhd2luZ0NvbnRleHQubW92ZVRvKHRbMF1bMF0sdFswXVsxXSksdGhpcy5kcmF3aW5nQ29udGV4dC5saW5lVG8odFtoLTFdWzBdLHRbaC0xXVsxXSksdGhpcy5kcmF3aW5nQ29udGV4dC5saW5lVG8oc1swXSxzWzFdKSx0aGlzLmRyYXdpbmdDb250ZXh0LmxpbmVUbyh0WzBdWzBdLHRbMF1bMV0pLGg8Yy0xJiYodGhpcy5fZG9GaWxsJiZzWzVdIT09dFtoKzFdWzVdfHx0aGlzLl9kb1N0cm9rZSYmc1s2XSE9PXRbaCsxXVs2XSkmJih0aGlzLl9kb0ZpbGwmJih0aGlzLl9wSW5zdC5maWxsKHNbNV0pLHRoaXMuZHJhd2luZ0NvbnRleHQuZmlsbCgpLHRoaXMuX3BJbnN0LmZpbGwodFtoKzFdWzVdKSksdGhpcy5fZG9TdHJva2UmJih0aGlzLl9wSW5zdC5zdHJva2Uoc1s2XSksdGhpcy5kcmF3aW5nQ29udGV4dC5zdHJva2UoKSx0aGlzLl9wSW5zdC5zdHJva2UodFtoKzFdWzZdKSksdGhpcy5kcmF3aW5nQ29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLmRyYXdpbmdDb250ZXh0LmJlZ2luUGF0aCgpKTt0aGlzLl9kb0ZpbGxTdHJva2VDbG9zZSh1KX19ZWxzZSBpZihhPT09Zi5RVUFEUylmb3IoaD0wO2grMzxjO2grPTQpe2ZvcihzPXRbaF0sdGhpcy5kcmF3aW5nQ29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmRyYXdpbmdDb250ZXh0Lm1vdmVUbyhzWzBdLHNbMV0pLGw9MTtsPDQ7bCsrKXRoaXMuZHJhd2luZ0NvbnRleHQubGluZVRvKHRbaCtsXVswXSx0W2grbF1bMV0pO3RoaXMuZHJhd2luZ0NvbnRleHQubGluZVRvKHNbMF0sc1sxXSksdGhpcy5fZG9GaWxsJiZ0aGlzLl9wSW5zdC5maWxsKHRbaCszXVs1XSksdGhpcy5fZG9TdHJva2UmJnRoaXMuX3BJbnN0LnN0cm9rZSh0W2grM11bNl0pLHRoaXMuX2RvRmlsbFN0cm9rZUNsb3NlKHUpfWVsc2UgaWYoYT09PWYuUVVBRF9TVFJJUCl7aWYoMzxjKWZvcihoPTA7aCsxPGM7aCs9MilzPXRbaF0sdGhpcy5kcmF3aW5nQ29udGV4dC5iZWdpblBhdGgoKSxoKzM8Yz8odGhpcy5kcmF3aW5nQ29udGV4dC5tb3ZlVG8odFtoKzJdWzBdLHRbaCsyXVsxXSksdGhpcy5kcmF3aW5nQ29udGV4dC5saW5lVG8oc1swXSxzWzFdKSx0aGlzLmRyYXdpbmdDb250ZXh0LmxpbmVUbyh0W2grMV1bMF0sdFtoKzFdWzFdKSx0aGlzLmRyYXdpbmdDb250ZXh0LmxpbmVUbyh0W2grM11bMF0sdFtoKzNdWzFdKSx0aGlzLl9kb0ZpbGwmJnRoaXMuX3BJbnN0LmZpbGwodFtoKzNdWzVdKSx0aGlzLl9kb1N0cm9rZSYmdGhpcy5fcEluc3Quc3Ryb2tlKHRbaCszXVs2XSkpOih0aGlzLmRyYXdpbmdDb250ZXh0Lm1vdmVUbyhzWzBdLHNbMV0pLHRoaXMuZHJhd2luZ0NvbnRleHQubGluZVRvKHRbaCsxXVswXSx0W2grMV1bMV0pKSx0aGlzLl9kb0ZpbGxTdHJva2VDbG9zZSh1KX1lbHNle2Zvcih0aGlzLmRyYXdpbmdDb250ZXh0LmJlZ2luUGF0aCgpLHRoaXMuZHJhd2luZ0NvbnRleHQubW92ZVRvKHRbMF1bMF0sdFswXVsxXSksaD0xO2g8YztoKyspKHM9dFtoXSkuaXNWZXJ0JiYocy5tb3ZlVG8/dGhpcy5kcmF3aW5nQ29udGV4dC5tb3ZlVG8oc1swXSxzWzFdKTp0aGlzLmRyYXdpbmdDb250ZXh0LmxpbmVUbyhzWzBdLHNbMV0pKTt0aGlzLl9kb0ZpbGxTdHJva2VDbG9zZSh1KX1lbHNle2Zvcih0aGlzLmRyYXdpbmdDb250ZXh0LmJlZ2luUGF0aCgpLGg9MDtoPGM7aCsrKXRbaF0uaXNWZXJ0P3RbaF0ubW92ZVRvP3RoaXMuZHJhd2luZ0NvbnRleHQubW92ZVRvKFswXSx0W2hdWzFdKTp0aGlzLmRyYXdpbmdDb250ZXh0LmxpbmVUbyh0W2hdWzBdLHRbaF1bMV0pOnRoaXMuZHJhd2luZ0NvbnRleHQucXVhZHJhdGljQ3VydmVUbyh0W2hdWzBdLHRbaF1bMV0sdFtoXVsyXSx0W2hdWzNdKTt0aGlzLl9kb0ZpbGxTdHJva2VDbG9zZSh1KX1lbHNle2Zvcih0aGlzLmRyYXdpbmdDb250ZXh0LmJlZ2luUGF0aCgpLGg9MDtoPGM7aCsrKXRbaF0uaXNWZXJ0P3RbaF0ubW92ZVRvP3RoaXMuZHJhd2luZ0NvbnRleHQubW92ZVRvKHRbaF1bMF0sdFtoXVsxXSk6dGhpcy5kcmF3aW5nQ29udGV4dC5saW5lVG8odFtoXVswXSx0W2hdWzFdKTp0aGlzLmRyYXdpbmdDb250ZXh0LmJlemllckN1cnZlVG8odFtoXVswXSx0W2hdWzFdLHRbaF1bMl0sdFtoXVszXSx0W2hdWzRdLHRbaF1bNV0pO3RoaXMuX2RvRmlsbFN0cm9rZUNsb3NlKHUpfWVsc2UgaWYoMzxjKXt2YXIgcD1bXSxkPTEtdGhpcy5fY3VydmVUaWdodG5lc3M7Zm9yKHRoaXMuZHJhd2luZ0NvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5kcmF3aW5nQ29udGV4dC5tb3ZlVG8odFsxXVswXSx0WzFdWzFdKSxoPTE7aCsyPGM7aCsrKXM9dFtoXSxwWzBdPVtzWzBdLHNbMV1dLHBbMV09W3NbMF0rKGQqdFtoKzFdWzBdLWQqdFtoLTFdWzBdKS82LHNbMV0rKGQqdFtoKzFdWzFdLWQqdFtoLTFdWzFdKS82XSxwWzJdPVt0W2grMV1bMF0rKGQqdFtoXVswXS1kKnRbaCsyXVswXSkvNix0W2grMV1bMV0rKGQqdFtoXVsxXS1kKnRbaCsyXVsxXSkvNl0scFszXT1bdFtoKzFdWzBdLHRbaCsxXVsxXV0sdGhpcy5kcmF3aW5nQ29udGV4dC5iZXppZXJDdXJ2ZVRvKHBbMV1bMF0scFsxXVsxXSxwWzJdWzBdLHBbMl1bMV0scFszXVswXSxwWzNdWzFdKTt1JiZ0aGlzLmRyYXdpbmdDb250ZXh0LmxpbmVUbyh0W2grMV1bMF0sdFtoKzFdWzFdKSx0aGlzLl9kb0ZpbGxTdHJva2VDbG9zZSh1KX1yZXR1cm4gbz1uPWk9cj0hMSx1JiZ0LnBvcCgpLHRoaXMuX3BJbnN0Ll9waXhlbHNEaXJ0eT0hMCx0aGlzfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLm5vU21vb3RoPWZ1bmN0aW9uKCl7cmV0dXJuXCJpbWFnZVNtb290aGluZ0VuYWJsZWRcImluIHRoaXMuZHJhd2luZ0NvbnRleHQmJih0aGlzLmRyYXdpbmdDb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZD0hMSksdGhpc30sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5zbW9vdGg9ZnVuY3Rpb24oKXtyZXR1cm5cImltYWdlU21vb3RoaW5nRW5hYmxlZFwiaW4gdGhpcy5kcmF3aW5nQ29udGV4dCYmKHRoaXMuZHJhd2luZ0NvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkPSEwKSx0aGlzfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLnN0cm9rZUNhcD1mdW5jdGlvbihlKXtyZXR1cm4gZSE9PWYuUk9VTkQmJmUhPT1mLlNRVUFSRSYmZSE9PWYuUFJPSkVDVHx8KHRoaXMuZHJhd2luZ0NvbnRleHQubGluZUNhcD1lKSx0aGlzfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLnN0cm9rZUpvaW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1mLlJPVU5EJiZlIT09Zi5CRVZFTCYmZSE9PWYuTUlURVJ8fCh0aGlzLmRyYXdpbmdDb250ZXh0LmxpbmVKb2luPWUpLHRoaXN9LG0uUmVuZGVyZXIyRC5wcm90b3R5cGUuc3Ryb2tlV2VpZ2h0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRyYXdpbmdDb250ZXh0LmxpbmVXaWR0aD12b2lkIDA9PT1lfHwwPT09ZT8xZS00OmUsdGhpc30sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5fZ2V0RmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRGaWxsU3R5bGV8fCh0aGlzLl9jYWNoZWRGaWxsU3R5bGU9dGhpcy5kcmF3aW5nQ29udGV4dC5maWxsU3R5bGUpLHRoaXMuX2NhY2hlZEZpbGxTdHlsZX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5fc2V0RmlsbD1mdW5jdGlvbihlKXtlIT09dGhpcy5fY2FjaGVkRmlsbFN0eWxlJiYodGhpcy5kcmF3aW5nQ29udGV4dC5maWxsU3R5bGU9ZSx0aGlzLl9jYWNoZWRGaWxsU3R5bGU9ZSl9LG0uUmVuZGVyZXIyRC5wcm90b3R5cGUuX2dldFN0cm9rZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRTdHJva2VTdHlsZXx8KHRoaXMuX2NhY2hlZFN0cm9rZVN0eWxlPXRoaXMuZHJhd2luZ0NvbnRleHQuc3Ryb2tlU3R5bGUpLHRoaXMuX2NhY2hlZFN0cm9rZVN0eWxlfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLl9zZXRTdHJva2U9ZnVuY3Rpb24oZSl7ZSE9PXRoaXMuX2NhY2hlZFN0cm9rZVN0eWxlJiYodGhpcy5kcmF3aW5nQ29udGV4dC5zdHJva2VTdHlsZT1lLHRoaXMuX2NhY2hlZFN0cm9rZVN0eWxlPWUpfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLmJlemllcj1mdW5jdGlvbihlLHQscixpLG4sbyxhLHMpe3JldHVybiB0aGlzLl9wSW5zdC5iZWdpblNoYXBlKCksdGhpcy5fcEluc3QudmVydGV4KGUsdCksdGhpcy5fcEluc3QuYmV6aWVyVmVydGV4KHIsaSxuLG8sYSxzKSx0aGlzLl9wSW5zdC5lbmRTaGFwZSgpLHRoaXN9LG0uUmVuZGVyZXIyRC5wcm90b3R5cGUuY3VydmU9ZnVuY3Rpb24oZSx0LHIsaSxuLG8sYSxzKXtyZXR1cm4gdGhpcy5fcEluc3QuYmVnaW5TaGFwZSgpLHRoaXMuX3BJbnN0LmN1cnZlVmVydGV4KGUsdCksdGhpcy5fcEluc3QuY3VydmVWZXJ0ZXgocixpKSx0aGlzLl9wSW5zdC5jdXJ2ZVZlcnRleChuLG8pLHRoaXMuX3BJbnN0LmN1cnZlVmVydGV4KGEscyksdGhpcy5fcEluc3QuZW5kU2hhcGUoKSx0aGlzfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLl9kb0ZpbGxTdHJva2VDbG9zZT1mdW5jdGlvbihlKXtlJiZ0aGlzLmRyYXdpbmdDb250ZXh0LmNsb3NlUGF0aCgpLHRoaXMuX2RvRmlsbCYmdGhpcy5kcmF3aW5nQ29udGV4dC5maWxsKCksdGhpcy5fZG9TdHJva2UmJnRoaXMuZHJhd2luZ0NvbnRleHQuc3Ryb2tlKCksdGhpcy5fcEluc3QuX3BpeGVsc0RpcnR5PSEwfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLmFwcGx5TWF0cml4PWZ1bmN0aW9uKGUsdCxyLGksbixvKXt0aGlzLmRyYXdpbmdDb250ZXh0LnRyYW5zZm9ybShlLHQscixpLG4sbyl9LG0uUmVuZGVyZXIyRC5wcm90b3R5cGUucmVzZXRNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmF3aW5nQ29udGV4dC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHRoaXMuZHJhd2luZ0NvbnRleHQuc2NhbGUodGhpcy5fcEluc3QuX3BpeGVsRGVuc2l0eSx0aGlzLl9wSW5zdC5fcGl4ZWxEZW5zaXR5KSx0aGlzfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihlKXt0aGlzLmRyYXdpbmdDb250ZXh0LnJvdGF0ZShlKX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRyYXdpbmdDb250ZXh0LnNjYWxlKGUsdCksdGhpc30sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5zaGVhclg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZHJhd2luZ0NvbnRleHQudHJhbnNmb3JtKDEsMCxNYXRoLnRhbihlKSwxLDAsMCksdGhpc30sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5zaGVhclk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZHJhd2luZ0NvbnRleHQudHJhbnNmb3JtKDEsTWF0aC50YW4oZSksMCwxLDAsMCksdGhpc30sbS5SZW5kZXJlcjJELnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIG0uVmVjdG9yJiYodD1lLnksZT1lLngpLHRoaXMuZHJhd2luZ0NvbnRleHQudHJhbnNsYXRlKGUsdCksdGhpc30sbS5SZW5kZXJlcjJELnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIG87dm9pZCAwIT09aSYmdm9pZCAwIT09biYmdGhpcy5kcmF3aW5nQ29udGV4dC50ZXh0QmFzZWxpbmU9PT1mLkJBU0VMSU5FJiYobz0hMCx0aGlzLmRyYXdpbmdDb250ZXh0LnRleHRCYXNlbGluZT1mLlRPUCk7dmFyIGE9bS5SZW5kZXJlci5wcm90b3R5cGUudGV4dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG8mJih0aGlzLmRyYXdpbmdDb250ZXh0LnRleHRCYXNlbGluZT1mLkJBU0VMSU5FKSxhfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLl9yZW5kZXJUZXh0PWZ1bmN0aW9uKGUsdCxyLGksbil7aWYoIShuPD1pKSlyZXR1cm4gZS5wdXNoKCksdGhpcy5faXNPcGVuVHlwZSgpP3RoaXMuX3RleHRGb250Ll9yZW5kZXJQYXRoKHQscixpLHtyZW5kZXJlcjp0aGlzfSk6KHRoaXMuX2RvU3Ryb2tlJiZ0aGlzLl9zdHJva2VTZXQmJnRoaXMuZHJhd2luZ0NvbnRleHQuc3Ryb2tlVGV4dCh0LHIsaSksdGhpcy5fZG9GaWxsJiYodGhpcy5fZmlsbFNldHx8dGhpcy5fc2V0RmlsbChmLl9ERUZBVUxUX1RFWFRfRklMTCksdGhpcy5kcmF3aW5nQ29udGV4dC5maWxsVGV4dCh0LHIsaSkpKSxlLnBvcCgpLHRoaXMuX3BJbnN0Ll9waXhlbHNEaXJ0eT0hMCxlfSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLnRleHRXaWR0aD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faXNPcGVuVHlwZSgpP3RoaXMuX3RleHRGb250Ll90ZXh0V2lkdGgoZSx0aGlzLl90ZXh0U2l6ZSk6dGhpcy5kcmF3aW5nQ29udGV4dC5tZWFzdXJlVGV4dChlKS53aWR0aH0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5fYXBwbHlUZXh0UHJvcGVydGllcz1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5fcEluc3Q7cmV0dXJuIHRoaXMuX3NldFByb3BlcnR5KFwiX3RleHRBc2NlbnRcIixudWxsKSx0aGlzLl9zZXRQcm9wZXJ0eShcIl90ZXh0RGVzY2VudFwiLG51bGwpLGU9dGhpcy5fdGV4dEZvbnQsdGhpcy5faXNPcGVuVHlwZSgpJiYoZT10aGlzLl90ZXh0Rm9udC5mb250LmZhbWlseU5hbWUsdGhpcy5fc2V0UHJvcGVydHkoXCJfdGV4dFN0eWxlXCIsdGhpcy5fdGV4dEZvbnQuZm9udC5zdHlsZU5hbWUpKSx0aGlzLmRyYXdpbmdDb250ZXh0LmZvbnQ9KHRoaXMuX3RleHRTdHlsZXx8XCJub3JtYWxcIikrXCIgXCIrKHRoaXMuX3RleHRTaXplfHwxMikrXCJweCBcIisoZXx8XCJzYW5zLXNlcmlmXCIpLHRoaXMuZHJhd2luZ0NvbnRleHQudGV4dEFsaWduPXRoaXMuX3RleHRBbGlnbix0aGlzLl90ZXh0QmFzZWxpbmU9PT1mLkNFTlRFUj90aGlzLmRyYXdpbmdDb250ZXh0LnRleHRCYXNlbGluZT1mLl9DVFhfTUlERExFOnRoaXMuZHJhd2luZ0NvbnRleHQudGV4dEJhc2VsaW5lPXRoaXMuX3RleHRCYXNlbGluZSx0fSxtLlJlbmRlcmVyMkQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmF3aW5nQ29udGV4dC5zYXZlKCksbS5SZW5kZXJlci5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzKX0sbS5SZW5kZXJlcjJELnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oZSl7dGhpcy5kcmF3aW5nQ29udGV4dC5yZXN0b3JlKCksdGhpcy5fY2FjaGVkRmlsbFN0eWxlPXRoaXMuZHJhd2luZ0NvbnRleHQuZmlsbFN0eWxlLHRoaXMuX2NhY2hlZFN0cm9rZVN0eWxlPXRoaXMuZHJhd2luZ0NvbnRleHQuc3Ryb2tlU3R5bGUsbS5SZW5kZXJlci5wcm90b3R5cGUucG9wLmNhbGwodGhpcyxlKX0sdC5leHBvcnRzPW0uUmVuZGVyZXIyRH0se1wiLi4vaW1hZ2UvZmlsdGVyc1wiOjQxLFwiLi9jb25zdGFudHNcIjoxNyxcIi4vbWFpblwiOjIzLFwiLi9wNS5SZW5kZXJlclwiOjI2fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgcz1lKFwiLi9tYWluXCIpLGg9ZShcIi4vY29uc3RhbnRzXCIpO2UoXCIuL3A1LkdyYXBoaWNzXCIpLGUoXCIuL3A1LlJlbmRlcmVyMkRcIiksZShcIi4uL3dlYmdsL3A1LlJlbmRlcmVyR0xcIik7dmFyIGw9XCJkZWZhdWx0Q2FudmFzMFwiO3MucHJvdG90eXBlLmNyZWF0ZUNhbnZhcz1mdW5jdGlvbihlLHQscil7cy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiY3JlYXRlQ2FudmFzXCIsYXJndW1lbnRzKTt2YXIgaSxuPXJ8fGguUDJEO2lmKG49PT1oLldFQkdMKXtpZihpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGwpKXtpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSk7dmFyIG89dGhpcy5fcmVuZGVyZXI7dGhpcy5fZWxlbWVudHM9dGhpcy5fZWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09b30pfShpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpLmlkPWwsaS5jbGFzc0xpc3QuYWRkKFwicDVDYW52YXNcIil9ZWxzZSBpZih0aGlzLl9kZWZhdWx0R3JhcGhpY3NDcmVhdGVkKWk9dGhpcy5jYW52YXM7ZWxzZXtpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Zm9yKHZhciBhPTA7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWZhdWx0Q2FudmFzXCIrYSk7KWErKztsPVwiZGVmYXVsdENhbnZhc1wiK2EsaS5pZD1sLGkuY2xhc3NMaXN0LmFkZChcInA1Q2FudmFzXCIpfXJldHVybiB0aGlzLl9zZXR1cERvbmV8fChpLmRhdGFzZXQuaGlkZGVuPSEwLGkuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiKSx0aGlzLl91c2VyTm9kZT90aGlzLl91c2VyTm9kZS5hcHBlbmRDaGlsZChpKTpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkpLG49PT1oLldFQkdMPyh0aGlzLl9zZXRQcm9wZXJ0eShcIl9yZW5kZXJlclwiLG5ldyBzLlJlbmRlcmVyR0woaSx0aGlzLCEwKSksdGhpcy5fZWxlbWVudHMucHVzaCh0aGlzLl9yZW5kZXJlcikpOnRoaXMuX2RlZmF1bHRHcmFwaGljc0NyZWF0ZWR8fCh0aGlzLl9zZXRQcm9wZXJ0eShcIl9yZW5kZXJlclwiLG5ldyBzLlJlbmRlcmVyMkQoaSx0aGlzLCEwKSksdGhpcy5fZGVmYXVsdEdyYXBoaWNzQ3JlYXRlZD0hMCx0aGlzLl9lbGVtZW50cy5wdXNoKHRoaXMuX3JlbmRlcmVyKSksdGhpcy5fcmVuZGVyZXIucmVzaXplKGUsdCksdGhpcy5fcmVuZGVyZXIuX2FwcGx5RGVmYXVsdHMoKSx0aGlzLl9yZW5kZXJlcn0scy5wcm90b3R5cGUucmVzaXplQ2FudmFzPWZ1bmN0aW9uKGUsdCxyKXtpZihzLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJyZXNpemVDYW52YXNcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyKXt2YXIgaT17fTtmb3IodmFyIG4gaW4gdGhpcy5kcmF3aW5nQ29udGV4dCl7dmFyIG89dGhpcy5kcmF3aW5nQ29udGV4dFtuXTtcIm9iamVjdFwiIT10eXBlb2YgbyYmXCJmdW5jdGlvblwiIT10eXBlb2YgbyYmKGlbbl09byl9Zm9yKHZhciBhIGluIHRoaXMuX3JlbmRlcmVyLnJlc2l6ZShlLHQpLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LGkpdHJ5e3RoaXMuZHJhd2luZ0NvbnRleHRbYV09aVthXX1jYXRjaChlKXt9cnx8dGhpcy5yZWRyYXcoKX19LHMucHJvdG90eXBlLm5vQ2FudmFzPWZ1bmN0aW9uKCl7dGhpcy5jYW52YXMmJnRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpfSxzLnByb3RvdHlwZS5jcmVhdGVHcmFwaGljcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImNyZWF0ZUdyYXBoaWNzXCIsYXJndW1lbnRzKSxuZXcgcy5HcmFwaGljcyhlLHQscix0aGlzKX0scy5wcm90b3R5cGUuYmxlbmRNb2RlPWZ1bmN0aW9uKGUpe2lmKHMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImJsZW5kTW9kZVwiLGFyZ3VtZW50cyksZSE9PWguQkxFTkQmJmUhPT1oLkRBUktFU1QmJmUhPT1oLkxJR0hURVNUJiZlIT09aC5ESUZGRVJFTkNFJiZlIT09aC5NVUxUSVBMWSYmZSE9PWguRVhDTFVTSU9OJiZlIT09aC5TQ1JFRU4mJmUhPT1oLlJFUExBQ0UmJmUhPT1oLk9WRVJMQVkmJmUhPT1oLkhBUkRfTElHSFQmJmUhPT1oLlNPRlRfTElHSFQmJmUhPT1oLkRPREdFJiZlIT09aC5CVVJOJiZlIT09aC5BREQmJmUhPT1oLk5PUk1BTCl0aHJvdyBuZXcgRXJyb3IoXCJNb2RlIFwiK2UrXCIgbm90IHJlY29nbml6ZWQuXCIpO3RoaXMuX3JlbmRlcmVyLmJsZW5kTW9kZShlKX0sdC5leHBvcnRzPXN9LHtcIi4uL3dlYmdsL3A1LlJlbmRlcmVyR0xcIjo3MyxcIi4vY29uc3RhbnRzXCI6MTcsXCIuL21haW5cIjoyMyxcIi4vcDUuR3JhcGhpY3NcIjoyNSxcIi4vcDUuUmVuZGVyZXIyRFwiOjI3fV0sMjk6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbD1lKFwiLi4vbWFpblwiKSx1PWUoXCIuLi9jb25zdGFudHNcIiksYz1lKFwiLi4vaGVscGVyc1wiKTtlKFwiLi4vZXJyb3JfaGVscGVyc1wiKSxsLnByb3RvdHlwZS5hcmM9ZnVuY3Rpb24oZSx0LHIsaSxuLG8sYSxzKXtpZihsLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJhcmNcIixhcmd1bWVudHMpLCF0aGlzLl9yZW5kZXJlci5fZG9TdHJva2UmJiF0aGlzLl9yZW5kZXJlci5fZG9GaWxsKXJldHVybiB0aGlzO2ZvcihuPXRoaXMuX3RvUmFkaWFucyhuKSxvPXRoaXMuX3RvUmFkaWFucyhvKTtuPDA7KW4rPXUuVFdPX1BJO2Zvcig7bzwwOylvKz11LlRXT19QSTt2b2lkIDAhPT1uJiZ2b2lkIDAhPT1vJiYoby50b0ZpeGVkKDEwKT09PW4udG9GaXhlZCgxMCl8fE1hdGguYWJzKG8tbik9PT11LlRXT19QST8obiU9dS5UV09fUEksbyU9dS5UV09fUEksbis9dS5UV09fUEkpOk1hdGguYWJzKG8tbik+dS5UV09fUEkmJihuJT11LlRXT19QSSxvJT11LlRXT19QSSxvKz11LlRXT19QSSkpLG48PXUuSEFMRl9QST9uPU1hdGguYXRhbihyL2kqTWF0aC50YW4obikpOm4+dS5IQUxGX1BJJiZuPD0zKnUuSEFMRl9QSSYmKG49TWF0aC5hdGFuKHIvaSpNYXRoLnRhbihuKSkrdS5QSSksbzw9dS5IQUxGX1BJP289TWF0aC5hdGFuKHIvaSpNYXRoLnRhbihvKSk6bz51LkhBTEZfUEkmJm88PTMqdS5IQUxGX1BJJiYobz1NYXRoLmF0YW4oci9pKk1hdGgudGFuKG8pKSt1LlBJKSxvPG4mJihvKz11LlRXT19QSSkscj1NYXRoLmFicyhyKSxpPU1hdGguYWJzKGkpO3ZhciBoPWMubW9kZUFkanVzdChlLHQscixpLHRoaXMuX3JlbmRlcmVyLl9lbGxpcHNlTW9kZSk7cmV0dXJuIHRoaXMuX3JlbmRlcmVyLmFyYyhoLngsaC55LGgudyxoLmgsbixvLGEscyksdGhpc30sbC5wcm90b3R5cGUuZWxsaXBzZT1mdW5jdGlvbihlLHQscixpLG4pe2lmKGwuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImVsbGlwc2VcIixhcmd1bWVudHMpLCF0aGlzLl9yZW5kZXJlci5fZG9TdHJva2UmJiF0aGlzLl9yZW5kZXJlci5fZG9GaWxsKXJldHVybiB0aGlzO3I8MCYmKHI9TWF0aC5hYnMocikpLHZvaWQgMD09PWk/aT1yOmk8MCYmKGk9TWF0aC5hYnMoaSkpO3ZhciBvPWMubW9kZUFkanVzdChlLHQscixpLHRoaXMuX3JlbmRlcmVyLl9lbGxpcHNlTW9kZSk7cmV0dXJuIHRoaXMuX3JlbmRlcmVyLmVsbGlwc2UoW28ueCxvLnksby53LG8uaCxuXSksdGhpc30sbC5wcm90b3R5cGUuY2lyY2xlPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDAsMik7ZS5wdXNoKDIqYXJndW1lbnRzWzJdKSxlLnB1c2goMiphcmd1bWVudHNbMl0pLHRoaXMuZWxsaXBzZS5hcHBseSh0aGlzLGUpfSxsLnByb3RvdHlwZS5saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIGwuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImxpbmVcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLl9kb1N0cm9rZSYmdGhpcy5fcmVuZGVyZXIubGluZS5hcHBseSh0aGlzLl9yZW5kZXJlcixhcmd1bWVudHMpLHRoaXN9LGwucHJvdG90eXBlLnBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIGwuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInBvaW50XCIsYXJndW1lbnRzKSx0aGlzLl9yZW5kZXJlci5fZG9TdHJva2UmJnRoaXMuX3JlbmRlcmVyLnBvaW50LmFwcGx5KHRoaXMuX3JlbmRlcmVyLGFyZ3VtZW50cyksdGhpc30sbC5wcm90b3R5cGUucXVhZD1mdW5jdGlvbigpe3JldHVybiBsLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJxdWFkXCIsYXJndW1lbnRzKSwodGhpcy5fcmVuZGVyZXIuX2RvU3Ryb2tlfHx0aGlzLl9yZW5kZXJlci5fZG9GaWxsKSYmdGhpcy5fcmVuZGVyZXIucXVhZC5hcHBseSh0aGlzLl9yZW5kZXJlcixhcmd1bWVudHMpLHRoaXN9LGwucHJvdG90eXBlLnJlY3Q9ZnVuY3Rpb24oKXtpZihsLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJyZWN0XCIsYXJndW1lbnRzKSx0aGlzLl9yZW5kZXJlci5fZG9TdHJva2V8fHRoaXMuX3JlbmRlcmVyLl9kb0ZpbGwpe2Zvcih2YXIgZT1jLm1vZGVBZGp1c3QoYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0sYXJndW1lbnRzWzNdLHRoaXMuX3JlbmRlcmVyLl9yZWN0TW9kZSksdD1bZS54LGUueSxlLncsZS5oXSxyPTQ7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTt0aGlzLl9yZW5kZXJlci5yZWN0KHQpfXJldHVybiB0aGlzfSxsLnByb3RvdHlwZS5zcXVhcmU9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCwzKTtlLnB1c2goYXJndW1lbnRzWzJdKSxlPWUuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyw0KSksdGhpcy5yZWN0LmFwcGx5KHRoaXMsZSl9LGwucHJvdG90eXBlLnRyaWFuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuIGwuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInRyaWFuZ2xlXCIsYXJndW1lbnRzKSwodGhpcy5fcmVuZGVyZXIuX2RvU3Ryb2tlfHx0aGlzLl9yZW5kZXJlci5fZG9GaWxsKSYmdGhpcy5fcmVuZGVyZXIudHJpYW5nbGUoYXJndW1lbnRzKSx0aGlzfSx0LmV4cG9ydHM9bH0se1wiLi4vY29uc3RhbnRzXCI6MTcsXCIuLi9lcnJvcl9oZWxwZXJzXCI6MTksXCIuLi9oZWxwZXJzXCI6MjAsXCIuLi9tYWluXCI6MjN9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9tYWluXCIpLG49ZShcIi4uL2NvbnN0YW50c1wiKTtpLnByb3RvdHlwZS5lbGxpcHNlTW9kZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiZWxsaXBzZU1vZGVcIixhcmd1bWVudHMpLGUhPT1uLkNPUk5FUiYmZSE9PW4uQ09STkVSUyYmZSE9PW4uUkFESVVTJiZlIT09bi5DRU5URVJ8fCh0aGlzLl9yZW5kZXJlci5fZWxsaXBzZU1vZGU9ZSksdGhpc30saS5wcm90b3R5cGUubm9TbW9vdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyZXIubm9TbW9vdGgoKSx0aGlzfSxpLnByb3RvdHlwZS5yZWN0TW9kZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwicmVjdE1vZGVcIixhcmd1bWVudHMpLGUhPT1uLkNPUk5FUiYmZSE9PW4uQ09STkVSUyYmZSE9PW4uUkFESVVTJiZlIT09bi5DRU5URVJ8fCh0aGlzLl9yZW5kZXJlci5fcmVjdE1vZGU9ZSksdGhpc30saS5wcm90b3R5cGUuc21vb3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmVyLnNtb290aCgpLHRoaXN9LGkucHJvdG90eXBlLnN0cm9rZUNhcD1mdW5jdGlvbihlKXtyZXR1cm4gaS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwic3Ryb2tlQ2FwXCIsYXJndW1lbnRzKSxlIT09bi5ST1VORCYmZSE9PW4uU1FVQVJFJiZlIT09bi5QUk9KRUNUfHx0aGlzLl9yZW5kZXJlci5zdHJva2VDYXAoZSksdGhpc30saS5wcm90b3R5cGUuc3Ryb2tlSm9pbj1mdW5jdGlvbihlKXtyZXR1cm4gaS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwic3Ryb2tlSm9pblwiLGFyZ3VtZW50cyksZSE9PW4uUk9VTkQmJmUhPT1uLkJFVkVMJiZlIT09bi5NSVRFUnx8dGhpcy5fcmVuZGVyZXIuc3Ryb2tlSm9pbihlKSx0aGlzfSxpLnByb3RvdHlwZS5zdHJva2VXZWlnaHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInN0cm9rZVdlaWdodFwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIuc3Ryb2tlV2VpZ2h0KGUpLHRoaXN9LHQuZXhwb3J0cz1pfSx7XCIuLi9jb25zdGFudHNcIjoxNyxcIi4uL21haW5cIjoyM31dLDMxOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9ZShcIi4uL21haW5cIik7ZShcIi4uL2Vycm9yX2hlbHBlcnNcIikscy5wcm90b3R5cGUuYmV6aWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImJlemllclwiLGFyZ3VtZW50cyksKHRoaXMuX3JlbmRlcmVyLl9kb1N0cm9rZXx8dGhpcy5fcmVuZGVyZXIuX2RvRmlsbCkmJnRoaXMuX3JlbmRlcmVyLmJlemllci5hcHBseSh0aGlzLl9yZW5kZXJlcixhcmd1bWVudHMpLHRoaXN9LHMucHJvdG90eXBlLmJlemllckRldGFpbD1mdW5jdGlvbihlKXtyZXR1cm4gcy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiYmV6aWVyRGV0YWlsXCIsYXJndW1lbnRzKSx0aGlzLl9iZXppZXJEZXRhaWw9ZSx0aGlzfSxzLnByb3RvdHlwZS5iZXppZXJQb2ludD1mdW5jdGlvbihlLHQscixpLG4pe3MuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImJlemllclBvaW50XCIsYXJndW1lbnRzKTt2YXIgbz0xLW47cmV0dXJuIE1hdGgucG93KG8sMykqZSszKk1hdGgucG93KG8sMikqbip0KzMqbypNYXRoLnBvdyhuLDIpKnIrTWF0aC5wb3cobiwzKSppfSxzLnByb3RvdHlwZS5iZXppZXJUYW5nZW50PWZ1bmN0aW9uKGUsdCxyLGksbil7cy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiYmV6aWVyVGFuZ2VudFwiLGFyZ3VtZW50cyk7dmFyIG89MS1uO3JldHVybiAzKmkqTWF0aC5wb3cobiwyKS0zKnIqTWF0aC5wb3cobiwyKSs2KnIqbypuLTYqdCpvKm4rMyp0Kk1hdGgucG93KG8sMiktMyplKk1hdGgucG93KG8sMil9LHMucHJvdG90eXBlLmN1cnZlPWZ1bmN0aW9uKCl7cmV0dXJuIHMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImN1cnZlXCIsYXJndW1lbnRzKSx0aGlzLl9yZW5kZXJlci5fZG9TdHJva2UmJnRoaXMuX3JlbmRlcmVyLmN1cnZlLmFwcGx5KHRoaXMuX3JlbmRlcmVyLGFyZ3VtZW50cyksdGhpc30scy5wcm90b3R5cGUuY3VydmVEZXRhaWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImN1cnZlRGV0YWlsXCIsYXJndW1lbnRzKSx0aGlzLl9jdXJ2ZURldGFpbD1lPDM/MzplLHRoaXN9LHMucHJvdG90eXBlLmN1cnZlVGlnaHRuZXNzPWZ1bmN0aW9uKGUpe3JldHVybiBzLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJjdXJ2ZVRpZ2h0bmVzc1wiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIuX2N1cnZlVGlnaHRuZXNzPWUsdGhpc30scy5wcm90b3R5cGUuY3VydmVQb2ludD1mdW5jdGlvbihlLHQscixpLG4pe3MuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImN1cnZlUG9pbnRcIixhcmd1bWVudHMpO3ZhciBvPW4qbipuLGE9bipuO3JldHVybiBlKigtLjUqbythLS41Km4pK3QqKDEuNSpvLTIuNSphKzEpK3IqKC0xLjUqbysyKmErLjUqbikraSooLjUqby0uNSphKX0scy5wcm90b3R5cGUuY3VydmVUYW5nZW50PWZ1bmN0aW9uKGUsdCxyLGksbil7cy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiY3VydmVUYW5nZW50XCIsYXJndW1lbnRzKTt2YXIgbz1uKm47cmV0dXJuIGUqKC0zKm8vMisyKm4tLjUpK3QqKDkqby8yLTUqbikrciooLTkqby8yKzQqbisuNSkraSooMypvLzItbil9LHQuZXhwb3J0cz1zfSx7XCIuLi9lcnJvcl9oZWxwZXJzXCI6MTksXCIuLi9tYWluXCI6MjN9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9tYWluXCIpLG49ZShcIi4uL2NvbnN0YW50c1wiKSxvPW51bGwsYT1bXSxzPVtdLGg9ITEsbD0hMSx1PSExLGM9ITEscD0hMDtpLnByb3RvdHlwZS5iZWdpbkNvbnRvdXI9ZnVuY3Rpb24oKXtyZXR1cm4gcz1bXSxjPSEwLHRoaXN9LGkucHJvdG90eXBlLmJlZ2luU2hhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImJlZ2luU2hhcGVcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLmlzUDNEP3RoaXMuX3JlbmRlcmVyLmJlZ2luU2hhcGUuYXBwbHkodGhpcy5fcmVuZGVyZXIsYXJndW1lbnRzKToobz1lPT09bi5QT0lOVFN8fGU9PT1uLkxJTkVTfHxlPT09bi5UUklBTkdMRVN8fGU9PT1uLlRSSUFOR0xFX0ZBTnx8ZT09PW4uVFJJQU5HTEVfU1RSSVB8fGU9PT1uLlFVQURTfHxlPT09bi5RVUFEX1NUUklQP2U6bnVsbCxhPVtdLHM9W10pLHRoaXN9LGkucHJvdG90eXBlLmJlemllclZlcnRleD1mdW5jdGlvbigpe2lmKGkuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImJlemllclZlcnRleFwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIuaXNQM0QpdGhpcy5fcmVuZGVyZXIuYmV6aWVyVmVydGV4LmFwcGx5KHRoaXMuX3JlbmRlcmVyLGFyZ3VtZW50cyk7ZWxzZSBpZigwPT09YS5sZW5ndGgpaS5fZnJpZW5kbHlFcnJvcihcInZlcnRleCgpIG11c3QgYmUgdXNlZCBvbmNlIGJlZm9yZSBjYWxsaW5nIGJlemllclZlcnRleCgpXCIsXCJiZXppZXJWZXJ0ZXhcIik7ZWxzZXtoPSEwO2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtlLmlzVmVydD0hMSxjP3MucHVzaChlKTphLnB1c2goZSl9cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLmN1cnZlVmVydGV4PWZ1bmN0aW9uKCl7cmV0dXJuIGkuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImN1cnZlVmVydGV4XCIsYXJndW1lbnRzKSx0aGlzLl9yZW5kZXJlci5pc1AzRD90aGlzLl9yZW5kZXJlci5jdXJ2ZVZlcnRleC5hcHBseSh0aGlzLl9yZW5kZXJlcixhcmd1bWVudHMpOihsPSEwLHRoaXMudmVydGV4KGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMV0pKSx0aGlzfSxpLnByb3RvdHlwZS5lbmRDb250b3VyPWZ1bmN0aW9uKCl7dmFyIGU9c1swXS5zbGljZSgpO2UuaXNWZXJ0PXNbMF0uaXNWZXJ0LGUubW92ZVRvPSExLHMucHVzaChlKSxwJiYoYS5wdXNoKGFbMF0pLHA9ITEpO2Zvcih2YXIgdD0wO3Q8cy5sZW5ndGg7dCsrKWEucHVzaChzW3RdKTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUuZW5kU2hhcGU9ZnVuY3Rpb24oZSl7aWYoaS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiZW5kU2hhcGVcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLmlzUDNEKXRoaXMuX3JlbmRlcmVyLmVuZFNoYXBlKGUsbCxoLHUsYyxvKTtlbHNle2lmKDA9PT1hLmxlbmd0aClyZXR1cm4gdGhpcztpZighdGhpcy5fcmVuZGVyZXIuX2RvU3Ryb2tlJiYhdGhpcy5fcmVuZGVyZXIuX2RvRmlsbClyZXR1cm4gdGhpczt2YXIgdD1lPT09bi5DTE9TRTt0JiYhYyYmYS5wdXNoKGFbMF0pLHRoaXMuX3JlbmRlcmVyLmVuZFNoYXBlKGUsYSxsLGgsdSxjLG8pLHA9IShjPXU9aD1sPSExKSx0JiZhLnBvcCgpfXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS5xdWFkcmF0aWNWZXJ0ZXg9ZnVuY3Rpb24oKXtpZihpLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJxdWFkcmF0aWNWZXJ0ZXhcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLmlzUDNEKXRoaXMuX3JlbmRlcmVyLnF1YWRyYXRpY1ZlcnRleC5hcHBseSh0aGlzLl9yZW5kZXJlcixhcmd1bWVudHMpO2Vsc2V7aWYodGhpcy5fY29udG91ckluaXRlZCl7dmFyIGU9e307cmV0dXJuIGUueD1hcmd1bWVudHNbMF0sZS55PWFyZ3VtZW50c1sxXSxlLngzPWFyZ3VtZW50c1syXSxlLnkzPWFyZ3VtZW50c1szXSxlLnR5cGU9bi5RVUFEUkFUSUMsdGhpcy5fY29udG91clZlcnRpY2VzLnB1c2goZSksdGhpc31pZigwPGEubGVuZ3RoKXt1PSEwO2Zvcih2YXIgdD1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTt0LmlzVmVydD0hMSxjP3MucHVzaCh0KTphLnB1c2godCl9ZWxzZSBpLl9mcmllbmRseUVycm9yKFwidmVydGV4KCkgbXVzdCBiZSB1c2VkIG9uY2UgYmVmb3JlIGNhbGxpbmcgcXVhZHJhdGljVmVydGV4KClcIixcInF1YWRyYXRpY1ZlcnRleFwiKX1yZXR1cm4gdGhpc30saS5wcm90b3R5cGUudmVydGV4PWZ1bmN0aW9uKGUsdCxyLGksbil7aWYodGhpcy5fcmVuZGVyZXIuaXNQM0QpdGhpcy5fcmVuZGVyZXIudmVydGV4LmFwcGx5KHRoaXMuX3JlbmRlcmVyLGFyZ3VtZW50cyk7ZWxzZXt2YXIgbz1bXTtvLmlzVmVydD0hMCxvWzBdPWUsb1sxXT10LG9bMl09MCxvWzNdPTAsb1s0XT0wLG9bNV09dGhpcy5fcmVuZGVyZXIuX2dldEZpbGwoKSxvWzZdPXRoaXMuX3JlbmRlcmVyLl9nZXRTdHJva2UoKSxyJiYoby5tb3ZlVG89ciksYz8oMD09PXMubGVuZ3RoJiYoby5tb3ZlVG89ITApLHMucHVzaChvKSk6YS5wdXNoKG8pfXJldHVybiB0aGlzfSx0LmV4cG9ydHM9aX0se1wiLi4vY29uc3RhbnRzXCI6MTcsXCIuLi9tYWluXCI6MjN9XSwzMzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSx0KXt3aW5kb3cuc2V0VGltZW91dChlLDFlMy82MCl9LFwidW5kZWZpbmVkXCI9PXR5cGVvZiBVaW50OENsYW1wZWRBcnJheXx8VWludDhDbGFtcGVkQXJyYXkucHJvdG90eXBlLnNsaWNlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoVWludDhDbGFtcGVkQXJyYXkucHJvdG90eXBlLFwic2xpY2VcIix7dmFsdWU6QXJyYXkucHJvdG90eXBlLnNsaWNlLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExfSksZnVuY3Rpb24oKXtpZighT2JqZWN0LmFzc2lnbil7dmFyIHM9T2JqZWN0LmtleXMsZT1PYmplY3QuZGVmaW5lUHJvcGVydHksaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2woKSxyPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsbD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbCh0LGUpfX07ZShPYmplY3QsXCJhc3NpZ25cIix7dmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3RcIik7dmFyIHIsaSxuLG8sYT1PYmplY3QoZSk7Zm9yKHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7KytyKWZvcihpPU9iamVjdChhcmd1bWVudHNbcl0pLG89cyhpKSxoJiZPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiZvLnB1c2guYXBwbHkobyxPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGkpLmZpbHRlcihsKGkpKSksbj0wO248by5sZW5ndGg7KytuKWFbb1tuXV09aVtvW25dXTtyZXR1cm4gYX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KX19KCl9LHt9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuL21haW5cIik7aS5wcm90b3R5cGUubm9Mb29wPWZ1bmN0aW9uKCl7dGhpcy5fbG9vcD0hMX0saS5wcm90b3R5cGUubG9vcD1mdW5jdGlvbigpe3RoaXMuX2xvb3A9ITAsdGhpcy5fZHJhdygpfSxpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7dGhpcy5fc3R5bGVzLnB1c2goe3Byb3BzOntfY29sb3JNb2RlOnRoaXMuX2NvbG9yTW9kZX0scmVuZGVyZXI6dGhpcy5fcmVuZGVyZXIucHVzaCgpfSl9LGkucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3N0eWxlcy5wb3AoKTtlPyh0aGlzLl9yZW5kZXJlci5wb3AoZS5yZW5kZXJlciksT2JqZWN0LmFzc2lnbih0aGlzLGUucHJvcHMpKTpjb25zb2xlLndhcm4oXCJwb3AoKSB3YXMgY2FsbGVkIHdpdGhvdXQgbWF0Y2hpbmcgcHVzaCgpXCIpfSxpLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oZSl7dmFyIHQ9cGFyc2VJbnQoZSk7KGlzTmFOKHQpfHx0PDEpJiYodD0xKTt2YXIgcj10aGlzLl9pc0dsb2JhbD93aW5kb3c6dGhpcyxpPXIuc2V0dXAsbj1yLmRyYXc7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbil7dm9pZCAwPT09aSYmci5zY2FsZShyLl9waXhlbERlbnNpdHksci5fcGl4ZWxEZW5zaXR5KTtmb3IodmFyIG89ZnVuY3Rpb24oZSl7ZS5jYWxsKHIpfSxhPTA7YTx0O2ErKylyLnJlc2V0TWF0cml4KCksci5fcmVuZGVyZXIuaXNQM0QmJnIuX3JlbmRlcmVyLl91cGRhdGUoKSxyLl9zZXRQcm9wZXJ0eShcImZyYW1lQ291bnRcIixyLmZyYW1lQ291bnQrMSksci5fcmVnaXN0ZXJlZE1ldGhvZHMucHJlLmZvckVhY2gobyksbigpLHIuX3JlZ2lzdGVyZWRNZXRob2RzLnBvc3QuZm9yRWFjaChvKX19LHQuZXhwb3J0cz1pfSx7XCIuL21haW5cIjoyM31dLDM1OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZShcIi4vbWFpblwiKTtvLnByb3RvdHlwZS5hcHBseU1hdHJpeD1mdW5jdGlvbihlLHQscixpLG4sbyl7cmV0dXJuIHRoaXMuX3JlbmRlcmVyLmFwcGx5TWF0cml4KGUsdCxyLGksbixvKSx0aGlzfSxvLnByb3RvdHlwZS5wb3BNYXRyaXg9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJwb3BNYXRyaXgoKSBub3QgdXNlZCwgc2VlIHBvcCgpXCIpfSxvLnByb3RvdHlwZS5wcmludE1hdHJpeD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcInByaW50TWF0cml4KCkgbm90IGltcGxlbWVudGVkXCIpfSxvLnByb3RvdHlwZS5wdXNoTWF0cml4PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwicHVzaE1hdHJpeCgpIG5vdCB1c2VkLCBzZWUgcHVzaCgpXCIpfSxvLnByb3RvdHlwZS5yZXNldE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJlci5yZXNldE1hdHJpeCgpLHRoaXN9LG8ucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBvLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJyb3RhdGVcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLnJvdGF0ZSh0aGlzLl90b1JhZGlhbnMoZSksdCksdGhpc30sby5wcm90b3R5cGUucm90YXRlWD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYXNzZXJ0M2QoXCJyb3RhdGVYXCIpLG8uX3ZhbGlkYXRlUGFyYW1ldGVycyhcInJvdGF0ZVhcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLnJvdGF0ZVgodGhpcy5fdG9SYWRpYW5zKGUpKSx0aGlzfSxvLnByb3RvdHlwZS5yb3RhdGVZPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9hc3NlcnQzZChcInJvdGF0ZVlcIiksby5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwicm90YXRlWVwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIucm90YXRlWSh0aGlzLl90b1JhZGlhbnMoZSkpLHRoaXN9LG8ucHJvdG90eXBlLnJvdGF0ZVo9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2Fzc2VydDNkKFwicm90YXRlWlwiKSxvLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJyb3RhdGVaXCIsYXJndW1lbnRzKSx0aGlzLl9yZW5kZXJlci5yb3RhdGVaKHRoaXMuX3RvUmFkaWFucyhlKSksdGhpc30sby5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSx0LHIpe2lmKG8uX3ZhbGlkYXRlUGFyYW1ldGVycyhcInNjYWxlXCIsYXJndW1lbnRzKSxlIGluc3RhbmNlb2Ygby5WZWN0b3Ipe3ZhciBpPWU7ZT1pLngsdD1pLnkscj1pLnp9ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXkpe3ZhciBuPWU7ZT1uWzBdLHQ9blsxXSxyPW5bMl18fDF9cmV0dXJuIGlzTmFOKHQpP3Q9cj1lOmlzTmFOKHIpJiYocj0xKSx0aGlzLl9yZW5kZXJlci5zY2FsZS5jYWxsKHRoaXMuX3JlbmRlcmVyLGUsdCxyKSx0aGlzfSxvLnByb3RvdHlwZS5zaGVhclg9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uX3ZhbGlkYXRlUGFyYW1ldGVycyhcInNoZWFyWFwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIuc2hlYXJYKHRoaXMuX3RvUmFkaWFucyhlKSksdGhpc30sby5wcm90b3R5cGUuc2hlYXJZPWZ1bmN0aW9uKGUpe3JldHVybiBvLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJzaGVhcllcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLnNoZWFyWSh0aGlzLl90b1JhZGlhbnMoZSkpLHRoaXN9LG8ucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIG8uX3ZhbGlkYXRlUGFyYW1ldGVycyhcInRyYW5zbGF0ZVwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIuaXNQM0Q/dGhpcy5fcmVuZGVyZXIudHJhbnNsYXRlKGUsdCxyKTp0aGlzLl9yZW5kZXJlci50cmFuc2xhdGUoZSx0KSx0aGlzfSx0LmV4cG9ydHM9b30se1wiLi9tYWluXCI6MjN9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoXCIuLi9jb3JlL21haW5cIik7bi5wcm90b3R5cGUuY3JlYXRlU3RyaW5nRGljdD1mdW5jdGlvbihlLHQpe3JldHVybiBuLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJjcmVhdGVTdHJpbmdEaWN0XCIsYXJndW1lbnRzKSxuZXcgbi5TdHJpbmdEaWN0KGUsdCl9LG4ucHJvdG90eXBlLmNyZWF0ZU51bWJlckRpY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiY3JlYXRlTnVtYmVyRGljdFwiLGFyZ3VtZW50cyksbmV3IG4uTnVtYmVyRGljdChlLHQpfSxuLlR5cGVkRGljdD1mdW5jdGlvbihlLHQpe3JldHVybiBlIGluc3RhbmNlb2YgT2JqZWN0P3RoaXMuZGF0YT1lOih0aGlzLmRhdGE9e30sdGhpcy5kYXRhW2VdPXQpLHRoaXN9LG4uVHlwZWREaWN0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RofSxuLlR5cGVkRGljdC5wcm90b3R5cGUuaGFzS2V5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRhdGEuaGFzT3duUHJvcGVydHkoZSl9LG4uVHlwZWREaWN0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5kYXRhLmhhc093blByb3BlcnR5KGUpKXJldHVybiB0aGlzLmRhdGFbZV07Y29uc29sZS5sb2coZStcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGlzIERpY3Rpb25hcnlcIil9LG4uVHlwZWREaWN0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWxpZGF0ZSh0KT90aGlzLmRhdGFbZV09dDpjb25zb2xlLmxvZyhcIlRob3NlIHZhbHVlcyBkb250IHdvcmsgZm9yIHRoaXMgZGljdGlvbmFyeSB0eXBlLlwiKX0sbi5UeXBlZERpY3QucHJvdG90eXBlLl9hZGRPYmo9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpdGhpcy5zZXQodCxlW3RdKX0sbi5UeXBlZERpY3QucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBPYmplY3QmJnZvaWQgMD09PXQ/dGhpcy5fYWRkT2JqKGUpOnZvaWQgMCE9PWU/dGhpcy5zZXQoZSx0KTpjb25zb2xlLmxvZyhcIkluIG9yZGVyIHRvIGNyZWF0ZSBhIG5ldyBEaWN0aW9uYXJ5IGVudHJ5IHlvdSBtdXN0IHBhc3MgYW4gb2JqZWN0IG9yIGEga2V5LCB2YWx1ZSBwYWlyXCIpfSxuLlR5cGVkRGljdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmRhdGE9e319LG4uVHlwZWREaWN0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShlKSl0aHJvdyBuZXcgRXJyb3IoZStcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGlzIERpY3Rpb25hcnlcIik7ZGVsZXRlIHRoaXMuZGF0YVtlXX0sbi5UeXBlZERpY3QucHJvdG90eXBlLnByaW50PWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuZGF0YSljb25zb2xlLmxvZyhcImtleTpcIitlK1wiIHZhbHVlOlwiK3RoaXMuZGF0YVtlXSl9LG4uVHlwZWREaWN0LnByb3RvdHlwZS5zYXZlVGFibGU9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjtmb3IodmFyIHIgaW4gdGhpcy5kYXRhKXQrPXIrXCIsXCIrdGhpcy5kYXRhW3JdK1wiXFxuXCI7dmFyIGk9bmV3IEJsb2IoW3RdLHt0eXBlOlwidGV4dC9jc3ZcIn0pO24ucHJvdG90eXBlLmRvd25sb2FkRmlsZShpLGV8fFwibXljc3ZcIixcImNzdlwiKX0sbi5UeXBlZERpY3QucHJvdG90eXBlLnNhdmVKU09OPWZ1bmN0aW9uKGUsdCl7bi5wcm90b3R5cGUuc2F2ZUpTT04odGhpcy5kYXRhLGUsdCl9LG4uVHlwZWREaWN0LnByb3RvdHlwZS5fdmFsaWRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuITB9LG4uU3RyaW5nRGljdD1mdW5jdGlvbigpe24uVHlwZWREaWN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbi5TdHJpbmdEaWN0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4uVHlwZWREaWN0LnByb3RvdHlwZSksbi5TdHJpbmdEaWN0LnByb3RvdHlwZS5fdmFsaWRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9LG4uTnVtYmVyRGljdD1mdW5jdGlvbigpe24uVHlwZWREaWN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbi5OdW1iZXJEaWN0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4uVHlwZWREaWN0LnByb3RvdHlwZSksbi5OdW1iZXJEaWN0LnByb3RvdHlwZS5fdmFsaWRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9LG4uTnVtYmVyRGljdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCl7dGhpcy5kYXRhLmhhc093blByb3BlcnR5KGUpP3RoaXMuZGF0YVtlXSs9dDpjb25zb2xlLmxvZyhcIlRoZSBrZXkgLSBcIitlK1wiIGRvZXMgbm90IGV4aXN0IGluIHRoaXMgZGljdGlvbmFyeS5cIil9LG4uTnVtYmVyRGljdC5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKGUsdCl7dGhpcy5hZGQoZSwtdCl9LG4uTnVtYmVyRGljdC5wcm90b3R5cGUubXVsdD1mdW5jdGlvbihlLHQpe3RoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShlKT90aGlzLmRhdGFbZV0qPXQ6Y29uc29sZS5sb2coXCJUaGUga2V5IC0gXCIrZStcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGlzIGRpY3Rpb25hcnkuXCIpfSxuLk51bWJlckRpY3QucHJvdG90eXBlLmRpdj1mdW5jdGlvbihlLHQpe3RoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShlKT90aGlzLmRhdGFbZV0vPXQ6Y29uc29sZS5sb2coXCJUaGUga2V5IC0gXCIrZStcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGlzIGRpY3Rpb25hcnkuXCIpfSxuLk51bWJlckRpY3QucHJvdG90eXBlLl92YWx1ZVRlc3Q9ZnVuY3Rpb24oZSl7aWYoMD09PU9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBzZWFyY2ggZm9yIGEgbWluaW11bSBvciBtYXhpbXVtIHZhbHVlIG9uIGFuIGVtcHR5IE51bWJlckRpY3RcIik7aWYoMT09PU9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RoKXJldHVybiB0aGlzLmRhdGFbT2JqZWN0LmtleXModGhpcy5kYXRhKVswXV07dmFyIHQ9dGhpcy5kYXRhW09iamVjdC5rZXlzKHRoaXMuZGF0YSlbMF1dO2Zvcih2YXIgciBpbiB0aGlzLmRhdGEpdGhpcy5kYXRhW3JdKmU8dCplJiYodD10aGlzLmRhdGFbcl0pO3JldHVybiB0fSxuLk51bWJlckRpY3QucHJvdG90eXBlLm1pblZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlVGVzdCgxKX0sbi5OdW1iZXJEaWN0LnByb3RvdHlwZS5tYXhWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZVRlc3QoLTEpfSxuLk51bWJlckRpY3QucHJvdG90eXBlLl9rZXlUZXN0PWZ1bmN0aW9uKGUpe2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLmRhdGEpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gdXNlIG1pblZhbHVlIG9uIGFuIGVtcHR5IE51bWJlckRpY3RcIik7aWYoMT09PU9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RoKXJldHVybiBPYmplY3Qua2V5cyh0aGlzLmRhdGEpWzBdO2Zvcih2YXIgdD1PYmplY3Qua2V5cyh0aGlzLmRhdGEpWzBdLHI9MTtyPE9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RoO3IrKylPYmplY3Qua2V5cyh0aGlzLmRhdGEpW3JdKmU8dCplJiYodD1PYmplY3Qua2V5cyh0aGlzLmRhdGEpW3JdKTtyZXR1cm4gdH0sbi5OdW1iZXJEaWN0LnByb3RvdHlwZS5taW5LZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5VGVzdCgxKX0sbi5OdW1iZXJEaWN0LnByb3RvdHlwZS5tYXhLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5VGVzdCgtMSl9LHQuZXhwb3J0cz1uLlR5cGVkRGljdH0se1wiLi4vY29yZS9tYWluXCI6MjN9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIik7aS5wcm90b3R5cGUuZGV2aWNlT3JpZW50YXRpb249dm9pZCAwLGkucHJvdG90eXBlLmFjY2VsZXJhdGlvblg9MCxpLnByb3RvdHlwZS5hY2NlbGVyYXRpb25ZPTAsaS5wcm90b3R5cGUuYWNjZWxlcmF0aW9uWj0wLGkucHJvdG90eXBlLnBBY2NlbGVyYXRpb25YPTAsaS5wcm90b3R5cGUucEFjY2VsZXJhdGlvblk9MCxpLnByb3RvdHlwZS5wQWNjZWxlcmF0aW9uWj0wLGkucHJvdG90eXBlLl91cGRhdGVQQWNjZWxlcmF0aW9ucz1mdW5jdGlvbigpe3RoaXMuX3NldFByb3BlcnR5KFwicEFjY2VsZXJhdGlvblhcIix0aGlzLmFjY2VsZXJhdGlvblgpLHRoaXMuX3NldFByb3BlcnR5KFwicEFjY2VsZXJhdGlvbllcIix0aGlzLmFjY2VsZXJhdGlvblkpLHRoaXMuX3NldFByb3BlcnR5KFwicEFjY2VsZXJhdGlvblpcIix0aGlzLmFjY2VsZXJhdGlvblopfSxpLnByb3RvdHlwZS5yb3RhdGlvblg9MCxpLnByb3RvdHlwZS5yb3RhdGlvblk9MCxpLnByb3RvdHlwZS5yb3RhdGlvblo9MCxpLnByb3RvdHlwZS5wUm90YXRpb25YPTAsaS5wcm90b3R5cGUucFJvdGF0aW9uWT0wO3ZhciBjLHAsZCxmPWkucHJvdG90eXBlLnBSb3RhdGlvblo9MCxtPTAsdj0wLGc9XCJjbG9ja3dpc2VcIix5PVwiY2xvY2t3aXNlXCIsYj1cImNsb2Nrd2lzZVwiO2kucHJvdG90eXBlLl91cGRhdGVQUm90YXRpb25zPWZ1bmN0aW9uKCl7dGhpcy5fc2V0UHJvcGVydHkoXCJwUm90YXRpb25YXCIsdGhpcy5yb3RhdGlvblgpLHRoaXMuX3NldFByb3BlcnR5KFwicFJvdGF0aW9uWVwiLHRoaXMucm90YXRpb25ZKSx0aGlzLl9zZXRQcm9wZXJ0eShcInBSb3RhdGlvblpcIix0aGlzLnJvdGF0aW9uWil9LGkucHJvdG90eXBlLnR1cm5BeGlzPXZvaWQgMDt2YXIgXz0uNSx4PTMwO2kucHJvdG90eXBlLnNldE1vdmVUaHJlc2hvbGQ9ZnVuY3Rpb24oZSl7aS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwic2V0TW92ZVRocmVzaG9sZFwiLGFyZ3VtZW50cyksXz1lfSxpLnByb3RvdHlwZS5zZXRTaGFrZVRocmVzaG9sZD1mdW5jdGlvbihlKXtpLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJzZXRTaGFrZVRocmVzaG9sZFwiLGFyZ3VtZW50cykseD1lfSxpLnByb3RvdHlwZS5fb25kZXZpY2VvcmllbnRhdGlvbj1mdW5jdGlvbihlKXt0aGlzLl91cGRhdGVQUm90YXRpb25zKCksdGhpcy5fc2V0UHJvcGVydHkoXCJyb3RhdGlvblhcIixlLmJldGEpLHRoaXMuX3NldFByb3BlcnR5KFwicm90YXRpb25ZXCIsZS5nYW1tYSksdGhpcy5fc2V0UHJvcGVydHkoXCJyb3RhdGlvblpcIixlLmFscGhhKSx0aGlzLl9oYW5kbGVNb3Rpb24oKX0saS5wcm90b3R5cGUuX29uZGV2aWNlbW90aW9uPWZ1bmN0aW9uKGUpe3RoaXMuX3VwZGF0ZVBBY2NlbGVyYXRpb25zKCksdGhpcy5fc2V0UHJvcGVydHkoXCJhY2NlbGVyYXRpb25YXCIsMiplLmFjY2VsZXJhdGlvbi54KSx0aGlzLl9zZXRQcm9wZXJ0eShcImFjY2VsZXJhdGlvbllcIiwyKmUuYWNjZWxlcmF0aW9uLnkpLHRoaXMuX3NldFByb3BlcnR5KFwiYWNjZWxlcmF0aW9uWlwiLDIqZS5hY2NlbGVyYXRpb24ueiksdGhpcy5faGFuZGxlTW90aW9uKCl9LGkucHJvdG90eXBlLl9oYW5kbGVNb3Rpb249ZnVuY3Rpb24oKXs5MD09PXdpbmRvdy5vcmllbnRhdGlvbnx8LTkwPT09d2luZG93Lm9yaWVudGF0aW9uP3RoaXMuX3NldFByb3BlcnR5KFwiZGV2aWNlT3JpZW50YXRpb25cIixcImxhbmRzY2FwZVwiKTowPT09d2luZG93Lm9yaWVudGF0aW9uP3RoaXMuX3NldFByb3BlcnR5KFwiZGV2aWNlT3JpZW50YXRpb25cIixcInBvcnRyYWl0XCIpOnZvaWQgMD09PXdpbmRvdy5vcmllbnRhdGlvbiYmdGhpcy5fc2V0UHJvcGVydHkoXCJkZXZpY2VPcmllbnRhdGlvblwiLFwidW5kZWZpbmVkXCIpO3ZhciBlPXRoaXMuZGV2aWNlTW92ZWR8fHdpbmRvdy5kZXZpY2VNb3ZlZDtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoTWF0aC5hYnModGhpcy5hY2NlbGVyYXRpb25YLXRoaXMucEFjY2VsZXJhdGlvblgpPl98fE1hdGguYWJzKHRoaXMuYWNjZWxlcmF0aW9uWS10aGlzLnBBY2NlbGVyYXRpb25ZKT5ffHxNYXRoLmFicyh0aGlzLmFjY2VsZXJhdGlvblotdGhpcy5wQWNjZWxlcmF0aW9uWik+XykmJmUoKTt2YXIgdD10aGlzLmRldmljZVR1cm5lZHx8d2luZG93LmRldmljZVR1cm5lZDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXt2YXIgcj10aGlzLnJvdGF0aW9uWCsxODAsaT10aGlzLnBSb3RhdGlvblgrMTgwLG49ZisxODA7MDxyLWkmJnItaTwyNzB8fHItaTwtMjcwP2c9XCJjbG9ja3dpc2VcIjooci1pPDB8fDI3MDxyLWkpJiYoZz1cImNvdW50ZXItY2xvY2t3aXNlXCIpLGchPT1jJiYobj1yKSw5MDxNYXRoLmFicyhyLW4pJiZNYXRoLmFicyhyLW4pPDI3MCYmKG49cix0aGlzLl9zZXRQcm9wZXJ0eShcInR1cm5BeGlzXCIsXCJYXCIpLHQoKSksYz1nLGY9bi0xODA7dmFyIG89dGhpcy5yb3RhdGlvblkrMTgwLGE9dGhpcy5wUm90YXRpb25ZKzE4MCxzPW0rMTgwOzA8by1hJiZvLWE8MjcwfHxvLWE8LTI3MD95PVwiY2xvY2t3aXNlXCI6KG8tYTwwfHwyNzA8by10aGlzLnBSb3RhdGlvblkpJiYoeT1cImNvdW50ZXItY2xvY2t3aXNlXCIpLHkhPT1wJiYocz1vKSw5MDxNYXRoLmFicyhvLXMpJiZNYXRoLmFicyhvLXMpPDI3MCYmKHM9byx0aGlzLl9zZXRQcm9wZXJ0eShcInR1cm5BeGlzXCIsXCJZXCIpLHQoKSkscD15LG09cy0xODAsMDx0aGlzLnJvdGF0aW9uWi10aGlzLnBSb3RhdGlvblomJnRoaXMucm90YXRpb25aLXRoaXMucFJvdGF0aW9uWjwyNzB8fHRoaXMucm90YXRpb25aLXRoaXMucFJvdGF0aW9uWjwtMjcwP2I9XCJjbG9ja3dpc2VcIjoodGhpcy5yb3RhdGlvblotdGhpcy5wUm90YXRpb25aPDB8fDI3MDx0aGlzLnJvdGF0aW9uWi10aGlzLnBSb3RhdGlvblopJiYoYj1cImNvdW50ZXItY2xvY2t3aXNlXCIpLGIhPT1kJiYodj10aGlzLnJvdGF0aW9uWiksOTA8TWF0aC5hYnModGhpcy5yb3RhdGlvblotdikmJk1hdGguYWJzKHRoaXMucm90YXRpb25aLXYpPDI3MCYmKHY9dGhpcy5yb3RhdGlvblosdGhpcy5fc2V0UHJvcGVydHkoXCJ0dXJuQXhpc1wiLFwiWlwiKSx0KCkpLGQ9Yix0aGlzLl9zZXRQcm9wZXJ0eShcInR1cm5BeGlzXCIsdm9pZCAwKX12YXIgaCxsLHU9dGhpcy5kZXZpY2VTaGFrZW58fHdpbmRvdy5kZXZpY2VTaGFrZW47XCJmdW5jdGlvblwiPT10eXBlb2YgdSYmKG51bGwhPT10aGlzLnBBY2NlbGVyYXRpb25YJiYoaD1NYXRoLmFicyh0aGlzLmFjY2VsZXJhdGlvblgtdGhpcy5wQWNjZWxlcmF0aW9uWCksbD1NYXRoLmFicyh0aGlzLmFjY2VsZXJhdGlvblktdGhpcy5wQWNjZWxlcmF0aW9uWSkpLHg8aCtsJiZ1KCkpfSx0LmV4cG9ydHM9aX0se1wiLi4vY29yZS9tYWluXCI6MjN9XSwzODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIiksbj17fTtpLnByb3RvdHlwZS5pc0tleVByZXNzZWQ9ITEsaS5wcm90b3R5cGUua2V5SXNQcmVzc2VkPSExLGkucHJvdG90eXBlLmtleT1cIlwiLGkucHJvdG90eXBlLmtleUNvZGU9MCxpLnByb3RvdHlwZS5fb25rZXlkb3duPWZ1bmN0aW9uKGUpe2lmKCFuW2Uud2hpY2hdKXt0aGlzLl9zZXRQcm9wZXJ0eShcImlzS2V5UHJlc3NlZFwiLCEwKSx0aGlzLl9zZXRQcm9wZXJ0eShcImtleUlzUHJlc3NlZFwiLCEwKSx0aGlzLl9zZXRQcm9wZXJ0eShcImtleUNvZGVcIixlLndoaWNoKSxuW2Uud2hpY2hdPSEwLHRoaXMuX3NldFByb3BlcnR5KFwia2V5XCIsZS5rZXl8fFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCl8fGUud2hpY2gpO3ZhciB0PXRoaXMua2V5UHJlc3NlZHx8d2luZG93LmtleVByZXNzZWQ7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmIWUuY2hhckNvZGUpITE9PT10KGUpJiZlLnByZXZlbnREZWZhdWx0KCl9fSxpLnByb3RvdHlwZS5fb25rZXl1cD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmtleVJlbGVhc2VkfHx3aW5kb3cua2V5UmVsZWFzZWQ7KG5bZS53aGljaF09ITEsZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gbilpZihuLmhhc093blByb3BlcnR5KGUpJiYhMD09PW5bZV0pcmV0dXJuITA7cmV0dXJuITF9KCl8fCh0aGlzLl9zZXRQcm9wZXJ0eShcImlzS2V5UHJlc3NlZFwiLCExKSx0aGlzLl9zZXRQcm9wZXJ0eShcImtleUlzUHJlc3NlZFwiLCExKSksdGhpcy5fc2V0UHJvcGVydHkoXCJfbGFzdEtleUNvZGVUeXBlZFwiLG51bGwpLHRoaXMuX3NldFByb3BlcnR5KFwia2V5XCIsZS5rZXl8fFN0cmluZy5mcm9tQ2hhckNvZGUoZS53aGljaCl8fGUud2hpY2gpLHRoaXMuX3NldFByb3BlcnR5KFwia2V5Q29kZVwiLGUud2hpY2gpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpJiYoITE9PT10KGUpJiZlLnByZXZlbnREZWZhdWx0KCkpfSxpLnByb3RvdHlwZS5fb25rZXlwcmVzcz1mdW5jdGlvbihlKXtpZihlLndoaWNoIT09dGhpcy5fbGFzdEtleUNvZGVUeXBlZCl7dGhpcy5fc2V0UHJvcGVydHkoXCJrZXlDb2RlXCIsZS53aGljaCksdGhpcy5fc2V0UHJvcGVydHkoXCJfbGFzdEtleUNvZGVUeXBlZFwiLGUud2hpY2gpLHRoaXMuX3NldFByb3BlcnR5KFwia2V5XCIsU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKSk7dmFyIHQ9dGhpcy5rZXlUeXBlZHx8d2luZG93LmtleVR5cGVkO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpITE9PT10KGUpJiZlLnByZXZlbnREZWZhdWx0KCl9fSxpLnByb3RvdHlwZS5fb25ibHVyPWZ1bmN0aW9uKGUpe249e319LGkucHJvdG90eXBlLmtleUlzRG93bj1mdW5jdGlvbihlKXtyZXR1cm4gaS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwia2V5SXNEb3duXCIsYXJndW1lbnRzKSxuW2VdfSx0LmV4cG9ydHM9aX0se1wiLi4vY29yZS9tYWluXCI6MjN9XSwzOTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIiksbj1lKFwiLi4vY29yZS9jb25zdGFudHNcIik7aS5wcm90b3R5cGUuX2hhc01vdXNlSW50ZXJhY3RlZD0hMSxpLnByb3RvdHlwZS5tb3VzZVg9MCxpLnByb3RvdHlwZS5tb3VzZVk9MCxpLnByb3RvdHlwZS5wbW91c2VYPTAsaS5wcm90b3R5cGUucG1vdXNlWT0wLGkucHJvdG90eXBlLndpbk1vdXNlWD0wLGkucHJvdG90eXBlLndpbk1vdXNlWT0wLGkucHJvdG90eXBlLnB3aW5Nb3VzZVg9MCxpLnByb3RvdHlwZS5wd2luTW91c2VZPTAsaS5wcm90b3R5cGUubW91c2VCdXR0b249MCxpLnByb3RvdHlwZS5tb3VzZUlzUHJlc3NlZD0hMSxpLnByb3RvdHlwZS5fdXBkYXRlTmV4dE1vdXNlQ29vcmRzPWZ1bmN0aW9uKGUpe2lmKG51bGwhPT10aGlzLl9jdXJFbGVtZW50JiYoIWUudG91Y2hlc3x8MDxlLnRvdWNoZXMubGVuZ3RoKSl7dmFyIHQ9ZnVuY3Rpb24oZSx0LHIsaSl7aSYmIWkuY2xpZW50WCYmKGkudG91Y2hlcz9pPWkudG91Y2hlc1swXTppLmNoYW5nZWRUb3VjaGVzJiYoaT1pLmNoYW5nZWRUb3VjaGVzWzBdKSk7dmFyIG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPWUuc2Nyb2xsV2lkdGgvdCxhPWUuc2Nyb2xsSGVpZ2h0L3I7cmV0dXJue3g6KGkuY2xpZW50WC1uLmxlZnQpL28seTooaS5jbGllbnRZLW4udG9wKS9hLHdpblg6aS5jbGllbnRYLHdpblk6aS5jbGllbnRZLGlkOmkuaWRlbnRpZmllcn19KHRoaXMuX2N1ckVsZW1lbnQuZWx0LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsZSk7dGhpcy5fc2V0UHJvcGVydHkoXCJtb3VzZVhcIix0LngpLHRoaXMuX3NldFByb3BlcnR5KFwibW91c2VZXCIsdC55KSx0aGlzLl9zZXRQcm9wZXJ0eShcIndpbk1vdXNlWFwiLHQud2luWCksdGhpcy5fc2V0UHJvcGVydHkoXCJ3aW5Nb3VzZVlcIix0LndpblkpfXRoaXMuX2hhc01vdXNlSW50ZXJhY3RlZHx8KHRoaXMuX3VwZGF0ZU1vdXNlQ29vcmRzKCksdGhpcy5fc2V0UHJvcGVydHkoXCJfaGFzTW91c2VJbnRlcmFjdGVkXCIsITApKX0saS5wcm90b3R5cGUuX3VwZGF0ZU1vdXNlQ29vcmRzPWZ1bmN0aW9uKCl7dGhpcy5fc2V0UHJvcGVydHkoXCJwbW91c2VYXCIsdGhpcy5tb3VzZVgpLHRoaXMuX3NldFByb3BlcnR5KFwicG1vdXNlWVwiLHRoaXMubW91c2VZKSx0aGlzLl9zZXRQcm9wZXJ0eShcInB3aW5Nb3VzZVhcIix0aGlzLndpbk1vdXNlWCksdGhpcy5fc2V0UHJvcGVydHkoXCJwd2luTW91c2VZXCIsdGhpcy53aW5Nb3VzZVkpLHRoaXMuX3NldFByb3BlcnR5KFwiX3Btb3VzZVdoZWVsRGVsdGFZXCIsdGhpcy5fbW91c2VXaGVlbERlbHRhWSl9LGkucHJvdG90eXBlLl9zZXRNb3VzZUJ1dHRvbj1mdW5jdGlvbihlKXsxPT09ZS5idXR0b24/dGhpcy5fc2V0UHJvcGVydHkoXCJtb3VzZUJ1dHRvblwiLG4uQ0VOVEVSKToyPT09ZS5idXR0b24/dGhpcy5fc2V0UHJvcGVydHkoXCJtb3VzZUJ1dHRvblwiLG4uUklHSFQpOnRoaXMuX3NldFByb3BlcnR5KFwibW91c2VCdXR0b25cIixuLkxFRlQpfSxpLnByb3RvdHlwZS5fb25tb3VzZW1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5faXNHbG9iYWw/d2luZG93OnRoaXM7dGhpcy5fdXBkYXRlTmV4dE1vdXNlQ29vcmRzKGUpLHRoaXMubW91c2VJc1ByZXNzZWQ/XCJmdW5jdGlvblwiPT10eXBlb2YgdC5tb3VzZURyYWdnZWQ/ITE9PT10Lm1vdXNlRHJhZ2dlZChlKSYmZS5wcmV2ZW50RGVmYXVsdCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG91Y2hNb3ZlZCYmITE9PT10LnRvdWNoTW92ZWQoZSkmJmUucHJldmVudERlZmF1bHQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm1vdXNlTW92ZWQmJiExPT09dC5tb3VzZU1vdmVkKGUpJiZlLnByZXZlbnREZWZhdWx0KCl9LGkucHJvdG90eXBlLl9vbm1vdXNlZG93bj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9pc0dsb2JhbD93aW5kb3c6dGhpczt0aGlzLl9zZXRQcm9wZXJ0eShcIm1vdXNlSXNQcmVzc2VkXCIsITApLHRoaXMuX3NldE1vdXNlQnV0dG9uKGUpLHRoaXMuX3VwZGF0ZU5leHRNb3VzZUNvb3JkcyhlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm1vdXNlUHJlc3NlZD8hMT09PXQubW91c2VQcmVzc2VkKGUpJiZlLnByZXZlbnREZWZhdWx0KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgdC50b3VjaFN0YXJ0ZWQmJiExPT09dC50b3VjaFN0YXJ0ZWQoZSkmJmUucHJldmVudERlZmF1bHQoKX0saS5wcm90b3R5cGUuX29ubW91c2V1cD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9pc0dsb2JhbD93aW5kb3c6dGhpczt0aGlzLl9zZXRQcm9wZXJ0eShcIm1vdXNlSXNQcmVzc2VkXCIsITEpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQubW91c2VSZWxlYXNlZD8hMT09PXQubW91c2VSZWxlYXNlZChlKSYmZS5wcmV2ZW50RGVmYXVsdCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG91Y2hFbmRlZCYmITE9PT10LnRvdWNoRW5kZWQoZSkmJmUucHJldmVudERlZmF1bHQoKX0saS5wcm90b3R5cGUuX29uZHJhZ2VuZD1pLnByb3RvdHlwZS5fb25tb3VzZXVwLGkucHJvdG90eXBlLl9vbmRyYWdvdmVyPWkucHJvdG90eXBlLl9vbm1vdXNlbW92ZSxpLnByb3RvdHlwZS5fb25jbGljaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9pc0dsb2JhbD93aW5kb3c6dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm1vdXNlQ2xpY2tlZCYmKCExPT09dC5tb3VzZUNsaWNrZWQoZSkmJmUucHJldmVudERlZmF1bHQoKSl9LGkucHJvdG90eXBlLl9vbmRibGNsaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2lzR2xvYmFsP3dpbmRvdzp0aGlzO1wiZnVuY3Rpb25cIj09dHlwZW9mIHQuZG91YmxlQ2xpY2tlZCYmKCExPT09dC5kb3VibGVDbGlja2VkKGUpJiZlLnByZXZlbnREZWZhdWx0KCkpfSxpLnByb3RvdHlwZS5fbW91c2VXaGVlbERlbHRhWT0wLGkucHJvdG90eXBlLl9wbW91c2VXaGVlbERlbHRhWT0wLGkucHJvdG90eXBlLl9vbndoZWVsPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2lzR2xvYmFsP3dpbmRvdzp0aGlzOyh0aGlzLl9zZXRQcm9wZXJ0eShcIl9tb3VzZVdoZWVsRGVsdGFZXCIsZS5kZWx0YVkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQubW91c2VXaGVlbCkmJihlLmRlbHRhPWUuZGVsdGFZLCExPT09dC5tb3VzZVdoZWVsKGUpJiZlLnByZXZlbnREZWZhdWx0KCkpfSx0LmV4cG9ydHM9aX0se1wiLi4vY29yZS9jb25zdGFudHNcIjoxNyxcIi4uL2NvcmUvbWFpblwiOjIzfV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiLi4vY29yZS9tYWluXCIpO2Z1bmN0aW9uIG4oZSx0LHIsaSxuKXtuPW58fDA7dmFyIG89ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPWUuc2Nyb2xsV2lkdGgvdCxzPWUuc2Nyb2xsSGVpZ2h0L3IsaD1pLnRvdWNoZXNbbl18fGkuY2hhbmdlZFRvdWNoZXNbbl07cmV0dXJue3g6KGguY2xpZW50WC1vLmxlZnQpL2EseTooaC5jbGllbnRZLW8udG9wKS9zLHdpblg6aC5jbGllbnRYLHdpblk6aC5jbGllbnRZLGlkOmguaWRlbnRpZmllcn19aS5wcm90b3R5cGUudG91Y2hlcz1bXSxpLnByb3RvdHlwZS5fdXBkYXRlVG91Y2hDb29yZHM9ZnVuY3Rpb24oZSl7aWYobnVsbCE9PXRoaXMuX2N1ckVsZW1lbnQpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLnRvdWNoZXMubGVuZ3RoO3IrKyl0W3JdPW4odGhpcy5fY3VyRWxlbWVudC5lbHQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxlLHIpO3RoaXMuX3NldFByb3BlcnR5KFwidG91Y2hlc1wiLHQpfX0saS5wcm90b3R5cGUuX29udG91Y2hzdGFydD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9pc0dsb2JhbD93aW5kb3c6dGhpczt0aGlzLl9zZXRQcm9wZXJ0eShcIm1vdXNlSXNQcmVzc2VkXCIsITApLHRoaXMuX3VwZGF0ZVRvdWNoQ29vcmRzKGUpLHRoaXMuX3VwZGF0ZU5leHRNb3VzZUNvb3JkcyhlKSx0aGlzLl91cGRhdGVNb3VzZUNvb3JkcygpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG91Y2hTdGFydGVkPyExPT09dC50b3VjaFN0YXJ0ZWQoZSkmJmUucHJldmVudERlZmF1bHQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm1vdXNlUHJlc3NlZCYmITE9PT10Lm1vdXNlUHJlc3NlZChlKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSxpLnByb3RvdHlwZS5fb250b3VjaG1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5faXNHbG9iYWw/d2luZG93OnRoaXM7dGhpcy5fdXBkYXRlVG91Y2hDb29yZHMoZSksdGhpcy5fdXBkYXRlTmV4dE1vdXNlQ29vcmRzKGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG91Y2hNb3ZlZD8hMT09PXQudG91Y2hNb3ZlZChlKSYmZS5wcmV2ZW50RGVmYXVsdCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQubW91c2VEcmFnZ2VkJiYhMT09PXQubW91c2VEcmFnZ2VkKGUpJiZlLnByZXZlbnREZWZhdWx0KCl9LGkucHJvdG90eXBlLl9vbnRvdWNoZW5kPWZ1bmN0aW9uKGUpe3RoaXMuX3NldFByb3BlcnR5KFwibW91c2VJc1ByZXNzZWRcIiwhMSksdGhpcy5fdXBkYXRlVG91Y2hDb29yZHMoZSksdGhpcy5fdXBkYXRlTmV4dE1vdXNlQ29vcmRzKGUpO3ZhciB0PXRoaXMuX2lzR2xvYmFsP3dpbmRvdzp0aGlzO1wiZnVuY3Rpb25cIj09dHlwZW9mIHQudG91Y2hFbmRlZD8hMT09PXQudG91Y2hFbmRlZChlKSYmZS5wcmV2ZW50RGVmYXVsdCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQubW91c2VSZWxlYXNlZCYmITE9PT10Lm1vdXNlUmVsZWFzZWQoZSkmJmUucHJldmVudERlZmF1bHQoKX0sdC5leHBvcnRzPWl9LHtcIi4uL2NvcmUvbWFpblwiOjIzfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgUixMLFAsayxJPXt9O2Z1bmN0aW9uIGkoZSx0KXtmb3IodmFyIHIsaSxuLG8sYSxzLGgsbCx1LGMscD1JLl90b1BpeGVscyhlKSxkPWUud2lkdGgsZj1lLmhlaWdodCxtPWQqZix2PW5ldyBJbnQzMkFycmF5KG0pLGc9MDtnPG07ZysrKXZbZ109SS5fZ2V0QVJHQihwLGcpO3ZhciB5LGIsXyx4LHc9bmV3IEludDMyQXJyYXkobSksUz1uZXcgSW50MzJBcnJheShtKSxUPW5ldyBJbnQzMkFycmF5KG0pLE09bmV3IEludDMyQXJyYXkobSksRT0wO2ZvcihmdW5jdGlvbihlKXt2YXIgdD0zLjUqZXwwO2lmKFIhPT0odD10PDE/MTp0PDI0OD90OjI0OCkpe0w9MSsoUj10KTw8MSxQPW5ldyBJbnQzMkFycmF5KEwpLGs9bmV3IEFycmF5KEwpO2Zvcih2YXIgcj0wO3I8TDtyKyspa1tyXT1uZXcgSW50MzJBcnJheSgyNTYpO2Zvcih2YXIgaSxuLG8sYSxzPTEsaD10LTE7czx0O3MrKyl7UFt0K3NdPVBbaF09bj1oKmgsbz1rW3Qrc10sYT1rW2gtLV07Zm9yKHZhciBsPTA7bDwyNTY7bCsrKW9bbF09YVtsXT1uKmx9aT1QW3RdPXQqdCxvPWtbdF07Zm9yKHZhciB1PTA7dTwyNTY7dSsrKW9bdV09aSp1fX0odCksYj0wO2I8ZjtiKyspe2Zvcih5PTA7eTxkO3krKyl7aWYobz1uPWk9YT1yPTAsKHM9eS1SKTwwKWM9LXMscz0wO2Vsc2V7aWYoZDw9cylicmVhaztjPTB9Zm9yKF89YztfPEwmJiEoZDw9cyk7XysrKXt2YXIgQz12W3MrRV07YSs9KHg9a1tfXSlbKC0xNjc3NzIxNiZDKT4+PjI0XSxpKz14WygxNjcxMTY4MCZDKT4+MTZdLG4rPXhbKDY1MjgwJkMpPj44XSxvKz14WzI1NSZDXSxyKz1QW19dLHMrK313W2g9RSt5XT1hL3IsU1toXT1pL3IsVFtoXT1uL3IsTVtoXT1vL3J9RSs9ZH1mb3IodT0obD0tUikqZCxiPUU9MDtiPGY7YisrKXtmb3IoeT0wO3k8ZDt5Kyspe2lmKG89bj1pPWE9cj0wLGw8MCljPWg9LWwscz15O2Vsc2V7aWYoZjw9bClicmVhaztjPTAsaD1sLHM9eSt1fWZvcihfPWM7XzxMJiYhKGY8PWgpO18rKylhKz0oeD1rW19dKVt3W3NdXSxpKz14W1Nbc11dLG4rPXhbVFtzXV0sbys9eFtNW3NdXSxyKz1QW19dLGgrKyxzKz1kO3ZbeStFXT1hL3I8PDI0fGkvcjw8MTZ8bi9yPDw4fG8vcn1FKz1kLHUrPWQsbCsrfUkuX3NldFBpeGVscyhwLHYpfUkuX3RvUGl4ZWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgSW1hZ2VEYXRhP2UuZGF0YTplLmdldENvbnRleHQoXCIyZFwiKS5nZXRJbWFnZURhdGEoMCwwLGUud2lkdGgsZS5oZWlnaHQpLmRhdGF9LEkuX2dldEFSR0I9ZnVuY3Rpb24oZSx0KXt2YXIgcj00KnQ7cmV0dXJuIGVbciszXTw8MjQmNDI3ODE5MDA4MHxlW3JdPDwxNiYxNjcxMTY4MHxlW3IrMV08PDgmNjUyODB8MjU1JmVbcisyXX0sSS5fc2V0UGl4ZWxzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsaT0wLG49ZS5sZW5ndGg7aTxuO2krKyllWyhyPTQqaSkrMF09KDE2NzExNjgwJnRbaV0pPj4+MTYsZVtyKzFdPSg2NTI4MCZ0W2ldKT4+PjgsZVtyKzJdPTI1NSZ0W2ldLGVbciszXT0oNDI3ODE5MDA4MCZ0W2ldKT4+PjI0fSxJLl90b0ltYWdlRGF0YT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEltYWdlRGF0YT9lOmUuZ2V0Q29udGV4dChcIjJkXCIpLmdldEltYWdlRGF0YSgwLDAsZS53aWR0aCxlLmhlaWdodCl9LEkuX2NyZWF0ZUltYWdlRGF0YT1mdW5jdGlvbihlLHQpe3JldHVybiBJLl90bXBDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxJLl90bXBDdHg9SS5fdG1wQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLl90bXBDdHguY3JlYXRlSW1hZ2VEYXRhKGUsdCl9LEkuYXBwbHk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWUuZ2V0Q29udGV4dChcIjJkXCIpLG49aS5nZXRJbWFnZURhdGEoMCwwLGUud2lkdGgsZS5oZWlnaHQpLG89dChuLHIpO28gaW5zdGFuY2VvZiBJbWFnZURhdGE/aS5wdXRJbWFnZURhdGEobywwLDAsMCwwLGUud2lkdGgsZS5oZWlnaHQpOmkucHV0SW1hZ2VEYXRhKG4sMCwwLDAsMCxlLndpZHRoLGUuaGVpZ2h0KX0sSS50aHJlc2hvbGQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1JLl90b1BpeGVscyhlKTt2b2lkIDA9PT10JiYodD0uNSk7Zm9yKHZhciBpPU1hdGguZmxvb3IoMjU1KnQpLG49MDtuPHIubGVuZ3RoO24rPTQpe3ZhciBvO289aTw9LjIxMjYqcltuXSsuNzE1MipyW24rMV0rLjA3MjIqcltuKzJdPzI1NTowLHJbbl09cltuKzFdPXJbbisyXT1vfX0sSS5ncmF5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1JLl90b1BpeGVscyhlKSxyPTA7cjx0Lmxlbmd0aDtyKz00KXt2YXIgaT0uMjEyNip0W3JdKy43MTUyKnRbcisxXSsuMDcyMip0W3IrMl07dFtyXT10W3IrMV09dFtyKzJdPWl9fSxJLm9wYXF1ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9SS5fdG9QaXhlbHMoZSkscj0wO3I8dC5sZW5ndGg7cis9NCl0W3IrM109MjU1O3JldHVybiB0fSxJLmludmVydD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9SS5fdG9QaXhlbHMoZSkscj0wO3I8dC5sZW5ndGg7cis9NCl0W3JdPTI1NS10W3JdLHRbcisxXT0yNTUtdFtyKzFdLHRbcisyXT0yNTUtdFtyKzJdfSxJLnBvc3Rlcml6ZT1mdW5jdGlvbihlLHQpe3ZhciByPUkuX3RvUGl4ZWxzKGUpO2lmKHQ8Mnx8MjU1PHQpdGhyb3cgbmV3IEVycm9yKFwiTGV2ZWwgbXVzdCBiZSBncmVhdGVyIHRoYW4gMiBhbmQgbGVzcyB0aGFuIDI1NSBmb3IgcG9zdGVyaXplXCIpO2Zvcih2YXIgaT10LTEsbj0wO248ci5sZW5ndGg7bis9NCl7dmFyIG89cltuXSxhPXJbbisxXSxzPXJbbisyXTtyW25dPTI1NSoobyp0Pj44KS9pLHJbbisxXT0yNTUqKGEqdD4+OCkvaSxyW24rMl09MjU1KihzKnQ+PjgpL2l9fSxJLmRpbGF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQscixpLG4sbyxhLHMsaCxsLHUsYyxwLGQsZixtLHYsZyx5PUkuX3RvUGl4ZWxzKGUpLGI9MCxfPXkubGVuZ3RoP3kubGVuZ3RoLzQ6MCx4PW5ldyBJbnQzMkFycmF5KF8pO2I8XzspZm9yKHI9KHQ9YikrZS53aWR0aDtiPHI7KWk9bj1JLl9nZXRBUkdCKHksYiksKHM9Yi0xKTx0JiYocz1iKSxyPD0oYT1iKzEpJiYoYT1iKSwoaD1iLWUud2lkdGgpPDAmJihoPTApLF88PShsPWIrZS53aWR0aCkmJihsPWIpLHA9SS5fZ2V0QVJHQih5LGgpLGM9SS5fZ2V0QVJHQih5LHMpLGQ9SS5fZ2V0QVJHQih5LGwpLChvPTc3KihpPj4xNiYyNTUpKzE1MSooaT4+OCYyNTUpKzI4KigyNTUmaSkpPChtPTc3KihjPj4xNiYyNTUpKzE1MSooYz4+OCYyNTUpKzI4KigyNTUmYykpJiYobj1jLG89bSksbzwoZj03NyooKHU9SS5fZ2V0QVJHQih5LGEpKT4+MTYmMjU1KSsxNTEqKHU+PjgmMjU1KSsyOCooMjU1JnUpKSYmKG49dSxvPWYpLG88KHY9NzcqKHA+PjE2JjI1NSkrMTUxKihwPj44JjI1NSkrMjgqKDI1NSZwKSkmJihuPXAsbz12KSxvPChnPTc3KihkPj4xNiYyNTUpKzE1MSooZD4+OCYyNTUpKzI4KigyNTUmZCkpJiYobj1kLG89ZykseFtiKytdPW47SS5fc2V0UGl4ZWxzKHkseCl9LEkuZXJvZGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsaSxuLG8sYSxzLGgsbCx1LGMscCxkLGYsbSx2LGcseT1JLl90b1BpeGVscyhlKSxiPTAsXz15Lmxlbmd0aD95Lmxlbmd0aC80OjAseD1uZXcgSW50MzJBcnJheShfKTtiPF87KWZvcihyPSh0PWIpK2Uud2lkdGg7YjxyOylpPW49SS5fZ2V0QVJHQih5LGIpLChzPWItMSk8dCYmKHM9Yikscjw9KGE9YisxKSYmKGE9YiksKGg9Yi1lLndpZHRoKTwwJiYoaD0wKSxfPD0obD1iK2Uud2lkdGgpJiYobD1iKSxwPUkuX2dldEFSR0IoeSxoKSxjPUkuX2dldEFSR0IoeSxzKSxkPUkuX2dldEFSR0IoeSxsKSwobT03NyooYz4+MTYmMjU1KSsxNTEqKGM+PjgmMjU1KSsyOCooMjU1JmMpKTwobz03NyooaT4+MTYmMjU1KSsxNTEqKGk+PjgmMjU1KSsyOCooMjU1JmkpKSYmKG49YyxvPW0pLChmPTc3KigodT1JLl9nZXRBUkdCKHksYSkpPj4xNiYyNTUpKzE1MSoodT4+OCYyNTUpKzI4KigyNTUmdSkpPG8mJihuPXUsbz1mKSwodj03NyoocD4+MTYmMjU1KSsxNTEqKHA+PjgmMjU1KSsyOCooMjU1JnApKTxvJiYobj1wLG89diksKGc9NzcqKGQ+PjE2JjI1NSkrMTUxKihkPj44JjI1NSkrMjgqKDI1NSZkKSk8byYmKG49ZCxvPWcpLHhbYisrXT1uO0kuX3NldFBpeGVscyh5LHgpfSxJLmJsdXI9ZnVuY3Rpb24oZSx0KXtpKGUsdCl9LHQuZXhwb3J0cz1JfSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgYz1lKFwiLi4vY29yZS9tYWluXCIpLHA9W107Yy5wcm90b3R5cGUuY3JlYXRlSW1hZ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiY3JlYXRlSW1hZ2VcIixhcmd1bWVudHMpLG5ldyBjLkltYWdlKGUsdCl9LGMucHJvdG90eXBlLnNhdmVDYW52YXM9ZnVuY3Rpb24oKXtjLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJzYXZlQ2FudmFzXCIsYXJndW1lbnRzKTt2YXIgZSx0LHIsaSxuPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtzd2l0Y2goYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudD8oZT1hcmd1bWVudHNbMF0sbi5zaGlmdCgpKTphcmd1bWVudHNbMF1pbnN0YW5jZW9mIGMuRWxlbWVudD8oZT1hcmd1bWVudHNbMF0uZWx0LG4uc2hpZnQoKSk6ZT10aGlzLl9jdXJFbGVtZW50JiZ0aGlzLl9jdXJFbGVtZW50LmVsdCwxPD1uLmxlbmd0aCYmKHQ9blswXSksMjw9bi5sZW5ndGgmJihyPW5bMV0pLHI9cnx8Yy5wcm90b3R5cGUuX2NoZWNrRmlsZUV4dGVuc2lvbih0LHIpWzFdfHxcInBuZ1wiKXtkZWZhdWx0Omk9XCJpbWFnZS9wbmdcIjticmVhaztjYXNlXCJqcGVnXCI6Y2FzZVwianBnXCI6aT1cImltYWdlL2pwZWdcIn1lLnRvQmxvYihmdW5jdGlvbihlKXtjLnByb3RvdHlwZS5kb3dubG9hZEZpbGUoZSx0LHIpfSxpKX0sYy5wcm90b3R5cGUuc2F2ZUZyYW1lcz1mdW5jdGlvbihlLHQscixpLG4pe2MuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInNhdmVGcmFtZXNcIixhcmd1bWVudHMpO3ZhciBvPXJ8fDM7bz1jLnByb3RvdHlwZS5jb25zdHJhaW4obywwLDE1KSxvKj0xZTM7dmFyIGE9aXx8MTU7YT1jLnByb3RvdHlwZS5jb25zdHJhaW4oYSwwLDIyKTt2YXIgcz0wLGg9Yy5wcm90b3R5cGUuX21ha2VGcmFtZSxsPXRoaXMuX2N1ckVsZW1lbnQuZWx0LHU9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtoKGUrcyx0LGwpLHMrK30sMWUzL2EpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihjbGVhckludGVydmFsKHUpLG4pbihwKTtlbHNlIGZvcih2YXIgZT0wO2U8cC5sZW5ndGg7ZSsrKXt2YXIgdD1wW2VdO2MucHJvdG90eXBlLmRvd25sb2FkRmlsZSh0LmltYWdlRGF0YSx0LmZpbGVuYW1lLHQuZXh0KX1wPVtdfSxvKy4wMSl9LGMucHJvdG90eXBlLl9tYWtlRnJhbWU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG47aWYoaT10aGlzP3RoaXMuX2N1ckVsZW1lbnQuZWx0OnIsdClzd2l0Y2godC50b0xvd2VyQ2FzZSgpKXtjYXNlXCJwbmdcIjpuPVwiaW1hZ2UvcG5nXCI7YnJlYWs7Y2FzZVwianBlZ1wiOmNhc2VcImpwZ1wiOm49XCJpbWFnZS9qcGVnXCI7YnJlYWs7ZGVmYXVsdDpuPVwiaW1hZ2UvcG5nXCJ9ZWxzZSB0PVwicG5nXCIsbj1cImltYWdlL3BuZ1wiO3ZhciBvPWkudG9EYXRhVVJMKG4pO289by5yZXBsYWNlKG4sXCJpbWFnZS9vY3RldC1zdHJlYW1cIik7dmFyIGE9e307YS5pbWFnZURhdGE9byxhLmZpbGVuYW1lPWUsYS5leHQ9dCxwLnB1c2goYSl9LHQuZXhwb3J0cz1jfSx7XCIuLi9jb3JlL21haW5cIjoyM31dLDQzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHg9ZShcIi4uL2NvcmUvbWFpblwiKSxjPWUoXCIuL2ZpbHRlcnNcIiksdz1lKFwiLi4vY29yZS9oZWxwZXJzXCIpLGk9ZShcIi4uL2NvcmUvY29uc3RhbnRzXCIpO2Z1bmN0aW9uIFMoZSx0KXtyZXR1cm4gMDxlJiZlPHQ/ZTp0fWUoXCIuLi9jb3JlL2Vycm9yX2hlbHBlcnNcIikseC5wcm90b3R5cGUubG9hZEltYWdlPWZ1bmN0aW9uKGUsdCxyKXt4Ll92YWxpZGF0ZVBhcmFtZXRlcnMoXCJsb2FkSW1hZ2VcIixhcmd1bWVudHMpO3ZhciBpPW5ldyBJbWFnZSxuPW5ldyB4LkltYWdlKDEsMSx0aGlzKSxvPXRoaXM7cmV0dXJuIGkub25sb2FkPWZ1bmN0aW9uKCl7bi53aWR0aD1uLmNhbnZhcy53aWR0aD1pLndpZHRoLG4uaGVpZ2h0PW4uY2FudmFzLmhlaWdodD1pLmhlaWdodCxuLmRyYXdpbmdDb250ZXh0LmRyYXdJbWFnZShpLDAsMCksbi5tb2RpZmllZD0hMCxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0KG4pLG8uX2RlY3JlbWVudFByZWxvYWQoKX0saS5vbmVycm9yPWZ1bmN0aW9uKGUpe3guX2ZyaWVuZGx5RmlsZUxvYWRFcnJvcigwLGkuc3JjKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByP3IoZSk6Y29uc29sZS5lcnJvcihlKX0sMCE9PWUuaW5kZXhPZihcImRhdGE6aW1hZ2UvXCIpJiYoaS5jcm9zc09yaWdpbj1cIkFub255bW91c1wiKSxpLnNyYz1lLG59LHgucHJvdG90eXBlLmltYWdlPWZ1bmN0aW9uKGUsdCxyLGksbixvLGEscyxoKXt4Ll92YWxpZGF0ZVBhcmFtZXRlcnMoXCJpbWFnZVwiLGFyZ3VtZW50cyk7dmFyIGw9ZS53aWR0aCx1PWUuaGVpZ2h0O2UuZWx0JiZlLmVsdC52aWRlb1dpZHRoJiYhZS5jYW52YXMmJihsPWUuZWx0LnZpZGVvV2lkdGgsdT1lLmVsdC52aWRlb0hlaWdodCk7dmFyIGM9dCxwPXIsZD1pfHxsLGY9bnx8dSxtPW98fDAsdj1hfHwwLGc9c3x8bCx5PWh8fHU7Zz1TKGcsbCkseT1TKHksdSk7dmFyIGI9MTtlLmVsdCYmIWUuY2FudmFzJiZlLmVsdC5zdHlsZS53aWR0aCYmKGI9ZS5lbHQudmlkZW9XaWR0aCYmIWk/ZS5lbHQudmlkZW9XaWR0aDplLmVsdC53aWR0aCxiLz1wYXJzZUludChlLmVsdC5zdHlsZS53aWR0aCwxMCkpLG0qPWIsdio9Yix5Kj1iLGcqPWI7dmFyIF89dy5tb2RlQWRqdXN0KGMscCxkLGYsdGhpcy5fcmVuZGVyZXIuX2ltYWdlTW9kZSk7dGhpcy5fcmVuZGVyZXIuaW1hZ2UoZSxtLHYsZyx5LF8ueCxfLnksXy53LF8uaCl9LHgucHJvdG90eXBlLnRpbnQ9ZnVuY3Rpb24oKXt4Ll92YWxpZGF0ZVBhcmFtZXRlcnMoXCJ0aW50XCIsYXJndW1lbnRzKTt2YXIgZT10aGlzLmNvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9yZW5kZXJlci5fdGludD1lLmxldmVsc30seC5wcm90b3R5cGUubm9UaW50PWZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyZXIuX3RpbnQ9bnVsbH0seC5wcm90b3R5cGUuX2dldFRpbnRlZEltYWdlQ2FudmFzPWZ1bmN0aW9uKGUpe2lmKCFlLmNhbnZhcylyZXR1cm4gZTt2YXIgdD1jLl90b1BpeGVscyhlLmNhbnZhcykscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Iud2lkdGg9ZS5jYW52YXMud2lkdGgsci5oZWlnaHQ9ZS5jYW52YXMuaGVpZ2h0O2Zvcih2YXIgaT1yLmdldENvbnRleHQoXCIyZFwiKSxuPWkuY3JlYXRlSW1hZ2VEYXRhKGUuY2FudmFzLndpZHRoLGUuY2FudmFzLmhlaWdodCksbz1uLmRhdGEsYT0wO2E8dC5sZW5ndGg7YSs9NCl7dmFyIHM9dFthXSxoPXRbYSsxXSxsPXRbYSsyXSx1PXRbYSszXTtvW2FdPXMqdGhpcy5fcmVuZGVyZXIuX3RpbnRbMF0vMjU1LG9bYSsxXT1oKnRoaXMuX3JlbmRlcmVyLl90aW50WzFdLzI1NSxvW2ErMl09bCp0aGlzLl9yZW5kZXJlci5fdGludFsyXS8yNTUsb1thKzNdPXUqdGhpcy5fcmVuZGVyZXIuX3RpbnRbM10vMjU1fXJldHVybiBpLnB1dEltYWdlRGF0YShuLDAsMCkscn0seC5wcm90b3R5cGUuaW1hZ2VNb2RlPWZ1bmN0aW9uKGUpe3guX3ZhbGlkYXRlUGFyYW1ldGVycyhcImltYWdlTW9kZVwiLGFyZ3VtZW50cyksZSE9PWkuQ09STkVSJiZlIT09aS5DT1JORVJTJiZlIT09aS5DRU5URVJ8fCh0aGlzLl9yZW5kZXJlci5faW1hZ2VNb2RlPWUpfSx0LmV4cG9ydHM9eH0se1wiLi4vY29yZS9jb25zdGFudHNcIjoxNyxcIi4uL2NvcmUvZXJyb3JfaGVscGVyc1wiOjE5LFwiLi4vY29yZS9oZWxwZXJzXCI6MjAsXCIuLi9jb3JlL21haW5cIjoyMyxcIi4vZmlsdGVyc1wiOjQxfV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbD1lKFwiLi4vY29yZS9tYWluXCIpLGk9ZShcIi4vZmlsdGVyc1wiKTtsLkltYWdlPWZ1bmN0aW9uKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmNhbnZhcy53aWR0aD10aGlzLndpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10aGlzLmhlaWdodCx0aGlzLmRyYXdpbmdDb250ZXh0PXRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLl9waXhlbERlbnNpdHk9MSx0aGlzLl9tb2RpZmllZD0hMSx0aGlzLl9waXhlbHNEaXJ0eT0hMCx0aGlzLnBpeGVscz1bXX0sbC5JbWFnZS5wcm90b3R5cGUuX3NldFByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7dGhpc1tlXT10LHRoaXMuc2V0TW9kaWZpZWQoITApfSxsLkltYWdlLnByb3RvdHlwZS5sb2FkUGl4ZWxzPWZ1bmN0aW9uKCl7bC5SZW5kZXJlcjJELnByb3RvdHlwZS5sb2FkUGl4ZWxzLmNhbGwodGhpcyksdGhpcy5zZXRNb2RpZmllZCghMCl9LGwuSW1hZ2UucHJvdG90eXBlLnVwZGF0ZVBpeGVscz1mdW5jdGlvbihlLHQscixpKXtsLlJlbmRlcmVyMkQucHJvdG90eXBlLnVwZGF0ZVBpeGVscy5jYWxsKHRoaXMsZSx0LHIsaSksdGhpcy5zZXRNb2RpZmllZCghMCl9LGwuSW1hZ2UucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gbC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxlLHQscixpKX0sbC5JbWFnZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyKXtsLlJlbmRlcmVyMkQucHJvdG90eXBlLnNldC5jYWxsKHRoaXMsZSx0LHIpLHRoaXMuc2V0TW9kaWZpZWQoITApfSxsLkltYWdlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXswPT09ZSYmMD09PXQ/KGU9dGhpcy5jYW52YXMud2lkdGgsdD10aGlzLmNhbnZhcy5oZWlnaHQpOjA9PT1lP2U9dGhpcy5jYW52YXMud2lkdGgqdC90aGlzLmNhbnZhcy5oZWlnaHQ6MD09PXQmJih0PXRoaXMuY2FudmFzLmhlaWdodCplL3RoaXMuY2FudmFzLndpZHRoKSxlPU1hdGguZmxvb3IoZSksdD1NYXRoLmZsb29yKHQpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ci53aWR0aD1lLHIuaGVpZ2h0PXQsci5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKHRoaXMuY2FudmFzLDAsMCx0aGlzLmNhbnZhcy53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQsMCwwLHIud2lkdGgsci5oZWlnaHQpLHRoaXMuY2FudmFzLndpZHRoPXRoaXMud2lkdGg9ZSx0aGlzLmNhbnZhcy5oZWlnaHQ9dGhpcy5oZWlnaHQ9dCx0aGlzLmRyYXdpbmdDb250ZXh0LmRyYXdJbWFnZShyLDAsMCxlLHQsMCwwLGUsdCksMDx0aGlzLnBpeGVscy5sZW5ndGgmJnRoaXMubG9hZFBpeGVscygpLHRoaXMuc2V0TW9kaWZpZWQoITApLHRoaXMuX3BpeGVsc0RpcnR5PSEwfSxsLkltYWdlLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGksbixvLGEscyxoO2lmKDk9PT1hcmd1bWVudHMubGVuZ3RoKWU9YXJndW1lbnRzWzBdLHQ9YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdLGk9YXJndW1lbnRzWzNdLG49YXJndW1lbnRzWzRdLG89YXJndW1lbnRzWzVdLGE9YXJndW1lbnRzWzZdLHM9YXJndW1lbnRzWzddLGg9YXJndW1lbnRzWzhdO2Vsc2V7aWYoOCE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiU2lnbmF0dXJlIG5vdCBzdXBwb3J0ZWRcIik7ZT10aGlzLHQ9YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdLGk9YXJndW1lbnRzWzJdLG49YXJndW1lbnRzWzNdLG89YXJndW1lbnRzWzRdLGE9YXJndW1lbnRzWzVdLHM9YXJndW1lbnRzWzZdLGg9YXJndW1lbnRzWzddfWwuUmVuZGVyZXIyRC5fY29weUhlbHBlcih0aGlzLGUsdCxyLGksbixvLGEscyxoKSx0aGlzLl9waXhlbHNEaXJ0eT0hMH0sbC5JbWFnZS5wcm90b3R5cGUubWFzaz1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT10aGlzKTt2YXIgdD10aGlzLmRyYXdpbmdDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbixyPTE7ZSBpbnN0YW5jZW9mIGwuUmVuZGVyZXImJihyPWUuX3BJbnN0Ll9waXhlbERlbnNpdHkpO3ZhciBpPVtlLDAsMCxyKmUud2lkdGgsciplLmhlaWdodCwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF07dGhpcy5kcmF3aW5nQ29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJkZXN0aW5hdGlvbi1pblwiLGwuSW1hZ2UucHJvdG90eXBlLmNvcHkuYXBwbHkodGhpcyxpKSx0aGlzLmRyYXdpbmdDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj10LHRoaXMuc2V0TW9kaWZpZWQoITApfSxsLkltYWdlLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24oZSx0KXtpLmFwcGx5KHRoaXMuY2FudmFzLGlbZS50b0xvd2VyQ2FzZSgpXSx0KSx0aGlzLnNldE1vZGlmaWVkKCEwKX0sbC5JbWFnZS5wcm90b3R5cGUuYmxlbmQ9ZnVuY3Rpb24oKXtsLnByb3RvdHlwZS5ibGVuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5zZXRNb2RpZmllZCghMCl9LGwuSW1hZ2UucHJvdG90eXBlLnNldE1vZGlmaWVkPWZ1bmN0aW9uKGUpe3RoaXMuX21vZGlmaWVkPWV9LGwuSW1hZ2UucHJvdG90eXBlLmlzTW9kaWZpZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kaWZpZWR9LGwuSW1hZ2UucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oZSx0KXtsLnByb3RvdHlwZS5zYXZlQ2FudmFzKHRoaXMuY2FudmFzLGUsdCl9LHQuZXhwb3J0cz1sLkltYWdlfSx7XCIuLi9jb3JlL21haW5cIjoyMyxcIi4vZmlsdGVyc1wiOjQxfV0sNDU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi4vY29yZS9tYWluXCIpLGk9ZShcIi4vZmlsdGVyc1wiKTtlKFwiLi4vY29sb3IvcDUuQ29sb3JcIiksbi5wcm90b3R5cGUucGl4ZWxzPVtdLG4ucHJvdG90eXBlLmJsZW5kPWZ1bmN0aW9uKCl7bi5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiYmxlbmRcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyP3RoaXMuX3JlbmRlcmVyLmJsZW5kLmFwcGx5KHRoaXMuX3JlbmRlcmVyLGFyZ3VtZW50cyk6bi5SZW5kZXJlcjJELnByb3RvdHlwZS5ibGVuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtuLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJjb3B5XCIsYXJndW1lbnRzKSxuLlJlbmRlcmVyMkQucHJvdG90eXBlLmNvcHkuYXBwbHkodGhpcy5fcmVuZGVyZXIsYXJndW1lbnRzKX0sbi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGUsdCl7bi5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiZmlsdGVyXCIsYXJndW1lbnRzKSx2b2lkIDAhPT10aGlzLmNhbnZhcz9pLmFwcGx5KHRoaXMuY2FudmFzLGlbZS50b0xvd2VyQ2FzZSgpXSx0KTppLmFwcGx5KHRoaXMuZWx0LGlbZS50b0xvd2VyQ2FzZSgpXSx0KX0sbi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiB2b2lkIDA9PT1yJiZ2b2lkIDA9PT1pJiYodm9pZCAwPT09ZSYmdm9pZCAwPT09dD8oZT10PTAscj10aGlzLndpZHRoLGk9dGhpcy5oZWlnaHQpOnI9aT0xKSxlK3I8MHx8dCtpPDB8fGU+PXRoaXMud2lkdGh8fHQ+PXRoaXMuaGVpZ2h0P1swLDAsMCwyNTVdOihlPU1hdGguZmxvb3IoZSksdD1NYXRoLmZsb29yKHQpLHI9TWF0aC5mbG9vcihyKSxpPU1hdGguZmxvb3IoaSksdGhpcyBpbnN0YW5jZW9mIG4uSW1hZ2U/bi5SZW5kZXJlcjJELnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLGUsdCxyLGkpOnRoaXMuX3JlbmRlcmVyLmdldChlLHQscixpKSl9LG4ucHJvdG90eXBlLmxvYWRQaXhlbHM9ZnVuY3Rpb24oKXtuLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJsb2FkUGl4ZWxzXCIsYXJndW1lbnRzKSx0aGlzLl9yZW5kZXJlci5sb2FkUGl4ZWxzKCl9LG4ucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscil7dGhpcy5fcmVuZGVyZXIuc2V0KGUsdCxyKX0sbi5wcm90b3R5cGUudXBkYXRlUGl4ZWxzPWZ1bmN0aW9uKGUsdCxyLGkpe24uX3ZhbGlkYXRlUGFyYW1ldGVycyhcInVwZGF0ZVBpeGVsc1wiLGFyZ3VtZW50cyksMCE9PXRoaXMucGl4ZWxzLmxlbmd0aCYmdGhpcy5fcmVuZGVyZXIudXBkYXRlUGl4ZWxzKGUsdCxyLGkpfSx0LmV4cG9ydHM9bn0se1wiLi4vY29sb3IvcDUuQ29sb3JcIjoxNSxcIi4uL2NvcmUvbWFpblwiOjIzLFwiLi9maWx0ZXJzXCI6NDF9XSw0NjpbZnVuY3Rpb24ocyxlLHQpe1widXNlIHN0cmljdFwiO3ZhciB2PXMoXCIuLi9jb3JlL21haW5cIik7cyhcIndoYXR3Zy1mZXRjaFwiKSxzKFwiZXM2LXByb21pc2VcIikucG9seWZpbGwoKTt2YXIgZz1zKFwiZmV0Y2gtanNvbnBcIik7ZnVuY3Rpb24geShlLHQpe3ZhciByPXt9O2lmKHZvaWQgMD09PSh0PXR8fFtdKSlmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0W2kudG9TdHJpbmcoKV09aTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXSxhPWVbbl07cltvXT1hfXJldHVybiByfWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGUucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIikucmVwbGFjZSgvJy9nLFwiJiMwMzk7XCIpfWZ1bmN0aW9uIGgoZSx0KXt0JiYhMCE9PXQmJlwidHJ1ZVwiIT09dHx8KHQ9XCJcIiksZXx8KGU9XCJ1bnRpdGxlZFwiKTt2YXIgcj1cIlwiO3JldHVybiBlJiYtMTxlLmluZGV4T2YoXCIuXCIpJiYocj1lLnNwbGl0KFwiLlwiKS5wb3AoKSksdCYmciE9PXQmJihlPWUrXCIuXCIrKHI9dCkpLFtlLHJdfXMoXCIuLi9jb3JlL2Vycm9yX2hlbHBlcnNcIiksdi5wcm90b3R5cGUubG9hZEpTT049ZnVuY3Rpb24oKXt2Ll92YWxpZGF0ZVBhcmFtZXRlcnMoXCJsb2FkSlNPTlwiLGFyZ3VtZW50cyk7Zm9yKHZhciByLHQsZSxpPWFyZ3VtZW50c1swXSxuPXt9LG89XCJqc29uXCIsYT0xO2E8YXJndW1lbnRzLmxlbmd0aDthKyspe3ZhciBzPWFyZ3VtZW50c1thXTtcInN0cmluZ1wiPT10eXBlb2Ygcz9cImpzb25wXCIhPT1zJiZcImpzb25cIiE9PXN8fChvPXMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHM/cj90PXM6cj1zOlwib2JqZWN0XCI9PXR5cGVvZiBzJiZzLmhhc093blByb3BlcnR5KFwianNvbnBDYWxsYmFja1wiKSYmKG89XCJqc29ucFwiLGU9cyl9dmFyIGg9dGhpcztyZXR1cm4gdGhpcy5odHRwRG8oaSxcIkdFVFwiLGUsbyxmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSluW3RdPWVbdF07dm9pZCAwIT09ciYmcihlKSxoLl9kZWNyZW1lbnRQcmVsb2FkKCl9LGZ1bmN0aW9uKGUpe2lmKHYuX2ZyaWVuZGx5RmlsZUxvYWRFcnJvcig1LGkpLCF0KXRocm93IGU7dChlKX0pLG59LHYucHJvdG90eXBlLmxvYWRTdHJpbmdzPWZ1bmN0aW9uKCl7di5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibG9hZFN0cmluZ3NcIixhcmd1bWVudHMpO2Zvcih2YXIgcix0LGk9W10sZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYodm9pZCAwPT09cj9yPW46dm9pZCAwPT09dCYmKHQ9bikpfXZhciBvPXRoaXM7cmV0dXJuIHYucHJvdG90eXBlLmh0dHBEby5jYWxsKHRoaXMsYXJndW1lbnRzWzBdLFwiR0VUXCIsXCJ0ZXh0XCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcclwiKS5yZXBsYWNlKC9cXG4vZyxcIlxcclwiKS5zcGxpdCgvXFxyLyk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoaSx0KSx2b2lkIDAhPT1yJiZyKGkpLG8uX2RlY3JlbWVudFByZWxvYWQoKX0sZnVuY3Rpb24oZSl7aWYodi5fZnJpZW5kbHlGaWxlTG9hZEVycm9yKDMsZSksIXQpdGhyb3cgZTt0KGUpfSksaX0sdi5wcm90b3R5cGUubG9hZFRhYmxlPWZ1bmN0aW9uKHQpe3ZhciB1LHIsZT1bXSxjPSExLGk9dC5zdWJzdHJpbmcodC5sYXN0SW5kZXhPZihcIi5cIikrMSx0Lmxlbmd0aCkscD1cIixcIixuPSExO1widHN2XCI9PT1pJiYocD1cIlxcdFwiKTtmb3IodmFyIGQ9MTtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1tkXSl2b2lkIDA9PT11P3U9YXJndW1lbnRzW2RdOnZvaWQgMD09PXImJihyPWFyZ3VtZW50c1tkXSk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgYXJndW1lbnRzW2RdKWlmKGUucHVzaChhcmd1bWVudHNbZF0pLFwiaGVhZGVyXCI9PT1hcmd1bWVudHNbZF0mJihjPSEwKSxcImNzdlwiPT09YXJndW1lbnRzW2RdKXtpZihuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgbXVsdGlwbGUgc2VwYXJhdG9yIHR5cGVzLlwiKTtwPVwiLFwiLG49ITB9ZWxzZSBpZihcInRzdlwiPT09YXJndW1lbnRzW2RdKXtpZihuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgbXVsdGlwbGUgc2VwYXJhdG9yIHR5cGVzLlwiKTtwPVwiXFx0XCIsbj0hMH12YXIgZj1uZXcgdi5UYWJsZSxtPXRoaXM7cmV0dXJuIHRoaXMuaHR0cERvKHQsXCJHRVRcIixcInRhYmxlXCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHIsaT17fSxuPVtdLG89MCxhPW51bGwscz1mdW5jdGlvbigpe2kuY3VycmVudFN0YXRlPTAsaS50b2tlbj1cIlwifSxoPWZ1bmN0aW9uKCl7YS5wdXNoKGkudG9rZW4pLHMoKX0sbD1mdW5jdGlvbigpe2kuY3VycmVudFN0YXRlPTQsbi5wdXNoKGEpLGE9bnVsbH07Oyl7aWYobnVsbD09KHQ9ZVtvKytdKSl7aWYoaS5lc2NhcGVkKXRocm93IG5ldyBFcnJvcihcIlVuY2xvc2VkIHF1b3RlIGluIGZpbGUuXCIpO2lmKGEpe2goKSxsKCk7YnJlYWt9fWlmKG51bGw9PT1hJiYoaS5lc2NhcGVkPSExLGE9W10scygpKSwwPT09aS5jdXJyZW50U3RhdGUpe2lmKCdcIic9PT10KXtpLmVzY2FwZWQ9ITAsaS5jdXJyZW50U3RhdGU9MTtjb250aW51ZX1pLmN1cnJlbnRTdGF0ZT0xfWlmKDE9PT1pLmN1cnJlbnRTdGF0ZSYmaS5lc2NhcGVkKWlmKCdcIic9PT10KSdcIic9PT1lW29dPyhpLnRva2VuKz0nXCInLG8rKyk6KGkuZXNjYXBlZD0hMSxpLmN1cnJlbnRTdGF0ZT0yKTtlbHNle2lmKFwiXFxyXCI9PT10KWNvbnRpbnVlO2kudG9rZW4rPXR9ZWxzZVwiXFxyXCI9PT10PyhcIlxcblwiPT09ZVtvXSYmbysrLGgoKSxsKCkpOlwiXFxuXCI9PT10PyhoKCksbCgpKTp0PT09cD9oKCk6MT09PWkuY3VycmVudFN0YXRlJiYoaS50b2tlbis9dCl9aWYoYylmLmNvbHVtbnM9bi5zaGlmdCgpO2Vsc2UgZm9yKGQ9MDtkPG5bMF0ubGVuZ3RoO2QrKylmLmNvbHVtbnNbZF09XCJudWxsXCI7Zm9yKGQ9MDtkPG4ubGVuZ3RoO2QrKykoMSE9PW5bZF0ubGVuZ3RofHxcInVuZGVmaW5lZFwiIT09bltkXVswXSYmXCJcIiE9PW5bZF1bMF0pJiYoKHI9bmV3IHYuVGFibGVSb3cpLmFycj1uW2RdLHIub2JqPXkobltkXSxmLmNvbHVtbnMpLGYuYWRkUm93KHIpKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiB1JiZ1KGYpLG0uX2RlY3JlbWVudFByZWxvYWQoKX0sZnVuY3Rpb24oZSl7di5fZnJpZW5kbHlGaWxlTG9hZEVycm9yKDIsdCkscj9yKGUpOmNvbnNvbGUuZXJyb3IoZSl9KSxmfSx2LnByb3RvdHlwZS5sb2FkWE1MPWZ1bmN0aW9uKCl7Zm9yKHZhciByLHQsaT1uZXcgdi5YTUwsZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYodm9pZCAwPT09cj9yPW46dm9pZCAwPT09dCYmKHQ9bikpfXZhciBvPXRoaXM7cmV0dXJuIHRoaXMuaHR0cERvKGFyZ3VtZW50c1swXSxcIkdFVFwiLFwieG1sXCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaVt0XT1lW3RdO3ZvaWQgMCE9PXImJnIoaSksby5fZGVjcmVtZW50UHJlbG9hZCgpfSxmdW5jdGlvbihlKXtpZih2Ll9mcmllbmRseUZpbGVMb2FkRXJyb3IoMSxlKSwhdCl0aHJvdyBlO3QoZSl9KSxpfSx2LnByb3RvdHlwZS5sb2FkQnl0ZXM9ZnVuY3Rpb24odCxyLGkpe3ZhciBuPXt9LG89dGhpcztyZXR1cm4gdGhpcy5odHRwRG8odCxcIkdFVFwiLFwiYXJyYXlCdWZmZXJcIixmdW5jdGlvbihlKXtuLmJ5dGVzPW5ldyBVaW50OEFycmF5KGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHImJnIobiksby5fZGVjcmVtZW50UHJlbG9hZCgpfSxmdW5jdGlvbihlKXtpZih2Ll9mcmllbmRseUZpbGVMb2FkRXJyb3IoNix0KSwhaSl0aHJvdyBlO2koZSl9KSxufSx2LnByb3RvdHlwZS5odHRwR2V0PWZ1bmN0aW9uKCl7di5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiaHR0cEdldFwiLGFyZ3VtZW50cyk7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZS5zcGxpY2UoMSwwLFwiR0VUXCIpLHYucHJvdG90eXBlLmh0dHBEby5hcHBseSh0aGlzLGUpfSx2LnByb3RvdHlwZS5odHRwUG9zdD1mdW5jdGlvbigpe3YuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImh0dHBQb3N0XCIsYXJndW1lbnRzKTt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBlLnNwbGljZSgxLDAsXCJQT1NUXCIpLHYucHJvdG90eXBlLmh0dHBEby5hcHBseSh0aGlzLGUpfSx2LnByb3RvdHlwZS5odHRwRG89ZnVuY3Rpb24oKXtmb3IodmFyIGksZSx0LHIsbixvPXt9LGE9MCxzPVwidGV4dC9wbGFpblwiLGg9YXJndW1lbnRzLmxlbmd0aC0xOzA8aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzW2hdO2gtLSlhKys7dmFyIGw9YXJndW1lbnRzLmxlbmd0aC1hLHU9YXJndW1lbnRzWzBdO2lmKDI9PT1sJiZcInN0cmluZ1wiPT10eXBlb2YgdSYmXCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1sxXSlyPW5ldyBSZXF1ZXN0KHUsYXJndW1lbnRzWzFdKSxlPWFyZ3VtZW50c1syXSx0PWFyZ3VtZW50c1szXTtlbHNle2Zvcih2YXIgYyxwPVwiR0VUXCIsZD0xO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspe3ZhciBmPWFyZ3VtZW50c1tkXTtpZihcInN0cmluZ1wiPT10eXBlb2YgZilcIkdFVFwiPT09Znx8XCJQT1NUXCI9PT1mfHxcIlBVVFwiPT09Znx8XCJERUxFVEVcIj09PWY/cD1mOlwianNvblwiPT09Znx8XCJqc29ucFwiPT09Znx8XCJiaW5hcnlcIj09PWZ8fFwiYXJyYXlCdWZmZXJcIj09PWZ8fFwieG1sXCI9PT1mfHxcInRleHRcIj09PWZ8fFwidGFibGVcIj09PWY/aT1mOmM9ZjtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBmKWM9Zi50b1N0cmluZygpO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGYpaWYoZi5oYXNPd25Qcm9wZXJ0eShcImpzb25wQ2FsbGJhY2tcIikpZm9yKHZhciBtIGluIGYpb1ttXT1mW21dO2Vsc2Ugcz1mIGluc3RhbmNlb2Ygdi5YTUw/KGM9Zi5zZXJpYWxpemUoKSxcImFwcGxpY2F0aW9uL3htbFwiKTooYz1KU09OLnN0cmluZ2lmeShmKSxcImFwcGxpY2F0aW9uL2pzb25cIik7ZWxzZVwiZnVuY3Rpb25cIj09dHlwZW9mIGYmJihlP3Q9ZjplPWYpfXI9bmV3IFJlcXVlc3QodSx7bWV0aG9kOnAsbW9kZTpcImNvcnNcIixib2R5OmMsaGVhZGVyczpuZXcgSGVhZGVycyh7XCJDb250ZW50LVR5cGVcIjpzfSl9KX1yZXR1cm4gaXx8KGk9LTEhPT11LmluZGV4T2YoXCJqc29uXCIpP1wianNvblwiOi0xIT09dS5pbmRleE9mKFwieG1sXCIpP1wieG1sXCI6XCJ0ZXh0XCIpLChuPShuPVwianNvbnBcIj09PWk/Zyh1LG8pOmZldGNoKHIpKS50aGVuKGZ1bmN0aW9uKGUpe2lmKCFlLm9rKXt2YXIgdD1uZXcgRXJyb3IoZS5ib2R5KTt0aHJvdyB0LnN0YXR1cz1lLnN0YXR1cyx0Lm9rPSExLHR9dmFyIHI9ZS5oZWFkZXJzLmdldChcImNvbnRlbnQtbGVuZ3RoXCIpO3N3aXRjaChyJiY2NGU2PHImJnYuX2ZyaWVuZGx5RmlsZUxvYWRFcnJvcig3LHUpLGkpe2Nhc2VcImpzb25cIjpjYXNlXCJqc29ucFwiOnJldHVybiBlLmpzb24oKTtjYXNlXCJiaW5hcnlcIjpyZXR1cm4gZS5ibG9iKCk7Y2FzZVwiYXJyYXlCdWZmZXJcIjpyZXR1cm4gZS5hcnJheUJ1ZmZlcigpO2Nhc2VcInhtbFwiOnJldHVybiBlLnRleHQoKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQveG1sXCIpO3JldHVybiBuZXcgdi5YTUwodC5kb2N1bWVudEVsZW1lbnQpfSk7ZGVmYXVsdDpyZXR1cm4gZS50ZXh0KCl9fSkpLnRoZW4oZXx8ZnVuY3Rpb24oKXt9KSxuLmNhdGNoKHR8fGNvbnNvbGUuZXJyb3IpLG59LHdpbmRvdy5VUkw9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTCx2LnByb3RvdHlwZS5fcFdyaXRlcnM9W10sdi5wcm90b3R5cGUuY3JlYXRlV3JpdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI7Zm9yKHZhciBpIGluIHYucHJvdG90eXBlLl9wV3JpdGVycylpZih2LnByb3RvdHlwZS5fcFdyaXRlcnNbaV0ubmFtZT09PWUpcmV0dXJuIHI9bmV3IHYuUHJpbnRXcml0ZXIoZSt0aGlzLm1pbGxpcygpLHQpLHYucHJvdG90eXBlLl9wV3JpdGVycy5wdXNoKHIpLHI7cmV0dXJuIHI9bmV3IHYuUHJpbnRXcml0ZXIoZSx0KSx2LnByb3RvdHlwZS5fcFdyaXRlcnMucHVzaChyKSxyfSx2LlByaW50V3JpdGVyPWZ1bmN0aW9uKHIsaSl7dmFyIG49dGhpczt0aGlzLm5hbWU9cix0aGlzLmNvbnRlbnQ9XCJcIix0aGlzLndyaXRlPWZ1bmN0aW9uKGUpe3RoaXMuY29udGVudCs9ZX0sdGhpcy5wcmludD1mdW5jdGlvbihlKXt0aGlzLmNvbnRlbnQrPWUrXCJcXG5cIn0sdGhpcy5jbGVhcj1mdW5jdGlvbigpe3RoaXMuY29udGVudD1cIlwifSx0aGlzLmNsb3NlPWZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHZhciB0IGluIGUucHVzaCh0aGlzLmNvbnRlbnQpLHYucHJvdG90eXBlLndyaXRlRmlsZShlLHIsaSksdi5wcm90b3R5cGUuX3BXcml0ZXJzKXYucHJvdG90eXBlLl9wV3JpdGVyc1t0XS5uYW1lPT09dGhpcy5uYW1lJiZ2LnByb3RvdHlwZS5fcFdyaXRlcnMuc3BsaWNlKHQsMSk7bi5jbGVhcigpLG49e319fSx2LnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1hcmd1bWVudHMsbj10aGlzLl9jdXJFbGVtZW50P3RoaXMuX2N1ckVsZW1lbnQuZWx0OnRoaXMuZWx0O2lmKDAhPT1pLmxlbmd0aClpZihpWzBdaW5zdGFuY2VvZiB2LlJlbmRlcmVyfHxpWzBdaW5zdGFuY2VvZiB2LkdyYXBoaWNzKXYucHJvdG90eXBlLnNhdmVDYW52YXMoaVswXS5lbHQsaVsxXSxpWzJdKTtlbHNlIGlmKDE9PT1pLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGlbMF0pdi5wcm90b3R5cGUuc2F2ZUNhbnZhcyhuLGlbMF0pO2Vsc2Ugc3dpdGNoKGgoaVsxXSxpWzJdKVsxXSl7Y2FzZVwianNvblwiOnJldHVybiB2b2lkIHYucHJvdG90eXBlLnNhdmVKU09OKGlbMF0saVsxXSxpWzJdKTtjYXNlXCJ0eHRcIjpyZXR1cm4gdm9pZCB2LnByb3RvdHlwZS5zYXZlU3RyaW5ncyhpWzBdLGlbMV0saVsyXSk7ZGVmYXVsdDppWzBdaW5zdGFuY2VvZiBBcnJheT92LnByb3RvdHlwZS5zYXZlU3RyaW5ncyhpWzBdLGlbMV0saVsyXSk6aVswXWluc3RhbmNlb2Ygdi5UYWJsZT92LnByb3RvdHlwZS5zYXZlVGFibGUoaVswXSxpWzFdLGlbMl0pOmlbMF1pbnN0YW5jZW9mIHYuSW1hZ2U/di5wcm90b3R5cGUuc2F2ZUNhbnZhcyhpWzBdLmNhbnZhcyxpWzFdKTppWzBdaW5zdGFuY2VvZiB2LlNvdW5kRmlsZSYmdi5wcm90b3R5cGUuc2F2ZVNvdW5kKGlbMF0saVsxXSxpWzJdLGlbM10pfWVsc2Ugdi5wcm90b3R5cGUuc2F2ZUNhbnZhcyhuKX0sdi5wcm90b3R5cGUuc2F2ZUpTT049ZnVuY3Rpb24oZSx0LHIpe3ZhciBpO3YuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInNhdmVKU09OXCIsYXJndW1lbnRzKSxpPXI/SlNPTi5zdHJpbmdpZnkoZSk6SlNPTi5zdHJpbmdpZnkoZSx2b2lkIDAsMiksdGhpcy5zYXZlU3RyaW5ncyhpLnNwbGl0KFwiXFxuXCIpLHQsXCJqc29uXCIpfSx2LnByb3RvdHlwZS5zYXZlSlNPTk9iamVjdD12LnByb3RvdHlwZS5zYXZlSlNPTix2LnByb3RvdHlwZS5zYXZlSlNPTkFycmF5PXYucHJvdG90eXBlLnNhdmVKU09OLHYucHJvdG90eXBlLnNhdmVTdHJpbmdzPWZ1bmN0aW9uKGUsdCxyKXt2Ll92YWxpZGF0ZVBhcmFtZXRlcnMoXCJzYXZlU3RyaW5nc1wiLGFyZ3VtZW50cyk7Zm9yKHZhciBpPXJ8fFwidHh0XCIsbj10aGlzLmNyZWF0ZVdyaXRlcih0LGkpLG89MDtvPGUubGVuZ3RoO28rKyllLmxlbmd0aCxuLnByaW50KGVbb10pO24uY2xvc2UoKSxuLmNsZWFyKCl9LHYucHJvdG90eXBlLnNhdmVUYWJsZT1mdW5jdGlvbihlLHQscil7dmFyIGk7di5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwic2F2ZVRhYmxlXCIsYXJndW1lbnRzKSxpPXZvaWQgMD09PXI/dC5zdWJzdHJpbmcodC5sYXN0SW5kZXhPZihcIi5cIikrMSx0Lmxlbmd0aCk6cjt2YXIgbj10aGlzLmNyZWF0ZVdyaXRlcih0LGkpLG89ZS5jb2x1bW5zLGE9XCIsXCI7aWYoXCJ0c3ZcIj09PWkmJihhPVwiXFx0XCIpLFwiaHRtbFwiIT09aSl7aWYoXCIwXCIhPT1vWzBdKXtmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrKylzPG8ubGVuZ3RoLTE/bi53cml0ZShvW3NdK2EpOm4ud3JpdGUob1tzXSk7bi53cml0ZShcIlxcblwiKX1mb3IodmFyIGg9MDtoPGUucm93cy5sZW5ndGg7aCsrKXt2YXIgbDtmb3IobD0wO2w8ZS5yb3dzW2hdLmFyci5sZW5ndGg7bCsrKWw8ZS5yb3dzW2hdLmFyci5sZW5ndGgtMT9uLndyaXRlKGUucm93c1toXS5hcnJbbF0rYSk6KGUucm93cy5sZW5ndGgsbi53cml0ZShlLnJvd3NbaF0uYXJyW2xdKSk7bi53cml0ZShcIlxcblwiKX19ZWxzZXtuLnByaW50KFwiPGh0bWw+XCIpLG4ucHJpbnQoXCI8aGVhZD5cIik7aWYoJz1cInRleHQvaHRtbDtjaGFyc2V0PXV0Zi04XCIgLz4nLG4ucHJpbnQoJyAgPG1ldGEgaHR0cC1lcXVpdj1cImNvbnRlbnQtdHlwZVwiIGNvbnRlbnQ9XCJ0ZXh0L2h0bWw7Y2hhcnNldD11dGYtOFwiIC8+Jyksbi5wcmludChcIjwvaGVhZD5cIiksbi5wcmludChcIjxib2R5PlwiKSxuLnByaW50KFwiICA8dGFibGU+XCIpLFwiMFwiIT09b1swXSl7bi5wcmludChcIiAgICA8dHI+XCIpO2Zvcih2YXIgdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgYz1tKG9bdV0pO24ucHJpbnQoXCIgICAgICA8dGQ+XCIrYyksbi5wcmludChcIiAgICAgIDwvdGQ+XCIpfW4ucHJpbnQoXCIgICAgPC90cj5cIil9Zm9yKHZhciBwPTA7cDxlLnJvd3MubGVuZ3RoO3ArKyl7bi5wcmludChcIiAgICA8dHI+XCIpO2Zvcih2YXIgZD0wO2Q8ZS5jb2x1bW5zLmxlbmd0aDtkKyspe3ZhciBmPW0oZS5yb3dzW3BdLmdldFN0cmluZyhkKSk7bi5wcmludChcIiAgICAgIDx0ZD5cIitmKSxuLnByaW50KFwiICAgICAgPC90ZD5cIil9bi5wcmludChcIiAgICA8L3RyPlwiKX1uLnByaW50KFwiICA8L3RhYmxlPlwiKSxuLnByaW50KFwiPC9ib2R5PlwiKSxuLnByaW50KFwiPC9odG1sPlwiKX1uLmNsb3NlKCksbi5jbGVhcigpfSx2LnByb3RvdHlwZS53cml0ZUZpbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI7di5wcm90b3R5cGUuX2lzU2FmYXJpKCkmJihpPVwidGV4dC9wbGFpblwiKTt2YXIgbj1uZXcgQmxvYihlLHt0eXBlOml9KTt2LnByb3RvdHlwZS5kb3dubG9hZEZpbGUobix0LHIpfSx2LnByb3RvdHlwZS5kb3dubG9hZEZpbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWgodCxyKSxuPWlbMF07aWYoZSBpbnN0YW5jZW9mIEJsb2Ipe3MoXCJmaWxlLXNhdmVyXCIpLnNhdmVBcyhlLG4pfWVsc2V7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7aWYoby5ocmVmPWUsby5kb3dubG9hZD1uLG8ub25jbGljaz1mdW5jdGlvbihlKXt2YXIgdDt0PWUsZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0LnRhcmdldCksZS5zdG9wUHJvcGFnYXRpb24oKX0sby5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobyksdi5wcm90b3R5cGUuX2lzU2FmYXJpKCkpe3ZhciBhPVwiSGVsbG8sIFNhZmFyaSB1c2VyISBUbyBkb3dubG9hZCB0aGlzIGZpbGUuLi5cXG5cIjthKz1cIjEuIEdvIHRvIEZpbGUgLS1cXHgzZSBTYXZlIEFzLlxcblwiLGErPScyLiBDaG9vc2UgXCJQYWdlIFNvdXJjZVwiIGFzIHRoZSBGb3JtYXQuXFxuJyxhKz0nMy4gTmFtZSBpdCB3aXRoIHRoaXMgZXh0ZW5zaW9uOiAuXCInK2lbMV0rJ1wiJyxhbGVydChhKX1vLmNsaWNrKCl9fSx2LnByb3RvdHlwZS5fY2hlY2tGaWxlRXh0ZW5zaW9uPWgsdi5wcm90b3R5cGUuX2lzU2FmYXJpPWZ1bmN0aW9uKCl7cmV0dXJuIDA8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5IVE1MRWxlbWVudCkuaW5kZXhPZihcIkNvbnN0cnVjdG9yXCIpfSxlLmV4cG9ydHM9dn0se1wiLi4vY29yZS9lcnJvcl9oZWxwZXJzXCI6MTksXCIuLi9jb3JlL21haW5cIjoyMyxcImVzNi1wcm9taXNlXCI6NCxcImZldGNoLWpzb25wXCI6NSxcImZpbGUtc2F2ZXJcIjo2LFwid2hhdHdnLWZldGNoXCI6MTF9XSw0NzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIik7aS5UYWJsZT1mdW5jdGlvbihlKXt0aGlzLmNvbHVtbnM9W10sdGhpcy5yb3dzPVtdfSxpLlRhYmxlLnByb3RvdHlwZS5hZGRSb3c9ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8bmV3IGkuVGFibGVSb3c7aWYodm9pZCAwPT09dC5hcnJ8fHZvaWQgMD09PXQub2JqKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgVGFibGVSb3c6IFwiK3QpO3JldHVybih0LnRhYmxlPXRoaXMpLnJvd3MucHVzaCh0KSx0fSxpLlRhYmxlLnByb3RvdHlwZS5yZW1vdmVSb3c9ZnVuY3Rpb24oZSl7dGhpcy5yb3dzW2VdLnRhYmxlPW51bGw7dmFyIHQ9dGhpcy5yb3dzLnNwbGljZShlKzEsdGhpcy5yb3dzLmxlbmd0aCk7dGhpcy5yb3dzLnBvcCgpLHRoaXMucm93cz10aGlzLnJvd3MuY29uY2F0KHQpfSxpLlRhYmxlLnByb3RvdHlwZS5nZXRSb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93c1tlXX0saS5UYWJsZS5wcm90b3R5cGUuZ2V0Um93cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvd3N9LGkuVGFibGUucHJvdG90eXBlLmZpbmRSb3c9ZnVuY3Rpb24oZSx0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7Zm9yKHZhciByPTA7cjx0aGlzLnJvd3MubGVuZ3RoO3IrKylpZih0aGlzLnJvd3Nbcl0ub2JqW3RdPT09ZSlyZXR1cm4gdGhpcy5yb3dzW3JdfWVsc2UgZm9yKHZhciBpPTA7aTx0aGlzLnJvd3MubGVuZ3RoO2krKylpZih0aGlzLnJvd3NbaV0uYXJyW3RdPT09ZSlyZXR1cm4gdGhpcy5yb3dzW2ldO3JldHVybiBudWxsfSxpLlRhYmxlLnByb3RvdHlwZS5maW5kUm93cz1mdW5jdGlvbihlLHQpe3ZhciByPVtdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KWZvcih2YXIgaT0wO2k8dGhpcy5yb3dzLmxlbmd0aDtpKyspdGhpcy5yb3dzW2ldLm9ialt0XT09PWUmJnIucHVzaCh0aGlzLnJvd3NbaV0pO2Vsc2UgZm9yKHZhciBuPTA7bjx0aGlzLnJvd3MubGVuZ3RoO24rKyl0aGlzLnJvd3Nbbl0uYXJyW3RdPT09ZSYmci5wdXNoKHRoaXMucm93c1tuXSk7cmV0dXJuIHJ9LGkuVGFibGUucHJvdG90eXBlLm1hdGNoUm93PWZ1bmN0aW9uKGUsdCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5yb3dzLmxlbmd0aDtyKyspaWYodGhpcy5yb3dzW3JdLmFyclt0XS5tYXRjaChlKSlyZXR1cm4gdGhpcy5yb3dzW3JdfWVsc2UgZm9yKHZhciBpPTA7aTx0aGlzLnJvd3MubGVuZ3RoO2krKylpZih0aGlzLnJvd3NbaV0ub2JqW3RdLm1hdGNoKGUpKXJldHVybiB0aGlzLnJvd3NbaV07cmV0dXJuIG51bGx9LGkuVGFibGUucHJvdG90eXBlLm1hdGNoUm93cz1mdW5jdGlvbihlLHQpe3ZhciByPVtdO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KWZvcih2YXIgaT0wO2k8dGhpcy5yb3dzLmxlbmd0aDtpKyspdGhpcy5yb3dzW2ldLmFyclt0XS5tYXRjaChlKSYmci5wdXNoKHRoaXMucm93c1tpXSk7ZWxzZSBmb3IodmFyIG49MDtuPHRoaXMucm93cy5sZW5ndGg7bisrKXRoaXMucm93c1tuXS5vYmpbdF0ubWF0Y2goZSkmJnIucHVzaCh0aGlzLnJvd3Nbbl0pO3JldHVybiByfSxpLlRhYmxlLnByb3RvdHlwZS5nZXRDb2x1bW49ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpZm9yKHZhciByPTA7cjx0aGlzLnJvd3MubGVuZ3RoO3IrKyl0LnB1c2godGhpcy5yb3dzW3JdLm9ialtlXSk7ZWxzZSBmb3IodmFyIGk9MDtpPHRoaXMucm93cy5sZW5ndGg7aSsrKXQucHVzaCh0aGlzLnJvd3NbaV0uYXJyW2VdKTtyZXR1cm4gdH0saS5UYWJsZS5wcm90b3R5cGUuY2xlYXJSb3dzPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucm93cyx0aGlzLnJvd3M9W119LGkuVGFibGUucHJvdG90eXBlLmFkZENvbHVtbj1mdW5jdGlvbihlKXt2YXIgdD1lfHxudWxsO3RoaXMuY29sdW1ucy5wdXNoKHQpfSxpLlRhYmxlLnByb3RvdHlwZS5nZXRDb2x1bW5Db3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbHVtbnMubGVuZ3RofSxpLlRhYmxlLnByb3RvdHlwZS5nZXRSb3dDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvd3MubGVuZ3RofSxpLlRhYmxlLnByb3RvdHlwZS5yZW1vdmVUb2tlbnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10saT0wO2k8ZS5sZW5ndGg7aSsrKXIucHVzaChlLmNoYXJBdChpKS5yZXBsYWNlKC9bLS9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLFwiXFxcXCQmXCIpKTt2YXIgbj1uZXcgUmVnRXhwKHIuam9pbihcInxcIiksXCJnXCIpO2lmKHZvaWQgMD09PXQpZm9yKHZhciBvPTA7bzx0aGlzLmNvbHVtbnMubGVuZ3RoO28rKylmb3IodmFyIGE9MDthPHRoaXMucm93cy5sZW5ndGg7YSsrKXt2YXIgcz10aGlzLnJvd3NbYV0uYXJyW29dO3M9cy5yZXBsYWNlKG4sXCJcIiksdGhpcy5yb3dzW2FdLmFycltvXT1zLHRoaXMucm93c1thXS5vYmpbdGhpcy5jb2x1bW5zW29dXT1zfWVsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpZm9yKHZhciBoPTA7aDx0aGlzLnJvd3MubGVuZ3RoO2grKyl7dmFyIGw9dGhpcy5yb3dzW2hdLm9ialt0XTtsPWwucmVwbGFjZShuLFwiXCIpLHRoaXMucm93c1toXS5vYmpbdF09bDt2YXIgdT10aGlzLmNvbHVtbnMuaW5kZXhPZih0KTt0aGlzLnJvd3NbaF0uYXJyW3VdPWx9ZWxzZSBmb3IodmFyIGM9MDtjPHRoaXMucm93cy5sZW5ndGg7YysrKXt2YXIgcD10aGlzLnJvd3NbY10uYXJyW3RdO3A9cC5yZXBsYWNlKG4sXCJcIiksdGhpcy5yb3dzW2NdLmFyclt0XT1wLHRoaXMucm93c1tjXS5vYmpbdGhpcy5jb2x1bW5zW3RdXT1wfX0saS5UYWJsZS5wcm90b3R5cGUudHJpbT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgUmVnRXhwKFwiIFwiLFwiZ1wiKTtpZih2b2lkIDA9PT1lKWZvcih2YXIgcj0wO3I8dGhpcy5jb2x1bW5zLmxlbmd0aDtyKyspZm9yKHZhciBpPTA7aTx0aGlzLnJvd3MubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5yb3dzW2ldLmFycltyXTtuPW4ucmVwbGFjZSh0LFwiXCIpLHRoaXMucm93c1tpXS5hcnJbcl09bix0aGlzLnJvd3NbaV0ub2JqW3RoaXMuY29sdW1uc1tyXV09bn1lbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBlKWZvcih2YXIgbz0wO288dGhpcy5yb3dzLmxlbmd0aDtvKyspe3ZhciBhPXRoaXMucm93c1tvXS5vYmpbZV07YT1hLnJlcGxhY2UodCxcIlwiKSx0aGlzLnJvd3Nbb10ub2JqW2VdPWE7dmFyIHM9dGhpcy5jb2x1bW5zLmluZGV4T2YoZSk7dGhpcy5yb3dzW29dLmFycltzXT1hfWVsc2UgZm9yKHZhciBoPTA7aDx0aGlzLnJvd3MubGVuZ3RoO2grKyl7dmFyIGw9dGhpcy5yb3dzW2hdLmFycltlXTtsPWwucmVwbGFjZSh0LFwiXCIpLHRoaXMucm93c1toXS5hcnJbZV09bCx0aGlzLnJvd3NbaF0ub2JqW3RoaXMuY29sdW1uc1tlXV09bH19LGkuVGFibGUucHJvdG90eXBlLnJlbW92ZUNvbHVtbj1mdW5jdGlvbihlKXt2YXIgdCxyO1wic3RyaW5nXCI9PXR5cGVvZiBlPyh0PWUscj10aGlzLmNvbHVtbnMuaW5kZXhPZihlKSk6KHI9ZSx0PXRoaXMuY29sdW1uc1tlXSk7dmFyIGk9dGhpcy5jb2x1bW5zLnNwbGljZShyKzEsdGhpcy5jb2x1bW5zLmxlbmd0aCk7dGhpcy5jb2x1bW5zLnBvcCgpLHRoaXMuY29sdW1ucz10aGlzLmNvbHVtbnMuY29uY2F0KGkpO2Zvcih2YXIgbj0wO248dGhpcy5yb3dzLmxlbmd0aDtuKyspe3ZhciBvPXRoaXMucm93c1tuXS5hcnIsYT1vLnNwbGljZShyKzEsby5sZW5ndGgpO28ucG9wKCksdGhpcy5yb3dzW25dLmFycj1vLmNvbmNhdChhKSxkZWxldGUgdGhpcy5yb3dzW25dLm9ialt0XX19LGkuVGFibGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscil7dGhpcy5yb3dzW2VdLnNldCh0LHIpfSxpLlRhYmxlLnByb3RvdHlwZS5zZXROdW09ZnVuY3Rpb24oZSx0LHIpe3RoaXMucm93c1tlXS5zZXROdW0odCxyKX0saS5UYWJsZS5wcm90b3R5cGUuc2V0U3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnJvd3NbZV0uc2V0U3RyaW5nKHQscil9LGkuVGFibGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnJvd3NbZV0uZ2V0KHQpfSxpLlRhYmxlLnByb3RvdHlwZS5nZXROdW09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yb3dzW2VdLmdldE51bSh0KX0saS5UYWJsZS5wcm90b3R5cGUuZ2V0U3RyaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucm93c1tlXS5nZXRTdHJpbmcodCl9LGkuVGFibGUucHJvdG90eXBlLmdldE9iamVjdD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj17fSxpPTA7aTx0aGlzLnJvd3MubGVuZ3RoO2krKylpZih0PXRoaXMucm93c1tpXS5vYmosXCJzdHJpbmdcIj09dHlwZW9mIGUpe2lmKCEoMDw9dGhpcy5jb2x1bW5zLmluZGV4T2YoZSkpKXRocm93IG5ldyBFcnJvcignVGhpcyB0YWJsZSBoYXMgbm8gY29sdW1uIG5hbWVkIFwiJytlKydcIicpO3JbdFtlXV09dH1lbHNlIHJbaV09dGhpcy5yb3dzW2ldLm9iajtyZXR1cm4gcn0saS5UYWJsZS5wcm90b3R5cGUuZ2V0QXJyYXk9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5yb3dzLmxlbmd0aDt0KyspZS5wdXNoKHRoaXMucm93c1t0XS5hcnIpO3JldHVybiBlfSx0LmV4cG9ydHM9aX0se1wiLi4vY29yZS9tYWluXCI6MjN9XSw0ODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIik7aS5UYWJsZVJvdz1mdW5jdGlvbihlLHQpe3ZhciByPVtdLGk9e307ZSYmKHQ9dHx8XCIsXCIscj1lLnNwbGl0KHQpKTtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIG89bixhPXJbbl07aVtvXT1hfXRoaXMuYXJyPXIsdGhpcy5vYmo9aSx0aGlzLnRhYmxlPW51bGx9LGkuVGFibGVSb3cucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXt2YXIgcj10aGlzLnRhYmxlLmNvbHVtbnMuaW5kZXhPZihlKTtpZighKDA8PXIpKXRocm93IG5ldyBFcnJvcignVGhpcyB0YWJsZSBoYXMgbm8gY29sdW1uIG5hbWVkIFwiJytlKydcIicpO3RoaXMub2JqW2VdPXQsdGhpcy5hcnJbcl09dH1lbHNle2lmKCEoZTx0aGlzLnRhYmxlLmNvbHVtbnMubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoXCJDb2x1bW4gI1wiK2UrXCIgaXMgb3V0IG9mIHRoZSByYW5nZSBvZiB0aGlzIHRhYmxlXCIpO3RoaXMuYXJyW2VdPXQ7dmFyIGk9dGhpcy50YWJsZS5jb2x1bW5zW2VdO3RoaXMub2JqW2ldPXR9fSxpLlRhYmxlUm93LnByb3RvdHlwZS5zZXROdW09ZnVuY3Rpb24oZSx0KXt2YXIgcj1wYXJzZUZsb2F0KHQpO3RoaXMuc2V0KGUscil9LGkuVGFibGVSb3cucHJvdG90eXBlLnNldFN0cmluZz1mdW5jdGlvbihlLHQpe3ZhciByPXQudG9TdHJpbmcoKTt0aGlzLnNldChlLHIpfSxpLlRhYmxlUm93LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5vYmpbZV06dGhpcy5hcnJbZV19LGkuVGFibGVSb3cucHJvdG90eXBlLmdldE51bT1mdW5jdGlvbihlKXt2YXIgdDtpZihcIk5hTlwiPT09KHQ9XCJzdHJpbmdcIj09dHlwZW9mIGU/cGFyc2VGbG9hdCh0aGlzLm9ialtlXSk6cGFyc2VGbG9hdCh0aGlzLmFycltlXSkpLnRvU3RyaW5nKCkpdGhyb3dcIkVycm9yOiBcIit0aGlzLm9ialtlXStcIiBpcyBOYU4gKE5vdCBhIE51bWJlcilcIjtyZXR1cm4gdH0saS5UYWJsZVJvdy5wcm90b3R5cGUuZ2V0U3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMub2JqW2VdLnRvU3RyaW5nKCk6dGhpcy5hcnJbZV0udG9TdHJpbmcoKX0sdC5leHBvcnRzPWl9LHtcIi4uL2NvcmUvbWFpblwiOjIzfV0sNDk6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiLi4vY29yZS9tYWluXCIpO2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUubGVuZ3RoO3IrKyl0LnB1c2gobmV3IGkuWE1MKGVbcl0pKTtyZXR1cm4gdH1pLlhNTD1mdW5jdGlvbihlKXtpZihlKXRoaXMuRE9NPWU7ZWxzZXt2YXIgdD1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudChudWxsLFwiZG9jXCIpO3RoaXMuRE9NPXQuY3JlYXRlRWxlbWVudChcInJvb3RcIil9fSxpLlhNTC5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLlhNTCh0aGlzLkRPTS5wYXJlbnRFbGVtZW50KX0saS5YTUwucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ET00udGFnTmFtZX0saS5YTUwucHJvdG90eXBlLnNldE5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ET00uaW5uZXJIVE1MLHI9dGhpcy5ET00uYXR0cmlidXRlcyxpPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KG51bGwsXCJkZWZhdWx0XCIpLmNyZWF0ZUVsZW1lbnQoZSk7aS5pbm5lckhUTUw9dDtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKylpLnNldEF0dHJpYnV0ZShyW25dLm5vZGVOYW1lLHIubm9kZVZhbHVlKTt0aGlzLkRPTT1pfSxpLlhNTC5wcm90b3R5cGUuaGFzQ2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLkRPTS5jaGlsZHJlbi5sZW5ndGh9LGkuWE1MLnByb3RvdHlwZS5saXN0Q2hpbGRyZW49ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8dGhpcy5ET00uY2hpbGROb2Rlcy5sZW5ndGg7dCsrKWUucHVzaCh0aGlzLkRPTS5jaGlsZE5vZGVzW3RdLm5vZGVOYW1lKTtyZXR1cm4gZX0saS5YTUwucHJvdG90eXBlLmdldENoaWxkcmVuPWZ1bmN0aW9uKGUpe3JldHVybiBuKGU/dGhpcy5ET00uZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6dGhpcy5ET00uY2hpbGRyZW4pfSxpLlhNTC5wcm90b3R5cGUuZ2V0Q2hpbGQ9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIG5ldyBpLlhNTCh0aGlzLkRPTS5jaGlsZHJlbltlXSk7Zm9yKHZhciB0PTA7dDx0aGlzLkRPTS5jaGlsZHJlbi5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLkRPTS5jaGlsZHJlblt0XTtpZihyLnRhZ05hbWU9PT1lKXJldHVybiBuZXcgaS5YTUwocil9fSxpLlhNTC5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oZSl7ZSBpbnN0YW5jZW9mIGkuWE1MJiZ0aGlzLkRPTS5hcHBlbmRDaGlsZChlLkRPTSl9LGkuWE1MLnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbihlKXt2YXIgdD0tMTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Zm9yKHZhciByPTA7cjx0aGlzLkRPTS5jaGlsZHJlbi5sZW5ndGg7cisrKWlmKHRoaXMuRE9NLmNoaWxkcmVuW3JdLnRhZ05hbWU9PT1lKXt0PXI7YnJlYWt9fWVsc2UgdD1lOy0xIT09dCYmdGhpcy5ET00ucmVtb3ZlQ2hpbGQodGhpcy5ET00uY2hpbGRyZW5bdF0pfSxpLlhNTC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ET00uYXR0cmlidXRlcy5sZW5ndGh9LGkuWE1MLnByb3RvdHlwZS5saXN0QXR0cmlidXRlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLkRPTS5hdHRyaWJ1dGVzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuRE9NLmF0dHJpYnV0ZXNbdF07ZS5wdXNoKHIubm9kZU5hbWUpfXJldHVybiBlfSxpLlhNTC5wcm90b3R5cGUuaGFzQXR0cmlidXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxyPTA7cjx0aGlzLkRPTS5hdHRyaWJ1dGVzLmxlbmd0aDtyKyspe3ZhciBpPXRoaXMuRE9NLmF0dHJpYnV0ZXNbcl07dFtpLm5vZGVOYW1lXT1pLm5vZGVWYWx1ZX1yZXR1cm4hIXRbZV19LGkuWE1MLnByb3RvdHlwZS5nZXROdW09ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9e30saT0wO2k8dGhpcy5ET00uYXR0cmlidXRlcy5sZW5ndGg7aSsrKXt2YXIgbj10aGlzLkRPTS5hdHRyaWJ1dGVzW2ldO3Jbbi5ub2RlTmFtZV09bi5ub2RlVmFsdWV9cmV0dXJuIE51bWJlcihyW2VdKXx8dHx8MH0saS5YTUwucHJvdG90eXBlLmdldFN0cmluZz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj17fSxpPTA7aTx0aGlzLkRPTS5hdHRyaWJ1dGVzLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuRE9NLmF0dHJpYnV0ZXNbaV07cltuLm5vZGVOYW1lXT1uLm5vZGVWYWx1ZX1yZXR1cm4gcltlXT9TdHJpbmcocltlXSk6dHx8bnVsbH0saS5YTUwucHJvdG90eXBlLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihlLHQpe3RoaXMuRE9NLnNldEF0dHJpYnV0ZShlLHQpfSxpLlhNTC5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ET00udGV4dENvbnRlbnQucmVwbGFjZSgvXFxzXFxzKy9nLFwiLFwiKXx8ZXx8bnVsbH0saS5YTUwucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oZSl7dGhpcy5ET00uY2hpbGRyZW4ubGVuZ3RofHwodGhpcy5ET00udGV4dENvbnRlbnQ9ZSl9LGkuWE1MLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IFhNTFNlcmlhbGl6ZXIpLnNlcmlhbGl6ZVRvU3RyaW5nKHRoaXMuRE9NKX0sdC5leHBvcnRzPWl9LHtcIi4uL2NvcmUvbWFpblwiOjIzfV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgcz1lKFwiLi4vY29yZS9tYWluXCIpO2Z1bmN0aW9uIGkoZSx0LHIpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIE1hdGguaHlwb3QpcmV0dXJuIE1hdGguaHlwb3QuYXBwbHkobnVsbCxhcmd1bWVudHMpO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG49W10sbz0wLGE9MDthPGk7YSsrKXt2YXIgcz1hcmd1bWVudHNbYV07aWYoKHM9K3MpPT09MS8wfHxzPT09LTEvMClyZXR1cm4gMS8wO288KHM9TWF0aC5hYnMocykpJiYobz1zKSxuW2FdPXN9MD09PW8mJihvPTEpO2Zvcih2YXIgaD0wLGw9MCx1PTA7dTxpO3UrKyl7dmFyIGM9blt1XS9vLHA9YypjLWwsZD1oK3A7bD1kLWgtcCxoPWR9cmV0dXJuIE1hdGguc3FydChoKSpvfXMucHJvdG90eXBlLmFicz1NYXRoLmFicyxzLnByb3RvdHlwZS5jZWlsPU1hdGguY2VpbCxzLnByb3RvdHlwZS5jb25zdHJhaW49ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBzLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJjb25zdHJhaW5cIixhcmd1bWVudHMpLE1hdGgubWF4KE1hdGgubWluKGUsciksdCl9LHMucHJvdG90eXBlLmRpc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiZGlzdFwiLGFyZ3VtZW50cyksND09PWFyZ3VtZW50cy5sZW5ndGg/aShhcmd1bWVudHNbMl0tYXJndW1lbnRzWzBdLGFyZ3VtZW50c1szXS1hcmd1bWVudHNbMV0pOjY9PT1hcmd1bWVudHMubGVuZ3RoP2koYXJndW1lbnRzWzNdLWFyZ3VtZW50c1swXSxhcmd1bWVudHNbNF0tYXJndW1lbnRzWzFdLGFyZ3VtZW50c1s1XS1hcmd1bWVudHNbMl0pOnZvaWQgMH0scy5wcm90b3R5cGUuZXhwPU1hdGguZXhwLHMucHJvdG90eXBlLmZsb29yPU1hdGguZmxvb3Iscy5wcm90b3R5cGUubGVycD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImxlcnBcIixhcmd1bWVudHMpLHIqKHQtZSkrZX0scy5wcm90b3R5cGUubG9nPU1hdGgubG9nLHMucHJvdG90eXBlLm1hZz1mdW5jdGlvbihlLHQpe3JldHVybiBzLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJtYWdcIixhcmd1bWVudHMpLGkoZSx0KX0scy5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKGUsdCxyLGksbixvKXtzLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJtYXBcIixhcmd1bWVudHMpO3ZhciBhPShlLXQpLyhyLXQpKihuLWkpK2k7cmV0dXJuIG8/aTxuP3RoaXMuY29uc3RyYWluKGEsaSxuKTp0aGlzLmNvbnN0cmFpbihhLG4saSk6YX0scy5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKCl7cmV0dXJuIHMuX3ZhbGlkYXRlUGFyYW1ldGVycyhcIm1heFwiLGFyZ3VtZW50cyksYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBBcnJheT9NYXRoLm1heC5hcHBseShudWxsLGFyZ3VtZW50c1swXSk6TWF0aC5tYXguYXBwbHkobnVsbCxhcmd1bWVudHMpfSxzLnByb3RvdHlwZS5taW49ZnVuY3Rpb24oKXtyZXR1cm4gcy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibWluXCIsYXJndW1lbnRzKSxhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5P01hdGgubWluLmFwcGx5KG51bGwsYXJndW1lbnRzWzBdKTpNYXRoLm1pbi5hcHBseShudWxsLGFyZ3VtZW50cyl9LHMucHJvdG90eXBlLm5vcm09ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBzLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJub3JtXCIsYXJndW1lbnRzKSx0aGlzLm1hcChlLHQsciwwLDEpfSxzLnByb3RvdHlwZS5wb3c9TWF0aC5wb3cscy5wcm90b3R5cGUucm91bmQ9TWF0aC5yb3VuZCxzLnByb3RvdHlwZS5zcT1mdW5jdGlvbihlKXtyZXR1cm4gZSplfSxzLnByb3RvdHlwZS5zcXJ0PU1hdGguc3FydCx0LmV4cG9ydHM9c30se1wiLi4vY29yZS9tYWluXCI6MjN9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIik7aS5wcm90b3R5cGUuY3JlYXRlVmVjdG9yPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGk/bmV3IGkuVmVjdG9yKHRoaXMsYXJndW1lbnRzKTpuZXcgaS5WZWN0b3IoZSx0LHIpfSx0LmV4cG9ydHM9aX0se1wiLi4vY29yZS9tYWluXCI6MjN9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBiLGk9ZShcIi4uL2NvcmUvbWFpblwiKSxfPTQwOTUseD00LHc9LjUsUz1mdW5jdGlvbihlKXtyZXR1cm4uNSooMS1NYXRoLmNvcyhlKk1hdGguUEkpKX07aS5wcm90b3R5cGUubm9pc2U9ZnVuY3Rpb24oZSx0LHIpe2lmKHQ9dHx8MCxyPXJ8fDAsbnVsbD09Yil7Yj1uZXcgQXJyYXkoNDA5Nik7Zm9yKHZhciBpPTA7aTw0MDk2O2krKyliW2ldPU1hdGgucmFuZG9tKCl9ZTwwJiYoZT0tZSksdDwwJiYodD0tdCkscjwwJiYocj0tcik7Zm9yKHZhciBuLG8sYSxzLGgsbD1NYXRoLmZsb29yKGUpLHU9TWF0aC5mbG9vcih0KSxjPU1hdGguZmxvb3IocikscD1lLWwsZD10LXUsZj1yLWMsbT0wLHY9LjUsZz0wO2c8eDtnKyspe3ZhciB5PWwrKHU8PDQpKyhjPDw4KTtuPVMocCksbz1TKGQpLGE9Ylt5Jl9dLGErPW4qKGJbeSsxJl9dLWEpLHM9Ylt5KzE2Jl9dLGErPW8qKChzKz1uKihiW3krMTYrMSZfXS1zKSktYSkscz1iWyh5Kz0yNTYpJl9dLHMrPW4qKGJbeSsxJl9dLXMpLGg9Ylt5KzE2Jl9dLHMrPW8qKChoKz1uKihiW3krMTYrMSZfXS1oKSktcyksbSs9KGErPVMoZikqKHMtYSkpKnYsdio9dyxsPDw9MSx1PDw9MSxjPDw9MSwxPD0ocCo9MikmJihsKysscC0tKSwxPD0oZCo9MikmJih1KyssZC0tKSwxPD0oZio9MikmJihjKyssZi0tKX1yZXR1cm4gbX0saS5wcm90b3R5cGUubm9pc2VEZXRhaWw9ZnVuY3Rpb24oZSx0KXswPGUmJih4PWUpLDA8dCYmKHc9dCl9LGkucHJvdG90eXBlLm5vaXNlU2VlZD1mdW5jdGlvbihlKXt2YXIgdCxyLGksbj0oaT00Mjk0OTY3Mjk2LHtzZXRTZWVkOmZ1bmN0aW9uKGUpe3I9dD0obnVsbD09ZT9NYXRoLnJhbmRvbSgpKmk6ZSk+Pj4wfSxnZXRTZWVkOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LHJhbmQ6ZnVuY3Rpb24oKXtyZXR1cm4ocj0oMTY2NDUyNSpyKzEwMTM5MDQyMjMpJWkpL2l9fSk7bi5zZXRTZWVkKGUpLGI9bmV3IEFycmF5KDQwOTYpO2Zvcih2YXIgbz0wO288NDA5NjtvKyspYltvXT1uLnJhbmQoKX0sdC5leHBvcnRzPWl9LHtcIi4uL2NvcmUvbWFpblwiOjIzfV0sNTM6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgcz1lKFwiLi4vY29yZS9tYWluXCIpLG89ZShcIi4uL2NvcmUvY29uc3RhbnRzXCIpO3MuVmVjdG9yPWZ1bmN0aW9uKCl7dmFyIGUsdCxyO3I9YXJndW1lbnRzWzBdaW5zdGFuY2VvZiBzPyh0aGlzLnA1PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXVswXXx8MCx0PWFyZ3VtZW50c1sxXVsxXXx8MCxhcmd1bWVudHNbMV1bMl18fDApOihlPWFyZ3VtZW50c1swXXx8MCx0PWFyZ3VtZW50c1sxXXx8MCxhcmd1bWVudHNbMl18fDApLHRoaXMueD1lLHRoaXMueT10LHRoaXMuej1yfSxzLlZlY3Rvci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cInA1LlZlY3RvciBPYmplY3QgOiBbXCIrdGhpcy54K1wiLCBcIit0aGlzLnkrXCIsIFwiK3RoaXMueitcIl1cIn0scy5WZWN0b3IucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUgaW5zdGFuY2VvZiBzLlZlY3Rvcj8odGhpcy54PWUueHx8MCx0aGlzLnk9ZS55fHwwLHRoaXMuej1lLnp8fDApOmUgaW5zdGFuY2VvZiBBcnJheT8odGhpcy54PWVbMF18fDAsdGhpcy55PWVbMV18fDAsdGhpcy56PWVbMl18fDApOih0aGlzLng9ZXx8MCx0aGlzLnk9dHx8MCx0aGlzLno9cnx8MCksdGhpc30scy5WZWN0b3IucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wNT9uZXcgcy5WZWN0b3IodGhpcy5wNSxbdGhpcy54LHRoaXMueSx0aGlzLnpdKTpuZXcgcy5WZWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnopfSxzLlZlY3Rvci5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHMuVmVjdG9yPyh0aGlzLngrPWUueHx8MCx0aGlzLnkrPWUueXx8MCx0aGlzLnorPWUuenx8MCk6ZSBpbnN0YW5jZW9mIEFycmF5Pyh0aGlzLngrPWVbMF18fDAsdGhpcy55Kz1lWzFdfHwwLHRoaXMueis9ZVsyXXx8MCk6KHRoaXMueCs9ZXx8MCx0aGlzLnkrPXR8fDAsdGhpcy56Kz1yfHwwKSx0aGlzfSxzLlZlY3Rvci5wcm90b3R5cGUuc3ViPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHMuVmVjdG9yPyh0aGlzLngtPWUueHx8MCx0aGlzLnktPWUueXx8MCx0aGlzLnotPWUuenx8MCk6ZSBpbnN0YW5jZW9mIEFycmF5Pyh0aGlzLngtPWVbMF18fDAsdGhpcy55LT1lWzFdfHwwLHRoaXMuei09ZVsyXXx8MCk6KHRoaXMueC09ZXx8MCx0aGlzLnktPXR8fDAsdGhpcy56LT1yfHwwKSx0aGlzfSxzLlZlY3Rvci5wcm90b3R5cGUubXVsdD1mdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmaXNGaW5pdGUoZSk/KHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lKTpjb25zb2xlLndhcm4oXCJwNS5WZWN0b3IucHJvdG90eXBlLm11bHQ6XCIsXCJuIGlzIHVuZGVmaW5lZCBvciBub3QgYSBmaW5pdGUgbnVtYmVyXCIpLHRoaXN9LHMuVmVjdG9yLnByb3RvdHlwZS5kaXY9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpPzA9PT1lP2NvbnNvbGUud2FybihcInA1LlZlY3Rvci5wcm90b3R5cGUuZGl2OlwiLFwiZGl2aWRlIGJ5IDBcIik6KHRoaXMueC89ZSx0aGlzLnkvPWUsdGhpcy56Lz1lKTpjb25zb2xlLndhcm4oXCJwNS5WZWN0b3IucHJvdG90eXBlLmRpdjpcIixcIm4gaXMgdW5kZWZpbmVkIG9yIG5vdCBhIGZpbml0ZSBudW1iZXJcIiksdGhpc30scy5WZWN0b3IucHJvdG90eXBlLm1hZz1mdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5tYWdTcSgpKX0scy5WZWN0b3IucHJvdG90eXBlLm1hZ1NxPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy54LHQ9dGhpcy55LHI9dGhpcy56O3JldHVybiBlKmUrdCp0K3Iqcn0scy5WZWN0b3IucHJvdG90eXBlLmRvdD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUgaW5zdGFuY2VvZiBzLlZlY3Rvcj90aGlzLmRvdChlLngsZS55LGUueik6dGhpcy54KihlfHwwKSt0aGlzLnkqKHR8fDApK3RoaXMueioocnx8MCl9LHMuVmVjdG9yLnByb3RvdHlwZS5jcm9zcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnkqZS56LXRoaXMueiplLnkscj10aGlzLnoqZS54LXRoaXMueCplLnosaT10aGlzLngqZS55LXRoaXMueSplLng7cmV0dXJuIHRoaXMucDU/bmV3IHMuVmVjdG9yKHRoaXMucDUsW3QscixpXSk6bmV3IHMuVmVjdG9yKHQscixpKX0scy5WZWN0b3IucHJvdG90eXBlLmRpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29weSgpLnN1Yih0aGlzKS5tYWcoKX0scy5WZWN0b3IucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMubWFnKCk7cmV0dXJuIDAhPT1lJiZ0aGlzLm11bHQoMS9lKSx0aGlzfSxzLlZlY3Rvci5wcm90b3R5cGUubGltaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tYWdTcSgpO3JldHVybiBlKmU8dCYmdGhpcy5kaXYoTWF0aC5zcXJ0KHQpKS5tdWx0KGUpLHRoaXN9LHMuVmVjdG9yLnByb3RvdHlwZS5zZXRNYWc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdChlKX0scy5WZWN0b3IucHJvdG90eXBlLmhlYWRpbmc9ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLmF0YW4yKHRoaXMueSx0aGlzLngpO3JldHVybiB0aGlzLnA1P3RoaXMucDUuX2Zyb21SYWRpYW5zKGUpOmV9LHMuVmVjdG9yLnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oZWFkaW5nKCkrZTt0aGlzLnA1JiYodD10aGlzLnA1Ll90b1JhZGlhbnModCkpO3ZhciByPXRoaXMubWFnKCk7cmV0dXJuIHRoaXMueD1NYXRoLmNvcyh0KSpyLHRoaXMueT1NYXRoLnNpbih0KSpyLHRoaXN9LHMuVmVjdG9yLnByb3RvdHlwZS5hbmdsZUJldHdlZW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kb3QoZSkvKHRoaXMubWFnKCkqZS5tYWcoKSkscj1NYXRoLmFjb3MoTWF0aC5taW4oMSxNYXRoLm1heCgtMSx0KSkpO3JldHVybiB0aGlzLnA1P3RoaXMucDUuX2Zyb21SYWRpYW5zKHIpOnJ9LHMuVmVjdG9yLnByb3RvdHlwZS5sZXJwPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiBlIGluc3RhbmNlb2Ygcy5WZWN0b3I/dGhpcy5sZXJwKGUueCxlLnksZS56LHQpOih0aGlzLngrPShlLXRoaXMueCkqaXx8MCx0aGlzLnkrPSh0LXRoaXMueSkqaXx8MCx0aGlzLnorPShyLXRoaXMueikqaXx8MCx0aGlzKX0scy5WZWN0b3IucHJvdG90eXBlLmFycmF5PWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMueHx8MCx0aGlzLnl8fDAsdGhpcy56fHwwXX0scy5WZWN0b3IucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlLHQscil7dmFyIGksbixvO3JldHVybiBvPWUgaW5zdGFuY2VvZiBzLlZlY3Rvcj8oaT1lLnh8fDAsbj1lLnl8fDAsZS56fHwwKTplIGluc3RhbmNlb2YgQXJyYXk/KGk9ZVswXXx8MCxuPWVbMV18fDAsZVsyXXx8MCk6KGk9ZXx8MCxuPXR8fDAscnx8MCksdGhpcy54PT09aSYmdGhpcy55PT09biYmdGhpcy56PT09b30scy5WZWN0b3IuZnJvbUFuZ2xlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTEpLG5ldyBzLlZlY3Rvcih0Kk1hdGguY29zKGUpLHQqTWF0aC5zaW4oZSksMCl9LHMuVmVjdG9yLmZyb21BbmdsZXM9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPTEpO3ZhciBpPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCksbz1NYXRoLmNvcyhlKSxhPU1hdGguc2luKGUpO3JldHVybiBuZXcgcy5WZWN0b3IociphKm4sLXIqbyxyKmEqaSl9LHMuVmVjdG9yLnJhbmRvbTJEPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJvbUFuZ2xlKE1hdGgucmFuZG9tKCkqby5UV09fUEkpfSxzLlZlY3Rvci5yYW5kb20zRD1mdW5jdGlvbigpe3ZhciBlPU1hdGgucmFuZG9tKCkqby5UV09fUEksdD0yKk1hdGgucmFuZG9tKCktMSxyPU1hdGguc3FydCgxLXQqdCksaT1yKk1hdGguY29zKGUpLG49cipNYXRoLnNpbihlKTtyZXR1cm4gbmV3IHMuVmVjdG9yKGksbix0KX0scy5WZWN0b3IuYWRkPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj9yLnNldChlKTpyPWUuY29weSgpLHIuYWRkKHQpLHJ9LHMuVmVjdG9yLnN1Yj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHI/ci5zZXQoZSk6cj1lLmNvcHkoKSxyLnN1Yih0KSxyfSxzLlZlY3Rvci5tdWx0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj9yLnNldChlKTpyPWUuY29weSgpLHIubXVsdCh0KSxyfSxzLlZlY3Rvci5kaXY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByP3Iuc2V0KGUpOnI9ZS5jb3B5KCksci5kaXYodCkscn0scy5WZWN0b3IuZG90PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZG90KHQpfSxzLlZlY3Rvci5jcm9zcz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmNyb3NzKHQpfSxzLlZlY3Rvci5kaXN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZGlzdCh0KX0scy5WZWN0b3IubGVycD1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gaT9pLnNldChlKTppPWUuY29weSgpLGkubGVycCh0LHIpLGl9LHMuVmVjdG9yLm1hZz1mdW5jdGlvbihlKXt2YXIgdD1lLngscj1lLnksaT1lLnosbj10KnQrcipyK2kqaTtyZXR1cm4gTWF0aC5zcXJ0KG4pfSx0LmV4cG9ydHM9cy5WZWN0b3J9LHtcIi4uL2NvcmUvY29uc3RhbnRzXCI6MTcsXCIuLi9jb3JlL21haW5cIjoyM31dLDU0OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbixvLGE9ZShcIi4uL2NvcmUvbWFpblwiKSxzPSExLGg9ITEsbD0wLHU9KG89NDI5NDk2NzI5Nix7c2V0U2VlZDpmdW5jdGlvbihlKXtuPWk9KG51bGw9PWU/TWF0aC5yYW5kb20oKSpvOmUpPj4+MH0sZ2V0U2VlZDpmdW5jdGlvbigpe3JldHVybiBpfSxyYW5kOmZ1bmN0aW9uKCl7cmV0dXJuKG49KDE2NjQ1MjUqbisxMDEzOTA0MjIzKSVvKS9vfX0pO2EucHJvdG90eXBlLnJhbmRvbVNlZWQ9ZnVuY3Rpb24oZSl7dS5zZXRTZWVkKGUpLGg9IShzPSEwKX0sYS5wcm90b3R5cGUucmFuZG9tPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYocj1zP3UucmFuZCgpOk1hdGgucmFuZG9tKCksdm9pZCAwPT09ZSlyZXR1cm4gcjtpZih2b2lkIDA9PT10KXJldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/ZVtNYXRoLmZsb29yKHIqZS5sZW5ndGgpXTpyKmU7aWYodDxlKXt2YXIgaT1lO2U9dCx0PWl9cmV0dXJuIHIqKHQtZSkrZX0sYS5wcm90b3R5cGUucmFuZG9tR2F1c3NpYW49ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG4sbztpZihoKXI9bCxoPSExO2Vsc2V7Zm9yKDsxPD0obz0oaT10aGlzLnJhbmRvbSgyKS0xKSppKyhuPXRoaXMucmFuZG9tKDIpLTEpKm4pOyk7cj1pKihvPU1hdGguc3FydCgtMipNYXRoLmxvZyhvKS9vKSksbD1uKm8saD0hMH1yZXR1cm4gcioodHx8MSkrKGV8fDApfSx0LmV4cG9ydHM9YX0se1wiLi4vY29yZS9tYWluXCI6MjN9XSw1NTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIiksbj1lKFwiLi4vY29yZS9jb25zdGFudHNcIik7aS5wcm90b3R5cGUuX2FuZ2xlTW9kZT1uLlJBRElBTlMsaS5wcm90b3R5cGUuYWNvcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZnJvbVJhZGlhbnMoTWF0aC5hY29zKGUpKX0saS5wcm90b3R5cGUuYXNpbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZnJvbVJhZGlhbnMoTWF0aC5hc2luKGUpKX0saS5wcm90b3R5cGUuYXRhbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZnJvbVJhZGlhbnMoTWF0aC5hdGFuKGUpKX0saS5wcm90b3R5cGUuYXRhbjI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZnJvbVJhZGlhbnMoTWF0aC5hdGFuMihlLHQpKX0saS5wcm90b3R5cGUuY29zPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmNvcyh0aGlzLl90b1JhZGlhbnMoZSkpfSxpLnByb3RvdHlwZS5zaW49ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguc2luKHRoaXMuX3RvUmFkaWFucyhlKSl9LGkucHJvdG90eXBlLnRhbj1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC50YW4odGhpcy5fdG9SYWRpYW5zKGUpKX0saS5wcm90b3R5cGUuZGVncmVlcz1mdW5jdGlvbihlKXtyZXR1cm4gZSpuLlJBRF9UT19ERUd9LGkucHJvdG90eXBlLnJhZGlhbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUqbi5ERUdfVE9fUkFEfSxpLnByb3RvdHlwZS5hbmdsZU1vZGU9ZnVuY3Rpb24oZSl7ZSE9PW4uREVHUkVFUyYmZSE9PW4uUkFESUFOU3x8KHRoaXMuX2FuZ2xlTW9kZT1lKX0saS5wcm90b3R5cGUuX3RvUmFkaWFucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYW5nbGVNb2RlPT09bi5ERUdSRUVTP2Uqbi5ERUdfVE9fUkFEOmV9LGkucHJvdG90eXBlLl90b0RlZ3JlZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2FuZ2xlTW9kZT09PW4uUkFESUFOUz9lKm4uUkFEX1RPX0RFRzplfSxpLnByb3RvdHlwZS5fZnJvbVJhZGlhbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2FuZ2xlTW9kZT09PW4uREVHUkVFUz9lKm4uUkFEX1RPX0RFRzplfSx0LmV4cG9ydHM9aX0se1wiLi4vY29yZS9jb25zdGFudHNcIjoxNyxcIi4uL2NvcmUvbWFpblwiOjIzfV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiLi4vY29yZS9tYWluXCIpO2kucHJvdG90eXBlLnRleHRBbGlnbj1mdW5jdGlvbihlLHQpe3JldHVybiBpLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJ0ZXh0QWxpZ25cIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLnRleHRBbGlnbi5hcHBseSh0aGlzLl9yZW5kZXJlcixhcmd1bWVudHMpfSxpLnByb3RvdHlwZS50ZXh0TGVhZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gaS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwidGV4dExlYWRpbmdcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLnRleHRMZWFkaW5nLmFwcGx5KHRoaXMuX3JlbmRlcmVyLGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLnRleHRTaXplPWZ1bmN0aW9uKGUpe3JldHVybiBpLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJ0ZXh0U2l6ZVwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIudGV4dFNpemUuYXBwbHkodGhpcy5fcmVuZGVyZXIsYXJndW1lbnRzKX0saS5wcm90b3R5cGUudGV4dFN0eWxlPWZ1bmN0aW9uKGUpe3JldHVybiBpLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJ0ZXh0U3R5bGVcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLnRleHRTdHlsZS5hcHBseSh0aGlzLl9yZW5kZXJlcixhcmd1bWVudHMpfSxpLnByb3RvdHlwZS50ZXh0V2lkdGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInRleHRXaWR0aFwiLGFyZ3VtZW50cyksMD09PWUubGVuZ3RoPzA6dGhpcy5fcmVuZGVyZXIudGV4dFdpZHRoLmFwcGx5KHRoaXMuX3JlbmRlcmVyLGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLnRleHRBc2NlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwidGV4dEFzY2VudFwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIudGV4dEFzY2VudCgpfSxpLnByb3RvdHlwZS50ZXh0RGVzY2VudD1mdW5jdGlvbigpe3JldHVybiBpLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJ0ZXh0RGVzY2VudFwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIudGV4dERlc2NlbnQoKX0saS5wcm90b3R5cGUuX3VwZGF0ZVRleHRNZXRyaWNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmVyLl91cGRhdGVUZXh0TWV0cmljcygpfSx0LmV4cG9ydHM9aX0se1wiLi4vY29yZS9tYWluXCI6MjN9XSw1NzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBwPWUoXCIuLi9jb3JlL21haW5cIiksaT1lKFwiLi4vY29yZS9jb25zdGFudHNcIiksbj1lKFwib3BlbnR5cGUuanNcIik7ZShcIi4uL2NvcmUvZXJyb3JfaGVscGVyc1wiKSxwLnByb3RvdHlwZS5sb2FkRm9udD1mdW5jdGlvbihzLGgsbCl7cC5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibG9hZEZvbnRcIixhcmd1bWVudHMpO3ZhciB1PW5ldyBwLkZvbnQodGhpcyksYz10aGlzO3JldHVybiBuLmxvYWQocyxmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIHAuX2ZyaWVuZGx5RmlsZUxvYWRFcnJvcig0LHMpLHZvaWQgMCE9PWw/bChlKTp2b2lkIGNvbnNvbGUuZXJyb3IoZSxzKTt1LmZvbnQ9dCx2b2lkIDAhPT1oJiZoKHUpLGMuX2RlY3JlbWVudFByZWxvYWQoKTt2YXIgcixpLG49cy5zcGxpdChcIlxcXFxcIikucG9wKCkuc3BsaXQoXCIvXCIpLnBvcCgpLG89bi5sYXN0SW5kZXhPZihcIi5cIiksYT1vPDE/bnVsbDpuLnN1YnN0cihvKzEpOy0xPFtcInR0ZlwiLFwib3RmXCIsXCJ3b2ZmXCIsXCJ3b2ZmMlwiXS5pbmRleE9mKGEpJiYocj1uLnN1YnN0cigwLG8pLChpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcXG5AZm9udC1mYWNlIHtcXG5mb250LWZhbWlseTogXCIrcitcIjtcXG5zcmM6IHVybChcIitzK1wiKTtcXG59XFxuXCIpKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGkpKX0pLHV9LHAucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oZSx0LHIsaSxuKXtyZXR1cm4gcC5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwidGV4dFwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIuX2RvRmlsbHx8dGhpcy5fcmVuZGVyZXIuX2RvU3Ryb2tlP3RoaXMuX3JlbmRlcmVyLnRleHQuYXBwbHkodGhpcy5fcmVuZGVyZXIsYXJndW1lbnRzKTp0aGlzfSxwLnByb3RvdHlwZS50ZXh0Rm9udD1mdW5jdGlvbihlLHQpe2lmKHAuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInRleHRGb250XCIsYXJndW1lbnRzKSxhcmd1bWVudHMubGVuZ3RoKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJudWxsIGZvbnQgcGFzc2VkIHRvIHRleHRGb250XCIpO3JldHVybiB0aGlzLl9yZW5kZXJlci5fc2V0UHJvcGVydHkoXCJfdGV4dEZvbnRcIixlKSx0JiYodGhpcy5fcmVuZGVyZXIuX3NldFByb3BlcnR5KFwiX3RleHRTaXplXCIsdCksdGhpcy5fcmVuZGVyZXIuX3NldFByb3BlcnR5KFwiX3RleHRMZWFkaW5nXCIsdCppLl9ERUZBVUxUX0xFQURNVUxUKSksdGhpcy5fcmVuZGVyZXIuX2FwcGx5VGV4dFByb3BlcnRpZXMoKX1yZXR1cm4gdGhpcy5fcmVuZGVyZXIuX3RleHRGb250fSx0LmV4cG9ydHM9cH0se1wiLi4vY29yZS9jb25zdGFudHNcIjoxNyxcIi4uL2NvcmUvZXJyb3JfaGVscGVyc1wiOjE5LFwiLi4vY29yZS9tYWluXCI6MjMsXCJvcGVudHlwZS5qc1wiOjl9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIiksbT1lKFwiLi4vY29yZS9jb25zdGFudHNcIik7ZnVuY3Rpb24gZihlLHQpe2Zvcih2YXIgcj1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKWU9dDtlbHNlIGZvcih2YXIgciBpbiB0KXZvaWQgMD09PWVbcl0mJihlW3JdPXRbcl0pO3JldHVybiBlfSh0LHtzYW1wbGVGYWN0b3I6LjEsc2ltcGxpZnlUaHJlc2hvbGQ6MH0pLGk9aChlLDAsMSksbj1pLyhpKnIuc2FtcGxlRmFjdG9yKSxvPVtdLGE9MDthPGk7YSs9bilvLnB1c2goaChlLGEpKTtyZXR1cm4gci5zaW1wbGlmeVRocmVzaG9sZCYmZnVuY3Rpb24oZSx0KXt0PXZvaWQgMD09PXQ/MDp0O2Zvcih2YXIgcj0wLGk9ZS5sZW5ndGgtMTszPGUubGVuZ3RoJiYwPD1pOy0taSlwKHMoZSxpLTEpLHMoZSxpKSxzKGUsaSsxKSx0KSYmKGUuc3BsaWNlKGklZS5sZW5ndGgsMSkscisrKX0obyxyLnNpbXBsaWZ5VGhyZXNob2xkKSxvfWZ1bmN0aW9uIHYoZSl7Zm9yKHZhciB0LHI9W10saT0wO2k8ZS5sZW5ndGg7aSsrKVwiTVwiPT09ZVtpXS50eXBlJiYodCYmci5wdXNoKHQpLHQ9W10pLHQucHVzaChuKGVbaV0pKTtyZXR1cm4gci5wdXNoKHQpLHJ9ZnVuY3Rpb24gbihlKXt2YXIgdD1bZS50eXBlXTtyZXR1cm5cIk1cIj09PWUudHlwZXx8XCJMXCI9PT1lLnR5cGU/dC5wdXNoKGUueCxlLnkpOlwiQ1wiPT09ZS50eXBlP3QucHVzaChlLngxLGUueTEsZS54MixlLnkyLGUueCxlLnkpOlwiUVwiPT09ZS50eXBlJiZ0LnB1c2goZS54MSxlLnkxLGUueCxlLnkpLHR9ZnVuY3Rpb24gcyhlLHQpe3ZhciByPWUubGVuZ3RoO3JldHVybiBlW3Q8MD90JXIrcjp0JXJdfWZ1bmN0aW9uIHAoZSx0LHIsaSl7aWYoIWkpcmV0dXJuIDA9PShuPWUsYT1yLCgobz10KVswXS1uWzBdKSooYVsxXS1uWzFdKS0oYVswXS1uWzBdKSoob1sxXS1uWzFdKSk7dmFyIG4sbyxhO3ZvaWQgMD09PXAudG1wUG9pbnQxJiYocC50bXBQb2ludDE9W10scC50bXBQb2ludDI9W10pO3ZhciBzPXAudG1wUG9pbnQxLGg9cC50bXBQb2ludDI7cy54PXQueC1lLngscy55PXQueS1lLnksaC54PXIueC10LngsaC55PXIueS10Lnk7dmFyIGw9cy54KmgueCtzLnkqaC55LHU9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSksYz1NYXRoLnNxcnQoaC54KmgueCtoLnkqaC55KTtyZXR1cm4gTWF0aC5hY29zKGwvKHUqYykpPGl9ZnVuY3Rpb24gYyhlLHQscixpLG4sbyxhLHMsaCl7dmFyIGw9MS1oLHU9TWF0aC5wb3cobCwzKSxjPU1hdGgucG93KGwsMikscD1oKmgsZD1wKmgsZj11KmUrMypjKmgqciszKmwqaCpoKm4rZCphLG09dSp0KzMqYypoKmkrMypsKmgqaCpvK2Qqcyx2PWUrMipoKihyLWUpK3AqKG4tMipyK2UpLGc9dCsyKmgqKGktdCkrcCooby0yKmkrdCkseT1yKzIqaCoobi1yKStwKihhLTIqbityKSxiPWkrMipoKihvLWkpK3AqKHMtMipvK2kpLF89bCplK2gqcix4PWwqdCtoKmksdz1sKm4raCphLFM9bCpvK2gqcyxUPTkwLTE4MCpNYXRoLmF0YW4yKHYteSxnLWIpL01hdGguUEk7cmV0dXJuKHk8dnx8ZzxiKSYmKFQrPTE4MCkse3g6Zix5Om0sbTp7eDp2LHk6Z30sbjp7eDp5LHk6Yn0sc3RhcnQ6e3g6Xyx5Onh9LGVuZDp7eDp3LHk6U30sYWxwaGE6VH19ZnVuY3Rpb24gZChlLHQscixpLG4sbyxhLHMsaCl7cmV0dXJuIG51bGw9PWg/eShlLHQscixpLG4sbyxhLHMpOmMoZSx0LHIsaSxuLG8sYSxzLGZ1bmN0aW9uKGUsdCxyLGksbixvLGEscyxoKXtpZihoPDB8fHkoZSx0LHIsaSxuLG8sYSxzKTxoKXJldHVybjt2YXIgbCx1PS41LGM9MS11O2w9eShlLHQscixpLG4sbyxhLHMsYyk7Zm9yKDsuMDE8TWF0aC5hYnMobC1oKTspbD15KGUsdCxyLGksbixvLGEscyxjKz0obDxoPzE6LTEpKih1Lz0yKSk7cmV0dXJuIGN9KGUsdCxyLGksbixvLGEscyxoKSl9ZnVuY3Rpb24gaChlLHQscil7Zm9yKHZhciBpLG4sbyxhLHMsaD0wLGw9MCx1PShlPWZ1bmN0aW9uKGUsdCl7dmFyIG8sYT1iKGUpLHM9dCYmYih0KSxyPXt4OjAseTowLGJ4OjAsYnk6MCxYOjAsWTowLHF4Om51bGwscXk6bnVsbH0saT17eDowLHk6MCxieDowLGJ5OjAsWDowLFk6MCxxeDpudWxsLHF5Om51bGx9LG49W10saD1bXSxsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuO2lmKCFlKXJldHVybltcIkNcIix0LngsdC55LHQueCx0LnksdC54LHQueV07c3dpdGNoKGVbMF1pbntUOjEsUToxfXx8KHQucXg9dC5xeT1udWxsKSxlWzBdKXtjYXNlXCJNXCI6dC5YPWVbMV0sdC5ZPWVbMl07YnJlYWs7Y2FzZVwiQVwiOmU9W1wiQ1wiXS5jb25jYXQoZnVuY3Rpb24gZSh0LHIsaSxuLG8sYSxzLGgsbCx1KXt2YXIgYyxwLGQsZixtLHY9TWF0aC5QSSxnPTEyMCp2LzE4MCx5PXYvMTgwKigrb3x8MCksYj1bXSxfPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lKk1hdGguY29zKHIpLXQqTWF0aC5zaW4ociksbj1lKk1hdGguc2luKHIpK3QqTWF0aC5jb3Mocik7cmV0dXJue3g6aSx5Om59fTtpZih1KWM9dVswXSxwPXVbMV0sZD11WzJdLGY9dVszXTtlbHNle209Xyh0LHIsLXkpLHQ9bS54LHI9bS55LG09XyhoLGwsLXkpLGg9bS54LGw9bS55O3ZhciB4PSh0LWgpLzIsdz0oci1sKS8yLFM9eCp4LyhpKmkpK3cqdy8obipuKTsxPFMmJihTPU1hdGguc3FydChTKSxpKj1TLG4qPVMpO3ZhciBUPWkqaSxNPW4qbixFPShhPT09cz8tMToxKSpNYXRoLnNxcnQoTWF0aC5hYnMoKFQqTS1UKncqdy1NKngqeCkvKFQqdyp3K00qeCp4KSkpO2Q9RSppKncvbisodCtoKS8yLGY9RSotbip4L2krKHIrbCkvMixjPU1hdGguYXNpbigoKHItZikvbikudG9GaXhlZCg5KSkscD1NYXRoLmFzaW4oKChsLWYpL24pLnRvRml4ZWQoOSkpLChjPXQ8ZD92LWM6Yyk8MCYmKGM9Mip2K2MpLChwPWg8ZD92LXA6cCk8MCYmKHA9Mip2K3ApLHMmJnA8YyYmKGMtPTIqdiksIXMmJmM8cCYmKHAtPTIqdil9dmFyIEM9cC1jO2lmKE1hdGguYWJzKEMpPmcpe3ZhciBSPXAsTD1oLFA9bDtwPWMrZyoocyYmYzxwPzE6LTEpLGg9ZCtpKk1hdGguY29zKHApLGw9ZituKk1hdGguc2luKHApLGI9ZShoLGwsaSxuLG8sMCxzLEwsUCxbcCxSLGQsZl0pfUM9cC1jO3ZhciBrPU1hdGguY29zKGMpLEk9TWF0aC5zaW4oYyksRD1NYXRoLmNvcyhwKSxBPU1hdGguc2luKHApLFU9TWF0aC50YW4oQy80KSxPPTQvMyppKlUsQj00LzMqbipVLEY9W3Qscl0sRz1bdCtPKkksci1CKmtdLE49W2grTypBLGwtQipEXSxWPVtoLGxdO0dbMF09MipGWzBdLUdbMF07R1sxXT0yKkZbMV0tR1sxXTt7aWYodSlyZXR1cm5bRyxOLFZdLmNvbmNhdChiKTtiPVtHLE4sVl0uY29uY2F0KGIpLmpvaW4oKS5zcGxpdChcIixcIik7Zm9yKHZhciB6PVtdLEg9MCxqPWIubGVuZ3RoO0g8ajtIKyspeltIXT1IJTI/XyhiW0gtMV0sYltIXSx5KS55Ol8oYltIXSxiW0grMV0seSkueDtyZXR1cm4gen19LmFwcGx5KDAsW3QueCx0LnldLmNvbmNhdChlLnNsaWNlKDEpKSkpO2JyZWFrO2Nhc2VcIlNcIjpuPVwiQ1wiPT09cnx8XCJTXCI9PT1yPyhpPTIqdC54LXQuYngsMip0LnktdC5ieSk6KGk9dC54LHQueSksZT1bXCJDXCIsaSxuXS5jb25jYXQoZS5zbGljZSgxKSk7YnJlYWs7Y2FzZVwiVFwiOnQucXk9XCJRXCI9PT1yfHxcIlRcIj09PXI/KHQucXg9Mip0LngtdC5xeCwyKnQueS10LnF5KToodC5xeD10LngsdC55KSxlPVtcIkNcIl0uY29uY2F0KHgodC54LHQueSx0LnF4LHQucXksZVsxXSxlWzJdKSk7YnJlYWs7Y2FzZVwiUVwiOnQucXg9ZVsxXSx0LnF5PWVbMl0sZT1bXCJDXCJdLmNvbmNhdCh4KHQueCx0LnksZVsxXSxlWzJdLGVbM10sZVs0XSkpO2JyZWFrO2Nhc2VcIkxcIjplPVtcIkNcIl0uY29uY2F0KF8odC54LHQueSxlWzFdLGVbMl0pKTticmVhaztjYXNlXCJIXCI6ZT1bXCJDXCJdLmNvbmNhdChfKHQueCx0LnksZVsxXSx0LnkpKTticmVhaztjYXNlXCJWXCI6ZT1bXCJDXCJdLmNvbmNhdChfKHQueCx0LnksdC54LGVbMV0pKTticmVhaztjYXNlXCJaXCI6ZT1bXCJDXCJdLmNvbmNhdChfKHQueCx0LnksdC5YLHQuWSkpfXJldHVybiBlfSx1PWZ1bmN0aW9uKGUsdCl7aWYoNzxlW3RdLmxlbmd0aCl7ZVt0XS5zaGlmdCgpO2Zvcih2YXIgcj1lW3RdO3IubGVuZ3RoOyluW3RdPVwiQVwiLHMmJihoW3RdPVwiQVwiKSxlLnNwbGljZSh0KyssMCxbXCJDXCJdLmNvbmNhdChyLnNwbGljZSgwLDYpKSk7ZS5zcGxpY2UodCwxKSxvPU1hdGgubWF4KGEubGVuZ3RoLHMmJnMubGVuZ3RofHwwKX19LGM9ZnVuY3Rpb24oZSx0LHIsaSxuKXtlJiZ0JiZcIk1cIj09PWVbbl1bMF0mJlwiTVwiIT09dFtuXVswXSYmKHQuc3BsaWNlKG4sMCxbXCJNXCIsaS54LGkueV0pLHIuYng9MCxyLmJ5PTAsci54PWVbbl1bMV0sci55PWVbbl1bMl0sbz1NYXRoLm1heChhLmxlbmd0aCxzJiZzLmxlbmd0aHx8MCkpfSxwPVwiXCIsZD1cIlwiO289TWF0aC5tYXgoYS5sZW5ndGgscyYmcy5sZW5ndGh8fDApO2Zvcih2YXIgZj0wO2Y8bztmKyspe2FbZl0mJihwPWFbZl1bMF0pLFwiQ1wiIT09cCYmKG5bZl09cCxmJiYoZD1uW2YtMV0pKSxhW2ZdPWwoYVtmXSxyLGQpLFwiQVwiIT09bltmXSYmXCJDXCI9PT1wJiYobltmXT1cIkNcIiksdShhLGYpLHMmJihzW2ZdJiYocD1zW2ZdWzBdKSxcIkNcIiE9PXAmJihoW2ZdPXAsZiYmKGQ9aFtmLTFdKSksc1tmXT1sKHNbZl0saSxkKSxcIkFcIiE9PWhbZl0mJlwiQ1wiPT09cCYmKGhbZl09XCJDXCIpLHUocyxmKSksYyhhLHMscixpLGYpLGMocyxhLGkscixmKTt2YXIgbT1hW2ZdLHY9cyYmc1tmXSxnPW0ubGVuZ3RoLHk9cyYmdi5sZW5ndGg7ci54PW1bZy0yXSxyLnk9bVtnLTFdLHIuYng9cGFyc2VGbG9hdChtW2ctNF0pfHxyLngsci5ieT1wYXJzZUZsb2F0KG1bZy0zXSl8fHIueSxpLmJ4PXMmJihwYXJzZUZsb2F0KHZbeS00XSl8fGkueCksaS5ieT1zJiYocGFyc2VGbG9hdCh2W3ktM10pfHxpLnkpLGkueD1zJiZ2W3ktMl0saS55PXMmJnZbeS0xXX1yZXR1cm4gcz9bYSxzXTphfShlKSkubGVuZ3RoO2w8dTtsKyspe2lmKFwiTVwiPT09KG89ZVtsXSlbMF0paT0rb1sxXSxuPStvWzJdO2Vsc2V7aWYodDxoKyhhPWQoaSxuLG9bMV0sb1syXSxvWzNdLG9bNF0sb1s1XSxvWzZdKSkmJiFyKXJldHVybnt4OihzPWQoaSxuLG9bMV0sb1syXSxvWzNdLG9bNF0sb1s1XSxvWzZdLHQtaCkpLngseTpzLnksYWxwaGE6cy5hbHBoYX07aCs9YSxpPStvWzVdLG49K29bNl19by5zaGlmdCgpK299cmV0dXJuKHM9cj9oOmMoaSxuLG9bMF0sb1sxXSxvWzJdLG9bM10sb1s0XSxvWzVdLDEpKS5hbHBoYSYmKHM9e3g6cy54LHk6cy55LGFscGhhOnMuYWxwaGF9KSxzfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9W10scj0wLGk9MCxuPTAsbz0wLGE9MDtpZighZSlyZXR1cm4gdDtcIk1cIj09PWVbMF1bMF0mJihuPXI9K2VbMF1bMV0sbz1pPStlWzBdWzJdLGErKyx0WzBdPVtcIk1cIixyLGldKTtmb3IodmFyIHMsaCxsLHU9Mz09PWUubGVuZ3RoJiZcIk1cIj09PWVbMF1bMF0mJlwiUlwiPT09ZVsxXVswXS50b1VwcGVyQ2FzZSgpJiZcIlpcIj09PWVbMl1bMF0udG9VcHBlckNhc2UoKSxjPWEscD1lLmxlbmd0aDtjPHA7YysrKXtpZih0LnB1c2goaD1bXSksKGw9ZVtjXSlbMF0hPT1TdHJpbmcucHJvdG90eXBlLnRvVXBwZXJDYXNlLmNhbGwobFswXSkpc3dpdGNoKGhbMF09U3RyaW5nLnByb3RvdHlwZS50b1VwcGVyQ2FzZS5jYWxsKGxbMF0pLGhbMF0pe2Nhc2VcIkFcIjpoWzFdPWxbMV0saFsyXT1sWzJdLGhbM109bFszXSxoWzRdPWxbNF0saFs1XT1sWzVdLGhbNl09KyhsWzZdK3IpLGhbN109KyhsWzddK2kpO2JyZWFrO2Nhc2VcIlZcIjpoWzFdPStsWzFdK2k7YnJlYWs7Y2FzZVwiSFwiOmhbMV09K2xbMV0rcjticmVhaztjYXNlXCJSXCI6Zm9yKHZhciBkPTIsZj0ocz1bcixpXS5jb25jYXQobC5zbGljZSgxKSkpLmxlbmd0aDtkPGY7ZCsrKXNbZF09K3NbZF0rcixzWysrZF09K3NbZF0raTt0LnBvcCgpLHQ9dC5jb25jYXQoZyhzLHUpKTticmVhaztjYXNlXCJNXCI6bj0rbFsxXStyLG89K2xbMl0raTticmVhaztkZWZhdWx0OmZvcihkPTEsZj1sLmxlbmd0aDtkPGY7ZCsrKWhbZF09K2xbZF0rKGQlMj9yOmkpfWVsc2UgaWYoXCJSXCI9PT1sWzBdKXM9W3IsaV0uY29uY2F0KGwuc2xpY2UoMSkpLHQucG9wKCksdD10LmNvbmNhdChnKHMsdSkpLGg9W1wiUlwiXS5jb25jYXQobC5zbGljZSgtMikpO2Vsc2UgZm9yKHZhciBtPTAsdj1sLmxlbmd0aDttPHY7bSsrKWhbbV09bFttXTtzd2l0Y2goaFswXSl7Y2FzZVwiWlwiOnI9bixpPW87YnJlYWs7Y2FzZVwiSFwiOnI9aFsxXTticmVhaztjYXNlXCJWXCI6aT1oWzFdO2JyZWFrO2Nhc2VcIk1cIjpuPWhbaC5sZW5ndGgtMl0sbz1oW2gubGVuZ3RoLTFdO2JyZWFrO2RlZmF1bHQ6cj1oW2gubGVuZ3RoLTJdLGk9aFtoLmxlbmd0aC0xXX19cmV0dXJuIHR9ZnVuY3Rpb24gZyhlLHQpe2Zvcih2YXIgcj1bXSxpPTAsbj1lLmxlbmd0aDtpPG4tMiohdDtpKz0yKXt2YXIgbz1be3g6K2VbaS0yXSx5OitlW2ktMV19LHt4OitlW2ldLHk6K2VbaSsxXX0se3g6K2VbaSsyXSx5OitlW2krM119LHt4OitlW2krNF0seTorZVtpKzVdfV07dD9pP24tND09PWk/b1szXT17eDorZVswXSx5OitlWzFdfTpuLTI9PT1pJiYob1syXT17eDorZVswXSx5OitlWzFdfSxvWzNdPXt4OitlWzJdLHk6K2VbM119KTpvWzBdPXt4OitlW24tMl0seTorZVtuLTFdfTpuLTQ9PT1pP29bM109b1syXTppfHwob1swXT17eDorZVtpXSx5OitlW2krMV19KSxyLnB1c2goW1wiQ1wiLCgtb1swXS54KzYqb1sxXS54K29bMl0ueCkvNiwoLW9bMF0ueSs2Km9bMV0ueStvWzJdLnkpLzYsKG9bMV0ueCs2Km9bMl0ueC1vWzNdLngpLzYsKG9bMV0ueSs2Km9bMl0ueS1vWzNdLnkpLzYsb1syXS54LG9bMl0ueV0pfXJldHVybiByfWZ1bmN0aW9uIF8oZSx0LHIsaSl7cmV0dXJuW2UsdCxyLGkscixpXX1mdW5jdGlvbiB4KGUsdCxyLGksbixvKXtyZXR1cm5bMS8zKmUrMi8zKnIsMS8zKnQrMi8zKmksMS8zKm4rMi8zKnIsMS8zKm8rMi8zKmksbixvXX1mdW5jdGlvbiB5KGUsdCxyLGksbixvLGEscyxoKXtudWxsPT1oJiYoaD0xKTtmb3IodmFyIGw9KGg9MTxoPzE6aDwwPzA6aCkvMix1PVstLjEyNTIsLjEyNTIsLS4zNjc4LC4zNjc4LC0uNTg3MywuNTg3MywtLjc2OTksLjc2OTksLS45MDQxLC45MDQxLC0uOTgxNiwuOTgxNl0sYz0wLHA9Wy4yNDkxLC4yNDkxLC4yMzM1LC4yMzM1LC4yMDMyLC4yMDMyLC4xNjAxLC4xNjAxLC4xMDY5LC4xMDY5LC4wNDcyLC4wNDcyXSxkPTA7ZDwxMjtkKyspe3ZhciBmPWwqdVtkXStsLG09dyhmLGUscixuLGEpLHY9dyhmLHQsaSxvLHMpLGc9bSptK3YqdjtjKz1wW2RdKk1hdGguc3FydChnKX1yZXR1cm4gbCpjfWZ1bmN0aW9uIHcoZSx0LHIsaSxuKXtyZXR1cm4gZSooZSooLTMqdCs5KnItOSppKzMqbikrNip0LTEyKnIrNippKS0zKnQrMypyfWkuRm9udD1mdW5jdGlvbihlKXt0aGlzLnBhcmVudD1lLHRoaXMuY2FjaGU9e30sdGhpcy5mb250PXZvaWQgMH0saS5Gb250LnByb3RvdHlwZS50ZXh0Qm91bmRzPWZ1bmN0aW9uKGUsdCxyLGksbil7dD12b2lkIDAhPT10P3Q6MCxyPXZvaWQgMCE9PXI/cjowO3ZhciBvLGE9biYmbi5yZW5kZXJlciYmbi5yZW5kZXJlci5fcEluc3R8fHRoaXMucGFyZW50LHM9YS5fcmVuZGVyZXIuZHJhd2luZ0NvbnRleHQ7cy50ZXh0QWxpZ258fG0uTEVGVCxzLnRleHRCYXNlbGluZXx8bS5CQVNFTElORTtpZihpPWl8fGEuX3JlbmRlcmVyLl90ZXh0U2l6ZSwhbyl7dmFyIGgsbCx1LGMscD1bXSxkPVtdLGY9dGhpcy5fc2NhbGUoaSk7dGhpcy5mb250LmZvckVhY2hHbHlwaChlLHQscixpLG4sZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49ZS5nZXRNZXRyaWNzKCk7cC5wdXNoKHQrbi54TWluKmYpLHAucHVzaCh0K24ueE1heCpmKSxkLnB1c2gocistbi55TWluKmYpLGQucHVzaChyKy1uLnlNYXgqZil9KSxoPU1hdGgubWluLmFwcGx5KG51bGwscCksbD1NYXRoLm1pbi5hcHBseShudWxsLGQpLHU9TWF0aC5tYXguYXBwbHkobnVsbCxwKSxvPXt4OmgseTpsLGg6TWF0aC5tYXguYXBwbHkobnVsbCxkKS1sLHc6dS1oLGFkdmFuY2U6aC10fSxjPXRoaXMuX2hhbmRsZUFsaWdubWVudChhLl9yZW5kZXJlcixlLG8ueCxvLnksby53K28uYWR2YW5jZSksby54PWMueCxvLnk9Yy55fXJldHVybiBvfSxpLkZvbnQucHJvdG90eXBlLnRleHRUb1BvaW50cz1mdW5jdGlvbihlLHQscixpLG4pe3ZhciBvLGE9MCxzPVtdLGg9dGhpcy5fZ2V0R2x5cGhzKGUpO2k9aXx8dGhpcy5wYXJlbnQuX3JlbmRlcmVyLl90ZXh0U2l6ZTtmb3IodmFyIGw9MDtsPGgubGVuZ3RoO2wrKyl7aWYoIShoW289bF0ubmFtZSYmXCJzcGFjZVwiPT09aFtvXS5uYW1lfHxlLmxlbmd0aD09PWgubGVuZ3RoJiZcIiBcIj09PWVbb118fGhbb10uaW5kZXgmJjM9PT1oW29dLmluZGV4KSlmb3IodmFyIHU9dihoW2xdLmdldFBhdGgodCxyLGkpLmNvbW1hbmRzKSxjPTA7Yzx1Lmxlbmd0aDtjKyspZm9yKHZhciBwPWYodVtjXSxuKSxkPTA7ZDxwLmxlbmd0aDtkKyspcFtkXS54Kz1hLHMucHVzaChwW2RdKTthKz1oW2xdLmFkdmFuY2VXaWR0aCp0aGlzLl9zY2FsZShpKX1yZXR1cm4gc30saS5Gb250LnByb3RvdHlwZS5fZ2V0R2x5cGhzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZvbnQuc3RyaW5nVG9HbHlwaHMoZSl9LGkuRm9udC5wcm90b3R5cGUuX2dldFBhdGg9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49KGkmJmkucmVuZGVyZXImJmkucmVuZGVyZXIuX3BJbnN0fHx0aGlzLnBhcmVudCkuX3JlbmRlcmVyLG89dGhpcy5faGFuZGxlQWxpZ25tZW50KG4sZSx0LHIpO3JldHVybiB0aGlzLmZvbnQuZ2V0UGF0aChlLG8ueCxvLnksbi5fdGV4dFNpemUsaSl9LGkuRm9udC5wcm90b3R5cGUuX2dldFBhdGhEYXRhPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPTM7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJjI8YXJndW1lbnRzLmxlbmd0aD9lPXRoaXMuX2dldFBhdGgoZSx0LHIsaSk6XCJvYmplY3RcIj09dHlwZW9mIHQmJihpPXQpLGkmJlwibnVtYmVyXCI9PXR5cGVvZiBpLmRlY2ltYWxzJiYobj1pLmRlY2ltYWxzKSxlLnRvUGF0aERhdGEobil9LGkuRm9udC5wcm90b3R5cGUuX2dldFNWRz1mdW5jdGlvbihlLHQscixpKXt2YXIgbj0zO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYyPGFyZ3VtZW50cy5sZW5ndGg/ZT10aGlzLl9nZXRQYXRoKGUsdCxyLGkpOlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoaT10KSxpJiYoXCJudW1iZXJcIj09dHlwZW9mIGkuZGVjaW1hbHMmJihuPWkuZGVjaW1hbHMpLFwibnVtYmVyXCI9PXR5cGVvZiBpLnN0cm9rZVdpZHRoJiYoZS5zdHJva2VXaWR0aD1pLnN0cm9rZVdpZHRoKSx2b2lkIDAhPT1pLmZpbGwmJihlLmZpbGw9aS5maWxsKSx2b2lkIDAhPT1pLnN0cm9rZSYmKGUuc3Ryb2tlPWkuc3Ryb2tlKSksZS50b1NWRyhuKX0saS5Gb250LnByb3RvdHlwZS5fcmVuZGVyUGF0aD1mdW5jdGlvbihlLHQscixpKXt2YXIgbixvPWkmJmkucmVuZGVyZXJ8fHRoaXMucGFyZW50Ll9yZW5kZXJlcixhPW8uZHJhd2luZ0NvbnRleHQ7bj1cIm9iamVjdFwiPT10eXBlb2YgZSYmZS5jb21tYW5kcz9lLmNvbW1hbmRzOnRoaXMuX2dldFBhdGgoZSx0LHIsaSkuY29tbWFuZHMsYS5iZWdpblBhdGgoKTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrPTEpe3ZhciBoPW5bc107XCJNXCI9PT1oLnR5cGU/YS5tb3ZlVG8oaC54LGgueSk6XCJMXCI9PT1oLnR5cGU/YS5saW5lVG8oaC54LGgueSk6XCJDXCI9PT1oLnR5cGU/YS5iZXppZXJDdXJ2ZVRvKGgueDEsaC55MSxoLngyLGgueTIsaC54LGgueSk6XCJRXCI9PT1oLnR5cGU/YS5xdWFkcmF0aWNDdXJ2ZVRvKGgueDEsaC55MSxoLngsaC55KTpcIlpcIj09PWgudHlwZSYmYS5jbG9zZVBhdGgoKX1yZXR1cm4gby5fZG9TdHJva2UmJm8uX3N0cm9rZVNldCYmYS5zdHJva2UoKSxvLl9kb0ZpbGwmJihvLl9maWxsU2V0fHxvLl9zZXRGaWxsKG0uX0RFRkFVTFRfVEVYVF9GSUxMKSxhLmZpbGwoKSksdGhpc30saS5Gb250LnByb3RvdHlwZS5fdGV4dFdpZHRoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZm9udC5nZXRBZHZhbmNlV2lkdGgoZSx0KX0saS5Gb250LnByb3RvdHlwZS5fdGV4dEFzY2VudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5mb250LmFzY2VuZGVyKnRoaXMuX3NjYWxlKGUpfSxpLkZvbnQucHJvdG90eXBlLl90ZXh0RGVzY2VudD1mdW5jdGlvbihlKXtyZXR1cm4tdGhpcy5mb250LmRlc2NlbmRlcip0aGlzLl9zY2FsZShlKX0saS5Gb250LnByb3RvdHlwZS5fc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIDEvdGhpcy5mb250LnVuaXRzUGVyRW0qKGV8fHRoaXMucGFyZW50Ll9yZW5kZXJlci5fdGV4dFNpemUpfSxpLkZvbnQucHJvdG90eXBlLl9oYW5kbGVBbGlnbm1lbnQ9ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgbz1lLl90ZXh0U2l6ZTtzd2l0Y2godm9pZCAwPT09biYmKG49dGhpcy5fdGV4dFdpZHRoKHQsbykpLGUuX3RleHRBbGlnbil7Y2FzZSBtLkNFTlRFUjpyLT1uLzI7YnJlYWs7Y2FzZSBtLlJJR0hUOnItPW59c3dpdGNoKGUuX3RleHRCYXNlbGluZSl7Y2FzZSBtLlRPUDppKz10aGlzLl90ZXh0QXNjZW50KG8pO2JyZWFrO2Nhc2UgbS5DRU5URVI6aSs9dGhpcy5fdGV4dEFzY2VudChvKS8yO2JyZWFrO2Nhc2UgbS5CT1RUT006aS09dGhpcy5fdGV4dERlc2NlbnQobyl9cmV0dXJue3g6cix5Oml9fSx0LmV4cG9ydHM9aX0se1wiLi4vY29yZS9jb25zdGFudHNcIjoxNyxcIi4uL2NvcmUvbWFpblwiOjIzfV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiLi4vY29yZS9tYWluXCIpO2kucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlLHQpe3JldHVybiBlLnB1c2godCksZX0saS5wcm90b3R5cGUuYXJyYXlDb3B5PWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIG8sYTtlPXZvaWQgMCE9PW4/KGE9TWF0aC5taW4obixlLmxlbmd0aCksbz1pLGUuc2xpY2UodCxhK3QpKTooYT12b2lkIDAhPT1yPyhhPXIsTWF0aC5taW4oYSxlLmxlbmd0aCkpOmUubGVuZ3RoLG89MCxyPXQsZS5zbGljZSgwLGEpKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmFwcGx5KHIsW28sYV0uY29uY2F0KGUpKX0saS5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSxpLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJldmVyc2UoKX0saS5wcm90b3R5cGUuc2hvcnRlbj1mdW5jdGlvbihlKXtyZXR1cm4gZS5wb3AoKSxlfSxpLnByb3RvdHlwZS5zaHVmZmxlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGksbj1BcnJheUJ1ZmZlciYmQXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcoZSksbz0oZT10fHxuP2U6ZS5zbGljZSgpKS5sZW5ndGg7MTxvOylyPU1hdGgucmFuZG9tKCkqb3wwLGk9ZVstLW9dLGVbb109ZVtyXSxlW3JdPWk7cmV0dXJuIGV9LGkucHJvdG90eXBlLnNvcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10P2Uuc2xpY2UoMCxNYXRoLm1pbih0LGUubGVuZ3RoKSk6ZSxpPXQ/ZS5zbGljZShNYXRoLm1pbih0LGUubGVuZ3RoKSk6W107cmV0dXJuKHI9XCJzdHJpbmdcIj09dHlwZW9mIHJbMF0/ci5zb3J0KCk6ci5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUtdH0pKS5jb25jYXQoaSl9LGkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoZSxbciwwXS5jb25jYXQodCkpLGV9LGkucHJvdG90eXBlLnN1YnNldD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHZvaWQgMCE9PXI/ZS5zbGljZSh0LHQrcik6ZS5zbGljZSh0LGUubGVuZ3RoKX0sdC5leHBvcnRzPWl9LHtcIi4uL2NvcmUvbWFpblwiOjIzfV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiLi4vY29yZS9tYWluXCIpO2kucHJvdG90eXBlLmZsb2F0PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/ZS5tYXAocGFyc2VGbG9hdCk6cGFyc2VGbG9hdChlKX0saS5wcm90b3R5cGUuaW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8MTAsXCJzdHJpbmdcIj09dHlwZW9mIGU/cGFyc2VJbnQoZSx0KTpcIm51bWJlclwiPT10eXBlb2YgZT8wfGU6XCJib29sZWFuXCI9PXR5cGVvZiBlP2U/MTowOmUgaW5zdGFuY2VvZiBBcnJheT9lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaS5wcm90b3R5cGUuaW50KGUsdCl9KTp2b2lkIDB9LGkucHJvdG90eXBlLnN0cj1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5P2UubWFwKGkucHJvdG90eXBlLnN0cik6U3RyaW5nKGUpfSxpLnByb3RvdHlwZS5ib29sZWFuPWZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlPzAhPT1lOlwic3RyaW5nXCI9PXR5cGVvZiBlP1widHJ1ZVwiPT09ZS50b0xvd2VyQ2FzZSgpOlwiYm9vbGVhblwiPT10eXBlb2YgZT9lOmUgaW5zdGFuY2VvZiBBcnJheT9lLm1hcChpLnByb3RvdHlwZS5ib29sZWFuKTp2b2lkIDB9LGkucHJvdG90eXBlLmJ5dGU9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5wcm90b3R5cGUuaW50KGUsMTApO3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0Pyh0KzEyOCklMjU2LTEyODp0IGluc3RhbmNlb2YgQXJyYXk/dC5tYXAoaS5wcm90b3R5cGUuYnl0ZSk6dm9pZCAwfSxpLnByb3RvdHlwZS5jaGFyPWZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiBlfHxpc05hTihlKT9lIGluc3RhbmNlb2YgQXJyYXk/ZS5tYXAoaS5wcm90b3R5cGUuY2hhcik6XCJzdHJpbmdcIj09dHlwZW9mIGU/aS5wcm90b3R5cGUuY2hhcihwYXJzZUludChlLDEwKSk6dm9pZCAwOlN0cmluZy5mcm9tQ2hhckNvZGUoZSl9LGkucHJvdG90eXBlLnVuY2hhcj1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmMT09PWUubGVuZ3RoP2UuY2hhckNvZGVBdCgwKTplIGluc3RhbmNlb2YgQXJyYXk/ZS5tYXAoaS5wcm90b3R5cGUudW5jaGFyKTp2b2lkIDB9LGkucHJvdG90eXBlLmhleD1mdW5jdGlvbihlLHQpe2lmKHQ9bnVsbD09dD90PTg6dCxlIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpLnByb3RvdHlwZS5oZXgoZSx0KX0pO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXtlPDAmJihlPTQyOTQ5NjcyOTUrZSsxKTtmb3IodmFyIHI9TnVtYmVyKGUpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO3IubGVuZ3RoPHQ7KXI9XCIwXCIrcjtyZXR1cm4gci5sZW5ndGg+PXQmJihyPXIuc3Vic3RyaW5nKHIubGVuZ3RoLXQsci5sZW5ndGgpKSxyfX0saS5wcm90b3R5cGUudW5oZXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9lLm1hcChpLnByb3RvdHlwZS51bmhleCk6cGFyc2VJbnQoXCIweFwiK2UsMTYpfSx0LmV4cG9ydHM9aX0se1wiLi4vY29yZS9tYWluXCI6MjN9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBhPWUoXCIuLi9jb3JlL21haW5cIik7ZnVuY3Rpb24gaShlLHQscil7dmFyIGk9ZTwwLG49aT9lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDEpOmUudG9TdHJpbmcoKSxvPW4uaW5kZXhPZihcIi5cIiksYT0tMSE9PW8/bi5zdWJzdHJpbmcoMCxvKTpuLHM9LTEhPT1vP24uc3Vic3RyaW5nKG8rMSk6XCJcIixoPWk/XCItXCI6XCJcIjtpZih2b2lkIDAhPT1yKXt2YXIgbD1cIlwiOygtMSE9PW98fDA8ci1zLmxlbmd0aCkmJihsPVwiLlwiKSxzLmxlbmd0aD5yJiYocz1zLnN1YnN0cmluZygwLHIpKTtmb3IodmFyIHU9MDt1PHQtYS5sZW5ndGg7dSsrKWgrPVwiMFwiO2grPWEsaCs9bCxoKz1zO2Zvcih2YXIgYz0wO2M8ci1zLmxlbmd0aDtjKyspaCs9XCIwXCI7cmV0dXJuIGh9Zm9yKHZhciBwPTA7cDxNYXRoLm1heCh0LWEubGVuZ3RoLDApO3ArKyloKz1cIjBcIjtyZXR1cm4gaCs9bn1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9KGU9ZS50b1N0cmluZygpKS5pbmRleE9mKFwiLlwiKSxpPS0xIT09cj9lLnN1YnN0cmluZyhyKTpcIlwiLG49LTEhPT1yP2Uuc3Vic3RyaW5nKDAscik6ZTtpZihuPW4udG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLFwiLFwiKSwwPT09dClpPVwiXCI7ZWxzZSBpZih2b2lkIDAhPT10KWlmKHQ+aS5sZW5ndGgpZm9yKHZhciBvPXQtKGkrPS0xPT09cj9cIi5cIjpcIlwiKS5sZW5ndGgrMSxhPTA7YTxvO2ErKylpKz1cIjBcIjtlbHNlIGk9aS5zdWJzdHJpbmcoMCx0KzEpO3JldHVybiBuK2l9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gMDxwYXJzZUZsb2F0KGUpP1wiK1wiK2UudG9TdHJpbmcoKTplLnRvU3RyaW5nKCl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gMDxwYXJzZUZsb2F0KGUpP1wiIFwiK2UudG9TdHJpbmcoKTplLnRvU3RyaW5nKCl9ZShcIi4uL2NvcmUvZXJyb3JfaGVscGVyc1wiKSxhLnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImpvaW5cIixhcmd1bWVudHMpLGUuam9pbih0KX0sYS5wcm90b3R5cGUubWF0Y2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibWF0Y2hcIixhcmd1bWVudHMpLGUubWF0Y2godCl9LGEucHJvdG90eXBlLm1hdGNoQWxsPWZ1bmN0aW9uKGUsdCl7YS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibWF0Y2hBbGxcIixhcmd1bWVudHMpO2Zvcih2YXIgcj1uZXcgUmVnRXhwKHQsXCJnXCIpLGk9ci5leGVjKGUpLG49W107bnVsbCE9PWk7KW4ucHVzaChpKSxpPXIuZXhlYyhlKTtyZXR1cm4gbn0sYS5wcm90b3R5cGUubmY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBhLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJuZlwiLGFyZ3VtZW50cyksZSBpbnN0YW5jZW9mIEFycmF5P2UubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpKGUsdCxyKX0pOlwiW29iamVjdCBBcmd1bWVudHNdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk/Mz09PWUubGVuZ3RoP3RoaXMubmYoZVswXSxlWzFdLGVbMl0pOjI9PT1lLmxlbmd0aD90aGlzLm5mKGVbMF0sZVsxXSk6dGhpcy5uZihlWzBdKTppKGUsdCxyKX0sYS5wcm90b3R5cGUubmZjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEuX3ZhbGlkYXRlUGFyYW1ldGVycyhcIm5mY1wiLGFyZ3VtZW50cyksZSBpbnN0YW5jZW9mIEFycmF5P2UubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsdCl9KTpuKGUsdCl9LGEucHJvdG90eXBlLm5mcD1mdW5jdGlvbigpe2EuX3ZhbGlkYXRlUGFyYW1ldGVycyhcIm5mcFwiLGFyZ3VtZW50cyk7dmFyIGU9YS5wcm90b3R5cGUubmYuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlIGluc3RhbmNlb2YgQXJyYXk/ZS5tYXAobyk6byhlKX0sYS5wcm90b3R5cGUubmZzPWZ1bmN0aW9uKCl7YS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibmZzXCIsYXJndW1lbnRzKTt2YXIgZT1hLnByb3RvdHlwZS5uZi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9lLm1hcChzKTpzKGUpfSxhLnByb3RvdHlwZS5zcGxpdD1mdW5jdGlvbihlLHQpe3JldHVybiBhLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJzcGxpdFwiLGFyZ3VtZW50cyksZS5zcGxpdCh0KX0sYS5wcm90b3R5cGUuc3BsaXRUb2tlbnM9ZnVuY3Rpb24oZSx0KXt2YXIgcjtpZihhLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJzcGxpdFRva2Vuc1wiLGFyZ3VtZW50cyksdm9pZCAwIT09dCl7dmFyIGk9dCxuPS9cXF0vZy5leGVjKGkpLG89L1xcWy9nLmV4ZWMoaSk7cj1vJiZuPyhpPWkuc2xpY2UoMCxuLmluZGV4KStpLnNsaWNlKG4uaW5kZXgrMSksbz0vXFxbL2cuZXhlYyhpKSxpPWkuc2xpY2UoMCxvLmluZGV4KStpLnNsaWNlKG8uaW5kZXgrMSksbmV3IFJlZ0V4cChcIltcXFxcW1wiK2krXCJcXFxcXV1cIixcImdcIikpOm4/KGk9aS5zbGljZSgwLG4uaW5kZXgpK2kuc2xpY2Uobi5pbmRleCsxKSxuZXcgUmVnRXhwKFwiW1wiK2krXCJcXFxcXV1cIixcImdcIikpOm8/KGk9aS5zbGljZSgwLG8uaW5kZXgpK2kuc2xpY2Uoby5pbmRleCsxKSxuZXcgUmVnRXhwKFwiW1wiK2krXCJcXFxcW11cIixcImdcIikpOm5ldyBSZWdFeHAoXCJbXCIraStcIl1cIixcImdcIil9ZWxzZSByPS9cXHMvZztyZXR1cm4gZS5zcGxpdChyKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX0sYS5wcm90b3R5cGUudHJpbT1mdW5jdGlvbihlKXtyZXR1cm4gYS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwidHJpbVwiLGFyZ3VtZW50cyksZSBpbnN0YW5jZW9mIEFycmF5P2UubWFwKHRoaXMudHJpbSk6ZS50cmltKCl9LHQuZXhwb3J0cz1hfSx7XCIuLi9jb3JlL2Vycm9yX2hlbHBlcnNcIjoxOSxcIi4uL2NvcmUvbWFpblwiOjIzfV0sNjI6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiLi4vY29yZS9tYWluXCIpO2kucHJvdG90eXBlLmRheT1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0RGF0ZSgpfSxpLnByb3RvdHlwZS5ob3VyPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRIb3VycygpfSxpLnByb3RvdHlwZS5taW51dGU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldE1pbnV0ZXMoKX0saS5wcm90b3R5cGUubWlsbGlzPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKX0saS5wcm90b3R5cGUubW9udGg9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldE1vbnRoKCkrMX0saS5wcm90b3R5cGUuc2Vjb25kPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRTZWNvbmRzKCl9LGkucHJvdG90eXBlLnllYXI9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldEZ1bGxZZWFyKCl9LHQuZXhwb3J0cz1pfSx7XCIuLi9jb3JlL21haW5cIjoyM31dLDYzOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHg9ZShcIi4uL2NvcmUvbWFpblwiKTtlKFwiLi9wNS5HZW9tZXRyeVwiKTt2YXIgZD1lKFwiLi4vY29yZS9jb25zdGFudHNcIik7eC5wcm90b3R5cGUucGxhbmU9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5fYXNzZXJ0M2QoXCJwbGFuZVwiKSx4Ll92YWxpZGF0ZVBhcmFtZXRlcnMoXCJwbGFuZVwiLGFyZ3VtZW50cyksdm9pZCAwPT09ZSYmKGU9NTApLHZvaWQgMD09PXQmJih0PWUpLHZvaWQgMD09PXImJihyPTEpLHZvaWQgMD09PWkmJihpPTEpO3ZhciBuPVwicGxhbmV8XCIrcitcInxcIitpO2lmKCF0aGlzLl9yZW5kZXJlci5nZW9tZXRyeUluSGFzaChuKSl7dmFyIG89bmV3IHguR2VvbWV0cnkocixpLGZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQscixpPTA7aTw9dGhpcy5kZXRhaWxZO2krKyl7dD1pL3RoaXMuZGV0YWlsWTtmb3IodmFyIG49MDtuPD10aGlzLmRldGFpbFg7bisrKWU9bi90aGlzLmRldGFpbFgscj1uZXcgeC5WZWN0b3IoZS0uNSx0LS41LDApLHRoaXMudmVydGljZXMucHVzaChyKSx0aGlzLnV2cy5wdXNoKGUsdCl9fSk7by5jb21wdXRlRmFjZXMoKS5jb21wdXRlTm9ybWFscygpLHI8PTEmJmk8PTE/by5fbWFrZVRyaWFuZ2xlRWRnZXMoKS5fZWRnZXNUb1ZlcnRpY2VzKCk6Y29uc29sZS5sb2coXCJDYW5ub3QgZHJhdyBzdHJva2Ugb24gcGxhbmUgb2JqZWN0cyB3aXRoIG1vcmUgdGhhbiAxIGRldGFpbFggb3IgMSBkZXRhaWxZXCIpLHRoaXMuX3JlbmRlcmVyLmNyZWF0ZUJ1ZmZlcnMobixvKX1yZXR1cm4gdGhpcy5fcmVuZGVyZXIuZHJhd0J1ZmZlcnNTY2FsZWQobixlLHQsMSksdGhpc30seC5wcm90b3R5cGUuYm94PWZ1bmN0aW9uKGUsdCxyLGksbil7dGhpcy5fYXNzZXJ0M2QoXCJib3hcIikseC5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiYm94XCIsYXJndW1lbnRzKSx2b2lkIDA9PT1lJiYoZT01MCksdm9pZCAwPT09dCYmKHQ9ZSksdm9pZCAwPT09ciYmKHI9dCk7dmFyIG89dGhpcy5fcmVuZGVyZXIuYXR0cmlidXRlcyYmdGhpcy5fcmVuZGVyZXIuYXR0cmlidXRlcy5wZXJQaXhlbExpZ2h0aW5nO3ZvaWQgMD09PWkmJihpPW8/MTo0KSx2b2lkIDA9PT1uJiYobj1vPzE6NCk7dmFyIGE9XCJib3h8XCIraStcInxcIituO2lmKCF0aGlzLl9yZW5kZXJlci5nZW9tZXRyeUluSGFzaChhKSl7dmFyIHM9bmV3IHguR2VvbWV0cnkoaSxuLGZ1bmN0aW9uKCl7dmFyIGU9W1swLDQsMiw2XSxbMSwzLDUsN10sWzAsMSw0LDVdLFsyLDYsMyw3XSxbMCwyLDEsM10sWzQsNSw2LDddXTt0aGlzLnN0cm9rZUluZGljZXM9W1swLDFdLFsxLDNdLFszLDJdLFs2LDddLFs4LDldLFs5LDExXSxbMTQsMTVdLFsxNiwxN10sWzE3LDE5XSxbMTgsMTldLFsyMCwyMV0sWzIyLDIzXV07Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe2Zvcih2YXIgcj1lW3RdLGk9NCp0LG49MDtuPDQ7bisrKXt2YXIgbz1yW25dLGE9bmV3IHguVmVjdG9yKCgyKigxJm8pLTEpLzIsKCgyJm8pLTEpLzIsKCg0Jm8pLzItMSkvMik7dGhpcy52ZXJ0aWNlcy5wdXNoKGEpLHRoaXMudXZzLnB1c2goMSZuLCgyJm4pLzIpfXRoaXMuZmFjZXMucHVzaChbaSxpKzEsaSsyXSksdGhpcy5mYWNlcy5wdXNoKFtpKzIsaSsxLGkrM10pfX0pO3MuY29tcHV0ZU5vcm1hbHMoKSxpPD00JiZuPD00P3MuX21ha2VUcmlhbmdsZUVkZ2VzKCkuX2VkZ2VzVG9WZXJ0aWNlcygpOmNvbnNvbGUubG9nKFwiQ2Fubm90IGRyYXcgc3Ryb2tlIG9uIGJveCBvYmplY3RzIHdpdGggbW9yZSB0aGFuIDQgZGV0YWlsWCBvciA0IGRldGFpbFlcIiksdGhpcy5fcmVuZGVyZXIuY3JlYXRlQnVmZmVycyhhLHMpfXJldHVybiB0aGlzLl9yZW5kZXJlci5kcmF3QnVmZmVyc1NjYWxlZChhLGUsdCxyKSx0aGlzfSx4LnByb3RvdHlwZS5zcGhlcmU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9hc3NlcnQzZChcInNwaGVyZVwiKSx4Ll92YWxpZGF0ZVBhcmFtZXRlcnMoXCJzcGhlcmVcIixhcmd1bWVudHMpLHZvaWQgMD09PWUmJihlPTUwKSx2b2lkIDA9PT10JiYodD0yNCksdm9pZCAwPT09ciYmKHI9MTYpLHRoaXMuZWxsaXBzb2lkKGUsZSxlLHQsciksdGhpc307dmFyIGg9ZnVuY3Rpb24oZSx0LHIsaSxuLG8sYSl7ZT1lPD0wPzE6ZSx0PXQ8MD8wOnQscj1yPD0wP2U6cixpPWk8Mz8zOmk7dmFyIHMsaCxsLHUsYyxwPShvPXZvaWQgMD09PW98fG8pPy0yOjAsZD0obj1uPDE/MTpuKSsoKGE9dm9pZCAwPT09YT8wIT09dDphKT8yOjApLGY9e30sbT1NYXRoLmF0YW4yKGUtdCxyKTtmb3Iocz1wO3M8PWQ7KytzKXt2YXIgdixnPXMvbix5PXIqZztmb3Iodj1zPDA/KGc9eT0wLGUpOm48cz8oeT1yLGc9MSx0KTplKyh0LWUpKmcsLTIhPT1zJiZzIT09bisyfHwodj0wKSx5LT1yLzIsZltzXT0wPT09dj8xOmksaD0wO2g8ZltzXTsrK2gpe3ZhciBiPWgvaTt0aGlzLnZlcnRpY2VzLnB1c2gobmV3IHguVmVjdG9yKE1hdGguc2luKDIqYipNYXRoLlBJKSp2LHksTWF0aC5jb3MoMipiKk1hdGguUEkpKnYpKSx0aGlzLnZlcnRleE5vcm1hbHMucHVzaChuZXcgeC5WZWN0b3IoczwwfHxuPHM/MDpNYXRoLnNpbigyKmIqTWF0aC5QSSkqTWF0aC5jb3MobSksczwwPy0xOm48cz8xOk1hdGguc2luKG0pLHM8MHx8bjxzPzA6TWF0aC5jb3MoMipiKk1hdGguUEkpKk1hdGguY29zKG0pKSksdGhpcy51dnMucHVzaChiLGcpfX12YXIgXz0wO2lmKG8pe2ZvcihsPTA7bDxmWy0xXTsrK2wpYz0obCsxKSVmWy0xXSx0aGlzLmZhY2VzLnB1c2goW18sXysxK2MsXysxK2xdKTtfKz1mWy0yXStmWy0xXX1mb3Iocz0wO3M8bjsrK3Mpe2ZvcihoPTA7aDxmW3NdOysraCkxPT09ZltzKzFdPyh1PShoKzEpJWZbc10sdGhpcy5mYWNlcy5wdXNoKFtfK2gsXyt1LF8rZltzXV0pKToodT0oaCsxKSVmW3NdLHRoaXMuZmFjZXMucHVzaChbXytoLF8rdSxfK2Zbc10rdV0pLHRoaXMuZmFjZXMucHVzaChbXytoLF8rZltzXSt1LF8rZltzXStoXSkpO18rPWZbc119aWYoYSlmb3IoXys9ZltuXSxoPTA7aDxmW24rMV07KytoKXU9KGgrMSklZltuKzFdLHRoaXMuZmFjZXMucHVzaChbXytoLF8rdSxfK2ZbbisxXV0pfTt4LnByb3RvdHlwZS5jeWxpbmRlcj1mdW5jdGlvbihlLHQscixpLG4sbyl7dGhpcy5fYXNzZXJ0M2QoXCJjeWxpbmRlclwiKSx4Ll92YWxpZGF0ZVBhcmFtZXRlcnMoXCJjeWxpbmRlclwiLGFyZ3VtZW50cyksdm9pZCAwPT09ZSYmKGU9NTApLHZvaWQgMD09PXQmJih0PWUpLHZvaWQgMD09PXImJihyPTI0KSx2b2lkIDA9PT1pJiYoaT0xKSx2b2lkIDA9PT1vJiYobz0hMCksdm9pZCAwPT09biYmKG49ITApO3ZhciBhPVwiY3lsaW5kZXJ8XCIrcitcInxcIitpK1wifFwiK24rXCJ8XCIrbztpZighdGhpcy5fcmVuZGVyZXIuZ2VvbWV0cnlJbkhhc2goYSkpe3ZhciBzPW5ldyB4Lkdlb21ldHJ5KHIsaSk7aC5jYWxsKHMsMSwxLDEscixpLG4sbykscy5jb21wdXRlTm9ybWFscygpLHI8PTI0JiZpPD0xNj9zLl9tYWtlVHJpYW5nbGVFZGdlcygpLl9lZGdlc1RvVmVydGljZXMoKTpjb25zb2xlLmxvZyhcIkNhbm5vdCBkcmF3IHN0cm9rZSBvbiBjeWxpbmRlciBvYmplY3RzIHdpdGggbW9yZSB0aGFuIDI0IGRldGFpbFggb3IgMTYgZGV0YWlsWVwiKSx0aGlzLl9yZW5kZXJlci5jcmVhdGVCdWZmZXJzKGEscyl9cmV0dXJuIHRoaXMuX3JlbmRlcmVyLmRyYXdCdWZmZXJzU2NhbGVkKGEsZSx0LGUpLHRoaXN9LHgucHJvdG90eXBlLmNvbmU9ZnVuY3Rpb24oZSx0LHIsaSxuKXt0aGlzLl9hc3NlcnQzZChcImNvbmVcIikseC5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiY29uZVwiLGFyZ3VtZW50cyksdm9pZCAwPT09ZSYmKGU9NTApLHZvaWQgMD09PXQmJih0PWUpLHZvaWQgMD09PXImJihyPTI0KSx2b2lkIDA9PT1pJiYoaT0xKSx2b2lkIDA9PT1uJiYobj0hMCk7dmFyIG89XCJjb25lfFwiK3IrXCJ8XCIraStcInxcIituO2lmKCF0aGlzLl9yZW5kZXJlci5nZW9tZXRyeUluSGFzaChvKSl7dmFyIGE9bmV3IHguR2VvbWV0cnkocixpKTtoLmNhbGwoYSwxLDAsMSxyLGksbiwhMSksYS5jb21wdXRlTm9ybWFscygpLHI8PTI0JiZpPD0xNj9hLl9tYWtlVHJpYW5nbGVFZGdlcygpLl9lZGdlc1RvVmVydGljZXMoKTpjb25zb2xlLmxvZyhcIkNhbm5vdCBkcmF3IHN0cm9rZSBvbiBjb25lIG9iamVjdHMgd2l0aCBtb3JlIHRoYW4gMjQgZGV0YWlsWCBvciAxNiBkZXRhaWxZXCIpLHRoaXMuX3JlbmRlcmVyLmNyZWF0ZUJ1ZmZlcnMobyxhKX1yZXR1cm4gdGhpcy5fcmVuZGVyZXIuZHJhd0J1ZmZlcnNTY2FsZWQobyxlLHQsZSksdGhpc30seC5wcm90b3R5cGUuZWxsaXBzb2lkPWZ1bmN0aW9uKGUsdCxyLGksbil7dGhpcy5fYXNzZXJ0M2QoXCJlbGxpcHNvaWRcIikseC5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiZWxsaXBzb2lkXCIsYXJndW1lbnRzKSx2b2lkIDA9PT1lJiYoZT01MCksdm9pZCAwPT09dCYmKHQ9ZSksdm9pZCAwPT09ciYmKHI9ZSksdm9pZCAwPT09aSYmKGk9MjQpLHZvaWQgMD09PW4mJihuPTE2KTt2YXIgbz1cImVsbGlwc29pZHxcIitpK1wifFwiK247aWYoIXRoaXMuX3JlbmRlcmVyLmdlb21ldHJ5SW5IYXNoKG8pKXt2YXIgYT1uZXcgeC5HZW9tZXRyeShpLG4sZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPD10aGlzLmRldGFpbFk7ZSsrKWZvcih2YXIgdD1lL3RoaXMuZGV0YWlsWSxyPU1hdGguUEkqdC1NYXRoLlBJLzIsaT1NYXRoLmNvcyhyKSxuPU1hdGguc2luKHIpLG89MDtvPD10aGlzLmRldGFpbFg7bysrKXt2YXIgYT1vL3RoaXMuZGV0YWlsWCxzPTIqTWF0aC5QSSphLGg9TWF0aC5jb3MocyksbD1NYXRoLnNpbihzKSx1PW5ldyB4LlZlY3RvcihpKmwsbixpKmgpO3RoaXMudmVydGljZXMucHVzaCh1KSx0aGlzLnZlcnRleE5vcm1hbHMucHVzaCh1KSx0aGlzLnV2cy5wdXNoKGEsdCl9fSk7YS5jb21wdXRlRmFjZXMoKSxpPD0yNCYmbjw9MjQ/YS5fbWFrZVRyaWFuZ2xlRWRnZXMoKS5fZWRnZXNUb1ZlcnRpY2VzKCk6Y29uc29sZS5sb2coXCJDYW5ub3QgZHJhdyBzdHJva2Ugb24gZWxsaXBzb2lkcyB3aXRoIG1vcmUgdGhhbiAyNCBkZXRhaWxYIG9yIDI0IGRldGFpbFlcIiksdGhpcy5fcmVuZGVyZXIuY3JlYXRlQnVmZmVycyhvLGEpfXJldHVybiB0aGlzLl9yZW5kZXJlci5kcmF3QnVmZmVyc1NjYWxlZChvLGUsdCxyKSx0aGlzfSx4LnByb3RvdHlwZS50b3J1cz1mdW5jdGlvbihlLHQscixpKXtpZih0aGlzLl9hc3NlcnQzZChcInRvcnVzXCIpLHguX3ZhbGlkYXRlUGFyYW1ldGVycyhcInRvcnVzXCIsYXJndW1lbnRzKSx2b2lkIDA9PT1lKWU9NTA7ZWxzZSBpZighZSlyZXR1cm47aWYodm9pZCAwPT09dCl0PTEwO2Vsc2UgaWYoIXQpcmV0dXJuO3ZvaWQgMD09PXImJihyPTI0KSx2b2lkIDA9PT1pJiYoaT0xNik7dmFyIGQ9KHQvZSkudG9QcmVjaXNpb24oNCksbj1cInRvcnVzfFwiK2QrXCJ8XCIrcitcInxcIitpO2lmKCF0aGlzLl9yZW5kZXJlci5nZW9tZXRyeUluSGFzaChuKSl7dmFyIG89bmV3IHguR2VvbWV0cnkocixpLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTw9dGhpcy5kZXRhaWxZO2UrKylmb3IodmFyIHQ9ZS90aGlzLmRldGFpbFkscj0yKk1hdGguUEkqdCxpPU1hdGguY29zKHIpLG49TWF0aC5zaW4ociksbz0xK2QqaSxhPTA7YTw9dGhpcy5kZXRhaWxYO2ErKyl7dmFyIHM9YS90aGlzLmRldGFpbFgsaD0yKk1hdGguUEkqcyxsPU1hdGguY29zKGgpLHU9TWF0aC5zaW4oaCksYz1uZXcgeC5WZWN0b3IobypsLG8qdSxkKm4pLHA9bmV3IHguVmVjdG9yKGkqbCxpKnUsbik7dGhpcy52ZXJ0aWNlcy5wdXNoKGMpLHRoaXMudmVydGV4Tm9ybWFscy5wdXNoKHApLHRoaXMudXZzLnB1c2gocyx0KX19KTtvLmNvbXB1dGVGYWNlcygpLHI8PTI0JiZpPD0xNj9vLl9tYWtlVHJpYW5nbGVFZGdlcygpLl9lZGdlc1RvVmVydGljZXMoKTpjb25zb2xlLmxvZyhcIkNhbm5vdCBkcmF3IHN0cm9rZXMgb24gdG9ydXMgb2JqZWN0IHdpdGggbW9yZSB0aGFuIDI0IGRldGFpbFggb3IgMTYgZGV0YWlsWVwiKSx0aGlzLl9yZW5kZXJlci5jcmVhdGVCdWZmZXJzKG4sbyl9cmV0dXJuIHRoaXMuX3JlbmRlcmVyLmRyYXdCdWZmZXJzU2NhbGVkKG4sZSxlLGUpLHRoaXN9LHguUmVuZGVyZXJHTC5wcm90b3R5cGUucG9pbnQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3VzZVBvaW50U2hhZGVyKCksdGhpcy5jdXJQb2ludFNoYWRlci5iaW5kU2hhZGVyKCksdm9pZCAwPT09ciYmKHI9MCk7dmFyIGk9W107cmV0dXJuIGkucHVzaChuZXcgeC5WZWN0b3IoZSx0LHIpKSx0aGlzLl9kcmF3UG9pbnRzKGksdGhpcy5fcG9pbnRWZXJ0ZXhCdWZmZXIpLHRoaXMuY3VyUG9pbnRTaGFkZXIudW5iaW5kU2hhZGVyKCksdGhpc30seC5SZW5kZXJlckdMLnByb3RvdHlwZS50cmlhbmdsZT1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXSxpPWVbMl0sbj1lWzNdLG89ZVs0XSxhPWVbNV07aWYoIXRoaXMuZ2VvbWV0cnlJbkhhc2goXCJ0cmlcIikpe3ZhciBzPW5ldyB4Lkdlb21ldHJ5KDEsMSxmdW5jdGlvbigpe3ZhciBlPVtdO2UucHVzaChuZXcgeC5WZWN0b3IoMCwwLDApKSxlLnB1c2gobmV3IHguVmVjdG9yKDAsMSwwKSksZS5wdXNoKG5ldyB4LlZlY3RvcigxLDAsMCkpLHRoaXMuc3Ryb2tlSW5kaWNlcz1bWzAsMV0sWzEsMl0sWzIsMF1dLHRoaXMudmVydGljZXM9ZSx0aGlzLmZhY2VzPVtbMCwxLDJdXSx0aGlzLnV2cz1bMCwwLDAsMSwxLDFdfSk7cy5fbWFrZVRyaWFuZ2xlRWRnZXMoKS5fZWRnZXNUb1ZlcnRpY2VzKCkscy5jb21wdXRlTm9ybWFscygpLHRoaXMuY3JlYXRlQnVmZmVycyhcInRyaVwiLHMpfXZhciBoPXRoaXMudU1WTWF0cml4LmNvcHkoKTt0cnl7dmFyIGw9bmV3IHguTWF0cml4KFtpLXQsbi1yLDAsMCxvLXQsYS1yLDAsMCwwLDAsMSwwLHQsciwwLDFdKS5tdWx0KHRoaXMudU1WTWF0cml4KTt0aGlzLnVNVk1hdHJpeD1sLHRoaXMuZHJhd0J1ZmZlcnMoXCJ0cmlcIil9ZmluYWxseXt0aGlzLnVNVk1hdHJpeD1ofXJldHVybiB0aGlzfSx4LlJlbmRlcmVyR0wucHJvdG90eXBlLmVsbGlwc2U9ZnVuY3Rpb24oZSl7dGhpcy5hcmMoZVswXSxlWzFdLGVbMl0sZVszXSwwLGQuVFdPX1BJLGQuT1BFTixlWzRdKX0seC5SZW5kZXJlckdMLnByb3RvdHlwZS5hcmM9ZnVuY3Rpb24oZSl7dmFyIHQscixpPWUsbj1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl0sYT1hcmd1bWVudHNbM10scz1hcmd1bWVudHNbNF0saD1hcmd1bWVudHNbNV0sbD1hcmd1bWVudHNbNl0sdT1hcmd1bWVudHNbN118fDI1O2lmKHI9TWF0aC5hYnMoaC1zKT49ZC5UV09fUEk/KHQ9XCJlbGxpcHNlXCIpK1wifFwiK3UrXCJ8XCI6KHQ9XCJhcmNcIikrXCJ8XCIrcytcInxcIitoK1wifFwiK2wrXCJ8XCIrdStcInxcIiwhdGhpcy5nZW9tZXRyeUluSGFzaChyKSl7dmFyIGM9bmV3IHguR2VvbWV0cnkodSwxLGZ1bmN0aW9uKCl7aWYodGhpcy5zdHJva2VJbmRpY2VzPVtdLHMudG9GaXhlZCgxMCkhPT1oLnRvRml4ZWQoMTApKXtsIT09ZC5QSUUmJnZvaWQgMCE9PWx8fCh0aGlzLnZlcnRpY2VzLnB1c2gobmV3IHguVmVjdG9yKC41LC41LDApKSx0aGlzLnV2cy5wdXNoKFsuNSwuNV0pKTtmb3IodmFyIGU9MDtlPD11O2UrKyl7dmFyIHQ9ZS91KihoLXMpK3Mscj0uNStNYXRoLmNvcyh0KS8yLGk9LjUrTWF0aC5zaW4odCkvMjt0aGlzLnZlcnRpY2VzLnB1c2gobmV3IHguVmVjdG9yKHIsaSwwKSksdGhpcy51dnMucHVzaChbcixpXSksZTx1LTEmJih0aGlzLmZhY2VzLnB1c2goWzAsZSsxLGUrMl0pLHRoaXMuc3Ryb2tlSW5kaWNlcy5wdXNoKFtlKzEsZSsyXSkpfXN3aXRjaChsKXtjYXNlIGQuUElFOnRoaXMuZmFjZXMucHVzaChbMCx0aGlzLnZlcnRpY2VzLmxlbmd0aC0yLHRoaXMudmVydGljZXMubGVuZ3RoLTFdKSx0aGlzLnN0cm9rZUluZGljZXMucHVzaChbMCwxXSksdGhpcy5zdHJva2VJbmRpY2VzLnB1c2goW3RoaXMudmVydGljZXMubGVuZ3RoLTIsdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMV0pLHRoaXMuc3Ryb2tlSW5kaWNlcy5wdXNoKFswLHRoaXMudmVydGljZXMubGVuZ3RoLTFdKTticmVhaztjYXNlIGQuQ0hPUkQ6dGhpcy5zdHJva2VJbmRpY2VzLnB1c2goWzAsMV0pLHRoaXMuc3Ryb2tlSW5kaWNlcy5wdXNoKFswLHRoaXMudmVydGljZXMubGVuZ3RoLTFdKTticmVhaztjYXNlIGQuT1BFTjp0aGlzLnN0cm9rZUluZGljZXMucHVzaChbMCwxXSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmZhY2VzLnB1c2goWzAsdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMix0aGlzLnZlcnRpY2VzLmxlbmd0aC0xXSksdGhpcy5zdHJva2VJbmRpY2VzLnB1c2goW3RoaXMudmVydGljZXMubGVuZ3RoLTIsdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMV0pfX19KTtjLmNvbXB1dGVOb3JtYWxzKCksdTw9NTA/Yy5fbWFrZVRyaWFuZ2xlRWRnZXMoKS5fZWRnZXNUb1ZlcnRpY2VzKGMpOmNvbnNvbGUubG9nKFwiQ2Fubm90IHN0cm9rZSBcIit0K1wiIHdpdGggbW9yZSB0aGFuIDUwIGRldGFpbFwiKSx0aGlzLmNyZWF0ZUJ1ZmZlcnMocixjKX12YXIgcD10aGlzLnVNVk1hdHJpeC5jb3B5KCk7dHJ5e3RoaXMudU1WTWF0cml4LnRyYW5zbGF0ZShbaSxuLDBdKSx0aGlzLnVNVk1hdHJpeC5zY2FsZShvLGEsMSksdGhpcy5kcmF3QnVmZmVycyhyKX1maW5hbGx5e3RoaXMudU1WTWF0cml4PXB9cmV0dXJuIHRoaXN9LHguUmVuZGVyZXJHTC5wcm90b3R5cGUucmVjdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmF0dHJpYnV0ZXMucGVyUGl4ZWxMaWdodGluZyxyPWVbMF0saT1lWzFdLG49ZVsyXSxvPWVbM10sYT1lWzRdfHwodD8xOjI0KSxzPWVbNV18fCh0PzE6MTYpLGg9XCJyZWN0fFwiK2ErXCJ8XCIrcztpZighdGhpcy5nZW9tZXRyeUluSGFzaChoKSl7dmFyIGw9bmV3IHguR2VvbWV0cnkoYSxzLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTw9dGhpcy5kZXRhaWxZO2UrKylmb3IodmFyIHQ9ZS90aGlzLmRldGFpbFkscj0wO3I8PXRoaXMuZGV0YWlsWDtyKyspe3ZhciBpPXIvdGhpcy5kZXRhaWxYLG49bmV3IHguVmVjdG9yKGksdCwwKTt0aGlzLnZlcnRpY2VzLnB1c2gobiksdGhpcy51dnMucHVzaChpLHQpfTA8YSYmMDxzJiYodGhpcy5zdHJva2VJbmRpY2VzPVtbMCxhXSxbYSwoYSsxKSoocysxKS0xXSxbKGErMSkqKHMrMSktMSwoYSsxKSpzXSxbKGErMSkqcywwXV0pfSk7bC5jb21wdXRlRmFjZXMoKS5jb21wdXRlTm9ybWFscygpLl9tYWtlVHJpYW5nbGVFZGdlcygpLl9lZGdlc1RvVmVydGljZXMoKSx0aGlzLmNyZWF0ZUJ1ZmZlcnMoaCxsKX12YXIgdT10aGlzLnVNVk1hdHJpeC5jb3B5KCk7dHJ5e3RoaXMudU1WTWF0cml4LnRyYW5zbGF0ZShbcixpLDBdKSx0aGlzLnVNVk1hdHJpeC5zY2FsZShuLG8sMSksdGhpcy5kcmF3QnVmZmVycyhoKX1maW5hbGx5e3RoaXMudU1WTWF0cml4PXV9cmV0dXJuIHRoaXN9LHguUmVuZGVyZXJHTC5wcm90b3R5cGUucXVhZD1mdW5jdGlvbihlLHQscixpLG4sbyxhLHMpe3ZhciBoPVwicXVhZHxcIitlK1wifFwiK3QrXCJ8XCIrcitcInxcIitpK1wifFwiK24rXCJ8XCIrbytcInxcIithK1wifFwiK3M7aWYoIXRoaXMuZ2VvbWV0cnlJbkhhc2goaCkpe3ZhciBsPW5ldyB4Lkdlb21ldHJ5KDIsMixmdW5jdGlvbigpe3RoaXMudmVydGljZXMucHVzaChuZXcgeC5WZWN0b3IoZSx0LDApKSx0aGlzLnZlcnRpY2VzLnB1c2gobmV3IHguVmVjdG9yKHIsaSwwKSksdGhpcy52ZXJ0aWNlcy5wdXNoKG5ldyB4LlZlY3RvcihuLG8sMCkpLHRoaXMudmVydGljZXMucHVzaChuZXcgeC5WZWN0b3IoYSxzLDApKSx0aGlzLnV2cy5wdXNoKDAsMCwxLDAsMSwxLDAsMSksdGhpcy5zdHJva2VJbmRpY2VzPVtbMCwxXSxbMSwyXSxbMiwzXSxbMywwXV19KTtsLmNvbXB1dGVOb3JtYWxzKCkuX21ha2VUcmlhbmdsZUVkZ2VzKCkuX2VkZ2VzVG9WZXJ0aWNlcygpLGwuZmFjZXM9W1swLDEsMl0sWzIsMywwXV0sdGhpcy5jcmVhdGVCdWZmZXJzKGgsbCl9cmV0dXJuIHRoaXMuZHJhd0J1ZmZlcnMoaCksdGhpc30seC5SZW5kZXJlckdMLnByb3RvdHlwZS5iZXppZXI9ZnVuY3Rpb24oZSx0LHIsaSxuLG8sYSxzLGgsbCx1LGMpezg9PT1hcmd1bWVudHMubGVuZ3RoJiYobD1hLHU9cyxhPW4scz1pLG49aT1yLHI9bz1oPWM9MCk7dmFyIHA9dGhpcy5fcEluc3QuX2JlemllckRldGFpbHx8MjA7dGhpcy5iZWdpblNoYXBlKCk7Zm9yKHZhciBkPTA7ZDw9cDtkKyspe3ZhciBmPU1hdGgucG93KDEtZC9wLDMpLG09ZC9wKjMqTWF0aC5wb3coMS1kL3AsMiksdj0zKk1hdGgucG93KGQvcCwyKSooMS1kL3ApLGc9TWF0aC5wb3coZC9wLDMpO3RoaXMudmVydGV4KGUqZitpKm0rYSp2K2wqZyx0KmYrbiptK3Mqdit1KmcscipmK28qbStoKnYrYypnKX1yZXR1cm4gdGhpcy5lbmRTaGFwZSgpLHRoaXN9LHguUmVuZGVyZXJHTC5wcm90b3R5cGUuY3VydmU9ZnVuY3Rpb24oZSx0LHIsaSxuLG8sYSxzLGgsbCx1LGMpezg9PT1hcmd1bWVudHMubGVuZ3RoJiYobD1hLHU9cyxhPW4scz1pLG49aT1yLHI9bz1oPWM9MCk7dmFyIHA9dGhpcy5fcEluc3QuX2N1cnZlRGV0YWlsO3RoaXMuYmVnaW5TaGFwZSgpO2Zvcih2YXIgZD0wO2Q8PXA7ZCsrKXt2YXIgZj0uNSpNYXRoLnBvdyhkL3AsMyksbT0uNSpNYXRoLnBvdyhkL3AsMiksdj1kL3AqLjUsZz1mKigzKmktZS0zKmErbCkrbSooMiplLTUqaSs0KmEtbCkrdiooLWUrYSkrMippKi41LHk9ZiooMypuLXQtMypzK3UpK20qKDIqdC01Km4rNCpzLXUpK3YqKC10K3MpKzIqbiouNSxiPWYqKDMqby1yLTMqaCtjKSttKigyKnItNSpvKzQqaC1jKSt2KigtcitoKSsyKm8qLjU7dGhpcy52ZXJ0ZXgoZyx5LGIpfXJldHVybiB0aGlzLmVuZFNoYXBlKCksdGhpc30seC5SZW5kZXJlckdMLnByb3RvdHlwZS5saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIDY9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLmJlZ2luU2hhcGUoKSx0aGlzLnZlcnRleChhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSksdGhpcy52ZXJ0ZXgoYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s0XSxhcmd1bWVudHNbNV0pLHRoaXMuZW5kU2hhcGUoKSk6ND09PWFyZ3VtZW50cy5sZW5ndGgmJih0aGlzLmJlZ2luU2hhcGUoKSx0aGlzLnZlcnRleChhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdLDApLHRoaXMudmVydGV4KGFyZ3VtZW50c1syXSxhcmd1bWVudHNbM10sMCksdGhpcy5lbmRTaGFwZSgpKSx0aGlzfSx4LlJlbmRlcmVyR0wucHJvdG90eXBlLmJlemllclZlcnRleD1mdW5jdGlvbigpe2lmKDA9PT10aGlzLmltbWVkaWF0ZU1vZGUuX2JlemllclZlcnRleC5sZW5ndGgpdGhyb3cgRXJyb3IoXCJ2ZXJ0ZXgoKSBtdXN0IGJlIHVzZWQgb25jZSBiZWZvcmUgY2FsbGluZyBiZXppZXJWZXJ0ZXgoKVwiKTt2YXIgZSx0LHIsaSxuLG89W10sYT1bXSxzPVtdLGg9YXJndW1lbnRzLmxlbmd0aDtpZigoZT0wKT09PXRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyLmxlbmd0aHx8dGhpcy5fbHV0QmV6aWVyRGV0YWlsIT09dGhpcy5fcEluc3QuX2N1cnZlRGV0YWlsKXt0aGlzLl9sb29rVXBUYWJsZUJlemllcj1bXSx0aGlzLl9sdXRCZXppZXJEZXRhaWw9dGhpcy5fcEluc3QuX2N1cnZlRGV0YWlsO2Zvcih2YXIgbD0xL3RoaXMuX2x1dEJlemllckRldGFpbCx1PTAsYz0xLHA9MDt1PDE7KXtpZihlPXBhcnNlRmxvYXQodS50b0ZpeGVkKDYpKSx0aGlzLl9sb29rVXBUYWJsZUJlemllcltwXT10aGlzLl9iZXppZXJDb2VmZmljaWVudHMoZSksYy50b0ZpeGVkKDYpPT09bC50b0ZpeGVkKDYpKXtlPXBhcnNlRmxvYXQoYy50b0ZpeGVkKDYpKStwYXJzZUZsb2F0KHUudG9GaXhlZCg2KSksKytwLHRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW3BdPXRoaXMuX2JlemllckNvZWZmaWNpZW50cyhlKTticmVha311Kz1sLGMtPWwsKytwfX12YXIgZD10aGlzLl9sb29rVXBUYWJsZUJlemllci5sZW5ndGg7aWYoNj09PWgpe2Zvcih0aGlzLmlzQmV6aWVyPSEwLG89W3RoaXMuaW1tZWRpYXRlTW9kZS5fYmV6aWVyVmVydGV4WzBdLGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMl0sYXJndW1lbnRzWzRdXSxhPVt0aGlzLmltbWVkaWF0ZU1vZGUuX2JlemllclZlcnRleFsxXSxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzNdLGFyZ3VtZW50c1s1XV0sbj0wO248ZDtuKyspdD1vWzBdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzBdK29bMV0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMV0rb1syXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVsyXStvWzNdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzNdLHI9YVswXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVswXSthWzFdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzFdK2FbMl0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMl0rYVszXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVszXSx0aGlzLnZlcnRleCh0LHIpO3RoaXMuaW1tZWRpYXRlTW9kZS5fYmV6aWVyVmVydGV4WzBdPWFyZ3VtZW50c1s0XSx0aGlzLmltbWVkaWF0ZU1vZGUuX2JlemllclZlcnRleFsxXT1hcmd1bWVudHNbNV19ZWxzZSBpZig5PT09aCl7Zm9yKHRoaXMuaXNCZXppZXI9ITAsbz1bdGhpcy5pbW1lZGlhdGVNb2RlLl9iZXppZXJWZXJ0ZXhbMF0sYXJndW1lbnRzWzBdLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNl1dLGE9W3RoaXMuaW1tZWRpYXRlTW9kZS5fYmV6aWVyVmVydGV4WzFdLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbNF0sYXJndW1lbnRzWzddXSxzPVt0aGlzLmltbWVkaWF0ZU1vZGUuX2JlemllclZlcnRleFsyXSxhcmd1bWVudHNbMl0sYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s4XV0sbj0wO248ZDtuKyspdD1vWzBdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzBdK29bMV0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMV0rb1syXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVsyXStvWzNdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzNdLHI9YVswXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVswXSthWzFdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzFdK2FbMl0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMl0rYVszXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVszXSxpPXNbMF0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMF0rc1sxXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVsxXStzWzJdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzJdK3NbM10qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bM10sdGhpcy52ZXJ0ZXgodCxyLGkpO3RoaXMuaW1tZWRpYXRlTW9kZS5fYmV6aWVyVmVydGV4WzBdPWFyZ3VtZW50c1s2XSx0aGlzLmltbWVkaWF0ZU1vZGUuX2JlemllclZlcnRleFsxXT1hcmd1bWVudHNbN10sdGhpcy5pbW1lZGlhdGVNb2RlLl9iZXppZXJWZXJ0ZXhbMl09YXJndW1lbnRzWzhdfX0seC5SZW5kZXJlckdMLnByb3RvdHlwZS5xdWFkcmF0aWNWZXJ0ZXg9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5pbW1lZGlhdGVNb2RlLl9xdWFkcmF0aWNWZXJ0ZXgubGVuZ3RoKXRocm93IEVycm9yKFwidmVydGV4KCkgbXVzdCBiZSB1c2VkIG9uY2UgYmVmb3JlIGNhbGxpbmcgcXVhZHJhdGljVmVydGV4KClcIik7dmFyIGUsdCxyLGksbixvPVtdLGE9W10scz1bXSxoPWFyZ3VtZW50cy5sZW5ndGg7aWYoKGU9MCk9PT10aGlzLl9sb29rVXBUYWJsZVF1YWRyYXRpYy5sZW5ndGh8fHRoaXMuX2x1dFF1YWRyYXRpY0RldGFpbCE9PXRoaXMuX3BJbnN0Ll9jdXJ2ZURldGFpbCl7dGhpcy5fbG9va1VwVGFibGVRdWFkcmF0aWM9W10sdGhpcy5fbHV0UXVhZHJhdGljRGV0YWlsPXRoaXMuX3BJbnN0Ll9jdXJ2ZURldGFpbDtmb3IodmFyIGw9MS90aGlzLl9sdXRRdWFkcmF0aWNEZXRhaWwsdT0wLGM9MSxwPTA7dTwxOyl7aWYoZT1wYXJzZUZsb2F0KHUudG9GaXhlZCg2KSksdGhpcy5fbG9va1VwVGFibGVRdWFkcmF0aWNbcF09dGhpcy5fcXVhZHJhdGljQ29lZmZpY2llbnRzKGUpLGMudG9GaXhlZCg2KT09PWwudG9GaXhlZCg2KSl7ZT1wYXJzZUZsb2F0KGMudG9GaXhlZCg2KSkrcGFyc2VGbG9hdCh1LnRvRml4ZWQoNikpLCsrcCx0aGlzLl9sb29rVXBUYWJsZVF1YWRyYXRpY1twXT10aGlzLl9xdWFkcmF0aWNDb2VmZmljaWVudHMoZSk7YnJlYWt9dSs9bCxjLT1sLCsrcH19dmFyIGQ9dGhpcy5fbG9va1VwVGFibGVRdWFkcmF0aWMubGVuZ3RoO2lmKDQ9PT1oKXtmb3IodGhpcy5pc1F1YWRyYXRpYz0hMCxvPVt0aGlzLmltbWVkaWF0ZU1vZGUuX3F1YWRyYXRpY1ZlcnRleFswXSxhcmd1bWVudHNbMF0sYXJndW1lbnRzWzJdXSxhPVt0aGlzLmltbWVkaWF0ZU1vZGUuX3F1YWRyYXRpY1ZlcnRleFsxXSxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzNdXSxuPTA7bjxkO24rKyl0PW9bMF0qdGhpcy5fbG9va1VwVGFibGVRdWFkcmF0aWNbbl1bMF0rb1sxXSp0aGlzLl9sb29rVXBUYWJsZVF1YWRyYXRpY1tuXVsxXStvWzJdKnRoaXMuX2xvb2tVcFRhYmxlUXVhZHJhdGljW25dWzJdLHI9YVswXSp0aGlzLl9sb29rVXBUYWJsZVF1YWRyYXRpY1tuXVswXSthWzFdKnRoaXMuX2xvb2tVcFRhYmxlUXVhZHJhdGljW25dWzFdK2FbMl0qdGhpcy5fbG9va1VwVGFibGVRdWFkcmF0aWNbbl1bMl0sdGhpcy52ZXJ0ZXgodCxyKTt0aGlzLmltbWVkaWF0ZU1vZGUuX3F1YWRyYXRpY1ZlcnRleFswXT1hcmd1bWVudHNbMl0sdGhpcy5pbW1lZGlhdGVNb2RlLl9xdWFkcmF0aWNWZXJ0ZXhbMV09YXJndW1lbnRzWzNdfWVsc2UgaWYoNj09PWgpe2Zvcih0aGlzLmlzUXVhZHJhdGljPSEwLG89W3RoaXMuaW1tZWRpYXRlTW9kZS5fcXVhZHJhdGljVmVydGV4WzBdLGFyZ3VtZW50c1swXSxhcmd1bWVudHNbM11dLGE9W3RoaXMuaW1tZWRpYXRlTW9kZS5fcXVhZHJhdGljVmVydGV4WzFdLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbNF1dLHM9W3RoaXMuaW1tZWRpYXRlTW9kZS5fcXVhZHJhdGljVmVydGV4WzJdLGFyZ3VtZW50c1syXSxhcmd1bWVudHNbNV1dLG49MDtuPGQ7bisrKXQ9b1swXSp0aGlzLl9sb29rVXBUYWJsZVF1YWRyYXRpY1tuXVswXStvWzFdKnRoaXMuX2xvb2tVcFRhYmxlUXVhZHJhdGljW25dWzFdK29bMl0qdGhpcy5fbG9va1VwVGFibGVRdWFkcmF0aWNbbl1bMl0scj1hWzBdKnRoaXMuX2xvb2tVcFRhYmxlUXVhZHJhdGljW25dWzBdK2FbMV0qdGhpcy5fbG9va1VwVGFibGVRdWFkcmF0aWNbbl1bMV0rYVsyXSp0aGlzLl9sb29rVXBUYWJsZVF1YWRyYXRpY1tuXVsyXSxpPXNbMF0qdGhpcy5fbG9va1VwVGFibGVRdWFkcmF0aWNbbl1bMF0rc1sxXSp0aGlzLl9sb29rVXBUYWJsZVF1YWRyYXRpY1tuXVsxXStzWzJdKnRoaXMuX2xvb2tVcFRhYmxlUXVhZHJhdGljW25dWzJdLHRoaXMudmVydGV4KHQscixpKTt0aGlzLmltbWVkaWF0ZU1vZGUuX3F1YWRyYXRpY1ZlcnRleFswXT1hcmd1bWVudHNbM10sdGhpcy5pbW1lZGlhdGVNb2RlLl9xdWFkcmF0aWNWZXJ0ZXhbMV09YXJndW1lbnRzWzRdLHRoaXMuaW1tZWRpYXRlTW9kZS5fcXVhZHJhdGljVmVydGV4WzJdPWFyZ3VtZW50c1s1XX19LHguUmVuZGVyZXJHTC5wcm90b3R5cGUuY3VydmVWZXJ0ZXg9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaSxuLG89W10sYT1bXSxzPVtdO2U9MDt2YXIgaD1hcmd1bWVudHMubGVuZ3RoO2lmKDA9PT10aGlzLl9sb29rVXBUYWJsZUJlemllci5sZW5ndGh8fHRoaXMuX2x1dEJlemllckRldGFpbCE9PXRoaXMuX3BJbnN0Ll9jdXJ2ZURldGFpbCl7dGhpcy5fbG9va1VwVGFibGVCZXppZXI9W10sdGhpcy5fbHV0QmV6aWVyRGV0YWlsPXRoaXMuX3BJbnN0Ll9jdXJ2ZURldGFpbDtmb3IodmFyIGw9MS90aGlzLl9sdXRCZXppZXJEZXRhaWwsdT0wLGM9MSxwPTA7dTwxOyl7aWYoZT1wYXJzZUZsb2F0KHUudG9GaXhlZCg2KSksdGhpcy5fbG9va1VwVGFibGVCZXppZXJbcF09dGhpcy5fYmV6aWVyQ29lZmZpY2llbnRzKGUpLGMudG9GaXhlZCg2KT09PWwudG9GaXhlZCg2KSl7ZT1wYXJzZUZsb2F0KGMudG9GaXhlZCg2KSkrcGFyc2VGbG9hdCh1LnRvRml4ZWQoNikpLCsrcCx0aGlzLl9sb29rVXBUYWJsZUJlemllcltwXT10aGlzLl9iZXppZXJDb2VmZmljaWVudHMoZSk7YnJlYWt9dSs9bCxjLT1sLCsrcH19dmFyIGQ9dGhpcy5fbG9va1VwVGFibGVCZXppZXIubGVuZ3RoO2lmKDI9PT1oKXtpZih0aGlzLmltbWVkaWF0ZU1vZGUuX2N1cnZlVmVydGV4LnB1c2goYXJndW1lbnRzWzBdKSx0aGlzLmltbWVkaWF0ZU1vZGUuX2N1cnZlVmVydGV4LnB1c2goYXJndW1lbnRzWzFdKSw4PT09dGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleC5sZW5ndGgpe2Zvcih0aGlzLmlzQ3VydmU9ITAsbz10aGlzLl9iZXppZXJUb0NhdG11bGwoW3RoaXMuaW1tZWRpYXRlTW9kZS5fY3VydmVWZXJ0ZXhbMF0sdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleFsyXSx0aGlzLmltbWVkaWF0ZU1vZGUuX2N1cnZlVmVydGV4WzRdLHRoaXMuaW1tZWRpYXRlTW9kZS5fY3VydmVWZXJ0ZXhbNl1dKSxhPXRoaXMuX2JlemllclRvQ2F0bXVsbChbdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleFsxXSx0aGlzLmltbWVkaWF0ZU1vZGUuX2N1cnZlVmVydGV4WzNdLHRoaXMuaW1tZWRpYXRlTW9kZS5fY3VydmVWZXJ0ZXhbNV0sdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleFs3XV0pLG49MDtuPGQ7bisrKXQ9b1swXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVswXStvWzFdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzFdK29bMl0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMl0rb1szXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVszXSxyPWFbMF0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMF0rYVsxXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVsxXSthWzJdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzJdK2FbM10qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bM10sdGhpcy52ZXJ0ZXgodCxyKTtmb3Iobj0wO248aDtuKyspdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleC5zaGlmdCgpfX1lbHNlIGlmKDM9PT1oJiYodGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleC5wdXNoKGFyZ3VtZW50c1swXSksdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleC5wdXNoKGFyZ3VtZW50c1sxXSksdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleC5wdXNoKGFyZ3VtZW50c1syXSksMTI9PT10aGlzLmltbWVkaWF0ZU1vZGUuX2N1cnZlVmVydGV4Lmxlbmd0aCkpe2Zvcih0aGlzLmlzQ3VydmU9ITAsbz10aGlzLl9iZXppZXJUb0NhdG11bGwoW3RoaXMuaW1tZWRpYXRlTW9kZS5fY3VydmVWZXJ0ZXhbMF0sdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleFszXSx0aGlzLmltbWVkaWF0ZU1vZGUuX2N1cnZlVmVydGV4WzZdLHRoaXMuaW1tZWRpYXRlTW9kZS5fY3VydmVWZXJ0ZXhbOV1dKSxhPXRoaXMuX2JlemllclRvQ2F0bXVsbChbdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleFsxXSx0aGlzLmltbWVkaWF0ZU1vZGUuX2N1cnZlVmVydGV4WzRdLHRoaXMuaW1tZWRpYXRlTW9kZS5fY3VydmVWZXJ0ZXhbN10sdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleFsxMF1dKSxzPXRoaXMuX2JlemllclRvQ2F0bXVsbChbdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleFsyXSx0aGlzLmltbWVkaWF0ZU1vZGUuX2N1cnZlVmVydGV4WzVdLHRoaXMuaW1tZWRpYXRlTW9kZS5fY3VydmVWZXJ0ZXhbOF0sdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleFsxMV1dKSxuPTA7bjxkO24rKyl0PW9bMF0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMF0rb1sxXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVsxXStvWzJdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzJdK29bM10qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bM10scj1hWzBdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzBdK2FbMV0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMV0rYVsyXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVsyXSthWzNdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzNdLGk9c1swXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVswXStzWzFdKnRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyW25dWzFdK3NbMl0qdGhpcy5fbG9va1VwVGFibGVCZXppZXJbbl1bMl0rc1szXSp0aGlzLl9sb29rVXBUYWJsZUJlemllcltuXVszXSx0aGlzLnZlcnRleCh0LHIsaSk7Zm9yKG49MDtuPGg7bisrKXRoaXMuaW1tZWRpYXRlTW9kZS5fY3VydmVWZXJ0ZXguc2hpZnQoKX19LHQuZXhwb3J0cz14fSx7XCIuLi9jb3JlL2NvbnN0YW50c1wiOjE3LFwiLi4vY29yZS9tYWluXCI6MjMsXCIuL3A1Lkdlb21ldHJ5XCI6Njl9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBjPWUoXCIuLi9jb3JlL21haW5cIiksaT1lKFwiLi4vY29yZS9jb25zdGFudHNcIik7Yy5wcm90b3R5cGUub3JiaXRDb250cm9sPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fYXNzZXJ0M2QoXCJvcmJpdENvbnRyb2xcIiksYy5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwib3JiaXRDb250cm9sXCIsYXJndW1lbnRzKSx0aGlzLm1vdXNlWDx0aGlzLndpZHRoJiYwPHRoaXMubW91c2VYJiZ0aGlzLm1vdXNlWTx0aGlzLmhlaWdodCYmMDx0aGlzLm1vdXNlWSl7dmFyIHI9dGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYTt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT10JiYodD1lKSwhMCE9PXRoaXMuY29udGV4dE1lbnVEaXNhYmxlZCYmKHRoaXMuY2FudmFzLm9uY29udGV4dG1lbnU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5fc2V0UHJvcGVydHkoXCJjb250ZXh0TWVudURpc2FibGVkXCIsITApKSwhMCE9PXRoaXMud2hlZWxEZWZhdWx0RGlzYWJsZWQmJih0aGlzLmNhbnZhcy5vbndoZWVsPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHRoaXMuX3NldFByb3BlcnR5KFwid2hlZWxEZWZhdWx0RGlzYWJsZWRcIiwhMCkpO3ZhciBpPXRoaXMuaGVpZ2h0PHRoaXMud2lkdGg/dGhpcy5oZWlnaHQ6dGhpcy53aWR0aDtpZih0aGlzLl9tb3VzZVdoZWVsRGVsdGFZIT09dGhpcy5fcG1vdXNlV2hlZWxEZWx0YVkmJigwPHRoaXMuX21vdXNlV2hlZWxEZWx0YVk/dGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5fb3JiaXQoMCwwLC41KmkpOnRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuX29yYml0KDAsMCwtLjUqaSkpLHRoaXMubW91c2VJc1ByZXNzZWQpaWYodGhpcy5tb3VzZUJ1dHRvbj09PXRoaXMuTEVGVCl7dmFyIG49LWUqKHRoaXMubW91c2VYLXRoaXMucG1vdXNlWCkvaSxvPXQqKHRoaXMubW91c2VZLXRoaXMucG1vdXNlWSkvaTt0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLl9vcmJpdChuLG8sMCl9ZWxzZSBpZih0aGlzLm1vdXNlQnV0dG9uPT09dGhpcy5SSUdIVCl7dmFyIGE9ci5fZ2V0TG9jYWxBeGVzKCkscz1NYXRoLnNxcnQoYS54WzBdKmEueFswXSthLnhbMl0qYS54WzJdKTswIT09cyYmKGEueFswXS89cyxhLnhbMl0vPXMpO3ZhciBoPU1hdGguc3FydChhLnlbMF0qYS55WzBdK2EueVsyXSphLnlbMl0pOzAhPT1oJiYoYS55WzBdLz1oLGEueVsyXS89aCk7dmFyIGw9LTEqZSoodGhpcy5tb3VzZVgtdGhpcy5wbW91c2VYKSx1PS0xKnQqKHRoaXMubW91c2VZLXRoaXMucG1vdXNlWSk7ci5zZXRQb3NpdGlvbihyLmV5ZVgrbCphLnhbMF0rdSphLnpbMF0sci5leWVZLHIuZXllWitsKmEueFsyXSt1KmEuelsyXSl9cmV0dXJuIHRoaXN9fSxjLnByb3RvdHlwZS5kZWJ1Z01vZGU9ZnVuY3Rpb24oKXt0aGlzLl9hc3NlcnQzZChcImRlYnVnTW9kZVwiKSxjLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJkZWJ1Z01vZGVcIixhcmd1bWVudHMpO2Zvcih2YXIgZT10aGlzLl9yZWdpc3RlcmVkTWV0aG9kcy5wb3N0Lmxlbmd0aC0xOzA8PWU7ZS0tKXRoaXMuX3JlZ2lzdGVyZWRNZXRob2RzLnBvc3RbZV0udG9TdHJpbmcoKSE9PXRoaXMuX2dyaWQoKS50b1N0cmluZygpJiZ0aGlzLl9yZWdpc3RlcmVkTWV0aG9kcy5wb3N0W2VdLnRvU3RyaW5nKCkhPT10aGlzLl9heGVzSWNvbigpLnRvU3RyaW5nKCl8fHRoaXMuX3JlZ2lzdGVyZWRNZXRob2RzLnBvc3Quc3BsaWNlKGUsMSk7YXJndW1lbnRzWzBdPT09aS5HUklEP3RoaXMucmVnaXN0ZXJNZXRob2QoXCJwb3N0XCIsdGhpcy5fZ3JpZC5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSxhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdLGFyZ3VtZW50c1s1XSkpOmFyZ3VtZW50c1swXT09PWkuQVhFUz90aGlzLnJlZ2lzdGVyTWV0aG9kKFwicG9zdFwiLHRoaXMuX2F4ZXNJY29uLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSxhcmd1bWVudHNbNF0pKToodGhpcy5yZWdpc3Rlck1ldGhvZChcInBvc3RcIix0aGlzLl9ncmlkLmNhbGwodGhpcyxhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSxhcmd1bWVudHNbM10sYXJndW1lbnRzWzRdKSksdGhpcy5yZWdpc3Rlck1ldGhvZChcInBvc3RcIix0aGlzLl9heGVzSWNvbi5jYWxsKHRoaXMsYXJndW1lbnRzWzVdLGFyZ3VtZW50c1s2XSxhcmd1bWVudHNbN10sYXJndW1lbnRzWzhdKSkpfSxjLnByb3RvdHlwZS5ub0RlYnVnTW9kZT1mdW5jdGlvbigpe3RoaXMuX2Fzc2VydDNkKFwibm9EZWJ1Z01vZGVcIik7Zm9yKHZhciBlPXRoaXMuX3JlZ2lzdGVyZWRNZXRob2RzLnBvc3QubGVuZ3RoLTE7MDw9ZTtlLS0pdGhpcy5fcmVnaXN0ZXJlZE1ldGhvZHMucG9zdFtlXS50b1N0cmluZygpIT09dGhpcy5fZ3JpZCgpLnRvU3RyaW5nKCkmJnRoaXMuX3JlZ2lzdGVyZWRNZXRob2RzLnBvc3RbZV0udG9TdHJpbmcoKSE9PXRoaXMuX2F4ZXNJY29uKCkudG9TdHJpbmcoKXx8dGhpcy5fcmVnaXN0ZXJlZE1ldGhvZHMucG9zdC5zcGxpY2UoZSwxKX0sYy5wcm90b3R5cGUuX2dyaWQ9ZnVuY3Rpb24oZSxyLGksbixvKXt2b2lkIDA9PT1lJiYoZT10aGlzLndpZHRoLzIpLHZvaWQgMD09PXImJihyPU1hdGgucm91bmQoZS8zMCk8ND80Ok1hdGgucm91bmQoZS8zMCkpLHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPTApO3ZhciBhPWUvcixzPWUvMjtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnB1c2goKSx0aGlzLnN0cm9rZSgyNTUqdGhpcy5fcmVuZGVyZXIuY3VyU3Ryb2tlQ29sb3JbMF0sMjU1KnRoaXMuX3JlbmRlcmVyLmN1clN0cm9rZUNvbG9yWzFdLDI1NSp0aGlzLl9yZW5kZXJlci5jdXJTdHJva2VDb2xvclsyXSksdGhpcy5fcmVuZGVyZXIudU1WTWF0cml4LnNldCh0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzBdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMV0sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsyXSx0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzNdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbNF0sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFs1XSx0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzZdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbN10sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFs4XSx0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzldLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMTBdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMTFdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMTJdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMTNdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMTRdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMTVdKTtmb3IodmFyIGU9MDtlPD1yO2UrKyl0aGlzLmJlZ2luU2hhcGUodGhpcy5MSU5FUyksdGhpcy52ZXJ0ZXgoLXMraSxuLGUqYS1zK28pLHRoaXMudmVydGV4KCtzK2ksbixlKmEtcytvKSx0aGlzLmVuZFNoYXBlKCk7Zm9yKHZhciB0PTA7dDw9cjt0KyspdGhpcy5iZWdpblNoYXBlKHRoaXMuTElORVMpLHRoaXMudmVydGV4KHQqYS1zK2ksbiwtcytvKSx0aGlzLnZlcnRleCh0KmEtcytpLG4sK3MrbyksdGhpcy5lbmRTaGFwZSgpO3RoaXMucG9wKCl9fSxjLnByb3RvdHlwZS5fYXhlc0ljb249ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTQwPHRoaXMud2lkdGgvMjA/dGhpcy53aWR0aC8yMDo0MCksdm9pZCAwPT09dCYmKHQ9LXRoaXMud2lkdGgvNCksdm9pZCAwPT09ciYmKHI9dCksdm9pZCAwPT09aSYmKGk9dCksZnVuY3Rpb24oKXt0aGlzLnB1c2goKSx0aGlzLl9yZW5kZXJlci51TVZNYXRyaXguc2V0KHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMF0sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsxXSx0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzJdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbM10sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFs0XSx0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzVdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbNl0sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFs3XSx0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzhdLHRoaXMuX3JlbmRlcmVyLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbOV0sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsxMF0sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsxMV0sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsxMl0sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsxM10sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsxNF0sdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsxNV0pLHRoaXMuc3Ryb2tlV2VpZ2h0KDIpLHRoaXMuc3Ryb2tlKDI1NSwwLDApLHRoaXMuYmVnaW5TaGFwZSh0aGlzLkxJTkVTKSx0aGlzLnZlcnRleCh0LHIsaSksdGhpcy52ZXJ0ZXgodCtlLHIsaSksdGhpcy5lbmRTaGFwZSgpLHRoaXMuc3Ryb2tlKDAsMjU1LDApLHRoaXMuYmVnaW5TaGFwZSh0aGlzLkxJTkVTKSx0aGlzLnZlcnRleCh0LHIsaSksdGhpcy52ZXJ0ZXgodCxyK2UsaSksdGhpcy5lbmRTaGFwZSgpLHRoaXMuc3Ryb2tlKDAsMCwyNTUpLHRoaXMuYmVnaW5TaGFwZSh0aGlzLkxJTkVTKSx0aGlzLnZlcnRleCh0LHIsaSksdGhpcy52ZXJ0ZXgodCxyLGkrZSksdGhpcy5lbmRTaGFwZSgpLHRoaXMucG9wKCl9fSx0LmV4cG9ydHM9Y30se1wiLi4vY29yZS9jb25zdGFudHNcIjoxNyxcIi4uL2NvcmUvbWFpblwiOjIzfV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgZD1lKFwiLi4vY29yZS9tYWluXCIpO2QucHJvdG90eXBlLmFtYmllbnRMaWdodD1mdW5jdGlvbihlLHQscixpKXt0aGlzLl9hc3NlcnQzZChcImFtYmllbnRMaWdodFwiKSxkLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJhbWJpZW50TGlnaHRcIixhcmd1bWVudHMpO3ZhciBuPXRoaXMuY29sb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpLG89dGhpcy5fcmVuZGVyZXIuX3VzZUxpZ2h0U2hhZGVyKCk7cmV0dXJuIG8uc2V0VW5pZm9ybShcInVVc2VMaWdodGluZ1wiLCEwKSxvLnNldFVuaWZvcm0oXCJ1TWF0ZXJpYWxDb2xvclwiLHRoaXMuX3JlbmRlcmVyLmN1ckZpbGxDb2xvciksdGhpcy5fcmVuZGVyZXIuYW1iaWVudExpZ2h0Q29sb3JzLnB1c2gobi5fYXJyYXlbMF0sbi5fYXJyYXlbMV0sbi5fYXJyYXlbMl0pLG8uc2V0VW5pZm9ybShcInVBbWJpZW50Q29sb3JcIix0aGlzLl9yZW5kZXJlci5hbWJpZW50TGlnaHRDb2xvcnMpLG8uc2V0VW5pZm9ybShcInVBbWJpZW50TGlnaHRDb3VudFwiLHRoaXMuX3JlbmRlcmVyLmFtYmllbnRMaWdodENvbG9ycy5sZW5ndGgvMyksdGhpc30sZC5wcm90b3R5cGUuZGlyZWN0aW9uYWxMaWdodD1mdW5jdGlvbihlLHQscixpLG4sbyl7dGhpcy5fYXNzZXJ0M2QoXCJkaXJlY3Rpb25hbExpZ2h0XCIpLGQuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImRpcmVjdGlvbmFsTGlnaHRcIixhcmd1bWVudHMpO3ZhciBhLHMsaCxsLHU9dGhpcy5fcmVuZGVyZXIuX3VzZUxpZ2h0U2hhZGVyKCk7YT1lIGluc3RhbmNlb2YgZC5Db2xvcj9lOnRoaXMuY29sb3IoZSx0LHIpO3ZhciBjPWFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTFdO2w9XCJudW1iZXJcIj09dHlwZW9mIGM/KHM9YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtM10saD1hcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXSk6KHM9Yy54LGg9Yy55LGMueiksdS5zZXRVbmlmb3JtKFwidVVzZUxpZ2h0aW5nXCIsITApLHUuc2V0VW5pZm9ybShcInVNYXRlcmlhbENvbG9yXCIsdGhpcy5fcmVuZGVyZXIuY3VyRmlsbENvbG9yKTt2YXIgcD1NYXRoLnNxcnQocypzK2gqaCtsKmwpO3JldHVybiB0aGlzLl9yZW5kZXJlci5kaXJlY3Rpb25hbExpZ2h0RGlyZWN0aW9ucy5wdXNoKHMvcCxoL3AsbC9wKSx1LnNldFVuaWZvcm0oXCJ1TGlnaHRpbmdEaXJlY3Rpb25cIix0aGlzLl9yZW5kZXJlci5kaXJlY3Rpb25hbExpZ2h0RGlyZWN0aW9ucyksdGhpcy5fcmVuZGVyZXIuZGlyZWN0aW9uYWxMaWdodENvbG9ycy5wdXNoKGEuX2FycmF5WzBdLGEuX2FycmF5WzFdLGEuX2FycmF5WzJdKSx1LnNldFVuaWZvcm0oXCJ1RGlyZWN0aW9uYWxDb2xvclwiLHRoaXMuX3JlbmRlcmVyLmRpcmVjdGlvbmFsTGlnaHRDb2xvcnMpLHUuc2V0VW5pZm9ybShcInVEaXJlY3Rpb25hbExpZ2h0Q291bnRcIix0aGlzLl9yZW5kZXJlci5kaXJlY3Rpb25hbExpZ2h0Q29sb3JzLmxlbmd0aC8zKSx0aGlzfSxkLnByb3RvdHlwZS5wb2ludExpZ2h0PWZ1bmN0aW9uKGUsdCxyLGksbixvKXt2YXIgYSxzLGgsbDt0aGlzLl9hc3NlcnQzZChcInBvaW50TGlnaHRcIiksZC5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwicG9pbnRMaWdodFwiLGFyZ3VtZW50cyksYT1lIGluc3RhbmNlb2YgZC5Db2xvcj9lOnRoaXMuY29sb3IoZSx0LHIpO3ZhciB1PWFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTFdO2w9XCJudW1iZXJcIj09dHlwZW9mIHU/KHM9YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtM10saD1hcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXSk6KHM9dS54LGg9dS55LHUueik7dmFyIGM9dGhpcy5fcmVuZGVyZXIuX3VzZUxpZ2h0U2hhZGVyKCk7cmV0dXJuIGMuc2V0VW5pZm9ybShcInVVc2VMaWdodGluZ1wiLCEwKSxjLnNldFVuaWZvcm0oXCJ1TWF0ZXJpYWxDb2xvclwiLHRoaXMuX3JlbmRlcmVyLmN1ckZpbGxDb2xvciksdGhpcy5fcmVuZGVyZXIucG9pbnRMaWdodFBvc2l0aW9ucy5wdXNoKHMsaCxsKSxjLnNldFVuaWZvcm0oXCJ1UG9pbnRMaWdodExvY2F0aW9uXCIsdGhpcy5fcmVuZGVyZXIucG9pbnRMaWdodFBvc2l0aW9ucyksdGhpcy5fcmVuZGVyZXIucG9pbnRMaWdodENvbG9ycy5wdXNoKGEuX2FycmF5WzBdLGEuX2FycmF5WzFdLGEuX2FycmF5WzJdKSxjLnNldFVuaWZvcm0oXCJ1UG9pbnRMaWdodENvbG9yXCIsdGhpcy5fcmVuZGVyZXIucG9pbnRMaWdodENvbG9ycyksYy5zZXRVbmlmb3JtKFwidVBvaW50TGlnaHRDb3VudFwiLHRoaXMuX3JlbmRlcmVyLnBvaW50TGlnaHRDb2xvcnMubGVuZ3RoLzMpLHRoaXN9LHQuZXhwb3J0cz1kfSx7XCIuLi9jb3JlL21haW5cIjoyM31dLDY2OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHY9ZShcIi4uL2NvcmUvbWFpblwiKTtlKFwiLi9wNS5HZW9tZXRyeVwiKSx2LnByb3RvdHlwZS5sb2FkTW9kZWw9ZnVuY3Rpb24oZSl7dmFyIHQscixpO3YuX3ZhbGlkYXRlUGFyYW1ldGVycyhcImxvYWRNb2RlbFwiLGFyZ3VtZW50cyksaT1cImJvb2xlYW5cIj09dHlwZW9mIGFyZ3VtZW50c1sxXT8odD1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl0sYXJndW1lbnRzWzNdKToodD0hMSxyPWFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO3ZhciBuPW5ldyB2Lkdlb21ldHJ5O24uZ2lkPWUrXCJ8XCIrdDt2YXIgbz10aGlzO3JldHVybiB0aGlzLmxvYWRTdHJpbmdzKGUsZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXt2OltdLHZ0OltdLHZuOltdfSxpPXt9LG49MDtuPHQubGVuZ3RoOysrbil7dmFyIG89dFtuXS50cmltKCkuc3BsaXQoL1xcYlxccysvKTtpZigwPG8ubGVuZ3RoKWlmKFwidlwiPT09b1swXXx8XCJ2blwiPT09b1swXSl7dmFyIGE9bmV3IHYuVmVjdG9yKHBhcnNlRmxvYXQob1sxXSkscGFyc2VGbG9hdChvWzJdKSxwYXJzZUZsb2F0KG9bM10pKTtyW29bMF1dLnB1c2goYSl9ZWxzZSBpZihcInZ0XCI9PT1vWzBdKXt2YXIgcz1bcGFyc2VGbG9hdChvWzFdKSxwYXJzZUZsb2F0KG9bMl0pXTtyW29bMF1dLnB1c2gocyl9ZWxzZSBpZihcImZcIj09PW9bMF0pZm9yKHZhciBoPTM7aDxvLmxlbmd0aDsrK2gpe2Zvcih2YXIgbD1bXSx1PVsxLGgtMSxoXSxjPTA7Yzx1Lmxlbmd0aDsrK2Mpe3ZhciBwPW9bdVtjXV0sZD0wO2lmKHZvaWQgMCE9PWlbcF0pZD1pW3BdO2Vsc2V7Zm9yKHZhciBmPXAuc3BsaXQoXCIvXCIpLG09MDttPGYubGVuZ3RoO20rKylmW21dPXBhcnNlSW50KGZbbV0pLTE7ZD1pW3BdPWUudmVydGljZXMubGVuZ3RoLGUudmVydGljZXMucHVzaChyLnZbZlswXV0uY29weSgpKSxyLnZ0W2ZbMV1dP2UudXZzLnB1c2goci52dFtmWzFdXS5zbGljZSgpKTplLnV2cy5wdXNoKFswLDBdKSxyLnZuW2ZbMl1dJiZlLnZlcnRleE5vcm1hbHMucHVzaChyLnZuW2ZbMl1dLmNvcHkoKSl9bC5wdXNoKGQpfWxbMF0hPT1sWzFdJiZsWzBdIT09bFsyXSYmbFsxXSE9PWxbMl0mJmUuZmFjZXMucHVzaChsKX19MD09PWUudmVydGV4Tm9ybWFscy5sZW5ndGgmJmUuY29tcHV0ZU5vcm1hbHMoKX0obixlKSx0JiZuLm5vcm1hbGl6ZSgpLG8uX2RlY3JlbWVudFByZWxvYWQoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyKG4pfS5iaW5kKHRoaXMpLGkpLG59LHYucHJvdG90eXBlLm1vZGVsPWZ1bmN0aW9uKGUpe3RoaXMuX2Fzc2VydDNkKFwibW9kZWxcIiksdi5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibW9kZWxcIixhcmd1bWVudHMpLDA8ZS52ZXJ0aWNlcy5sZW5ndGgmJih0aGlzLl9yZW5kZXJlci5nZW9tZXRyeUluSGFzaChlLmdpZCl8fChlLl9tYWtlVHJpYW5nbGVFZGdlcygpLl9lZGdlc1RvVmVydGljZXMoKSx0aGlzLl9yZW5kZXJlci5jcmVhdGVCdWZmZXJzKGUuZ2lkLGUpKSx0aGlzLl9yZW5kZXJlci5kcmF3QnVmZmVycyhlLmdpZCkpfSx0LmV4cG9ydHM9dn0se1wiLi4vY29yZS9tYWluXCI6MjMsXCIuL3A1Lkdlb21ldHJ5XCI6Njl9XSw2NzpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBhPWUoXCIuLi9jb3JlL21haW5cIiksaT1lKFwiLi4vY29yZS9jb25zdGFudHNcIik7ZShcIi4vcDUuVGV4dHVyZVwiKSxhLnByb3RvdHlwZS5sb2FkU2hhZGVyPWZ1bmN0aW9uKGUsdCl7YS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibG9hZFNoYWRlclwiLGFyZ3VtZW50cyk7dmFyIHI9bmV3IGEuU2hhZGVyLGk9dGhpcyxuPSExLG89ITE7cmV0dXJuIHRoaXMubG9hZFN0cmluZ3ModCxmdW5jdGlvbihlKXtyLl9mcmFnU3JjPWUuam9pbihcIlxcblwiKSxuPSEwLG8mJmkuX2RlY3JlbWVudFByZWxvYWQoKX0pLHRoaXMubG9hZFN0cmluZ3MoZSxmdW5jdGlvbihlKXtyLl92ZXJ0U3JjPWUuam9pbihcIlxcblwiKSxvPSEwLG4mJmkuX2RlY3JlbWVudFByZWxvYWQoKX0pLHJ9LGEucHJvdG90eXBlLmNyZWF0ZVNoYWRlcj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9hc3NlcnQzZChcImNyZWF0ZVNoYWRlclwiKSxhLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJjcmVhdGVTaGFkZXJcIixhcmd1bWVudHMpLG5ldyBhLlNoYWRlcih0aGlzLl9yZW5kZXJlcixlLHQpfSxhLnByb3RvdHlwZS5zaGFkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2Fzc2VydDNkKFwic2hhZGVyXCIpLGEuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInNoYWRlclwiLGFyZ3VtZW50cyksdm9pZCAwPT09ZS5fcmVuZGVyZXImJihlLl9yZW5kZXJlcj10aGlzLl9yZW5kZXJlciksZS5pc1N0cm9rZVNoYWRlcigpP3RoaXMuX3JlbmRlcmVyLnNldFN0cm9rZVNoYWRlcihlKTp0aGlzLl9yZW5kZXJlci5zZXRGaWxsU2hhZGVyKGUpLHRoaXN9LGEucHJvdG90eXBlLm5vcm1hbE1hdGVyaWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Fzc2VydDNkKFwibm9ybWFsTWF0ZXJpYWxcIiksYS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwibm9ybWFsTWF0ZXJpYWxcIixhcmd1bWVudHMpLHRoaXMuX3JlbmRlcmVyLmRyYXdNb2RlPWkuRklMTCx0aGlzLl9yZW5kZXJlci5zZXRGaWxsU2hhZGVyKHRoaXMuX3JlbmRlcmVyLl9nZXROb3JtYWxTaGFkZXIoKSksdGhpcy5fcmVuZGVyZXIuY3VyRmlsbENvbG9yPVsxLDEsMSwxXSx0aGlzLm5vU3Ryb2tlKCksdGhpc30sYS5wcm90b3R5cGUudGV4dHVyZT1mdW5jdGlvbihlKXt0aGlzLl9hc3NlcnQzZChcInRleHR1cmVcIiksYS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwidGV4dHVyZVwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIuZHJhd01vZGU9aS5URVhUVVJFLHRoaXMuX3JlbmRlcmVyLnRleHR1cmVJbWFnZT1lO3ZhciB0PXRoaXMuX3JlbmRlcmVyLl91c2VMaWdodFNoYWRlcigpO3JldHVybiB0LnNldFVuaWZvcm0oXCJ1U3BlY3VsYXJcIiwhMSksdC5zZXRVbmlmb3JtKFwiaXNUZXh0dXJlXCIsITApLHQuc2V0VW5pZm9ybShcInVTYW1wbGVyXCIsZSksdGhpcy5ub1N0cm9rZSgpLHRoaXN9LGEucHJvdG90eXBlLnRleHR1cmVNb2RlPWZ1bmN0aW9uKGUpe2UhPT1pLklNQUdFJiZlIT09aS5OT1JNQUw/Y29uc29sZS53YXJuKFwiWW91IHRyaWVkIHRvIHNldCBcIitlK1wiIHRleHR1cmVNb2RlIG9ubHkgc3VwcG9ydHMgSU1BR0UgJiBOT1JNQUwgXCIpOnRoaXMuX3JlbmRlcmVyLnRleHR1cmVNb2RlPWV9LGEucHJvdG90eXBlLmFtYmllbnRNYXRlcmlhbD1mdW5jdGlvbihlLHQscixpKXt0aGlzLl9hc3NlcnQzZChcImFtYmllbnRNYXRlcmlhbFwiKSxhLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJhbWJpZW50TWF0ZXJpYWxcIixhcmd1bWVudHMpO3ZhciBuPWEucHJvdG90eXBlLmNvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9yZW5kZXJlci5jdXJGaWxsQ29sb3I9bi5fYXJyYXk7dmFyIG89dGhpcy5fcmVuZGVyZXIuX3VzZUxpZ2h0U2hhZGVyKCk7cmV0dXJuIG8uc2V0VW5pZm9ybShcInVNYXRlcmlhbENvbG9yXCIsdGhpcy5fcmVuZGVyZXIuY3VyRmlsbENvbG9yKSxvLnNldFVuaWZvcm0oXCJ1U3BlY3VsYXJcIiwhMSksby5zZXRVbmlmb3JtKFwiaXNUZXh0dXJlXCIsITEpLHRoaXN9LGEucHJvdG90eXBlLnNwZWN1bGFyTWF0ZXJpYWw9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5fYXNzZXJ0M2QoXCJzcGVjdWxhck1hdGVyaWFsXCIpLGEuX3ZhbGlkYXRlUGFyYW1ldGVycyhcInNwZWN1bGFyTWF0ZXJpYWxcIixhcmd1bWVudHMpO3ZhciBuPWEucHJvdG90eXBlLmNvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9yZW5kZXJlci5jdXJGaWxsQ29sb3I9bi5fYXJyYXk7dmFyIG89dGhpcy5fcmVuZGVyZXIuX3VzZUxpZ2h0U2hhZGVyKCk7cmV0dXJuIG8uc2V0VW5pZm9ybShcInVNYXRlcmlhbENvbG9yXCIsdGhpcy5fcmVuZGVyZXIuY3VyRmlsbENvbG9yKSxvLnNldFVuaWZvcm0oXCJ1U3BlY3VsYXJcIiwhMCksby5zZXRVbmlmb3JtKFwiaXNUZXh0dXJlXCIsITEpLHRoaXN9LGEuUmVuZGVyZXJHTC5wcm90b3R5cGUuX2FwcGx5Q29sb3JCbGVuZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLkdMLHI9dGhpcy5kcmF3TW9kZT09PWkuVEVYVFVSRTtyZXR1cm4gcnx8ZVtlLmxlbmd0aC0xXTwxPyh0LmRlcHRoTWFzayhyKSx0LmVuYWJsZSh0LkJMRU5EKSx0LmJsZW5kRXF1YXRpb24odC5GVU5DX0FERCksdC5ibGVuZEZ1bmModC5TUkNfQUxQSEEsdC5PTkVfTUlOVVNfU1JDX0FMUEhBKSk6KHQuZGVwdGhNYXNrKCEwKSx0LmRpc2FibGUodC5CTEVORCkpLGV9LHQuZXhwb3J0cz1hfSx7XCIuLi9jb3JlL2NvbnN0YW50c1wiOjE3LFwiLi4vY29yZS9tYWluXCI6MjMsXCIuL3A1LlRleHR1cmVcIjo3NX1dLDY4OltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG09ZShcIi4uL2NvcmUvbWFpblwiKTttLnByb3RvdHlwZS5jYW1lcmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXNzZXJ0M2QoXCJjYW1lcmFcIiksbS5fdmFsaWRhdGVQYXJhbWV0ZXJzKFwiY2FtZXJhXCIsYXJndW1lbnRzKSx0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLmNhbWVyYS5hcHBseSh0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLGFyZ3VtZW50cyksdGhpc30sbS5wcm90b3R5cGUucGVyc3BlY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXNzZXJ0M2QoXCJwZXJzcGVjdGl2ZVwiKSxtLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJwZXJzcGVjdGl2ZVwiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5wZXJzcGVjdGl2ZS5hcHBseSh0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLGFyZ3VtZW50cyksdGhpc30sbS5wcm90b3R5cGUub3J0aG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXNzZXJ0M2QoXCJvcnRob1wiKSxtLl92YWxpZGF0ZVBhcmFtZXRlcnMoXCJvcnRob1wiLGFyZ3VtZW50cyksdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5vcnRoby5hcHBseSh0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhLGFyZ3VtZW50cyksdGhpc30sbS5wcm90b3R5cGUuY3JlYXRlQ2FtZXJhPWZ1bmN0aW9uKCl7dGhpcy5fYXNzZXJ0M2QoXCJjcmVhdGVDYW1lcmFcIik7dmFyIGU9bmV3IG0uQ2FtZXJhKHRoaXMuX3JlbmRlcmVyKTtyZXR1cm4gZS5fY29tcHV0ZUNhbWVyYURlZmF1bHRTZXR0aW5ncygpLGUuX3NldERlZmF1bHRDYW1lcmEoKSx0aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhPWV9LG0uQ2FtZXJhPWZ1bmN0aW9uKGUpe3RoaXMuX3JlbmRlcmVyPWUsdGhpcy5jYW1lcmFUeXBlPVwiZGVmYXVsdFwiLHRoaXMuY2FtZXJhTWF0cml4PW5ldyBtLk1hdHJpeCx0aGlzLnByb2pNYXRyaXg9bmV3IG0uTWF0cml4fSxtLkNhbWVyYS5wcm90b3R5cGUucGVyc3BlY3RpdmU9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5jYW1lcmFGT1Y9dm9pZCAwPT09ZT9lPXRoaXMuZGVmYXVsdENhbWVyYUZPVjp0aGlzLl9yZW5kZXJlci5fcEluc3QuX3RvUmFkaWFucyhlKSx2b2lkIDA9PT10JiYodD10aGlzLmRlZmF1bHRBc3BlY3RSYXRpbyksdm9pZCAwPT09ciYmKHI9dGhpcy5kZWZhdWx0Q2FtZXJhTmVhciksdm9pZCAwPT09aSYmKGk9dGhpcy5kZWZhdWx0Q2FtZXJhRmFyKSxyPD0xZS00JiYocj0uMDEsY29uc29sZS5sb2coXCJBdm9pZCBwZXJzcGVjdGl2ZSBuZWFyIHBsYW5lIHZhbHVlcyBjbG9zZSB0byBvciBiZWxvdyAwLiBTZXR0aW5nIHZhbHVlIHRvIDAuMDEuXCIpKSxpPHImJmNvbnNvbGUubG9nKFwiUGVyc3BlY3RpdmUgZmFyIHBsYW5lIHZhbHVlIGlzIGxlc3MgdGhhbiBuZWFyIHBsYW5lIHZhbHVlLiBOb3RoaW5nIHdpbGwgYmUgc2hvd24uXCIpLHRoaXMuYXNwZWN0UmF0aW89dCx0aGlzLmNhbWVyYU5lYXI9cix0aGlzLmNhbWVyYUZhcj1pLHRoaXMucHJvak1hdHJpeD1tLk1hdHJpeC5pZGVudGl0eSgpO3ZhciBuPTEvTWF0aC50YW4odGhpcy5jYW1lcmFGT1YvMiksbz0xLyh0aGlzLmNhbWVyYU5lYXItdGhpcy5jYW1lcmFGYXIpO3RoaXMucHJvak1hdHJpeC5zZXQobi90LDAsMCwwLDAsLW4sMCwwLDAsMCwoaStyKSpvLC0xLDAsMCwyKmkqcipvLDApLHRoaXMuX2lzQWN0aXZlKCkmJnRoaXMuX3JlbmRlcmVyLnVQTWF0cml4LnNldCh0aGlzLnByb2pNYXRyaXgubWF0NFswXSx0aGlzLnByb2pNYXRyaXgubWF0NFsxXSx0aGlzLnByb2pNYXRyaXgubWF0NFsyXSx0aGlzLnByb2pNYXRyaXgubWF0NFszXSx0aGlzLnByb2pNYXRyaXgubWF0NFs0XSx0aGlzLnByb2pNYXRyaXgubWF0NFs1XSx0aGlzLnByb2pNYXRyaXgubWF0NFs2XSx0aGlzLnByb2pNYXRyaXgubWF0NFs3XSx0aGlzLnByb2pNYXRyaXgubWF0NFs4XSx0aGlzLnByb2pNYXRyaXgubWF0NFs5XSx0aGlzLnByb2pNYXRyaXgubWF0NFsxMF0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbMTFdLHRoaXMucHJvak1hdHJpeC5tYXQ0WzEyXSx0aGlzLnByb2pNYXRyaXgubWF0NFsxM10sdGhpcy5wcm9qTWF0cml4Lm1hdDRbMTRdLHRoaXMucHJvak1hdHJpeC5tYXQ0WzE1XSksdGhpcy5jYW1lcmFUeXBlPVwiY3VzdG9tXCJ9LG0uQ2FtZXJhLnByb3RvdHlwZS5vcnRobz1mdW5jdGlvbihlLHQscixpLG4sbyl7dm9pZCAwPT09ZSYmKGU9LXRoaXMuX3JlbmRlcmVyLndpZHRoLzIpLHZvaWQgMD09PXQmJih0PSt0aGlzLl9yZW5kZXJlci53aWR0aC8yKSx2b2lkIDA9PT1yJiYocj0tdGhpcy5fcmVuZGVyZXIuaGVpZ2h0LzIpLHZvaWQgMD09PWkmJihpPSt0aGlzLl9yZW5kZXJlci5oZWlnaHQvMiksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09byYmKG89TWF0aC5tYXgodGhpcy5fcmVuZGVyZXIud2lkdGgsdGhpcy5fcmVuZGVyZXIuaGVpZ2h0KSk7dmFyIGE9dC1lLHM9aS1yLGg9by1uLGw9Mi9hLHU9Mi9zLGM9LTIvaCxwPS0odCtlKS9hLGQ9LShpK3IpL3MsZj0tKG8rbikvaDt0aGlzLnByb2pNYXRyaXg9bS5NYXRyaXguaWRlbnRpdHkoKSx0aGlzLnByb2pNYXRyaXguc2V0KGwsMCwwLDAsMCwtdSwwLDAsMCwwLGMsMCxwLGQsZiwxKSx0aGlzLl9pc0FjdGl2ZSgpJiZ0aGlzLl9yZW5kZXJlci51UE1hdHJpeC5zZXQodGhpcy5wcm9qTWF0cml4Lm1hdDRbMF0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbMV0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbMl0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbM10sdGhpcy5wcm9qTWF0cml4Lm1hdDRbNF0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbNV0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbNl0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbN10sdGhpcy5wcm9qTWF0cml4Lm1hdDRbOF0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbOV0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbMTBdLHRoaXMucHJvak1hdHJpeC5tYXQ0WzExXSx0aGlzLnByb2pNYXRyaXgubWF0NFsxMl0sdGhpcy5wcm9qTWF0cml4Lm1hdDRbMTNdLHRoaXMucHJvak1hdHJpeC5tYXQ0WzE0XSx0aGlzLnByb2pNYXRyaXgubWF0NFsxNV0pLHRoaXMuY2FtZXJhVHlwZT1cImN1c3RvbVwifSxtLkNhbWVyYS5wcm90b3R5cGUuX3JvdGF0ZVZpZXc9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpcy5jZW50ZXJYLG89dGhpcy5jZW50ZXJZLGE9dGhpcy5jZW50ZXJaO24tPXRoaXMuZXllWCxvLT10aGlzLmV5ZVksYS09dGhpcy5leWVaO3ZhciBzPW0uTWF0cml4LmlkZW50aXR5KHRoaXMuX3JlbmRlcmVyLl9wSW5zdCk7cy5yb3RhdGUoZSx0LHIsaSk7dmFyIGg9W24qcy5tYXQ0WzBdK28qcy5tYXQ0WzRdK2Eqcy5tYXQ0WzhdLG4qcy5tYXQ0WzFdK28qcy5tYXQ0WzVdK2Eqcy5tYXQ0WzldLG4qcy5tYXQ0WzJdK28qcy5tYXQ0WzZdK2Eqcy5tYXQ0WzEwXV07aFswXSs9dGhpcy5leWVYLGhbMV0rPXRoaXMuZXllWSxoWzJdKz10aGlzLmV5ZVosdGhpcy5jYW1lcmEodGhpcy5leWVYLHRoaXMuZXllWSx0aGlzLmV5ZVosaFswXSxoWzFdLGhbMl0sdGhpcy51cFgsdGhpcy51cFksdGhpcy51cFopfSxtLkNhbWVyYS5wcm90b3R5cGUucGFuPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldExvY2FsQXhlcygpO3RoaXMuX3JvdGF0ZVZpZXcoZSx0LnlbMF0sdC55WzFdLHQueVsyXSl9LG0uQ2FtZXJhLnByb3RvdHlwZS50aWx0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldExvY2FsQXhlcygpO3RoaXMuX3JvdGF0ZVZpZXcoZSx0LnhbMF0sdC54WzFdLHQueFsyXSl9LG0uQ2FtZXJhLnByb3RvdHlwZS5sb29rQXQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuY2FtZXJhKHRoaXMuZXllWCx0aGlzLmV5ZVksdGhpcy5leWVaLGUsdCxyLHRoaXMudXBYLHRoaXMudXBZLHRoaXMudXBaKX0sbS5DYW1lcmEucHJvdG90eXBlLmNhbWVyYT1mdW5jdGlvbihlLHQscixpLG4sbyxhLHMsaCl7dm9pZCAwPT09ZSYmKGU9dGhpcy5kZWZhdWx0RXllWCx0PXRoaXMuZGVmYXVsdEV5ZVkscj10aGlzLmRlZmF1bHRFeWVaLGk9ZSxuPXQscz0xLGg9YT1vPTApLHRoaXMuZXllWD1lLHRoaXMuZXllWT10LHRoaXMuZXllWj1yLHRoaXMuY2VudGVyWD1pLHRoaXMuY2VudGVyWT1uLHRoaXMuY2VudGVyWj1vLHRoaXMudXBYPWEsdGhpcy51cFk9cyx0aGlzLnVwWj1oO3ZhciBsPXRoaXMuX2dldExvY2FsQXhlcygpO3RoaXMuY2FtZXJhTWF0cml4LnNldChsLnhbMF0sbC55WzBdLGwuelswXSwwLGwueFsxXSxsLnlbMV0sbC56WzFdLDAsbC54WzJdLGwueVsyXSxsLnpbMl0sMCwwLDAsMCwxKTt2YXIgdT0tZSxjPS10LHA9LXI7cmV0dXJuIHRoaXMuY2FtZXJhTWF0cml4LnRyYW5zbGF0ZShbdSxjLHBdKSx0aGlzLl9pc0FjdGl2ZSgpJiZ0aGlzLl9yZW5kZXJlci51TVZNYXRyaXguc2V0KHRoaXMuY2FtZXJhTWF0cml4Lm1hdDRbMF0sdGhpcy5jYW1lcmFNYXRyaXgubWF0NFsxXSx0aGlzLmNhbWVyYU1hdHJpeC5tYXQ0WzJdLHRoaXMuY2FtZXJhTWF0cml4Lm1hdDRbM10sdGhpcy5jYW1lcmFNYXRyaXgubWF0NFs0XSx0aGlzLmNhbWVyYU1hdHJpeC5tYXQ0WzVdLHRoaXMuY2FtZXJhTWF0cml4Lm1hdDRbNl0sdGhpcy5jYW1lcmFNYXRyaXgubWF0NFs3XSx0aGlzLmNhbWVyYU1hdHJpeC5tYXQ0WzhdLHRoaXMuY2FtZXJhTWF0cml4Lm1hdDRbOV0sdGhpcy5jYW1lcmFNYXRyaXgubWF0NFsxMF0sdGhpcy5jYW1lcmFNYXRyaXgubWF0NFsxMV0sdGhpcy5jYW1lcmFNYXRyaXgubWF0NFsxMl0sdGhpcy5jYW1lcmFNYXRyaXgubWF0NFsxM10sdGhpcy5jYW1lcmFNYXRyaXgubWF0NFsxNF0sdGhpcy5jYW1lcmFNYXRyaXgubWF0NFsxNV0pLHRoaXN9LG0uQ2FtZXJhLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLl9nZXRMb2NhbEF4ZXMoKSxuPVtpLnhbMF0qZSxpLnhbMV0qZSxpLnhbMl0qZV0sbz1baS55WzBdKnQsaS55WzFdKnQsaS55WzJdKnRdLGE9W2kuelswXSpyLGkuelsxXSpyLGkuelsyXSpyXTt0aGlzLmNhbWVyYSh0aGlzLmV5ZVgrblswXStvWzBdK2FbMF0sdGhpcy5leWVZK25bMV0rb1sxXSthWzFdLHRoaXMuZXllWituWzJdK29bMl0rYVsyXSx0aGlzLmNlbnRlclgrblswXStvWzBdK2FbMF0sdGhpcy5jZW50ZXJZK25bMV0rb1sxXSthWzFdLHRoaXMuY2VudGVyWituWzJdK29bMl0rYVsyXSwwLDEsMCl9LG0uQ2FtZXJhLnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbihlLHQscil7dmFyIGk9ZS10aGlzLmV5ZVgsbj10LXRoaXMuZXllWSxvPXItdGhpcy5leWVaO3RoaXMuY2FtZXJhKGUsdCxyLHRoaXMuY2VudGVyWCtpLHRoaXMuY2VudGVyWStuLHRoaXMuY2VudGVyWitvLDAsMSwwKX0sbS5DYW1lcmEucHJvdG90eXBlLl9jb21wdXRlQ2FtZXJhRGVmYXVsdFNldHRpbmdzPWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0Q2FtZXJhRk9WPTYwLzE4MCpNYXRoLlBJLHRoaXMuZGVmYXVsdEFzcGVjdFJhdGlvPXRoaXMuX3JlbmRlcmVyLndpZHRoL3RoaXMuX3JlbmRlcmVyLmhlaWdodCx0aGlzLmRlZmF1bHRFeWVYPTAsdGhpcy5kZWZhdWx0RXllWT0wLHRoaXMuZGVmYXVsdEV5ZVo9dGhpcy5fcmVuZGVyZXIuaGVpZ2h0LzIvTWF0aC50YW4odGhpcy5kZWZhdWx0Q2FtZXJhRk9WLzIpLHRoaXMuZGVmYXVsdENlbnRlclg9MCx0aGlzLmRlZmF1bHRDZW50ZXJZPTAsdGhpcy5kZWZhdWx0Q2VudGVyWj0wLHRoaXMuZGVmYXVsdENhbWVyYU5lYXI9LjEqdGhpcy5kZWZhdWx0RXllWix0aGlzLmRlZmF1bHRDYW1lcmFGYXI9MTAqdGhpcy5kZWZhdWx0RXllWn0sbS5DYW1lcmEucHJvdG90eXBlLl9zZXREZWZhdWx0Q2FtZXJhPWZ1bmN0aW9uKCl7dGhpcy5jYW1lcmFGT1Y9dGhpcy5kZWZhdWx0Q2FtZXJhRk9WLHRoaXMuYXNwZWN0UmF0aW89dGhpcy5kZWZhdWx0QXNwZWN0UmF0aW8sdGhpcy5leWVYPXRoaXMuZGVmYXVsdEV5ZVgsdGhpcy5leWVZPXRoaXMuZGVmYXVsdEV5ZVksdGhpcy5leWVaPXRoaXMuZGVmYXVsdEV5ZVosdGhpcy5jZW50ZXJYPXRoaXMuZGVmYXVsdENlbnRlclgsdGhpcy5jZW50ZXJZPXRoaXMuZGVmYXVsdENlbnRlclksdGhpcy5jZW50ZXJaPXRoaXMuZGVmYXVsdENlbnRlclosdGhpcy51cFg9MCx0aGlzLnVwWT0xLHRoaXMudXBaPTAsdGhpcy5jYW1lcmFOZWFyPXRoaXMuZGVmYXVsdENhbWVyYU5lYXIsdGhpcy5jYW1lcmFGYXI9dGhpcy5kZWZhdWx0Q2FtZXJhRmFyLHRoaXMucGVyc3BlY3RpdmUoKSx0aGlzLmNhbWVyYSgpLHRoaXMuY2FtZXJhVHlwZT1cImRlZmF1bHRcIn0sbS5DYW1lcmEucHJvdG90eXBlLl9yZXNpemU9ZnVuY3Rpb24oKXtcImRlZmF1bHRcIj09PXRoaXMuY2FtZXJhVHlwZT8odGhpcy5fY29tcHV0ZUNhbWVyYURlZmF1bHRTZXR0aW5ncygpLHRoaXMuX3NldERlZmF1bHRDYW1lcmEoKSk6dGhpcy5wZXJzcGVjdGl2ZSh0aGlzLmNhbWVyYUZPVix0aGlzLl9yZW5kZXJlci53aWR0aC90aGlzLl9yZW5kZXJlci5oZWlnaHQpfSxtLkNhbWVyYS5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe3ZhciBlPW5ldyBtLkNhbWVyYSh0aGlzLl9yZW5kZXJlcik7cmV0dXJuIGUuY2FtZXJhRk9WPXRoaXMuY2FtZXJhRk9WLGUuYXNwZWN0UmF0aW89dGhpcy5hc3BlY3RSYXRpbyxlLmV5ZVg9dGhpcy5leWVYLGUuZXllWT10aGlzLmV5ZVksZS5leWVaPXRoaXMuZXllWixlLmNlbnRlclg9dGhpcy5jZW50ZXJYLGUuY2VudGVyWT10aGlzLmNlbnRlclksZS5jZW50ZXJaPXRoaXMuY2VudGVyWixlLmNhbWVyYU5lYXI9dGhpcy5jYW1lcmFOZWFyLGUuY2FtZXJhRmFyPXRoaXMuY2FtZXJhRmFyLGUuY2FtZXJhVHlwZT10aGlzLmNhbWVyYVR5cGUsZS5jYW1lcmFNYXRyaXg9dGhpcy5jYW1lcmFNYXRyaXguY29weSgpLGUucHJvak1hdHJpeD10aGlzLnByb2pNYXRyaXguY29weSgpLGV9LG0uQ2FtZXJhLnByb3RvdHlwZS5fZ2V0TG9jYWxBeGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5leWVYLXRoaXMuY2VudGVyWCx0PXRoaXMuZXllWS10aGlzLmNlbnRlclkscj10aGlzLmV5ZVotdGhpcy5jZW50ZXJaLGk9TWF0aC5zcXJ0KGUqZSt0KnQrcipyKTswIT09aSYmKGUvPWksdC89aSxyLz1pKTt2YXIgbj10aGlzLnVwWCxvPXRoaXMudXBZLGE9dGhpcy51cFoscz1vKnItYSp0LGg9LW4qcithKmUsbD1uKnQtbyplO249dCpsLXIqaCxvPS1lKmwrcipzLGE9ZSpoLXQqczt2YXIgdT1NYXRoLnNxcnQocypzK2gqaCtsKmwpOzAhPT11JiYocy89dSxoLz11LGwvPXUpO3ZhciBjPU1hdGguc3FydChuKm4rbypvK2EqYSk7cmV0dXJuIDAhPT1jJiYobi89YyxvLz1jLGEvPWMpLHt4OltzLGgsbF0seTpbbixvLGFdLHo6W2UsdCxyXX19LG0uQ2FtZXJhLnByb3RvdHlwZS5fb3JiaXQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuZXllWC10aGlzLmNlbnRlclgsbj10aGlzLmV5ZVktdGhpcy5jZW50ZXJZLG89dGhpcy5leWVaLXRoaXMuY2VudGVyWixhPU1hdGguc3FydChpKmkrbipuK28qbykscz1NYXRoLmF0YW4yKGksbyksaD1NYXRoLmFjb3MoTWF0aC5tYXgoLTEsTWF0aC5taW4oMSxuL2EpKSk7cys9ZSwoYSs9cik8MCYmKGE9LjEpLChoKz10KT5NYXRoLlBJP2g9TWF0aC5QSTpoPD0wJiYoaD0uMDAxKTt2YXIgbD1NYXRoLnNpbihoKSphKk1hdGguc2luKHMpLHU9TWF0aC5jb3MoaCkqYSxjPU1hdGguc2luKGgpKmEqTWF0aC5jb3Mocyk7dGhpcy5jYW1lcmEobCt0aGlzLmNlbnRlclgsdSt0aGlzLmNlbnRlclksYyt0aGlzLmNlbnRlclosdGhpcy5jZW50ZXJYLHRoaXMuY2VudGVyWSx0aGlzLmNlbnRlclosMCwxLDApfSxtLkNhbWVyYS5wcm90b3R5cGUuX2lzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT10aGlzLl9yZW5kZXJlci5fY3VyQ2FtZXJhfSxtLnByb3RvdHlwZS5zZXRDYW1lcmE9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYT1lLHRoaXMuX3JlbmRlcmVyLnVQTWF0cml4LnNldChlLnByb2pNYXRyaXgubWF0NFswXSxlLnByb2pNYXRyaXgubWF0NFsxXSxlLnByb2pNYXRyaXgubWF0NFsyXSxlLnByb2pNYXRyaXgubWF0NFszXSxlLnByb2pNYXRyaXgubWF0NFs0XSxlLnByb2pNYXRyaXgubWF0NFs1XSxlLnByb2pNYXRyaXgubWF0NFs2XSxlLnByb2pNYXRyaXgubWF0NFs3XSxlLnByb2pNYXRyaXgubWF0NFs4XSxlLnByb2pNYXRyaXgubWF0NFs5XSxlLnByb2pNYXRyaXgubWF0NFsxMF0sZS5wcm9qTWF0cml4Lm1hdDRbMTFdLGUucHJvak1hdHJpeC5tYXQ0WzEyXSxlLnByb2pNYXRyaXgubWF0NFsxM10sZS5wcm9qTWF0cml4Lm1hdDRbMTRdLGUucHJvak1hdHJpeC5tYXQ0WzE1XSl9LHQuZXhwb3J0cz1tLkNhbWVyYX0se1wiLi4vY29yZS9tYWluXCI6MjN9XSw2OTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciB1PWUoXCIuLi9jb3JlL21haW5cIik7dS5HZW9tZXRyeT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMudmVydGljZXM9W10sdGhpcy5saW5lVmVydGljZXM9W10sdGhpcy5saW5lTm9ybWFscz1bXSx0aGlzLnZlcnRleE5vcm1hbHM9W10sdGhpcy5mYWNlcz1bXSx0aGlzLnV2cz1bXSx0aGlzLmVkZ2VzPVtdLHRoaXMuZGV0YWlsWD12b2lkIDAhPT1lP2U6MSx0aGlzLmRldGFpbFk9dm9pZCAwIT09dD90OjEsciBpbnN0YW5jZW9mIEZ1bmN0aW9uJiZyLmNhbGwodGhpcyksdGhpc30sdS5HZW9tZXRyeS5wcm90b3R5cGUuY29tcHV0ZUZhY2VzPWZ1bmN0aW9uKCl7dGhpcy5mYWNlcy5sZW5ndGg9MDtmb3IodmFyIGUsdCxyLGksbj10aGlzLmRldGFpbFgrMSxvPTA7bzx0aGlzLmRldGFpbFk7bysrKWZvcih2YXIgYT0wO2E8dGhpcy5kZXRhaWxYO2ErKyl0PShlPW8qbithKSsxLHI9KG8rMSkqbithKzEsaT0obysxKSpuK2EsdGhpcy5mYWNlcy5wdXNoKFtlLHQsaV0pLHRoaXMuZmFjZXMucHVzaChbaSx0LHJdKTtyZXR1cm4gdGhpc30sdS5HZW9tZXRyeS5wcm90b3R5cGUuX2dldEZhY2VOb3JtYWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5mYWNlc1tlXSxyPXRoaXMudmVydGljZXNbdFswXV0saT10aGlzLnZlcnRpY2VzW3RbMV1dLG49dGhpcy52ZXJ0aWNlc1t0WzJdXSxvPXUuVmVjdG9yLnN1YihpLHIpLGE9dS5WZWN0b3Iuc3ViKG4scikscz11LlZlY3Rvci5jcm9zcyhvLGEpLGg9dS5WZWN0b3IubWFnKHMpLGw9aC8odS5WZWN0b3IubWFnKG8pKnUuVmVjdG9yLm1hZyhhKSk7cmV0dXJuIDA9PT1sfHxpc05hTihsKT8oY29uc29sZS53YXJuKFwicDUuR2VvbWV0cnkucHJvdG90eXBlLl9nZXRGYWNlTm9ybWFsOlwiLFwiZmFjZSBoYXMgY29saW5lYXIgc2lkZXMgb3IgYSByZXBlYXRlZCB2ZXJ0ZXhcIikscyk6KDE8bCYmKGw9MSkscy5tdWx0KE1hdGguYXNpbihsKS9oKSl9LHUuR2VvbWV0cnkucHJvdG90eXBlLmNvbXB1dGVOb3JtYWxzPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLnZlcnRleE5vcm1hbHMscj10aGlzLnZlcnRpY2VzLGk9dGhpcy5mYWNlcztmb3IoZT10Lmxlbmd0aD0wO2U8ci5sZW5ndGg7KytlKXQucHVzaChuZXcgdS5WZWN0b3IpO2Zvcih2YXIgbj0wO248aS5sZW5ndGg7KytuKWZvcih2YXIgbz1pW25dLGE9dGhpcy5fZ2V0RmFjZU5vcm1hbChuKSxzPTA7czwzOysrcyl7dFtvW3NdXS5hZGQoYSl9Zm9yKGU9MDtlPHIubGVuZ3RoOysrZSl0W2VdLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzfSx1Lkdlb21ldHJ5LnByb3RvdHlwZS5hdmVyYWdlTm9ybWFscz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8PXRoaXMuZGV0YWlsWTtlKyspe3ZhciB0PXRoaXMuZGV0YWlsWCsxLHI9dS5WZWN0b3IuYWRkKHRoaXMudmVydGV4Tm9ybWFsc1tlKnRdLHRoaXMudmVydGV4Tm9ybWFsc1tlKnQrdGhpcy5kZXRhaWxYXSk7cj11LlZlY3Rvci5kaXYociwyKSx0aGlzLnZlcnRleE5vcm1hbHNbZSp0XT1yLHRoaXMudmVydGV4Tm9ybWFsc1tlKnQrdGhpcy5kZXRhaWxYXT1yfXJldHVybiB0aGlzfSx1Lkdlb21ldHJ5LnByb3RvdHlwZS5hdmVyYWdlUG9sZU5vcm1hbHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IHUuVmVjdG9yKDAsMCwwKSx0PTA7dDx0aGlzLmRldGFpbFg7dCsrKWUuYWRkKHRoaXMudmVydGV4Tm9ybWFsc1t0XSk7Zm9yKGU9dS5WZWN0b3IuZGl2KGUsdGhpcy5kZXRhaWxYKSx0PTA7dDx0aGlzLmRldGFpbFg7dCsrKXRoaXMudmVydGV4Tm9ybWFsc1t0XT1lO2ZvcihlPW5ldyB1LlZlY3RvcigwLDAsMCksdD10aGlzLnZlcnRpY2VzLmxlbmd0aC0xO3Q+dGhpcy52ZXJ0aWNlcy5sZW5ndGgtMS10aGlzLmRldGFpbFg7dC0tKWUuYWRkKHRoaXMudmVydGV4Tm9ybWFsc1t0XSk7Zm9yKGU9dS5WZWN0b3IuZGl2KGUsdGhpcy5kZXRhaWxYKSx0PXRoaXMudmVydGljZXMubGVuZ3RoLTE7dD50aGlzLnZlcnRpY2VzLmxlbmd0aC0xLXRoaXMuZGV0YWlsWDt0LS0pdGhpcy52ZXJ0ZXhOb3JtYWxzW3RdPWU7cmV0dXJuIHRoaXN9LHUuR2VvbWV0cnkucHJvdG90eXBlLl9tYWtlVHJpYW5nbGVFZGdlcz1mdW5jdGlvbigpe2lmKHRoaXMuZWRnZXMubGVuZ3RoPTAsQXJyYXkuaXNBcnJheSh0aGlzLnN0cm9rZUluZGljZXMpKWZvcih2YXIgZT0wLHQ9dGhpcy5zdHJva2VJbmRpY2VzLmxlbmd0aDtlPHQ7ZSsrKXRoaXMuZWRnZXMucHVzaCh0aGlzLnN0cm9rZUluZGljZXNbZV0pO2Vsc2UgZm9yKHZhciByPTA7cjx0aGlzLmZhY2VzLmxlbmd0aDtyKyspdGhpcy5lZGdlcy5wdXNoKFt0aGlzLmZhY2VzW3JdWzBdLHRoaXMuZmFjZXNbcl1bMV1dKSx0aGlzLmVkZ2VzLnB1c2goW3RoaXMuZmFjZXNbcl1bMV0sdGhpcy5mYWNlc1tyXVsyXV0pLHRoaXMuZWRnZXMucHVzaChbdGhpcy5mYWNlc1tyXVsyXSx0aGlzLmZhY2VzW3JdWzBdXSk7cmV0dXJuIHRoaXN9LHUuR2VvbWV0cnkucHJvdG90eXBlLl9lZGdlc1RvVmVydGljZXM9ZnVuY3Rpb24oKXt0aGlzLmxpbmVWZXJ0aWNlcy5sZW5ndGg9MDtmb3IodmFyIGU9dGhpcy5saW5lTm9ybWFscy5sZW5ndGg9MDtlPHRoaXMuZWRnZXMubGVuZ3RoO2UrKyl7dmFyIHQ9dGhpcy52ZXJ0aWNlc1t0aGlzLmVkZ2VzW2VdWzBdXSxyPXRoaXMudmVydGljZXNbdGhpcy5lZGdlc1tlXVsxXV0saT1yLmNvcHkoKS5zdWIodCkubm9ybWFsaXplKCksbj10LmFycmF5KCksbz10LmFycmF5KCksYT1yLmFycmF5KCkscz1yLmFycmF5KCksaD1pLmFycmF5KCksbD1pLmFycmF5KCk7aC5wdXNoKDEpLGwucHVzaCgtMSksdGhpcy5saW5lTm9ybWFscy5wdXNoKGgsbCxoLGgsbCxsKSx0aGlzLmxpbmVWZXJ0aWNlcy5wdXNoKG4sbyxhLGEsbyxzKX1yZXR1cm4gdGhpc30sdS5HZW9tZXRyeS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7aWYoMDx0aGlzLnZlcnRpY2VzLmxlbmd0aCl7Zm9yKHZhciBlPXRoaXMudmVydGljZXNbMF0uY29weSgpLHQ9dGhpcy52ZXJ0aWNlc1swXS5jb3B5KCkscj0wO3I8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7cisrKWUueD1NYXRoLm1heChlLngsdGhpcy52ZXJ0aWNlc1tyXS54KSx0Lng9TWF0aC5taW4odC54LHRoaXMudmVydGljZXNbcl0ueCksZS55PU1hdGgubWF4KGUueSx0aGlzLnZlcnRpY2VzW3JdLnkpLHQueT1NYXRoLm1pbih0LnksdGhpcy52ZXJ0aWNlc1tyXS55KSxlLno9TWF0aC5tYXgoZS56LHRoaXMudmVydGljZXNbcl0ueiksdC56PU1hdGgubWluKHQueix0aGlzLnZlcnRpY2VzW3JdLnopO3ZhciBpPXUuVmVjdG9yLmxlcnAoZSx0LC41KSxuPXUuVmVjdG9yLnN1YihlLHQpLG89MjAwL01hdGgubWF4KE1hdGgubWF4KG4ueCxuLnkpLG4ueik7Zm9yKHI9MDtyPHRoaXMudmVydGljZXMubGVuZ3RoO3IrKyl0aGlzLnZlcnRpY2VzW3JdLnN1YihpKSx0aGlzLnZlcnRpY2VzW3JdLm11bHQobyl9cmV0dXJuIHRoaXN9LHQuZXhwb3J0cz11Lkdlb21ldHJ5fSx7XCIuLi9jb3JlL21haW5cIjoyM31dLDcwOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIFA9ZShcIi4uL2NvcmUvbWFpblwiKSxpPUFycmF5LGs9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheX07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheSYmKGk9RmxvYXQzMkFycmF5LGs9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheXx8ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheX0pLFAuTWF0cml4PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSx0PTA7dDxlLmxlbmd0aDsrK3QpZVt0XT1hcmd1bWVudHNbdF07cmV0dXJuIGUubGVuZ3RoJiZlW2UubGVuZ3RoLTFdaW5zdGFuY2VvZiBQJiYodGhpcy5wNT1lW2UubGVuZ3RoLTFdKSxcIm1hdDNcIj09PWVbMF0/dGhpcy5tYXQzPUFycmF5LmlzQXJyYXkoZVsxXSk/ZVsxXTpuZXcgaShbMSwwLDAsMCwxLDAsMCwwLDFdKTp0aGlzLm1hdDQ9QXJyYXkuaXNBcnJheShlWzBdKT9lWzBdOm5ldyBpKFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSksdGhpc30sUC5NYXRyaXgucHJvdG90eXBlLnNldD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFAuTWF0cml4P3RoaXMubWF0ND1lLm1hdDQ6ayhlKT90aGlzLm1hdDQ9ZToxNj09PWFyZ3VtZW50cy5sZW5ndGgmJih0aGlzLm1hdDRbMF09ZSx0aGlzLm1hdDRbMV09YXJndW1lbnRzWzFdLHRoaXMubWF0NFsyXT1hcmd1bWVudHNbMl0sdGhpcy5tYXQ0WzNdPWFyZ3VtZW50c1szXSx0aGlzLm1hdDRbNF09YXJndW1lbnRzWzRdLHRoaXMubWF0NFs1XT1hcmd1bWVudHNbNV0sdGhpcy5tYXQ0WzZdPWFyZ3VtZW50c1s2XSx0aGlzLm1hdDRbN109YXJndW1lbnRzWzddLHRoaXMubWF0NFs4XT1hcmd1bWVudHNbOF0sdGhpcy5tYXQ0WzldPWFyZ3VtZW50c1s5XSx0aGlzLm1hdDRbMTBdPWFyZ3VtZW50c1sxMF0sdGhpcy5tYXQ0WzExXT1hcmd1bWVudHNbMTFdLHRoaXMubWF0NFsxMl09YXJndW1lbnRzWzEyXSx0aGlzLm1hdDRbMTNdPWFyZ3VtZW50c1sxM10sdGhpcy5tYXQ0WzE0XT1hcmd1bWVudHNbMTRdLHRoaXMubWF0NFsxNV09YXJndW1lbnRzWzE1XSksdGhpc30sUC5NYXRyaXgucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgUC5NYXRyaXgodGhpcy5tYXQ0LHRoaXMucDUpfSxQLk1hdHJpeC5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe3ZhciBlPW5ldyBQLk1hdHJpeCh0aGlzLnA1KTtyZXR1cm4gZS5tYXQ0WzBdPXRoaXMubWF0NFswXSxlLm1hdDRbMV09dGhpcy5tYXQ0WzFdLGUubWF0NFsyXT10aGlzLm1hdDRbMl0sZS5tYXQ0WzNdPXRoaXMubWF0NFszXSxlLm1hdDRbNF09dGhpcy5tYXQ0WzRdLGUubWF0NFs1XT10aGlzLm1hdDRbNV0sZS5tYXQ0WzZdPXRoaXMubWF0NFs2XSxlLm1hdDRbN109dGhpcy5tYXQ0WzddLGUubWF0NFs4XT10aGlzLm1hdDRbOF0sZS5tYXQ0WzldPXRoaXMubWF0NFs5XSxlLm1hdDRbMTBdPXRoaXMubWF0NFsxMF0sZS5tYXQ0WzExXT10aGlzLm1hdDRbMTFdLGUubWF0NFsxMl09dGhpcy5tYXQ0WzEyXSxlLm1hdDRbMTNdPXRoaXMubWF0NFsxM10sZS5tYXQ0WzE0XT10aGlzLm1hdDRbMTRdLGUubWF0NFsxNV09dGhpcy5tYXQ0WzE1XSxlfSxQLk1hdHJpeC5pZGVudGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFAuTWF0cml4KGUpfSxQLk1hdHJpeC5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxuLG8sYTtyZXR1cm4gZSBpbnN0YW5jZW9mIFAuTWF0cml4Pyh0PWUubWF0NFsxXSxyPWUubWF0NFsyXSxpPWUubWF0NFszXSxuPWUubWF0NFs2XSxvPWUubWF0NFs3XSxhPWUubWF0NFsxMV0sdGhpcy5tYXQ0WzBdPWUubWF0NFswXSx0aGlzLm1hdDRbMV09ZS5tYXQ0WzRdLHRoaXMubWF0NFsyXT1lLm1hdDRbOF0sdGhpcy5tYXQ0WzNdPWUubWF0NFsxMl0sdGhpcy5tYXQ0WzRdPXQsdGhpcy5tYXQ0WzVdPWUubWF0NFs1XSx0aGlzLm1hdDRbNl09ZS5tYXQ0WzldLHRoaXMubWF0NFs3XT1lLm1hdDRbMTNdLHRoaXMubWF0NFs4XT1yLHRoaXMubWF0NFs5XT1uLHRoaXMubWF0NFsxMF09ZS5tYXQ0WzEwXSx0aGlzLm1hdDRbMTFdPWUubWF0NFsxNF0sdGhpcy5tYXQ0WzEyXT1pLHRoaXMubWF0NFsxM109byx0aGlzLm1hdDRbMTRdPWEsdGhpcy5tYXQ0WzE1XT1lLm1hdDRbMTVdKTprKGUpJiYodD1lWzFdLHI9ZVsyXSxpPWVbM10sbj1lWzZdLG89ZVs3XSxhPWVbMTFdLHRoaXMubWF0NFswXT1lWzBdLHRoaXMubWF0NFsxXT1lWzRdLHRoaXMubWF0NFsyXT1lWzhdLHRoaXMubWF0NFszXT1lWzEyXSx0aGlzLm1hdDRbNF09dCx0aGlzLm1hdDRbNV09ZVs1XSx0aGlzLm1hdDRbNl09ZVs5XSx0aGlzLm1hdDRbN109ZVsxM10sdGhpcy5tYXQ0WzhdPXIsdGhpcy5tYXQ0WzldPW4sdGhpcy5tYXQ0WzEwXT1lWzEwXSx0aGlzLm1hdDRbMTFdPWVbMTRdLHRoaXMubWF0NFsxMl09aSx0aGlzLm1hdDRbMTNdPW8sdGhpcy5tYXQ0WzE0XT1hLHRoaXMubWF0NFsxNV09ZVsxNV0pLHRoaXN9LFAuTWF0cml4LnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oZSl7dmFyIHQscixpLG4sbyxhLHMsaCxsLHUsYyxwLGQsZixtLHY7ZSBpbnN0YW5jZW9mIFAuTWF0cml4Pyh0PWUubWF0NFswXSxyPWUubWF0NFsxXSxpPWUubWF0NFsyXSxuPWUubWF0NFszXSxvPWUubWF0NFs0XSxhPWUubWF0NFs1XSxzPWUubWF0NFs2XSxoPWUubWF0NFs3XSxsPWUubWF0NFs4XSx1PWUubWF0NFs5XSxjPWUubWF0NFsxMF0scD1lLm1hdDRbMTFdLGQ9ZS5tYXQ0WzEyXSxmPWUubWF0NFsxM10sbT1lLm1hdDRbMTRdLHY9ZS5tYXQ0WzE1XSk6ayhlKSYmKHQ9ZVswXSxyPWVbMV0saT1lWzJdLG49ZVszXSxvPWVbNF0sYT1lWzVdLHM9ZVs2XSxoPWVbN10sbD1lWzhdLHU9ZVs5XSxjPWVbMTBdLHA9ZVsxMV0sZD1lWzEyXSxmPWVbMTNdLG09ZVsxNF0sdj1lWzE1XSk7dmFyIGc9dCphLXIqbyx5PXQqcy1pKm8sYj10KmgtbipvLF89cipzLWkqYSx4PXIqaC1uKmEsdz1pKmgtbipzLFM9bCpmLXUqZCxUPWwqbS1jKmQsTT1sKnYtcCpkLEU9dSptLWMqZixDPXUqdi1wKmYsUj1jKnYtcCptLEw9ZypSLXkqQytiKkUrXypNLXgqVCt3KlM7cmV0dXJuIEw/KEw9MS9MLHRoaXMubWF0NFswXT0oYSpSLXMqQytoKkUpKkwsdGhpcy5tYXQ0WzFdPShpKkMtcipSLW4qRSkqTCx0aGlzLm1hdDRbMl09KGYqdy1tKngrdipfKSpMLHRoaXMubWF0NFszXT0oYyp4LXUqdy1wKl8pKkwsdGhpcy5tYXQ0WzRdPShzKk0tbypSLWgqVCkqTCx0aGlzLm1hdDRbNV09KHQqUi1pKk0rbipUKSpMLHRoaXMubWF0NFs2XT0obSpiLWQqdy12KnkpKkwsdGhpcy5tYXQ0WzddPShsKnctYypiK3AqeSkqTCx0aGlzLm1hdDRbOF09KG8qQy1hKk0raCpTKSpMLHRoaXMubWF0NFs5XT0ocipNLXQqQy1uKlMpKkwsdGhpcy5tYXQ0WzEwXT0oZCp4LWYqYit2KmcpKkwsdGhpcy5tYXQ0WzExXT0odSpiLWwqeC1wKmcpKkwsdGhpcy5tYXQ0WzEyXT0oYSpULW8qRS1zKlMpKkwsdGhpcy5tYXQ0WzEzXT0odCpFLXIqVCtpKlMpKkwsdGhpcy5tYXQ0WzE0XT0oZip5LWQqXy1tKmcpKkwsdGhpcy5tYXQ0WzE1XT0obCpfLXUqeStjKmcpKkwsdGhpcyk6bnVsbH0sUC5NYXRyaXgucHJvdG90eXBlLmludmVydDN4Mz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubWF0M1swXSx0PXRoaXMubWF0M1sxXSxyPXRoaXMubWF0M1syXSxpPXRoaXMubWF0M1szXSxuPXRoaXMubWF0M1s0XSxvPXRoaXMubWF0M1s1XSxhPXRoaXMubWF0M1s2XSxzPXRoaXMubWF0M1s3XSxoPXRoaXMubWF0M1s4XSxsPWgqbi1vKnMsdT0taCppK28qYSxjPXMqaS1uKmEscD1lKmwrdCp1K3IqYztyZXR1cm4gcD8ocD0xL3AsdGhpcy5tYXQzWzBdPWwqcCx0aGlzLm1hdDNbMV09KC1oKnQrcipzKSpwLHRoaXMubWF0M1syXT0obyp0LXIqbikqcCx0aGlzLm1hdDNbM109dSpwLHRoaXMubWF0M1s0XT0oaCplLXIqYSkqcCx0aGlzLm1hdDNbNV09KC1vKmUrcippKSpwLHRoaXMubWF0M1s2XT1jKnAsdGhpcy5tYXQzWzddPSgtcyplK3QqYSkqcCx0aGlzLm1hdDNbOF09KG4qZS10KmkpKnAsdGhpcyk6bnVsbH0sUC5NYXRyaXgucHJvdG90eXBlLnRyYW5zcG9zZTN4Mz1mdW5jdGlvbihlKXt2YXIgdD1lWzFdLHI9ZVsyXSxpPWVbNV07cmV0dXJuIHRoaXMubWF0M1sxXT1lWzNdLHRoaXMubWF0M1syXT1lWzZdLHRoaXMubWF0M1szXT10LHRoaXMubWF0M1s1XT1lWzddLHRoaXMubWF0M1s2XT1yLHRoaXMubWF0M1s3XT1pLHRoaXN9LFAuTWF0cml4LnByb3RvdHlwZS5pbnZlcnNlVHJhbnNwb3NlPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PXRoaXMubWF0Mz9jb25zb2xlLmVycm9yKFwic29ycnksIHRoaXMgZnVuY3Rpb24gb25seSB3b3JrcyB3aXRoIG1hdDNcIik6KHRoaXMubWF0M1swXT1lLm1hdDRbMF0sdGhpcy5tYXQzWzFdPWUubWF0NFsxXSx0aGlzLm1hdDNbMl09ZS5tYXQ0WzJdLHRoaXMubWF0M1szXT1lLm1hdDRbNF0sdGhpcy5tYXQzWzRdPWUubWF0NFs1XSx0aGlzLm1hdDNbNV09ZS5tYXQ0WzZdLHRoaXMubWF0M1s2XT1lLm1hdDRbOF0sdGhpcy5tYXQzWzddPWUubWF0NFs5XSx0aGlzLm1hdDNbOF09ZS5tYXQ0WzEwXSk7dmFyIHQ9dGhpcy5pbnZlcnQzeDMoKTtpZih0KXQudHJhbnNwb3NlM3gzKHRoaXMubWF0Myk7ZWxzZSBmb3IodmFyIHI9MDtyPDk7cisrKXRoaXMubWF0M1tyXT0wO3JldHVybiB0aGlzfSxQLk1hdHJpeC5wcm90b3R5cGUuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1hdDRbMF0qdGhpcy5tYXQ0WzVdLXRoaXMubWF0NFsxXSp0aGlzLm1hdDRbNF0sdD10aGlzLm1hdDRbMF0qdGhpcy5tYXQ0WzZdLXRoaXMubWF0NFsyXSp0aGlzLm1hdDRbNF0scj10aGlzLm1hdDRbMF0qdGhpcy5tYXQ0WzddLXRoaXMubWF0NFszXSp0aGlzLm1hdDRbNF0saT10aGlzLm1hdDRbMV0qdGhpcy5tYXQ0WzZdLXRoaXMubWF0NFsyXSp0aGlzLm1hdDRbNV0sbj10aGlzLm1hdDRbMV0qdGhpcy5tYXQ0WzddLXRoaXMubWF0NFszXSp0aGlzLm1hdDRbNV0sbz10aGlzLm1hdDRbMl0qdGhpcy5tYXQ0WzddLXRoaXMubWF0NFszXSp0aGlzLm1hdDRbNl0sYT10aGlzLm1hdDRbOF0qdGhpcy5tYXQ0WzEzXS10aGlzLm1hdDRbOV0qdGhpcy5tYXQ0WzEyXSxzPXRoaXMubWF0NFs4XSp0aGlzLm1hdDRbMTRdLXRoaXMubWF0NFsxMF0qdGhpcy5tYXQ0WzEyXSxoPXRoaXMubWF0NFs4XSp0aGlzLm1hdDRbMTVdLXRoaXMubWF0NFsxMV0qdGhpcy5tYXQ0WzEyXSxsPXRoaXMubWF0NFs5XSp0aGlzLm1hdDRbMTRdLXRoaXMubWF0NFsxMF0qdGhpcy5tYXQ0WzEzXSx1PXRoaXMubWF0NFs5XSp0aGlzLm1hdDRbMTVdLXRoaXMubWF0NFsxMV0qdGhpcy5tYXQ0WzEzXTtyZXR1cm4gZSoodGhpcy5tYXQ0WzEwXSp0aGlzLm1hdDRbMTVdLXRoaXMubWF0NFsxMV0qdGhpcy5tYXQ0WzE0XSktdCp1K3IqbCtpKmgtbipzK28qYX0sUC5NYXRyaXgucHJvdG90eXBlLm11bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZT09PXRoaXN8fGU9PT10aGlzLm1hdDQpdD10aGlzLmNvcHkoKS5tYXQ0O2Vsc2UgaWYoZSBpbnN0YW5jZW9mIFAuTWF0cml4KXQ9ZS5tYXQ0O2Vsc2V7aWYoIWsoZSkpcmV0dXJuO3Q9ZX12YXIgcj10aGlzLm1hdDRbMF0saT10aGlzLm1hdDRbMV0sbj10aGlzLm1hdDRbMl0sbz10aGlzLm1hdDRbM107cmV0dXJuIHRoaXMubWF0NFswXT1yKnRbMF0raSp0WzRdK24qdFs4XStvKnRbMTJdLHRoaXMubWF0NFsxXT1yKnRbMV0raSp0WzVdK24qdFs5XStvKnRbMTNdLHRoaXMubWF0NFsyXT1yKnRbMl0raSp0WzZdK24qdFsxMF0rbyp0WzE0XSx0aGlzLm1hdDRbM109cip0WzNdK2kqdFs3XStuKnRbMTFdK28qdFsxNV0scj10aGlzLm1hdDRbNF0saT10aGlzLm1hdDRbNV0sbj10aGlzLm1hdDRbNl0sbz10aGlzLm1hdDRbN10sdGhpcy5tYXQ0WzRdPXIqdFswXStpKnRbNF0rbip0WzhdK28qdFsxMl0sdGhpcy5tYXQ0WzVdPXIqdFsxXStpKnRbNV0rbip0WzldK28qdFsxM10sdGhpcy5tYXQ0WzZdPXIqdFsyXStpKnRbNl0rbip0WzEwXStvKnRbMTRdLHRoaXMubWF0NFs3XT1yKnRbM10raSp0WzddK24qdFsxMV0rbyp0WzE1XSxyPXRoaXMubWF0NFs4XSxpPXRoaXMubWF0NFs5XSxuPXRoaXMubWF0NFsxMF0sbz10aGlzLm1hdDRbMTFdLHRoaXMubWF0NFs4XT1yKnRbMF0raSp0WzRdK24qdFs4XStvKnRbMTJdLHRoaXMubWF0NFs5XT1yKnRbMV0raSp0WzVdK24qdFs5XStvKnRbMTNdLHRoaXMubWF0NFsxMF09cip0WzJdK2kqdFs2XStuKnRbMTBdK28qdFsxNF0sdGhpcy5tYXQ0WzExXT1yKnRbM10raSp0WzddK24qdFsxMV0rbyp0WzE1XSxyPXRoaXMubWF0NFsxMl0saT10aGlzLm1hdDRbMTNdLG49dGhpcy5tYXQ0WzE0XSxvPXRoaXMubWF0NFsxNV0sdGhpcy5tYXQ0WzEyXT1yKnRbMF0raSp0WzRdK24qdFs4XStvKnRbMTJdLHRoaXMubWF0NFsxM109cip0WzFdK2kqdFs1XStuKnRbOV0rbyp0WzEzXSx0aGlzLm1hdDRbMTRdPXIqdFsyXStpKnRbNl0rbip0WzEwXStvKnRbMTRdLHRoaXMubWF0NFsxNV09cip0WzNdK2kqdFs3XStuKnRbMTFdK28qdFsxNV0sdGhpc30sUC5NYXRyaXgucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFAuVmVjdG9yPyh0PWUueSxyPWUueixlPWUueCk6ZSBpbnN0YW5jZW9mIEFycmF5JiYodD1lWzFdLHI9ZVsyXSxlPWVbMF0pLHRoaXMubWF0NFswXSo9ZSx0aGlzLm1hdDRbMV0qPWUsdGhpcy5tYXQ0WzJdKj1lLHRoaXMubWF0NFszXSo9ZSx0aGlzLm1hdDRbNF0qPXQsdGhpcy5tYXQ0WzVdKj10LHRoaXMubWF0NFs2XSo9dCx0aGlzLm1hdDRbN10qPXQsdGhpcy5tYXQ0WzhdKj1yLHRoaXMubWF0NFs5XSo9cix0aGlzLm1hdDRbMTBdKj1yLHRoaXMubWF0NFsxMV0qPXIsdGhpc30sUC5NYXRyaXgucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihlLHQscixpKXt0IGluc3RhbmNlb2YgUC5WZWN0b3I/KHI9dC55LGk9dC56LHQ9dC54KTp0IGluc3RhbmNlb2YgQXJyYXkmJihyPXRbMV0saT10WzJdLHQ9dFswXSk7dmFyIG49TWF0aC5zcXJ0KHQqdCtyKnIraSppKTt0Kj0xL24scio9MS9uLGkqPTEvbjt2YXIgbz10aGlzLm1hdDRbMF0sYT10aGlzLm1hdDRbMV0scz10aGlzLm1hdDRbMl0saD10aGlzLm1hdDRbM10sbD10aGlzLm1hdDRbNF0sdT10aGlzLm1hdDRbNV0sYz10aGlzLm1hdDRbNl0scD10aGlzLm1hdDRbN10sZD10aGlzLm1hdDRbOF0sZj10aGlzLm1hdDRbOV0sbT10aGlzLm1hdDRbMTBdLHY9dGhpcy5tYXQ0WzExXSxnPU1hdGguc2luKGUpLHk9TWF0aC5jb3MoZSksYj0xLXksXz10KnQqYit5LHg9cip0KmIraSpnLHc9aSp0KmItcipnLFM9dCpyKmItaSpnLFQ9cipyKmIreSxNPWkqcipiK3QqZyxFPXQqaSpiK3IqZyxDPXIqaSpiLXQqZyxSPWkqaSpiK3k7cmV0dXJuIHRoaXMubWF0NFswXT1vKl8rbCp4K2Qqdyx0aGlzLm1hdDRbMV09YSpfK3UqeCtmKncsdGhpcy5tYXQ0WzJdPXMqXytjKngrbSp3LHRoaXMubWF0NFszXT1oKl8rcCp4K3Yqdyx0aGlzLm1hdDRbNF09bypTK2wqVCtkKk0sdGhpcy5tYXQ0WzVdPWEqUyt1KlQrZipNLHRoaXMubWF0NFs2XT1zKlMrYypUK20qTSx0aGlzLm1hdDRbN109aCpTK3AqVCt2Kk0sdGhpcy5tYXQ0WzhdPW8qRStsKkMrZCpSLHRoaXMubWF0NFs5XT1hKkUrdSpDK2YqUix0aGlzLm1hdDRbMTBdPXMqRStjKkMrbSpSLHRoaXMubWF0NFsxMV09aCpFK3AqQyt2KlIsdGhpc30sUC5NYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXSxpPWVbMl18fDA7dGhpcy5tYXQ0WzEyXSs9dGhpcy5tYXQ0WzBdKnQrdGhpcy5tYXQ0WzRdKnIrdGhpcy5tYXQ0WzhdKmksdGhpcy5tYXQ0WzEzXSs9dGhpcy5tYXQ0WzFdKnQrdGhpcy5tYXQ0WzVdKnIrdGhpcy5tYXQ0WzldKmksdGhpcy5tYXQ0WzE0XSs9dGhpcy5tYXQ0WzJdKnQrdGhpcy5tYXQ0WzZdKnIrdGhpcy5tYXQ0WzEwXSppLHRoaXMubWF0NFsxNV0rPXRoaXMubWF0NFszXSp0K3RoaXMubWF0NFs3XSpyK3RoaXMubWF0NFsxMV0qaX0sUC5NYXRyaXgucHJvdG90eXBlLnJvdGF0ZVg9ZnVuY3Rpb24oZSl7dGhpcy5yb3RhdGUoZSwxLDAsMCl9LFAuTWF0cml4LnByb3RvdHlwZS5yb3RhdGVZPWZ1bmN0aW9uKGUpe3RoaXMucm90YXRlKGUsMCwxLDApfSxQLk1hdHJpeC5wcm90b3R5cGUucm90YXRlWj1mdW5jdGlvbihlKXt0aGlzLnJvdGF0ZShlLDAsMCwxKX0sUC5NYXRyaXgucHJvdG90eXBlLnBlcnNwZWN0aXZlPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPTEvTWF0aC50YW4oZS8yKSxvPTEvKHItaSk7cmV0dXJuIHRoaXMubWF0NFswXT1uL3QsdGhpcy5tYXQ0WzFdPTAsdGhpcy5tYXQ0WzJdPTAsdGhpcy5tYXQ0WzNdPTAsdGhpcy5tYXQ0WzRdPTAsdGhpcy5tYXQ0WzVdPW4sdGhpcy5tYXQ0WzZdPTAsdGhpcy5tYXQ0WzddPTAsdGhpcy5tYXQ0WzhdPTAsdGhpcy5tYXQ0WzldPTAsdGhpcy5tYXQ0WzEwXT0oaStyKSpvLHRoaXMubWF0NFsxMV09LTEsdGhpcy5tYXQ0WzEyXT0wLHRoaXMubWF0NFsxM109MCx0aGlzLm1hdDRbMTRdPTIqaSpyKm8sdGhpcy5tYXQ0WzE1XT0wLHRoaXN9LFAuTWF0cml4LnByb3RvdHlwZS5vcnRobz1mdW5jdGlvbihlLHQscixpLG4sbyl7dmFyIGE9MS8oZS10KSxzPTEvKHItaSksaD0xLyhuLW8pO3JldHVybiB0aGlzLm1hdDRbMF09LTIqYSx0aGlzLm1hdDRbMV09MCx0aGlzLm1hdDRbMl09MCx0aGlzLm1hdDRbM109MCx0aGlzLm1hdDRbNF09MCx0aGlzLm1hdDRbNV09LTIqcyx0aGlzLm1hdDRbNl09MCx0aGlzLm1hdDRbN109MCx0aGlzLm1hdDRbOF09MCx0aGlzLm1hdDRbOV09MCx0aGlzLm1hdDRbMTBdPTIqaCx0aGlzLm1hdDRbMTFdPTAsdGhpcy5tYXQ0WzEyXT0oZSt0KSphLHRoaXMubWF0NFsxM109KGkrcikqcyx0aGlzLm1hdDRbMTRdPShvK24pKmgsdGhpcy5tYXQ0WzE1XT0xLHRoaXN9LHQuZXhwb3J0cz1QLk1hdHJpeH0se1wiLi4vY29yZS9tYWluXCI6MjN9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBjPWUoXCIuLi9jb3JlL21haW5cIikscD1lKFwiLi4vY29yZS9jb25zdGFudHNcIik7Yy5SZW5kZXJlckdMLnByb3RvdHlwZS5iZWdpblNoYXBlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmltbWVkaWF0ZU1vZGUuc2hhcGVNb2RlPXZvaWQgMCE9PWU/ZTpwLkxJTkVfU1RSSVAsdm9pZCAwPT09dGhpcy5pbW1lZGlhdGVNb2RlLnZlcnRpY2VzPyh0aGlzLmltbWVkaWF0ZU1vZGUudmVydGljZXM9W10sdGhpcy5pbW1lZGlhdGVNb2RlLmVkZ2VzPVtdLHRoaXMuaW1tZWRpYXRlTW9kZS5saW5lVmVydGljZXM9W10sdGhpcy5pbW1lZGlhdGVNb2RlLnZlcnRleENvbG9ycz1bXSx0aGlzLmltbWVkaWF0ZU1vZGUubGluZU5vcm1hbHM9W10sdGhpcy5pbW1lZGlhdGVNb2RlLnV2Q29vcmRzPVtdLHRoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0ZXhCdWZmZXI9dGhpcy5HTC5jcmVhdGVCdWZmZXIoKSx0aGlzLmltbWVkaWF0ZU1vZGUuY29sb3JCdWZmZXI9dGhpcy5HTC5jcmVhdGVCdWZmZXIoKSx0aGlzLmltbWVkaWF0ZU1vZGUudXZCdWZmZXI9dGhpcy5HTC5jcmVhdGVCdWZmZXIoKSx0aGlzLmltbWVkaWF0ZU1vZGUubGluZVZlcnRleEJ1ZmZlcj10aGlzLkdMLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuaW1tZWRpYXRlTW9kZS5saW5lTm9ybWFsQnVmZmVyPXRoaXMuR0wuY3JlYXRlQnVmZmVyKCksdGhpcy5pbW1lZGlhdGVNb2RlLnBvaW50VmVydGV4QnVmZmVyPXRoaXMuR0wuY3JlYXRlQnVmZmVyKCksdGhpcy5pbW1lZGlhdGVNb2RlLl9iZXppZXJWZXJ0ZXg9W10sdGhpcy5pbW1lZGlhdGVNb2RlLl9xdWFkcmF0aWNWZXJ0ZXg9W10sdGhpcy5pbW1lZGlhdGVNb2RlLl9jdXJ2ZVZlcnRleD1bXSk6KHRoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0aWNlcy5sZW5ndGg9MCx0aGlzLmltbWVkaWF0ZU1vZGUuZWRnZXMubGVuZ3RoPTAsdGhpcy5pbW1lZGlhdGVNb2RlLmxpbmVWZXJ0aWNlcy5sZW5ndGg9MCx0aGlzLmltbWVkaWF0ZU1vZGUubGluZU5vcm1hbHMubGVuZ3RoPTAsdGhpcy5pbW1lZGlhdGVNb2RlLnZlcnRleENvbG9ycy5sZW5ndGg9MCx0aGlzLmltbWVkaWF0ZU1vZGUudXZDb29yZHMubGVuZ3RoPTApLHRoaXMuaXNJbW1lZGlhdGVEcmF3aW5nPSEwLHRoaXN9LGMuUmVuZGVyZXJHTC5wcm90b3R5cGUudmVydGV4PWZ1bmN0aW9uKGUsdCl7dmFyIHIsaSxuO3I9aT1uPTAsMz09PWFyZ3VtZW50cy5sZW5ndGg/cj1hcmd1bWVudHNbMl06ND09PWFyZ3VtZW50cy5sZW5ndGg/KGk9YXJndW1lbnRzWzJdLG49YXJndW1lbnRzWzNdKTo1PT09YXJndW1lbnRzLmxlbmd0aCYmKHI9YXJndW1lbnRzWzJdLGk9YXJndW1lbnRzWzNdLG49YXJndW1lbnRzWzRdKTt2YXIgbz1uZXcgYy5WZWN0b3IoZSx0LHIpO3RoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0aWNlcy5wdXNoKG8pO3ZhciBhPXRoaXMuY3VyRmlsbENvbG9yfHxbLjUsLjUsLjUsMV07cmV0dXJuIHRoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0ZXhDb2xvcnMucHVzaChhWzBdLGFbMV0sYVsyXSxhWzNdKSx0aGlzLnRleHR1cmVNb2RlPT09cC5JTUFHRSYmKHZvaWQgMCE9PXRoaXMudGV4dHVyZUltYWdlPzA8dGhpcy50ZXh0dXJlSW1hZ2Uud2lkdGgmJjA8dGhpcy50ZXh0dXJlSW1hZ2UuaGVpZ2h0JiYoaS89dGhpcy50ZXh0dXJlSW1hZ2Uud2lkdGgsbi89dGhpcy50ZXh0dXJlSW1hZ2UuaGVpZ2h0KTpjb25zb2xlLndhcm4oXCJZb3UgbXVzdCBmaXJzdCBjYWxsIHRleHR1cmUoKSBiZWZvcmUgdXNpbmcgdmVydGV4KCkgd2l0aCBpbWFnZSBiYXNlZCB1IGFuZCB2IGNvb3JkaW5hdGVzXCIpKSx0aGlzLmltbWVkaWF0ZU1vZGUudXZDb29yZHMucHVzaChpLG4pLHRoaXMuaW1tZWRpYXRlTW9kZS5fYmV6aWVyVmVydGV4WzBdPWUsdGhpcy5pbW1lZGlhdGVNb2RlLl9iZXppZXJWZXJ0ZXhbMV09dCx0aGlzLmltbWVkaWF0ZU1vZGUuX2JlemllclZlcnRleFsyXT1yLHRoaXMuaW1tZWRpYXRlTW9kZS5fcXVhZHJhdGljVmVydGV4WzBdPWUsdGhpcy5pbW1lZGlhdGVNb2RlLl9xdWFkcmF0aWNWZXJ0ZXhbMV09dCx0aGlzLmltbWVkaWF0ZU1vZGUuX3F1YWRyYXRpY1ZlcnRleFsyXT1yLHRoaXN9LGMuUmVuZGVyZXJHTC5wcm90b3R5cGUuZW5kU2hhcGU9ZnVuY3Rpb24oZSx0LHIsaSxuLG8pe2lmKHRoaXMuaW1tZWRpYXRlTW9kZS5zaGFwZU1vZGU9PT1wLlBPSU5UUyl0aGlzLl91c2VQb2ludFNoYWRlcigpLHRoaXMuY3VyUG9pbnRTaGFkZXIuYmluZFNoYWRlcigpLHRoaXMuX2RyYXdQb2ludHModGhpcy5pbW1lZGlhdGVNb2RlLnZlcnRpY2VzLHRoaXMuaW1tZWRpYXRlTW9kZS5wb2ludFZlcnRleEJ1ZmZlciksdGhpcy5jdXJQb2ludFNoYWRlci51bmJpbmRTaGFkZXIoKTtlbHNlIGlmKDE8dGhpcy5pbW1lZGlhdGVNb2RlLnZlcnRpY2VzLmxlbmd0aCl7aWYodGhpcy5fdXNlSW1tZWRpYXRlTW9kZVNoYWRlcigpLHRoaXMuX2RvU3Ryb2tlJiZ0aGlzLmRyYXdNb2RlIT09cC5URVhUVVJFKXtpZih0aGlzLmltbWVkaWF0ZU1vZGUuc2hhcGVNb2RlPT09cC5UUklBTkdMRV9TVFJJUCl7dmFyIGE7Zm9yKGE9MDthPHRoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0aWNlcy5sZW5ndGgtMjthKyspdGhpcy5pbW1lZGlhdGVNb2RlLmVkZ2VzLnB1c2goW2EsYSsxXSksdGhpcy5pbW1lZGlhdGVNb2RlLmVkZ2VzLnB1c2goW2EsYSsyXSk7dGhpcy5pbW1lZGlhdGVNb2RlLmVkZ2VzLnB1c2goW2EsYSsxXSl9ZWxzZSBpZih0aGlzLmltbWVkaWF0ZU1vZGUuc2hhcGVNb2RlPT09cC5UUklBTkdMRVMpZm9yKGE9MDthPHRoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0aWNlcy5sZW5ndGgtMjthKz0zKXRoaXMuaW1tZWRpYXRlTW9kZS5lZGdlcy5wdXNoKFthLGErMV0pLHRoaXMuaW1tZWRpYXRlTW9kZS5lZGdlcy5wdXNoKFthKzEsYSsyXSksdGhpcy5pbW1lZGlhdGVNb2RlLmVkZ2VzLnB1c2goW2ErMixhXSk7ZWxzZSBmb3IoYT0wO2E8dGhpcy5pbW1lZGlhdGVNb2RlLnZlcnRpY2VzLmxlbmd0aC0xO2ErKyl0aGlzLmltbWVkaWF0ZU1vZGUuZWRnZXMucHVzaChbYSxhKzFdKTtlPT09cC5DTE9TRSYmdGhpcy5pbW1lZGlhdGVNb2RlLmVkZ2VzLnB1c2goW3RoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0aWNlcy5sZW5ndGgtMSwwXSksYy5HZW9tZXRyeS5wcm90b3R5cGUuX2VkZ2VzVG9WZXJ0aWNlcy5jYWxsKHRoaXMuaW1tZWRpYXRlTW9kZSksdGhpcy5fZHJhd1N0cm9rZUltbWVkaWF0ZU1vZGUoKX1pZih0aGlzLl9kb0ZpbGwpe2lmKHRoaXMuaXNCZXppZXJ8fHRoaXMuaXNRdWFkcmF0aWN8fHRoaXMuaXNDdXJ2ZSl7dmFyIHM9W25ldyBGbG9hdDMyQXJyYXkodGhpcy5fdlRvTkFycmF5KHRoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0aWNlcykpXSxoPXRoaXMuX3RyaWFuZ3VsYXRlKHMpO3RoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0aWNlcz1bXTtmb3IodmFyIGw9MCx1PWgubGVuZ3RoO2w8dTtsKz0zKXRoaXMudmVydGV4KGhbbF0saFtsKzFdLGhbbCsyXSl9dGhpcy5fZHJhd0ZpbGxJbW1lZGlhdGVNb2RlKGUsdCxyLGksbixvKX19cmV0dXJuIHRoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0aWNlcy5sZW5ndGg9MCx0aGlzLmltbWVkaWF0ZU1vZGUudmVydGV4Q29sb3JzLmxlbmd0aD0wLHRoaXMuaW1tZWRpYXRlTW9kZS51dkNvb3Jkcy5sZW5ndGg9MCx0aGlzLmlzSW1tZWRpYXRlRHJhd2luZz0hMSx0aGlzLmlzQmV6aWVyPSExLHRoaXMuaXNRdWFkcmF0aWM9ITEsdGhpcy5pc0N1cnZlPSExLHRoaXMuaW1tZWRpYXRlTW9kZS5fYmV6aWVyVmVydGV4Lmxlbmd0aD0wLHRoaXMuaW1tZWRpYXRlTW9kZS5fcXVhZHJhdGljVmVydGV4Lmxlbmd0aD0wLHRoaXMuaW1tZWRpYXRlTW9kZS5fY3VydmVWZXJ0ZXgubGVuZ3RoPTAsdGhpc30sYy5SZW5kZXJlckdMLnByb3RvdHlwZS5fZHJhd0ZpbGxJbW1lZGlhdGVNb2RlPWZ1bmN0aW9uKGUsdCxyLGksbixvKXt2YXIgYT10aGlzLkdMO2lmKHRoaXMuY3VyRmlsbFNoYWRlci5iaW5kU2hhZGVyKCksdGhpcy5jdXJGaWxsU2hhZGVyLmF0dHJpYnV0ZXMuYVBvc2l0aW9uJiYodGhpcy5fYmluZEJ1ZmZlcih0aGlzLmltbWVkaWF0ZU1vZGUudmVydGV4QnVmZmVyLGEuQVJSQVlfQlVGRkVSLHRoaXMuX3ZUb05BcnJheSh0aGlzLmltbWVkaWF0ZU1vZGUudmVydGljZXMpLEZsb2F0MzJBcnJheSxhLkRZTkFNSUNfRFJBVyksdGhpcy5jdXJGaWxsU2hhZGVyLmVuYWJsZUF0dHJpYih0aGlzLmN1ckZpbGxTaGFkZXIuYXR0cmlidXRlcy5hUG9zaXRpb24ubG9jYXRpb24sMyxhLkZMT0FULCExLDAsMCkpLHRoaXMuZHJhd01vZGU9PT1wLkZJTEwmJnRoaXMuY3VyRmlsbFNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhDb2xvciYmKHRoaXMuX2JpbmRCdWZmZXIodGhpcy5pbW1lZGlhdGVNb2RlLmNvbG9yQnVmZmVyLGEuQVJSQVlfQlVGRkVSLHRoaXMuaW1tZWRpYXRlTW9kZS52ZXJ0ZXhDb2xvcnMsRmxvYXQzMkFycmF5LGEuRFlOQU1JQ19EUkFXKSx0aGlzLmN1ckZpbGxTaGFkZXIuZW5hYmxlQXR0cmliKHRoaXMuY3VyRmlsbFNoYWRlci5hdHRyaWJ1dGVzLmFWZXJ0ZXhDb2xvci5sb2NhdGlvbiw0LGEuRkxPQVQsITEsMCwwKSksdGhpcy5kcmF3TW9kZT09PXAuVEVYVFVSRSYmdGhpcy5jdXJGaWxsU2hhZGVyLmF0dHJpYnV0ZXMuYVRleENvb3JkJiYodGhpcy5fYmluZEJ1ZmZlcih0aGlzLmltbWVkaWF0ZU1vZGUudXZCdWZmZXIsYS5BUlJBWV9CVUZGRVIsdGhpcy5pbW1lZGlhdGVNb2RlLnV2Q29vcmRzLEZsb2F0MzJBcnJheSxhLkRZTkFNSUNfRFJBVyksdGhpcy5jdXJGaWxsU2hhZGVyLmVuYWJsZUF0dHJpYih0aGlzLmN1ckZpbGxTaGFkZXIuYXR0cmlidXRlcy5hVGV4Q29vcmQubG9jYXRpb24sMixhLkZMT0FULCExLDAsMCkpLHRoaXMuZHJhd01vZGU9PT1wLkZJTEx8fHRoaXMuZHJhd01vZGU9PT1wLlRFWFRVUkUpc3dpdGNoKHRoaXMuaW1tZWRpYXRlTW9kZS5zaGFwZU1vZGUpe2Nhc2UgcC5MSU5FX1NUUklQOmNhc2UgcC5MSU5FUzpjYXNlIHAuVFJJQU5HTEVTOnRoaXMuaW1tZWRpYXRlTW9kZS5zaGFwZU1vZGU9dGhpcy5pc0Jlemllcnx8dGhpcy5pc1F1YWRyYXRpY3x8dGhpcy5pc0N1cnZlfHx0aGlzLmltbWVkaWF0ZU1vZGUuc2hhcGVNb2RlPT09cC5UUklBTkdMRVM/cC5UUklBTkdMRVM6cC5UUklBTkdMRV9GQU59ZWxzZSBzd2l0Y2godGhpcy5pbW1lZGlhdGVNb2RlLnNoYXBlTW9kZSl7Y2FzZSBwLkxJTkVfU1RSSVA6Y2FzZSBwLkxJTkVTOnRoaXMuaW1tZWRpYXRlTW9kZS5zaGFwZU1vZGU9cC5MSU5FX0xPT1B9aWYodGhpcy5pbW1lZGlhdGVNb2RlLnNoYXBlTW9kZT09PXAuUVVBRFN8fHRoaXMuaW1tZWRpYXRlTW9kZS5zaGFwZU1vZGU9PT1wLlFVQURfU1RSSVApdGhyb3cgbmV3IEVycm9yKFwic29ycnksIFwiK3RoaXMuaW1tZWRpYXRlTW9kZS5zaGFwZU1vZGUrXCIgbm90IHlldCBpbXBsZW1lbnRlZCBpbiB3ZWJnbCBtb2RlLlwiKTt0aGlzLl9hcHBseUNvbG9yQmxlbmQodGhpcy5jdXJGaWxsQ29sb3IpLGEuZW5hYmxlKGEuQkxFTkQpLGEuZHJhd0FycmF5cyh0aGlzLmltbWVkaWF0ZU1vZGUuc2hhcGVNb2RlLDAsdGhpcy5pbW1lZGlhdGVNb2RlLnZlcnRpY2VzLmxlbmd0aCksdGhpcy5fcEluc3QuX3BpeGVsc0RpcnR5PSEwLHRoaXMuY3VyRmlsbFNoYWRlci51bmJpbmRTaGFkZXIoKX0sYy5SZW5kZXJlckdMLnByb3RvdHlwZS5fZHJhd1N0cm9rZUltbWVkaWF0ZU1vZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLkdMO3RoaXMuY3VyU3Ryb2tlU2hhZGVyLmJpbmRTaGFkZXIoKSx0aGlzLmN1clN0cm9rZVNoYWRlci5hdHRyaWJ1dGVzLmFQb3NpdGlvbiYmKHRoaXMuX2JpbmRCdWZmZXIodGhpcy5pbW1lZGlhdGVNb2RlLmxpbmVWZXJ0ZXhCdWZmZXIsZS5BUlJBWV9CVUZGRVIsdGhpcy5fZmxhdHRlbih0aGlzLmltbWVkaWF0ZU1vZGUubGluZVZlcnRpY2VzKSxGbG9hdDMyQXJyYXksZS5TVEFUSUNfRFJBVyksdGhpcy5jdXJTdHJva2VTaGFkZXIuZW5hYmxlQXR0cmliKHRoaXMuY3VyU3Ryb2tlU2hhZGVyLmF0dHJpYnV0ZXMuYVBvc2l0aW9uLmxvY2F0aW9uLDMsZS5GTE9BVCwhMSwwLDApKSx0aGlzLmN1clN0cm9rZVNoYWRlci5hdHRyaWJ1dGVzLmFEaXJlY3Rpb24mJih0aGlzLl9iaW5kQnVmZmVyKHRoaXMuaW1tZWRpYXRlTW9kZS5saW5lTm9ybWFsQnVmZmVyLGUuQVJSQVlfQlVGRkVSLHRoaXMuX2ZsYXR0ZW4odGhpcy5pbW1lZGlhdGVNb2RlLmxpbmVOb3JtYWxzKSxGbG9hdDMyQXJyYXksZS5TVEFUSUNfRFJBVyksdGhpcy5jdXJTdHJva2VTaGFkZXIuZW5hYmxlQXR0cmliKHRoaXMuY3VyU3Ryb2tlU2hhZGVyLmF0dHJpYnV0ZXMuYURpcmVjdGlvbi5sb2NhdGlvbiw0LGUuRkxPQVQsITEsMCwwKSksdGhpcy5fYXBwbHlDb2xvckJsZW5kKHRoaXMuY3VyU3Ryb2tlQ29sb3IpLGUuZHJhd0FycmF5cyhlLlRSSUFOR0xFUywwLHRoaXMuaW1tZWRpYXRlTW9kZS5saW5lVmVydGljZXMubGVuZ3RoKSx0aGlzLmN1clN0cm9rZVNoYWRlci51bmJpbmRTaGFkZXIoKSx0aGlzLl9wSW5zdC5fcGl4ZWxzRGlydHk9ITB9LHQuZXhwb3J0cz1jLlJlbmRlcmVyR0x9LHtcIi4uL2NvcmUvY29uc3RhbnRzXCI6MTcsXCIuLi9jb3JlL21haW5cIjoyM31dLDcyOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZShcIi4uL2NvcmUvbWFpblwiKSxuPTA7aS5SZW5kZXJlckdMLnByb3RvdHlwZS5faW5pdEJ1ZmZlckRlZmF1bHRzPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2ZyZWVCdWZmZXJzKGUpLDFlMzwrK24pe3ZhciB0PU9iamVjdC5rZXlzKHRoaXMuZ0hhc2gpWzBdO2RlbGV0ZSB0aGlzLmdIYXNoW3RdLG4tLX10aGlzLmdIYXNoW2VdPXt9fSxpLlJlbmRlcmVyR0wucHJvdG90eXBlLl9mcmVlQnVmZmVycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdIYXNoW2VdO2lmKHQpe2RlbGV0ZSB0aGlzLmdIYXNoW2VdLG4tLTt2YXIgcj10aGlzLkdMO3QudmVydGV4QnVmZmVyJiZyLmRlbGV0ZUJ1ZmZlcih0LnZlcnRleEJ1ZmZlciksdC5ub3JtYWxCdWZmZXImJnIuZGVsZXRlQnVmZmVyKHQubm9ybWFsQnVmZmVyKSx0LmxpbmVOb3JtYWxCdWZmZXImJnIuZGVsZXRlQnVmZmVyKHQubGluZU5vcm1hbEJ1ZmZlciksdC51dkJ1ZmZlciYmci5kZWxldGVCdWZmZXIodC51dkJ1ZmZlciksdC5pbmRleEJ1ZmZlciYmci5kZWxldGVCdWZmZXIodC5pbmRleEJ1ZmZlciksdC5saW5lVmVydGV4QnVmZmVyJiZyLmRlbGV0ZUJ1ZmZlcih0LmxpbmVWZXJ0ZXhCdWZmZXIpfX0saS5SZW5kZXJlckdMLnByb3RvdHlwZS5jcmVhdGVCdWZmZXJzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5HTDt0aGlzLl9pbml0QnVmZmVyRGVmYXVsdHMoZSk7dmFyIGk9dGhpcy5nSGFzaFtlXTtyZXR1cm4gaS5udW1iZXJPZkl0ZW1zPTMqdC5mYWNlcy5sZW5ndGgsaS5saW5lVmVydGV4Q291bnQ9dC5saW5lVmVydGljZXMubGVuZ3RoLHRoaXMuX3VzZUNvbG9yU2hhZGVyKCksdGhpcy5jdXJTdHJva2VTaGFkZXIuYXR0cmlidXRlcy5hUG9zaXRpb24mJihpLmxpbmVWZXJ0ZXhCdWZmZXI9ci5jcmVhdGVCdWZmZXIoKSx0aGlzLl9iaW5kQnVmZmVyKGkubGluZVZlcnRleEJ1ZmZlcixyLkFSUkFZX0JVRkZFUix0aGlzLl9mbGF0dGVuKHQubGluZVZlcnRpY2VzKSxGbG9hdDMyQXJyYXksci5TVEFUSUNfRFJBVyksdGhpcy5jdXJTdHJva2VTaGFkZXIuZW5hYmxlQXR0cmliKHRoaXMuY3VyU3Ryb2tlU2hhZGVyLmF0dHJpYnV0ZXMuYVBvc2l0aW9uLmxvY2F0aW9uLDMsci5GTE9BVCwhMSwwLDApKSx0aGlzLmN1clN0cm9rZVNoYWRlci5hdHRyaWJ1dGVzLmFEaXJlY3Rpb24mJihpLmxpbmVOb3JtYWxCdWZmZXI9ci5jcmVhdGVCdWZmZXIoKSx0aGlzLl9iaW5kQnVmZmVyKGkubGluZU5vcm1hbEJ1ZmZlcixyLkFSUkFZX0JVRkZFUix0aGlzLl9mbGF0dGVuKHQubGluZU5vcm1hbHMpLEZsb2F0MzJBcnJheSxyLlNUQVRJQ19EUkFXKSx0aGlzLmN1clN0cm9rZVNoYWRlci5lbmFibGVBdHRyaWIodGhpcy5jdXJTdHJva2VTaGFkZXIuYXR0cmlidXRlcy5hRGlyZWN0aW9uLmxvY2F0aW9uLDQsci5GTE9BVCwhMSwwLDApKSx0aGlzLmN1ckZpbGxTaGFkZXIuYXR0cmlidXRlcy5hUG9zaXRpb24mJihpLnZlcnRleEJ1ZmZlcj1yLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuX2JpbmRCdWZmZXIoaS52ZXJ0ZXhCdWZmZXIsci5BUlJBWV9CVUZGRVIsdGhpcy5fdlRvTkFycmF5KHQudmVydGljZXMpLEZsb2F0MzJBcnJheSxyLlNUQVRJQ19EUkFXKSx0aGlzLmN1ckZpbGxTaGFkZXIuZW5hYmxlQXR0cmliKHRoaXMuY3VyRmlsbFNoYWRlci5hdHRyaWJ1dGVzLmFQb3NpdGlvbi5sb2NhdGlvbiwzLHIuRkxPQVQsITEsMCwwKSksaS5pbmRleEJ1ZmZlcj1yLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuX2JpbmRCdWZmZXIoaS5pbmRleEJ1ZmZlcixyLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuX2ZsYXR0ZW4odC5mYWNlcyksVWludDE2QXJyYXksci5TVEFUSUNfRFJBVyksdGhpcy5jdXJGaWxsU2hhZGVyLmF0dHJpYnV0ZXMuYU5vcm1hbCYmKGkubm9ybWFsQnVmZmVyPXIuY3JlYXRlQnVmZmVyKCksdGhpcy5fYmluZEJ1ZmZlcihpLm5vcm1hbEJ1ZmZlcixyLkFSUkFZX0JVRkZFUix0aGlzLl92VG9OQXJyYXkodC52ZXJ0ZXhOb3JtYWxzKSxGbG9hdDMyQXJyYXksci5TVEFUSUNfRFJBVyksdGhpcy5jdXJGaWxsU2hhZGVyLmVuYWJsZUF0dHJpYih0aGlzLmN1ckZpbGxTaGFkZXIuYXR0cmlidXRlcy5hTm9ybWFsLmxvY2F0aW9uLDMsci5GTE9BVCwhMSwwLDApKSx0aGlzLmN1ckZpbGxTaGFkZXIuYXR0cmlidXRlcy5hVGV4Q29vcmQmJihpLnV2QnVmZmVyPXIuY3JlYXRlQnVmZmVyKCksdGhpcy5fYmluZEJ1ZmZlcihpLnV2QnVmZmVyLHIuQVJSQVlfQlVGRkVSLHRoaXMuX2ZsYXR0ZW4odC51dnMpLEZsb2F0MzJBcnJheSxyLlNUQVRJQ19EUkFXKSx0aGlzLmN1ckZpbGxTaGFkZXIuZW5hYmxlQXR0cmliKHRoaXMuY3VyRmlsbFNoYWRlci5hdHRyaWJ1dGVzLmFUZXhDb29yZC5sb2NhdGlvbiwyLHIuRkxPQVQsITEsMCwwKSksaX0saS5SZW5kZXJlckdMLnByb3RvdHlwZS5kcmF3QnVmZmVycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLkdMO3RoaXMuX3VzZUNvbG9yU2hhZGVyKCk7dmFyIHI9dGhpcy5nSGFzaFtlXTtyZXR1cm4gdGhpcy5fZG9TdHJva2UmJjA8ci5saW5lVmVydGV4Q291bnQmJih0aGlzLmN1clN0cm9rZVNoYWRlci5iaW5kU2hhZGVyKCksci5saW5lVmVydGV4QnVmZmVyJiYodGhpcy5fYmluZEJ1ZmZlcihyLmxpbmVWZXJ0ZXhCdWZmZXIsdC5BUlJBWV9CVUZGRVIpLHRoaXMuY3VyU3Ryb2tlU2hhZGVyLmVuYWJsZUF0dHJpYih0aGlzLmN1clN0cm9rZVNoYWRlci5hdHRyaWJ1dGVzLmFQb3NpdGlvbi5sb2NhdGlvbiwzLHQuRkxPQVQsITEsMCwwKSksci5saW5lTm9ybWFsQnVmZmVyJiYodGhpcy5fYmluZEJ1ZmZlcihyLmxpbmVOb3JtYWxCdWZmZXIsdC5BUlJBWV9CVUZGRVIpLHRoaXMuY3VyU3Ryb2tlU2hhZGVyLmVuYWJsZUF0dHJpYih0aGlzLmN1clN0cm9rZVNoYWRlci5hdHRyaWJ1dGVzLmFEaXJlY3Rpb24ubG9jYXRpb24sNCx0LkZMT0FULCExLDAsMCkpLHRoaXMuX2FwcGx5Q29sb3JCbGVuZCh0aGlzLmN1clN0cm9rZUNvbG9yKSx0aGlzLl9kcmF3QXJyYXlzKHQuVFJJQU5HTEVTLGUpLHRoaXMuY3VyU3Ryb2tlU2hhZGVyLnVuYmluZFNoYWRlcigpKSwhMSE9PXRoaXMuX2RvRmlsbCYmKHRoaXMuY3VyRmlsbFNoYWRlci5iaW5kU2hhZGVyKCksci52ZXJ0ZXhCdWZmZXImJih0aGlzLl9iaW5kQnVmZmVyKHIudmVydGV4QnVmZmVyLHQuQVJSQVlfQlVGRkVSKSx0aGlzLmN1ckZpbGxTaGFkZXIuZW5hYmxlQXR0cmliKHRoaXMuY3VyRmlsbFNoYWRlci5hdHRyaWJ1dGVzLmFQb3NpdGlvbi5sb2NhdGlvbiwzLHQuRkxPQVQsITEsMCwwKSksci5pbmRleEJ1ZmZlciYmdGhpcy5fYmluZEJ1ZmZlcihyLmluZGV4QnVmZmVyLHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIpLHIubm9ybWFsQnVmZmVyJiYodGhpcy5fYmluZEJ1ZmZlcihyLm5vcm1hbEJ1ZmZlcix0LkFSUkFZX0JVRkZFUiksdGhpcy5jdXJGaWxsU2hhZGVyLmVuYWJsZUF0dHJpYih0aGlzLmN1ckZpbGxTaGFkZXIuYXR0cmlidXRlcy5hTm9ybWFsLmxvY2F0aW9uLDMsdC5GTE9BVCwhMSwwLDApKSxyLnV2QnVmZmVyJiYodGhpcy5fYmluZEJ1ZmZlcihyLnV2QnVmZmVyLHQuQVJSQVlfQlVGRkVSKSx0aGlzLmN1ckZpbGxTaGFkZXIuZW5hYmxlQXR0cmliKHRoaXMuY3VyRmlsbFNoYWRlci5hdHRyaWJ1dGVzLmFUZXhDb29yZC5sb2NhdGlvbiwyLHQuRkxPQVQsITEsMCwwKSksdGhpcy5fYXBwbHlDb2xvckJsZW5kKHRoaXMuY3VyRmlsbENvbG9yKSx0aGlzLl9kcmF3RWxlbWVudHModC5UUklBTkdMRVMsZSksdGhpcy5jdXJGaWxsU2hhZGVyLnVuYmluZFNoYWRlcigpKSx0aGlzfSxpLlJlbmRlcmVyR0wucHJvdG90eXBlLmRyYXdCdWZmZXJzU2NhbGVkPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXRoaXMudU1WTWF0cml4LmNvcHkoKTt0cnl7dGhpcy51TVZNYXRyaXguc2NhbGUodCxyLGkpLHRoaXMuZHJhd0J1ZmZlcnMoZSl9ZmluYWxseXt0aGlzLnVNVk1hdHJpeD1ufX0saS5SZW5kZXJlckdMLnByb3RvdHlwZS5fZHJhd0FycmF5cz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkdMLmRyYXdBcnJheXMoZSwwLHRoaXMuZ0hhc2hbdF0ubGluZVZlcnRleENvdW50KSx0aGlzLl9wSW5zdC5fcGl4ZWxzRGlydHk9ITAsdGhpc30saS5SZW5kZXJlckdMLnByb3RvdHlwZS5fZHJhd0VsZW1lbnRzPWZ1bmN0aW9uKGUsdCl7dGhpcy5HTC5kcmF3RWxlbWVudHMoZSx0aGlzLmdIYXNoW3RdLm51bWJlck9mSXRlbXMsdGhpcy5HTC5VTlNJR05FRF9TSE9SVCwwKSx0aGlzLl9wSW5zdC5fcGl4ZWxzRGlydHk9ITB9LGkuUmVuZGVyZXJHTC5wcm90b3R5cGUuX2RyYXdQb2ludHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLkdMO3RoaXMuX2JpbmRCdWZmZXIodCxyLkFSUkFZX0JVRkZFUix0aGlzLl92VG9OQXJyYXkoZSksRmxvYXQzMkFycmF5LHIuU1RBVElDX0RSQVcpLHRoaXMuY3VyUG9pbnRTaGFkZXIuZW5hYmxlQXR0cmliKHRoaXMuY3VyUG9pbnRTaGFkZXIuYXR0cmlidXRlcy5hUG9zaXRpb24ubG9jYXRpb24sMyxyLkZMT0FULCExLDAsMCksci5kcmF3QXJyYXlzKHIuUG9pbnRzLDAsZS5sZW5ndGgpfSx0LmV4cG9ydHM9aS5SZW5kZXJlckdMfSx7XCIuLi9jb3JlL21haW5cIjoyM31dLDczOltmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGY9ZShcIi4uL2NvcmUvbWFpblwiKSxvPWUoXCIuLi9jb3JlL2NvbnN0YW50c1wiKSxpPWUoXCJsaWJ0ZXNzXCIpO2UoXCIuL3A1LlNoYWRlclwiKSxlKFwiLi9wNS5DYW1lcmFcIiksZShcIi4uL2NvcmUvcDUuUmVuZGVyZXJcIiksZShcIi4vcDUuTWF0cml4XCIpO3ZhciBuPVwiYXR0cmlidXRlIHZlYzMgYVBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWM0IGFWZXJ0ZXhDb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsVmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBmbG9hdCB1UmVzb2x1dGlvbjtcXG51bmlmb3JtIGZsb2F0IHVQb2ludFNpemU7XFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG52b2lkIG1haW4odm9pZCkge1xcbiAgdmVjNCBwb3NpdGlvblZlYzQgPSB2ZWM0KGFQb3NpdGlvbiwgMS4wKTtcXG4gIGdsX1Bvc2l0aW9uID0gdVByb2plY3Rpb25NYXRyaXggKiB1TW9kZWxWaWV3TWF0cml4ICogcG9zaXRpb25WZWM0O1xcbiAgdkNvbG9yID0gYVZlcnRleENvbG9yO1xcbiAgZ2xfUG9pbnRTaXplID0gdVBvaW50U2l6ZTtcXG59XFxuXCIsYT1cInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudm9pZCBtYWluKHZvaWQpIHtcXG4gIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG59XCIscz1cImF0dHJpYnV0ZSB2ZWMzIGFQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXhDb29yZDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsVmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVOb3JtYWxNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMzIHZWZXJ0ZXhOb3JtYWw7XFxudmFyeWluZyBoaWdocCB2ZWMyIHZWZXJ0VGV4Q29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gIHZlYzQgcG9zaXRpb25WZWM0ID0gdmVjNChhUG9zaXRpb24sIDEuMCk7XFxuICBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogdU1vZGVsVmlld01hdHJpeCAqIHBvc2l0aW9uVmVjNDtcXG4gIHZWZXJ0ZXhOb3JtYWwgPSBub3JtYWxpemUodmVjMyggdU5vcm1hbE1hdHJpeCAqIGFOb3JtYWwgKSk7XFxuICB2VmVydFRleENvb3JkID0gYVRleENvb3JkO1xcbn1cXG5cIixoPVwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxudmFyeWluZyB2ZWMzIHZWZXJ0ZXhOb3JtYWw7XFxudm9pZCBtYWluKHZvaWQpIHtcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodlZlcnRleE5vcm1hbCwgMS4wKTtcXG59XCIsbD1cInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbnZhcnlpbmcgdmVjMyB2VmVydGV4Tm9ybWFsO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxDb2xvcjtcXG52b2lkIG1haW4odm9pZCkge1xcbiAgZ2xfRnJhZ0NvbG9yID0gdU1hdGVyaWFsQ29sb3I7XFxufVwiLHU9XCJhdHRyaWJ1dGUgdmVjMyBhUG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4Q29vcmQ7XFxuXFxudW5pZm9ybSBtYXQ0IHVWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1TW9kZWxWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdU5vcm1hbE1hdHJpeDtcXG51bmlmb3JtIGludCB1QW1iaWVudExpZ2h0Q291bnQ7XFxudW5pZm9ybSBpbnQgdURpcmVjdGlvbmFsTGlnaHRDb3VudDtcXG51bmlmb3JtIGludCB1UG9pbnRMaWdodENvdW50O1xcblxcbnVuaWZvcm0gdmVjMyB1QW1iaWVudENvbG9yWzhdO1xcbnVuaWZvcm0gdmVjMyB1TGlnaHRpbmdEaXJlY3Rpb25bOF07XFxudW5pZm9ybSB2ZWMzIHVEaXJlY3Rpb25hbENvbG9yWzhdO1xcbnVuaWZvcm0gdmVjMyB1UG9pbnRMaWdodExvY2F0aW9uWzhdO1xcbnVuaWZvcm0gdmVjMyB1UG9pbnRMaWdodENvbG9yWzhdO1xcbnVuaWZvcm0gYm9vbCB1U3BlY3VsYXI7XFxuXFxudmFyeWluZyB2ZWMzIHZWZXJ0ZXhOb3JtYWw7XFxudmFyeWluZyB2ZWMyIHZWZXJ0VGV4Q29vcmQ7XFxudmFyeWluZyB2ZWMzIHZMaWdodFdlaWdodGluZztcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuXFxuICB2ZWM0IHBvc2l0aW9uVmVjNCA9IHZlYzQoYVBvc2l0aW9uLCAxLjApO1xcbiAgZ2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIHVNb2RlbFZpZXdNYXRyaXggKiBwb3NpdGlvblZlYzQ7XFxuXFxuICB2ZWMzIHZlcnRleE5vcm1hbCA9IG5vcm1hbGl6ZSh2ZWMzKCB1Tm9ybWFsTWF0cml4ICogYU5vcm1hbCApKTtcXG4gIHZWZXJ0ZXhOb3JtYWwgPSB2ZXJ0ZXhOb3JtYWw7XFxuICB2VmVydFRleENvb3JkID0gYVRleENvb3JkO1xcblxcbiAgdmVjNCBtdlBvc2l0aW9uID0gdU1vZGVsVmlld01hdHJpeCAqIHZlYzQoYVBvc2l0aW9uLCAxLjApO1xcbiAgdmVjMyBleWVEaXJlY3Rpb24gPSBub3JtYWxpemUoLW12UG9zaXRpb24ueHl6KTtcXG5cXG4gIGZsb2F0IHNoaW5pbmVzcyA9IDMyLjA7XFxuICBmbG9hdCBzcGVjdWxhckZhY3RvciA9IDIuMDtcXG4gIGZsb2F0IGRpZmZ1c2VGYWN0b3IgPSAwLjM7XFxuXFxuICB2ZWMzIGFtYmllbnRMaWdodEZhY3RvciA9IHZlYzMoMC4wKTtcXG5cXG4gIGZvciAoaW50IGkgPSAwOyBpIDwgODsgaSsrKSB7XFxuICAgIGlmICh1QW1iaWVudExpZ2h0Q291bnQgPT0gaSkgYnJlYWs7XFxuICAgIGFtYmllbnRMaWdodEZhY3RvciArPSB1QW1iaWVudENvbG9yW2ldO1xcbiAgfVxcblxcblxcbiAgdmVjMyBkaXJlY3Rpb25hbExpZ2h0RmFjdG9yID0gdmVjMygwLjApO1xcblxcbiAgZm9yIChpbnQgaiA9IDA7IGogPCA4OyBqKyspIHtcXG4gICAgaWYgKHVEaXJlY3Rpb25hbExpZ2h0Q291bnQgPT0gaikgYnJlYWs7XFxuICAgIHZlYzMgZGlyID0gdUxpZ2h0aW5nRGlyZWN0aW9uW2pdO1xcbiAgICBmbG9hdCBkaXJlY3Rpb25hbExpZ2h0V2VpZ2h0aW5nID0gbWF4KGRvdCh2ZXJ0ZXhOb3JtYWwsIC1kaXIpLCAwLjApO1xcbiAgICBkaXJlY3Rpb25hbExpZ2h0RmFjdG9yICs9IHVEaXJlY3Rpb25hbENvbG9yW2pdICogZGlyZWN0aW9uYWxMaWdodFdlaWdodGluZztcXG4gIH1cXG5cXG5cXG4gIHZlYzMgcG9pbnRMaWdodEZhY3RvciA9IHZlYzMoMC4wKTtcXG5cXG4gIGZvciAoaW50IGsgPSAwOyBrIDwgODsgaysrKSB7XFxuICAgIGlmICh1UG9pbnRMaWdodENvdW50ID09IGspIGJyZWFrO1xcbiAgICB2ZWMzIGxvYyA9ICh1Vmlld01hdHJpeCAqIHZlYzQodVBvaW50TGlnaHRMb2NhdGlvbltrXSwgMS4wKSkueHl6O1xcbiAgICB2ZWMzIGxpZ2h0RGlyZWN0aW9uID0gbm9ybWFsaXplKGxvYyAtIG12UG9zaXRpb24ueHl6KTtcXG5cXG4gICAgZmxvYXQgZGlyZWN0aW9uYWxMaWdodFdlaWdodGluZyA9IG1heChkb3QodmVydGV4Tm9ybWFsLCBsaWdodERpcmVjdGlvbiksIDAuMCk7XFxuXFxuICAgIGZsb2F0IHNwZWN1bGFyTGlnaHRXZWlnaHRpbmcgPSAwLjA7XFxuICAgIGlmICh1U3BlY3VsYXIgKXtcXG4gICAgICB2ZWMzIHJlZmxlY3Rpb25EaXJlY3Rpb24gPSByZWZsZWN0KC1saWdodERpcmVjdGlvbiwgdmVydGV4Tm9ybWFsKTtcXG4gICAgICBzcGVjdWxhckxpZ2h0V2VpZ2h0aW5nID0gcG93KG1heChkb3QocmVmbGVjdGlvbkRpcmVjdGlvbiwgZXllRGlyZWN0aW9uKSwgMC4wKSwgc2hpbmluZXNzKTtcXG4gICAgfVxcblxcbiAgICBwb2ludExpZ2h0RmFjdG9yICs9IHVQb2ludExpZ2h0Q29sb3Jba10gKiAoc3BlY3VsYXJGYWN0b3IgKiBzcGVjdWxhckxpZ2h0V2VpZ2h0aW5nXFxuICAgICAgKyBkaXJlY3Rpb25hbExpZ2h0V2VpZ2h0aW5nICogZGlmZnVzZUZhY3Rvcik7XFxuICB9XFxuXFxuICB2TGlnaHRXZWlnaHRpbmcgPSAgYW1iaWVudExpZ2h0RmFjdG9yICsgZGlyZWN0aW9uYWxMaWdodEZhY3RvciArIHBvaW50TGlnaHRGYWN0b3I7XFxufVxcblwiLGM9XCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQ29sb3I7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBib29sIGlzVGV4dHVyZTtcXG51bmlmb3JtIGJvb2wgdVVzZUxpZ2h0aW5nO1xcblxcbnZhcnlpbmcgdmVjMyB2TGlnaHRXZWlnaHRpbmc7XFxudmFyeWluZyBoaWdocCB2ZWMyIHZWZXJ0VGV4Q29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gIGdsX0ZyYWdDb2xvciA9IGlzVGV4dHVyZSA/IHRleHR1cmUyRCh1U2FtcGxlciwgdlZlcnRUZXhDb29yZCkgOiB1TWF0ZXJpYWxDb2xvcjtcXG4gIGlmICh1VXNlTGlnaHRpbmcpXFxuICAgIGdsX0ZyYWdDb2xvci5yZ2IgKj0gdkxpZ2h0V2VpZ2h0aW5nO1xcbn1cIixwPVwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxuYXR0cmlidXRlIHZlYzMgYVBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIGFOb3JtYWw7XFxuYXR0cmlidXRlIHZlYzIgYVRleENvb3JkO1xcblxcbnVuaWZvcm0gdmVjMyB1QW1iaWVudENvbG9yWzhdO1xcblxcbnVuaWZvcm0gbWF0NCB1TW9kZWxWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdU5vcm1hbE1hdHJpeDtcXG51bmlmb3JtIGludCB1QW1iaWVudExpZ2h0Q291bnQ7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG52YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzMgdkFtYmllbnRDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuXFxuICB2ZWM0IHZpZXdNb2RlbFBvc2l0aW9uID0gdU1vZGVsVmlld01hdHJpeCAqIHZlYzQoYVBvc2l0aW9uLCAxLjApO1xcblxcbiAgLy8gUGFzcyB2YXJ5aW5ncyB0byBmcmFnbWVudCBzaGFkZXJcXG4gIHZWaWV3UG9zaXRpb24gPSB2aWV3TW9kZWxQb3NpdGlvbi54eXo7XFxuICBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogdmlld01vZGVsUG9zaXRpb247ICBcXG5cXG4gIHZOb3JtYWwgPSBub3JtYWxpemUodU5vcm1hbE1hdHJpeCAqIG5vcm1hbGl6ZShhTm9ybWFsKSk7XFxuICB2VGV4Q29vcmQgPSBhVGV4Q29vcmQ7XFxuXFxuICB2QW1iaWVudENvbG9yID0gdmVjMygwLjApO1xcbiAgZm9yIChpbnQgaSA9IDA7IGkgPCA4OyBpKyspIHtcXG4gICAgaWYgKHVBbWJpZW50TGlnaHRDb3VudCA9PSBpKSBicmVhaztcXG4gICAgdkFtYmllbnRDb2xvciArPSB1QW1iaWVudENvbG9yW2ldO1xcbiAgfVxcbn1cXG5cIixkPVwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxuLy91bmlmb3JtIG1hdDQgdU1vZGVsVmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVZpZXdNYXRyaXg7XFxuXFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbENvbG9yO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gYm9vbCBpc1RleHR1cmU7XFxudW5pZm9ybSBib29sIHVVc2VMaWdodGluZztcXG5cXG51bmlmb3JtIHZlYzMgdUxpZ2h0aW5nRGlyZWN0aW9uWzhdO1xcbnVuaWZvcm0gdmVjMyB1RGlyZWN0aW9uYWxDb2xvcls4XTtcXG51bmlmb3JtIHZlYzMgdVBvaW50TGlnaHRMb2NhdGlvbls4XTtcXG51bmlmb3JtIHZlYzMgdVBvaW50TGlnaHRDb2xvcls4XTtcXG51bmlmb3JtIGJvb2wgdVNwZWN1bGFyO1xcblxcbnVuaWZvcm0gaW50IHVEaXJlY3Rpb25hbExpZ2h0Q291bnQ7XFxudW5pZm9ybSBpbnQgdVBvaW50TGlnaHRDb3VudDtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcbnZhcnlpbmcgdmVjMyB2QW1iaWVudENvbG9yO1xcblxcbnZlYzMgVjtcXG52ZWMzIE47XFxuXFxuY29uc3QgZmxvYXQgc2hpbmluZXNzID0gMzIuMDtcXG5jb25zdCBmbG9hdCBzcGVjdWxhckZhY3RvciA9IDIuMDtcXG5jb25zdCBmbG9hdCBkaWZmdXNlRmFjdG9yID0gMC43MztcXG5cXG5zdHJ1Y3QgTGlnaHRSZXN1bHQge1xcblxcdGZsb2F0IHNwZWN1bGFyO1xcblxcdGZsb2F0IGRpZmZ1c2U7XFxufTtcXG5cXG5mbG9hdCBwaG9uZ1NwZWN1bGFyKFxcbiAgdmVjMyBsaWdodERpcmVjdGlvbixcXG4gIHZlYzMgdmlld0RpcmVjdGlvbixcXG4gIHZlYzMgc3VyZmFjZU5vcm1hbCxcXG4gIGZsb2F0IHNoaW5pbmVzcykge1xcblxcbiAgdmVjMyBSID0gbm9ybWFsaXplKHJlZmxlY3QoLWxpZ2h0RGlyZWN0aW9uLCBzdXJmYWNlTm9ybWFsKSk7ICBcXG4gIHJldHVybiBwb3cobWF4KDAuMCwgZG90KFIsIHZpZXdEaXJlY3Rpb24pKSwgc2hpbmluZXNzKTtcXG59XFxuXFxuZmxvYXQgbGFtYmVydERpZmZ1c2UoXFxuICB2ZWMzIGxpZ2h0RGlyZWN0aW9uLFxcbiAgdmVjMyBzdXJmYWNlTm9ybWFsKSB7XFxuICByZXR1cm4gbWF4KDAuMCwgZG90KC1saWdodERpcmVjdGlvbiwgc3VyZmFjZU5vcm1hbCkpO1xcbn1cXG5cXG5MaWdodFJlc3VsdCBsaWdodCh2ZWMzIGxpZ2h0VmVjdG9yKSB7XFxuXFxuICB2ZWMzIEwgPSBub3JtYWxpemUobGlnaHRWZWN0b3IpO1xcblxcbiAgLy9jb21wdXRlIG91ciBkaWZmdXNlICYgc3BlY3VsYXIgdGVybXNcXG4gIExpZ2h0UmVzdWx0IGxyO1xcbiAgaWYgKHVTcGVjdWxhcilcXG4gICAgbHIuc3BlY3VsYXIgPSBwaG9uZ1NwZWN1bGFyKEwsIFYsIE4sIHNoaW5pbmVzcyk7XFxuICBsci5kaWZmdXNlID0gbGFtYmVydERpZmZ1c2UoTCwgTik7XFxuICByZXR1cm4gbHI7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuICBWID0gbm9ybWFsaXplKHZWaWV3UG9zaXRpb24pO1xcbiAgTiA9IHZOb3JtYWw7XFxuXFxuICB2ZWMzIGRpZmZ1c2UgPSB2ZWMzKDAuMCk7XFxuICBmbG9hdCBzcGVjdWxhciA9IDAuMDtcXG5cXG4gIGZvciAoaW50IGogPSAwOyBqIDwgODsgaisrKSB7XFxuICAgIGlmICh1RGlyZWN0aW9uYWxMaWdodENvdW50ID09IGopIGJyZWFrO1xcblxcbiAgICBMaWdodFJlc3VsdCByZXN1bHQgPSBsaWdodCh1TGlnaHRpbmdEaXJlY3Rpb25bal0pO1xcbiAgICBkaWZmdXNlICs9IHJlc3VsdC5kaWZmdXNlICogdURpcmVjdGlvbmFsQ29sb3Jbal07XFxuICAgIHNwZWN1bGFyICs9IHJlc3VsdC5zcGVjdWxhcjtcXG4gIH1cXG5cXG4gIGZvciAoaW50IGsgPSAwOyBrIDwgODsgaysrKSB7XFxuICAgIGlmICh1UG9pbnRMaWdodENvdW50ID09IGspIGJyZWFrO1xcblxcbiAgICB2ZWMzIGxpZ2h0UG9zaXRpb24gPSAodVZpZXdNYXRyaXggKiB2ZWM0KHVQb2ludExpZ2h0TG9jYXRpb25ba10sIDEuMCkpLnh5ejtcXG4gICAgdmVjMyBsaWdodFZlY3RvciA9IHZWaWV3UG9zaXRpb24gLSBsaWdodFBvc2l0aW9uO1xcblxcdFxcbiAgICAvL2NhbGN1bGF0ZSBhdHRlbnVhdGlvblxcbiAgICBmbG9hdCBsaWdodERpc3RhbmNlID0gbGVuZ3RoKGxpZ2h0VmVjdG9yKTtcXG4gICAgZmxvYXQgZmFsbG9mZiA9IDUwMC4wIC8gKGxpZ2h0RGlzdGFuY2UgKyA1MDAuMCk7XFxuXFxuICAgIExpZ2h0UmVzdWx0IHJlc3VsdCA9IGxpZ2h0KGxpZ2h0VmVjdG9yKTtcXG4gICAgZGlmZnVzZSArPSByZXN1bHQuZGlmZnVzZSAqIGZhbGxvZmYgKiB1UG9pbnRMaWdodENvbG9yW2tdO1xcbiAgICBzcGVjdWxhciArPSByZXN1bHQuc3BlY3VsYXIgKiBmYWxsb2ZmO1xcbiAgfVxcblxcbiAgZ2xfRnJhZ0NvbG9yID0gaXNUZXh0dXJlID8gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4Q29vcmQpIDogdU1hdGVyaWFsQ29sb3I7XFxuICBnbF9GcmFnQ29sb3IucmdiID0gZ2xfRnJhZ0NvbG9yLnJnYiAqIChkaWZmdXNlICogZGlmZnVzZUZhY3RvciArIHZBbWJpZW50Q29sb3IpICsgc3BlY3VsYXIgKiBzcGVjdWxhckZhY3RvcjtcXG59XCIsbT1cInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcblxcbmF0dHJpYnV0ZSB2ZWMzIGFQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4Q29vcmQ7XFxudW5pZm9ybSBtYXQ0IHVNb2RlbFZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uTWF0cml4O1xcblxcbnVuaWZvcm0gdmVjNCB1R2x5cGhSZWN0O1xcbnVuaWZvcm0gZmxvYXQgdUdseXBoT2Zmc2V0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxudmFyeWluZyBmbG9hdCB3O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gIHZlYzQgcG9zaXRpb25WZWM0ID0gdmVjNChhUG9zaXRpb24sIDEuMCk7XFxuXFxuICAvLyBzY2FsZSBieSB0aGUgc2l6ZSBvZiB0aGUgZ2x5cGgncyByZWN0YW5nbGVcXG4gIHBvc2l0aW9uVmVjNC54eSAqPSB1R2x5cGhSZWN0Lnp3IC0gdUdseXBoUmVjdC54eTtcXG5cXG4gIC8vIG1vdmUgdG8gdGhlIGNvcm5lciBvZiB0aGUgZ2x5cGhcXG4gIHBvc2l0aW9uVmVjNC54eSArPSB1R2x5cGhSZWN0Lnh5O1xcblxcbiAgLy8gbW92ZSB0byB0aGUgbGV0dGVyJ3MgbGluZSBvZmZzZXRcXG4gIHBvc2l0aW9uVmVjNC54ICs9IHVHbHlwaE9mZnNldDtcXG4gIFxcbiAgZ2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIHVNb2RlbFZpZXdNYXRyaXggKiBwb3NpdGlvblZlYzQ7XFxuICB2VGV4Q29vcmQgPSBhVGV4Q29vcmQ7XFxuICB3ID0gZ2xfUG9zaXRpb24udztcXG59XFxuXCIsdj1cIiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxuI2lmIDBcXG4gIC8vIHNpbXVsYXRlIGludGVnZXIgbWF0aCB1c2luZyBmbG9hdHNcXG5cXHQjZGVmaW5lIGludCBmbG9hdFxcblxcdCNkZWZpbmUgaXZlYzIgdmVjMlxcblxcdCNkZWZpbmUgSU5UKHgpIGZsb2F0KHgpXFxuXFxuXFx0aW50IGlmbG9vcihmbG9hdCB2KSB7IHJldHVybiBmbG9vcih2KTsgfVxcblxcdGl2ZWMyIGlmbG9vcih2ZWMyIHYpIHsgcmV0dXJuIGZsb29yKHYpOyB9XFxuXFxuI2Vsc2VcXG4gIC8vIHVzZSBuYXRpdmUgaW50ZWdlciBtYXRoXFxuXFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xcblxcdCNkZWZpbmUgSU5UKHgpIHhcXG5cXG5cXHRpbnQgaWZsb29yKGZsb2F0IHYpIHsgcmV0dXJuIGludCh2KTsgfVxcblxcdGludCBpZmxvb3IoaW50IHYpIHsgcmV0dXJuIHY7IH1cXG5cXHRpdmVjMiBpZmxvb3IodmVjMiB2KSB7IHJldHVybiBpdmVjMih2KTsgfVxcblxcbiNlbmRpZlxcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyU3Ryb2tlcztcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlclJvd1N0cm9rZXM7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJSb3dzO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyQ29sU3Ryb2tlcztcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlckNvbHM7XFxuXFxudW5pZm9ybSBpdmVjMiB1U3Ryb2tlSW1hZ2VTaXplO1xcbnVuaWZvcm0gaXZlYzIgdUNlbGxzSW1hZ2VTaXplO1xcbnVuaWZvcm0gaXZlYzIgdUdyaWRJbWFnZVNpemU7XFxuXFxudW5pZm9ybSBpdmVjMiB1R3JpZE9mZnNldDtcXG51bmlmb3JtIGl2ZWMyIHVHcmlkU2l6ZTtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQ29sb3I7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG5cXG4vLyBzb21lIGhlbHBlciBmdW5jdGlvbnNcXG5pbnQgcm91bmQoZmxvYXQgdikgeyByZXR1cm4gaWZsb29yKHYgKyAwLjUpOyB9XFxuaXZlYzIgcm91bmQodmVjMiB2KSB7IHJldHVybiBpZmxvb3IodiArIDAuNSk7IH1cXG5mbG9hdCBzYXR1cmF0ZShmbG9hdCB2KSB7IHJldHVybiBjbGFtcCh2LCAwLjAsIDEuMCk7IH1cXG52ZWMyIHNhdHVyYXRlKHZlYzIgdikgeyByZXR1cm4gY2xhbXAodiwgMC4wLCAxLjApOyB9XFxuXFxuaW50IG11bChmbG9hdCB2MSwgaW50IHYyKSB7XFxuICByZXR1cm4gaWZsb29yKHYxICogZmxvYXQodjIpKTtcXG59XFxuXFxuaXZlYzIgbXVsKHZlYzIgdjEsIGl2ZWMyIHYyKSB7XFxuICByZXR1cm4gaWZsb29yKHYxICogdmVjMih2MikgKyAwLjUpO1xcbn1cXG5cXG4vLyB1bnBhY2sgYSAxNi1iaXQgaW50ZWdlciBmcm9tIGEgZmxvYXQgdmVjMlxcbmludCBnZXRJbnQxNih2ZWMyIHYpIHtcXG4gIGl2ZWMyIGl2ID0gcm91bmQodiAqIDI1NS4wKTtcXG4gIHJldHVybiBpdi54ICogSU5UKDEyOCkgKyBpdi55O1xcbn1cXG5cXG52ZWMyIHBpeGVsU2NhbGU7XFxudmVjMiBjb3ZlcmFnZSA9IHZlYzIoMC4wKTtcXG52ZWMyIHdlaWdodCA9IHZlYzIoMC41KTtcXG5jb25zdCBmbG9hdCBtaW5EaXN0YW5jZSA9IDEuMC84MTkyLjA7XFxuY29uc3QgZmxvYXQgaGFyZG5lc3MgPSAxLjA1OyAvLyBhbW91bnQgb2YgYW50aWFsaWFzXFxuXFxuLy8gdGhlIG1heGltdW0gbnVtYmVyIG9mIGN1cnZlcyBpbiBhIGdseXBoXFxuY29uc3QgaW50IE4gPSBJTlQoMjUwKTtcXG5cXG4vLyByZXRyaWV2ZXMgYW4gaW5kZXhlZCBwaXhlbCBmcm9tIGEgc2FtcGxlclxcbnZlYzQgZ2V0VGV4ZWwoc2FtcGxlcjJEIHNhbXBsZXIsIGludCBwb3MsIGl2ZWMyIHNpemUpIHtcXG4gIGludCB3aWR0aCA9IHNpemUueDtcXG4gIGludCB5ID0gaWZsb29yKHBvcyAvIHdpZHRoKTtcXG4gIGludCB4ID0gcG9zIC0geSAqIHdpZHRoOyAgLy8gcG9zICUgd2lkdGhcXG5cXG4gIHJldHVybiB0ZXh0dXJlMkQoc2FtcGxlciwgKHZlYzIoeCwgeSkgKyAwLjUpIC8gdmVjMihzaXplKSk7XFxufVxcblxcbnZvaWQgY2FsdWxhdGVDcm9zc2luZ3ModmVjMiBwMCwgdmVjMiBwMSwgdmVjMiBwMiwgb3V0IHZlYzIgQzEsIG91dCB2ZWMyIEMyKSB7XFxuXFxuICAvLyBnZXQgdGhlIGNvZWZmaWNpZW50cyBvZiB0aGUgcXVhZHJhdGljIGluIHRcXG4gIHZlYzIgYSA9IHAwIC0gcDEgKiAyLjAgKyBwMjtcXG4gIHZlYzIgYiA9IHAwIC0gcDE7XFxuICB2ZWMyIGMgPSBwMCAtIHZUZXhDb29yZDtcXG5cXG4gIC8vIGZvdW5kIG91dCB3aGljaCB2YWx1ZXMgb2YgJ3QnIGl0IGNyb3NzZXMgdGhlIGF4ZXNcXG4gIHZlYzIgc3VyZCA9IHNxcnQobWF4KHZlYzIoMC4wKSwgYiAqIGIgLSBhICogYykpO1xcbiAgdmVjMiB0MSA9ICgoYiAtIHN1cmQpIC8gYSkueXg7XFxuICB2ZWMyIHQyID0gKChiICsgc3VyZCkgLyBhKS55eDtcXG5cXG4gIC8vIGFwcHJveGltYXRlIHN0cmFpZ2h0IGxpbmVzIHRvIGF2b2lkIHJvdW5kaW5nIGVycm9yc1xcbiAgaWYgKGFicyhhLnkpIDwgMC4wMDEpXFxuICAgIHQxLnggPSB0Mi54ID0gYy55IC8gKDIuMCAqIGIueSk7XFxuXFxuICBpZiAoYWJzKGEueCkgPCAwLjAwMSlcXG4gICAgdDEueSA9IHQyLnkgPSBjLnggLyAoMi4wICogYi54KTtcXG5cXG4gIC8vIHBsdWcgaW50byBxdWFkcmF0aWMgZm9ybXVsYSB0byBmaW5kIHRoZSBjb3JyZGluYXRlcyBvZiB0aGUgY3Jvc3NpbmdzXFxuICBDMSA9ICgoYSAqIHQxIC0gYiAqIDIuMCkgKiB0MSArIGMpICogcGl4ZWxTY2FsZTtcXG4gIEMyID0gKChhICogdDIgLSBiICogMi4wKSAqIHQyICsgYykgKiBwaXhlbFNjYWxlO1xcbn1cXG5cXG52b2lkIGNvdmVyYWdlWCh2ZWMyIHAwLCB2ZWMyIHAxLCB2ZWMyIHAyKSB7XFxuXFxuICB2ZWMyIEMxLCBDMjtcXG4gIGNhbHVsYXRlQ3Jvc3NpbmdzKHAwLCBwMSwgcDIsIEMxLCBDMik7XFxuXFxuICAvLyBkZXRlcm1pbmUgb24gd2hpY2ggc2lkZSBvZiB0aGUgeC1heGlzIHRoZSBwb2ludHMgbGllXFxuICBib29sIHkwID0gcDAueSA+IHZUZXhDb29yZC55O1xcbiAgYm9vbCB5MSA9IHAxLnkgPiB2VGV4Q29vcmQueTtcXG4gIGJvb2wgeTIgPSBwMi55ID4gdlRleENvb3JkLnk7XFxuXFxuICAvLyBjb3VsZCB3ZWIgYmUgdW5kZXIgdGhlIGN1cnZlIChhZnRlciB0MSk/XFxuICBpZiAoeTEgPyAheTIgOiB5MCkge1xcbiAgICAvLyBhZGQgdGhlIGNvdmVyYWdlIGZvciB0MVxcbiAgICBjb3ZlcmFnZS54ICs9IHNhdHVyYXRlKEMxLnggKyAwLjUpO1xcbiAgICAvLyBjYWxjdWxhdGUgdGhlIGFudGktYWxpYXNpbmcgZm9yIHQxXFxuICAgIHdlaWdodC54ID0gbWluKHdlaWdodC54LCBhYnMoQzEueCkpO1xcbiAgfVxcblxcbiAgLy8gYXJlIHdlIG91dHNpZGUgdGhlIGN1cnZlIChhZnRlciB0Mik/XFxuICBpZiAoeTEgPyAheTAgOiB5Mikge1xcbiAgICAvLyBzdWJ0cmFjdCB0aGUgY292ZXJhZ2UgZm9yIHQyXFxuICAgIGNvdmVyYWdlLnggLT0gc2F0dXJhdGUoQzIueCArIDAuNSk7XFxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgYW50aS1hbGlhc2luZyBmb3IgdDJcXG4gICAgd2VpZ2h0LnggPSBtaW4od2VpZ2h0LngsIGFicyhDMi54KSk7XFxuICB9XFxufVxcblxcbi8vIHRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIHNhbWUgYXMgY292ZXJhZ2VYLCBidXQgd2l0aCB0aGUgYXhlcyBzd2FwcGVkXFxudm9pZCBjb3ZlcmFnZVkodmVjMiBwMCwgdmVjMiBwMSwgdmVjMiBwMikge1xcblxcbiAgdmVjMiBDMSwgQzI7XFxuICBjYWx1bGF0ZUNyb3NzaW5ncyhwMCwgcDEsIHAyLCBDMSwgQzIpO1xcblxcbiAgYm9vbCB4MCA9IHAwLnggPiB2VGV4Q29vcmQueDtcXG4gIGJvb2wgeDEgPSBwMS54ID4gdlRleENvb3JkLng7XFxuICBib29sIHgyID0gcDIueCA+IHZUZXhDb29yZC54O1xcblxcbiAgaWYgKHgxID8gIXgyIDogeDApIHtcXG4gICAgY292ZXJhZ2UueSAtPSBzYXR1cmF0ZShDMS55ICsgMC41KTtcXG4gICAgd2VpZ2h0LnkgPSBtaW4od2VpZ2h0LnksIGFicyhDMS55KSk7XFxuICB9XFxuXFxuICBpZiAoeDEgPyAheDAgOiB4Mikge1xcbiAgICBjb3ZlcmFnZS55ICs9IHNhdHVyYXRlKEMyLnkgKyAwLjUpO1xcbiAgICB3ZWlnaHQueSA9IG1pbih3ZWlnaHQueSwgYWJzKEMyLnkpKTtcXG4gIH1cXG59XFxuXFxudm9pZCBtYWluKCkge1xcblxcbiAgLy8gY2FsY3VsYXRlIHRoZSBwaXhlbCBzY2FsZSBiYXNlZCBvbiBzY3JlZW4tY29vcmRpbmF0ZXNcXG4gIHBpeGVsU2NhbGUgPSBoYXJkbmVzcyAvIGZ3aWR0aCh2VGV4Q29vcmQpO1xcblxcbiAgLy8gd2hpY2ggZ3JpZCBjZWxsIGlzIHRoaXMgcGl4ZWwgaW4/XFxuICBpdmVjMiBncmlkQ29vcmQgPSBpZmxvb3IodlRleENvb3JkICogdmVjMih1R3JpZFNpemUpKTtcXG5cXG4gIC8vIGludGVyc2VjdCBjdXJ2ZXMgaW4gdGhpcyByb3dcXG4gIHtcXG4gICAgLy8gdGhlIGluZGV4IGludG8gdGhlIHJvdyBpbmZvIGJpdG1hcFxcbiAgICBpbnQgcm93SW5kZXggPSBncmlkQ29vcmQueSArIHVHcmlkT2Zmc2V0Lnk7XFxuICAgIC8vIGZldGNoIHRoZSBpbmZvIHRleGVsXFxuICAgIHZlYzQgcm93SW5mbyA9IGdldFRleGVsKHVTYW1wbGVyUm93cywgcm93SW5kZXgsIHVHcmlkSW1hZ2VTaXplKTtcXG4gICAgLy8gdW5wYWNrIHRoZSByb3dJbmZvXFxuICAgIGludCByb3dTdHJva2VJbmRleCA9IGdldEludDE2KHJvd0luZm8ueHkpO1xcbiAgICBpbnQgcm93U3Ryb2tlQ291bnQgPSBnZXRJbnQxNihyb3dJbmZvLnp3KTtcXG5cXG4gICAgZm9yIChpbnQgaVJvd1N0cm9rZSA9IElOVCgwKTsgaVJvd1N0cm9rZSA8IE47IGlSb3dTdHJva2UrKykge1xcbiAgICAgIGlmIChpUm93U3Ryb2tlID49IHJvd1N0cm9rZUNvdW50KVxcbiAgICAgICAgYnJlYWs7XFxuXFxuICAgICAgLy8gZWFjaCBzdHJva2UgaXMgbWFkZSB1cCBvZiAzIHBvaW50czogdGhlIHN0YXJ0IGFuZCBjb250cm9sIHBvaW50XFxuICAgICAgLy8gYW5kIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBjdXJ2ZS5cXG4gICAgICAvLyBmZXRjaCB0aGUgaW5kaWNlcyBvZiB0aGlzIHBhaXIgb2Ygc3Ryb2tlczpcXG4gICAgICB2ZWM0IHN0cm9rZUluZGljZXMgPSBnZXRUZXhlbCh1U2FtcGxlclJvd1N0cm9rZXMsIHJvd1N0cm9rZUluZGV4KyssIHVDZWxsc0ltYWdlU2l6ZSk7XFxuXFxuICAgICAgLy8gdW5wYWNrIHRoZSBzdHJva2UgaW5kZXhcXG4gICAgICBpbnQgc3Ryb2tlUG9zID0gZ2V0SW50MTYoc3Ryb2tlSW5kaWNlcy54eSk7XFxuXFxuICAgICAgLy8gZmV0Y2ggdGhlIHR3byBzdHJva2VzXFxuICAgICAgdmVjNCBzdHJva2UwID0gZ2V0VGV4ZWwodVNhbXBsZXJTdHJva2VzLCBzdHJva2VQb3MgKyBJTlQoMCksIHVTdHJva2VJbWFnZVNpemUpO1xcbiAgICAgIHZlYzQgc3Ryb2tlMSA9IGdldFRleGVsKHVTYW1wbGVyU3Ryb2tlcywgc3Ryb2tlUG9zICsgSU5UKDEpLCB1U3Ryb2tlSW1hZ2VTaXplKTtcXG5cXG4gICAgICAvLyBjYWxjdWxhdGUgdGhlIGNvdmVyYWdlXFxuICAgICAgY292ZXJhZ2VYKHN0cm9rZTAueHksIHN0cm9rZTAuencsIHN0cm9rZTEueHkpO1xcbiAgICB9XFxuICB9XFxuXFxuICAvLyBpbnRlcnNlY3QgY3VydmVzIGluIHRoaXMgY29sdW1uXFxuICB7XFxuICAgIGludCBjb2xJbmRleCA9IGdyaWRDb29yZC54ICsgdUdyaWRPZmZzZXQueDtcXG4gICAgdmVjNCBjb2xJbmZvID0gZ2V0VGV4ZWwodVNhbXBsZXJDb2xzLCBjb2xJbmRleCwgdUdyaWRJbWFnZVNpemUpO1xcbiAgICBpbnQgY29sU3Ryb2tlSW5kZXggPSBnZXRJbnQxNihjb2xJbmZvLnh5KTtcXG4gICAgaW50IGNvbFN0cm9rZUNvdW50ID0gZ2V0SW50MTYoY29sSW5mby56dyk7XFxuICAgIFxcbiAgICBmb3IgKGludCBpQ29sU3Ryb2tlID0gSU5UKDApOyBpQ29sU3Ryb2tlIDwgTjsgaUNvbFN0cm9rZSsrKSB7XFxuICAgICAgaWYgKGlDb2xTdHJva2UgPj0gY29sU3Ryb2tlQ291bnQpXFxuICAgICAgICBicmVhaztcXG5cXG4gICAgICB2ZWM0IHN0cm9rZUluZGljZXMgPSBnZXRUZXhlbCh1U2FtcGxlckNvbFN0cm9rZXMsIGNvbFN0cm9rZUluZGV4KyssIHVDZWxsc0ltYWdlU2l6ZSk7XFxuXFxuICAgICAgaW50IHN0cm9rZVBvcyA9IGdldEludDE2KHN0cm9rZUluZGljZXMueHkpO1xcbiAgICAgIHZlYzQgc3Ryb2tlMCA9IGdldFRleGVsKHVTYW1wbGVyU3Ryb2tlcywgc3Ryb2tlUG9zICsgSU5UKDApLCB1U3Ryb2tlSW1hZ2VTaXplKTtcXG4gICAgICB2ZWM0IHN0cm9rZTEgPSBnZXRUZXhlbCh1U2FtcGxlclN0cm9rZXMsIHN0cm9rZVBvcyArIElOVCgxKSwgdVN0cm9rZUltYWdlU2l6ZSk7XFxuICAgICAgY292ZXJhZ2VZKHN0cm9rZTAueHksIHN0cm9rZTAuencsIHN0cm9rZTEueHkpO1xcbiAgICB9XFxuICB9XFxuXFxuICB3ZWlnaHQgPSBzYXR1cmF0ZSgxLjAgLSB3ZWlnaHQgKiAyLjApO1xcbiAgZmxvYXQgZGlzdGFuY2UgPSBtYXgod2VpZ2h0LnggKyB3ZWlnaHQueSwgbWluRGlzdGFuY2UpOyAvLyBtYW5oYXR0YW4gYXBwcm94LlxcbiAgZmxvYXQgYW50aWFsaWFzID0gYWJzKGRvdChjb3ZlcmFnZSwgd2VpZ2h0KSAvIGRpc3RhbmNlKTtcXG4gIGZsb2F0IGNvdmVyID0gbWluKGFicyhjb3ZlcmFnZS54KSwgYWJzKGNvdmVyYWdlLnkpKTtcXG4gIGdsX0ZyYWdDb2xvciA9IHVNYXRlcmlhbENvbG9yO1xcbiAgZ2xfRnJhZ0NvbG9yLmEgKj0gc2F0dXJhdGUobWF4KGFudGlhbGlhcywgY292ZXIpKTtcXG59XCIsZz1cIi8qXFxuICBQYXJ0IG9mIHRoZSBQcm9jZXNzaW5nIHByb2plY3QgLSBodHRwOi8vcHJvY2Vzc2luZy5vcmdcXG4gIENvcHlyaWdodCAoYykgMjAxMi0xNSBUaGUgUHJvY2Vzc2luZyBGb3VuZGF0aW9uXFxuICBDb3B5cmlnaHQgKGMpIDIwMDQtMTIgQmVuIEZyeSBhbmQgQ2FzZXkgUmVhc1xcbiAgQ29weXJpZ2h0IChjKSAyMDAxLTA0IE1hc3NhY2h1c2V0dHMgSW5zdGl0dXRlIG9mIFRlY2hub2xvZ3lcXG4gIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3JcXG4gIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWNcXG4gIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIHZlcnNpb24gMi4xLlxcbiAgVGhpcyBsaWJyYXJ5IGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXFxuICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxcbiAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlVcXG4gIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXFxuICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWxcXG4gIFB1YmxpYyBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBsaWJyYXJ5OyBpZiBub3QsIHdyaXRlIHRvIHRoZVxcbiAgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBJbmMuLCA1OSBUZW1wbGUgUGxhY2UsIFN1aXRlIDMzMCxcXG4gIEJvc3RvbiwgTUEgIDAyMTExLTEzMDcgIFVTQVxcbiovXFxuXFxuI2RlZmluZSBQUk9DRVNTSU5HX0xJTkVfU0hBREVSXFxuXFxudW5pZm9ybSBtYXQ0IHVNb2RlbFZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdVN0cm9rZVdlaWdodDtcXG5cXG51bmlmb3JtIHZlYzQgdVZpZXdwb3J0O1xcblxcbi8vIHVzaW5nIGEgc2NhbGUgPDEgbW92ZXMgdGhlIGxpbmVzIHRvd2FyZHMgdGhlIGNhbWVyYVxcbi8vIGluIG9yZGVyIHRvIHByZXZlbnQgcG9wcGluZyBlZmZlY3RzIGR1ZSB0byBoYWxmIG9mXFxuLy8gdGhlIGxpbmUgZGlzYXBwZWFyaW5nIGJlaGluZCB0aGUgZ2VvbWV0cnkgZmFjZXMuXFxudmVjMyBzY2FsZSA9IHZlYzMoMC45OTk1KTtcXG5cXG5hdHRyaWJ1dGUgdmVjNCBhUG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzQgYURpcmVjdGlvbjtcXG4gIFxcbnZvaWQgbWFpbigpIHtcXG4gIHZlYzQgcG9zcCA9IHVNb2RlbFZpZXdNYXRyaXggKiBhUG9zaXRpb247XFxuICB2ZWM0IHBvc3EgPSB1TW9kZWxWaWV3TWF0cml4ICogKGFQb3NpdGlvbiArIHZlYzQoYURpcmVjdGlvbi54eXosIDApKTtcXG5cXG4gIC8vIE1vdmluZyB2ZXJ0aWNlcyBzbGlnaHRseSB0b3dhcmQgdGhlIGNhbWVyYVxcbiAgLy8gdG8gYXZvaWQgZGVwdGgtZmlnaHRpbmcgd2l0aCB0aGUgZmlsbCB0cmlhbmdsZXMuXFxuICAvLyBEaXNjdXNzZWQgaGVyZTpcXG4gIC8vIGh0dHA6Ly93d3cub3BlbmdsLm9yZy9kaXNjdXNzaW9uX2JvYXJkcy91YmJ0aHJlYWRzLnBocD91YmI9c2hvd2ZsYXQmTnVtYmVyPTI1Mjg0OCAgXFxuICBwb3NwLnh5eiA9IHBvc3AueHl6ICogc2NhbGU7XFxuICBwb3NxLnh5eiA9IHBvc3EueHl6ICogc2NhbGU7XFxuXFxuICB2ZWM0IHAgPSB1UHJvamVjdGlvbk1hdHJpeCAqIHBvc3A7XFxuICB2ZWM0IHEgPSB1UHJvamVjdGlvbk1hdHJpeCAqIHBvc3E7XFxuXFxuICAvLyBmb3JtdWxhIHRvIGNvbnZlcnQgZnJvbSBjbGlwIHNwYWNlIChyYW5nZSAtMS4uMSkgdG8gc2NyZWVuIHNwYWNlIChyYW5nZSAwLi5bd2lkdGggb3IgaGVpZ2h0XSlcXG4gIC8vIHNjcmVlbl9wID0gKHAueHkvcC53ICsgPDEsMT4pICogMC41ICogdVZpZXdwb3J0Lnp3XFxuXFxuICAvLyBwcmV2ZW50IGRpdmlzaW9uIGJ5IFcgYnkgdHJhbnNmb3JtaW5nIHRoZSB0YW5nZW50IGZvcm11bGEgKGRpdiBieSAwIGNhdXNlc1xcbiAgLy8gdGhlIGxpbmUgdG8gZGlzYXBwZWFyLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb2Nlc3NpbmcvcHJvY2Vzc2luZy9pc3N1ZXMvNTE4MylcXG4gIC8vIHQgPSBzY3JlZW5fcSAtIHNjcmVlbl9wXFxuICAvL1xcbiAgLy8gdGFuZ2VudCBpcyBub3JtYWxpemVkIGFuZCB3ZSBkb24ndCBjYXJlIHdoaWNoIGFEaXJlY3Rpb24gaXQgcG9pbnRzIHRvICgrLSlcXG4gIC8vIHQgPSArLSBub3JtYWxpemUoIHNjcmVlbl9xIC0gc2NyZWVuX3AgKVxcbiAgLy8gdCA9ICstIG5vcm1hbGl6ZSggKHEueHkvcS53KzwxLDE+KSowLjUqdVZpZXdwb3J0Lnp3IC0gKHAueHkvcC53KzwxLDE+KSowLjUqdVZpZXdwb3J0Lnp3IClcXG4gIC8vXFxuICAvLyBleHRyYWN0IGNvbW1vbiBmYWN0b3IsIDwxLDE+IC0gPDEsMT4gY2FuY2VscyBvdXRcXG4gIC8vIHQgPSArLSBub3JtYWxpemUoIChxLnh5L3EudyAtIHAueHkvcC53KSAqIDAuNSAqIHVWaWV3cG9ydC56dyApXFxuICAvL1xcbiAgLy8gY29udmVydCB0byBjb21tb24gZGl2aXNvclxcbiAgLy8gdCA9ICstIG5vcm1hbGl6ZSggKChxLnh5KnAudyAtIHAueHkqcS53KSAvIChwLncqcS53KSkgKiAwLjUgKiB1Vmlld3BvcnQuencgKVxcbiAgLy9cXG4gIC8vIHJlbW92ZSB0aGUgY29tbW9uIHNjYWxhciBkaXZpc29yL2ZhY3Rvciwgbm90IG5lZWRlZCBkdWUgdG8gbm9ybWFsaXplIGFuZCArLVxcbiAgLy8gKGtlZXAgdVZpZXdwb3J0IC0gY2FuJ3QgcmVtb3ZlIGJlY2F1c2UgaXQgaGFzIGRpZmZlcmVudCBjb21wb25lbnRzIGZvciB4IGFuZCB5XFxuICAvLyAgYW5kIGNvcnJlY3RzIGZvciBhc3BlY3QgcmF0aW8sIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvY2Vzc2luZy9wcm9jZXNzaW5nL2lzc3Vlcy81MTgxKVxcbiAgLy8gdCA9ICstIG5vcm1hbGl6ZSggKHEueHkqcC53IC0gcC54eSpxLncpICogdVZpZXdwb3J0Lnp3IClcXG5cXG4gIHZlYzIgdGFuZ2VudCA9IG5vcm1hbGl6ZSgocS54eSpwLncgLSBwLnh5KnEudykgKiB1Vmlld3BvcnQuencpO1xcblxcbiAgLy8gZmxpcCB0YW5nZW50IHRvIG5vcm1hbCAoaXQncyBhbHJlYWR5IG5vcm1hbGl6ZWQpXFxuICB2ZWMyIG5vcm1hbCA9IHZlYzIoLXRhbmdlbnQueSwgdGFuZ2VudC54KTtcXG5cXG4gIGZsb2F0IHRoaWNrbmVzcyA9IGFEaXJlY3Rpb24udyAqIHVTdHJva2VXZWlnaHQ7XFxuICB2ZWMyIG9mZnNldCA9IG5vcm1hbCAqIHRoaWNrbmVzcyAvIDIuMDtcXG5cXG4gIC8vIFBlcnNwZWN0aXZlIC0tLVxcbiAgLy8gY29udmVydCBmcm9tIHdvcmxkIHRvIGNsaXAgYnkgbXVsdGlwbHlpbmcgd2l0aCBwcm9qZWN0aW9uIHNjYWxpbmcgZmFjdG9yXFxuICAvLyB0byBnZXQgdGhlIHJpZ2h0IHRoaWNrbmVzcyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9jZXNzaW5nL3Byb2Nlc3NpbmcvaXNzdWVzLzUxODIpXFxuICAvLyBpbnZlcnQgWSwgcHJvamVjdGlvbnMgaW4gUHJvY2Vzc2luZyBpbnZlcnQgWVxcbiAgdmVjMiBwZXJzcFNjYWxlID0gKHVQcm9qZWN0aW9uTWF0cml4ICogdmVjNCgxLCAtMSwgMCwgMCkpLnh5O1xcblxcbiAgLy8gTm8gUGVyc3BlY3RpdmUgLS0tXFxuICAvLyBtdWx0aXBseSBieSBXICh0byBjYW5jZWwgb3V0IGRpdmlzaW9uIGJ5IFcgbGF0ZXIgaW4gdGhlIHBpcGVsaW5lKSBhbmRcXG4gIC8vIGNvbnZlcnQgZnJvbSBzY3JlZW4gdG8gY2xpcCAoZGVyaXZlZCBmcm9tIGNsaXAgdG8gc2NyZWVuIGFib3ZlKVxcbiAgdmVjMiBub1BlcnNwU2NhbGUgPSBwLncgLyAoMC41ICogdVZpZXdwb3J0Lnp3KTtcXG5cXG4gIC8vZ2xfUG9zaXRpb24ueHkgPSBwLnh5ICsgb2Zmc2V0Lnh5ICogbWl4KG5vUGVyc3BTY2FsZSwgcGVyc3BTY2FsZSwgZmxvYXQocGVyc3BlY3RpdmUgPiAwKSk7XFxuICBnbF9Qb3NpdGlvbi54eSA9IHAueHkgKyBvZmZzZXQueHkgKiBwZXJzcFNjYWxlO1xcbiAgZ2xfUG9zaXRpb24uencgPSBwLnp3O1xcbn1cXG5cIix5PVwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxucHJlY2lzaW9uIG1lZGl1bXAgaW50O1xcblxcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxDb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICBnbF9GcmFnQ29sb3IgPSB1TWF0ZXJpYWxDb2xvcjtcXG59XCIsYj1cImF0dHJpYnV0ZSB2ZWMzIGFQb3NpdGlvbjtcXG51bmlmb3JtIGZsb2F0IHVQb2ludFNpemU7XFxudmFyeWluZyBmbG9hdCB2U3Ryb2tlV2VpZ2h0O1xcbnVuaWZvcm0gbWF0NCB1TW9kZWxWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG52b2lkIG1haW4oKSB7XFxuXFx0dmVjNCBwb3NpdGlvblZlYzQgPSAgdmVjNChhUG9zaXRpb24sIDEuMCk7XFxuXFx0Z2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIHVNb2RlbFZpZXdNYXRyaXggKiBwb3NpdGlvblZlYzQ7XFxuXFx0Z2xfUG9pbnRTaXplID0gdVBvaW50U2l6ZTtcXG5cXHR2U3Ryb2tlV2VpZ2h0ID0gdVBvaW50U2l6ZTtcXG59XCIsXz1cInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbnByZWNpc2lvbiBtZWRpdW1wIGludDtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQ29sb3I7XFxudmFyeWluZyBmbG9hdCB2U3Ryb2tlV2VpZ2h0O1xcblxcbnZvaWQgbWFpbigpe1xcblxcdGZsb2F0IG1hc2sgPSAwLjA7XFxuXFxuXFx0Ly8gbWFrZSBhIGNpcmN1bGFyIG1hc2sgdXNpbmcgdGhlIGdsX1BvaW50Q29vcmQgKGdvZXMgZnJvbSAwIC0gMSBvbiBhIHBvaW50KVxcbiAgICAvLyBtaWdodCBiZSBhYmxlIHRvIGdldCBhIG5pY2VyIGVkZ2Ugb24gYmlnIHN0cm9rZXdlaWdodHMgd2l0aCBzbW9vdGhzdGVwIGJ1dCBzbGlnaHRseSBsZXNzIHBlcmZvcm1hbnRcXG5cXG5cXHRtYXNrID0gc3RlcCgwLjk4LCBsZW5ndGgoZ2xfUG9pbnRDb29yZCAqIDIuMCAtIDEuMCkpO1xcblxcblxcdC8vIGlmIHN0cm9rZVdlaWdodCBpcyAxIG9yIGxlc3MgbGV0cyBqdXN0IGRyYXcgYSBzcXVhcmVcXG5cXHQvLyB0aGlzIHByZXZlbnRzIHdlaXJkIGFydGlmYWN0aW5nIGZyb20gY2FydmluZyBjaXJjbGVzIHdoZW4gb3VyIHBvaW50cyBhcmUgcmVhbGx5IHNtYWxsXFxuXFx0Ly8gaWYgc3Ryb2tlV2VpZ2h0IGlzIGxhcmdlciB0aGFuIDEsIHdlIGp1c3QgdXNlIGl0IGFzIGlzXFxuXFxuXFx0bWFzayA9IG1peCgwLjAsIG1hc2ssIGNsYW1wKGZsb29yKHZTdHJva2VXZWlnaHQgLSAwLjUpLDAuMCwxLjApKTtcXG5cXG5cXHQvLyB0aHJvdyBhd2F5IHRoZSBib3JkZXJzIG9mIHRoZSBtYXNrXFxuICAgIC8vIG90aGVyd2lzZSB3ZSBnZXQgd2VpcmQgYWxwaGEgYmxlbmRpbmcgaXNzdWVzXFxuXFxuXFx0aWYobWFzayA+IDAuOTgpe1xcbiAgICAgIGRpc2NhcmQ7XFxuICBcXHR9XFxuXFxuICBcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KHVNYXRlcmlhbENvbG9yLnJnYiAqICgxLjAgLSBtYXNrKSwgdU1hdGVyaWFsQ29sb3IuYSkgO1xcbn1cIjtmLlJlbmRlcmVyR0w9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIGYuUmVuZGVyZXIuY2FsbCh0aGlzLGUsdCxyKSx0aGlzLmF0dHJpYnV0ZXM9e30saT1pfHx7fSx0aGlzLmF0dHJpYnV0ZXMuYWxwaGE9dm9pZCAwPT09aS5hbHBoYXx8aS5hbHBoYSx0aGlzLmF0dHJpYnV0ZXMuZGVwdGg9dm9pZCAwPT09aS5kZXB0aHx8aS5kZXB0aCx0aGlzLmF0dHJpYnV0ZXMuc3RlbmNpbD12b2lkIDA9PT1pLnN0ZW5jaWx8fGkuc3RlbmNpbCx0aGlzLmF0dHJpYnV0ZXMuYW50aWFsaWFzPXZvaWQgMCE9PWkuYW50aWFsaWFzJiZpLmFudGlhbGlhcyx0aGlzLmF0dHJpYnV0ZXMucHJlbXVsdGlwbGllZEFscGhhPXZvaWQgMCE9PWkucHJlbXVsdGlwbGllZEFscGhhJiZpLnByZW11bHRpcGxpZWRBbHBoYSx0aGlzLmF0dHJpYnV0ZXMucHJlc2VydmVEcmF3aW5nQnVmZmVyPXZvaWQgMD09PWkucHJlc2VydmVEcmF3aW5nQnVmZmVyfHxpLnByZXNlcnZlRHJhd2luZ0J1ZmZlcix0aGlzLmF0dHJpYnV0ZXMucGVyUGl4ZWxMaWdodGluZz12b2lkIDAhPT1pLnBlclBpeGVsTGlnaHRpbmcmJmkucGVyUGl4ZWxMaWdodGluZyx0aGlzLl9pbml0Q29udGV4dCgpLHRoaXMuaXNQM0Q9ITAsdGhpcy5HTD10aGlzLmRyYXdpbmdDb250ZXh0LHRoaXMuYW1iaWVudExpZ2h0Q29sb3JzPVtdLHRoaXMuZGlyZWN0aW9uYWxMaWdodERpcmVjdGlvbnM9W10sdGhpcy5kaXJlY3Rpb25hbExpZ2h0Q29sb3JzPVtdLHRoaXMucG9pbnRMaWdodFBvc2l0aW9ucz1bXSx0aGlzLnBvaW50TGlnaHRDb2xvcnM9W10sdGhpcy51TVZNYXRyaXg9bmV3IGYuTWF0cml4LHRoaXMudVBNYXRyaXg9bmV3IGYuTWF0cml4LHRoaXMudU5NYXRyaXg9bmV3IGYuTWF0cml4KFwibWF0M1wiKSx0aGlzLl9jdXJDYW1lcmE9bmV3IGYuQ2FtZXJhKHRoaXMpLHRoaXMuX2N1ckNhbWVyYS5fY29tcHV0ZUNhbWVyYURlZmF1bHRTZXR0aW5ncygpLHRoaXMuX2N1ckNhbWVyYS5fc2V0RGVmYXVsdENhbWVyYSgpLHRoaXMuZ0hhc2g9e30sdGhpcy5fZGVmYXVsdExpZ2h0U2hhZGVyPXZvaWQgMCx0aGlzLl9kZWZhdWx0SW1tZWRpYXRlTW9kZVNoYWRlcj12b2lkIDAsdGhpcy5fZGVmYXVsdE5vcm1hbFNoYWRlcj12b2lkIDAsdGhpcy5fZGVmYXVsdENvbG9yU2hhZGVyPXZvaWQgMCx0aGlzLl9kZWZhdWx0UG9pbnRTaGFkZXI9dm9pZCAwLHRoaXMuY3VyRmlsbFNoYWRlcj12b2lkIDAsdGhpcy5jdXJTdHJva2VTaGFkZXI9dm9pZCAwLHRoaXMuY3VyUG9pbnRTaGFkZXI9dm9pZCAwLHRoaXMuX3VzZUNvbG9yU2hhZGVyKCksdGhpcy5zZXRTdHJva2VTaGFkZXIodGhpcy5fZ2V0TGluZVNoYWRlcigpKSx0aGlzLl91c2VQb2ludFNoYWRlcigpLHRoaXMuX3BvaW50VmVydGV4QnVmZmVyPXRoaXMuR0wuY3JlYXRlQnVmZmVyKCksdGhpcy5pc0ltbWVkaWF0ZURyYXdpbmc9ITEsdGhpcy5pbW1lZGlhdGVNb2RlPXt9LHRoaXMuZmlsbCgyNTUsMjU1LDI1NSwyNTUpLHRoaXMucG9pbnRTaXplPTUsdGhpcy5zdHJva2VXZWlnaHQoMSksdGhpcy5zdHJva2UoMCwwLDApLHRoaXMudGV4dHVyZXM9W10sdGhpcy50ZXh0dXJlSW1hZ2U9dm9pZCAwLHRoaXMudGV4dHVyZU1vZGU9by5JTUFHRSx0aGlzLl9jdXJ2ZVRpZ2h0bmVzcz02LHRoaXMuX2xvb2tVcFRhYmxlQmV6aWVyPVtdLHRoaXMuX2xvb2tVcFRhYmxlUXVhZHJhdGljPVtdLHRoaXMuX2x1dEJlemllckRldGFpbD0wLHRoaXMuX2x1dFF1YWRyYXRpY0RldGFpbD0wLHRoaXMuX3Rlc3N5PXRoaXMuX2luaXRUZXNzeSgpLHRoaXMuZm9udEluZm9zPXt9LHRoaXN9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShmLlJlbmRlcmVyLnByb3RvdHlwZSksZi5SZW5kZXJlckdMLnByb3RvdHlwZS5faW5pdENvbnRleHQ9ZnVuY3Rpb24oKXt0cnl7aWYodGhpcy5kcmF3aW5nQ29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIix0aGlzLmF0dHJpYnV0ZXMpfHx0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsdGhpcy5hdHRyaWJ1dGVzKSxudWxsPT09dGhpcy5kcmF3aW5nQ29udGV4dCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjcmVhdGluZyB3ZWJnbCBjb250ZXh0XCIpO2NvbnNvbGUubG9nKFwicDUuUmVuZGVyZXJHTDogZW5hYmxlZCB3ZWJnbCBjb250ZXh0XCIpO3ZhciBlPXRoaXMuZHJhd2luZ0NvbnRleHQ7ZS5lbmFibGUoZS5ERVBUSF9URVNUKSxlLmRlcHRoRnVuYyhlLkxFUVVBTCksZS52aWV3cG9ydCgwLDAsZS5kcmF3aW5nQnVmZmVyV2lkdGgsZS5kcmF3aW5nQnVmZmVySGVpZ2h0KSx0aGlzLl92aWV3cG9ydD10aGlzLmRyYXdpbmdDb250ZXh0LmdldFBhcmFtZXRlcih0aGlzLmRyYXdpbmdDb250ZXh0LlZJRVdQT1JUKX1jYXRjaChlKXt0aHJvdyBlfX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5fcmVzZXRDb250ZXh0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLndpZHRoLG49dGhpcy5oZWlnaHQsbz10aGlzLmNhbnZhcy5pZCxhPXRoaXMuY2FudmFzO2EmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSwoYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKS5pZD1vLHRoaXMuX3BJbnN0Ll91c2VyTm9kZT90aGlzLl9wSW5zdC5fdXNlck5vZGUuYXBwZW5kQ2hpbGQoYSk6ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSx0aGlzLl9wSW5zdC5jYW52YXM9YTt2YXIgcz1uZXcgZi5SZW5kZXJlckdMKHRoaXMuX3BJbnN0LmNhbnZhcyx0aGlzLl9wSW5zdCwhMCxlKTt0aGlzLl9wSW5zdC5fc2V0UHJvcGVydHkoXCJfcmVuZGVyZXJcIixzKSxzLnJlc2l6ZShpLG4pLHMuX2FwcGx5RGVmYXVsdHMoKSx0aGlzLl9wSW5zdC5fZWxlbWVudHMucHVzaChzKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5hcHBseSh3aW5kb3cuX3JlbmRlcmVyLHQpfSwwKX0sZi5wcm90b3R5cGUuc2V0QXR0cmlidXRlcz1mdW5jdGlvbihlLHQpe3ZhciByO3RoaXMuX2Fzc2VydDNkKFwic2V0QXR0cmlidXRlc1wiKSx2b2lkIDAhPT10PyhyPXt9KVtlXT10OmUgaW5zdGFuY2VvZiBPYmplY3QmJihyPWUpLHRoaXMucHVzaCgpLHRoaXMuX3JlbmRlcmVyLl9yZXNldENvbnRleHQociksdGhpcy5wb3AoKX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51TVZNYXRyaXguc2V0KHRoaXMuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFswXSx0aGlzLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMV0sdGhpcy5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzJdLHRoaXMuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFszXSx0aGlzLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbNF0sdGhpcy5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzVdLHRoaXMuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFs2XSx0aGlzLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbN10sdGhpcy5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzhdLHRoaXMuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFs5XSx0aGlzLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMTBdLHRoaXMuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsxMV0sdGhpcy5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzEyXSx0aGlzLl9jdXJDYW1lcmEuY2FtZXJhTWF0cml4Lm1hdDRbMTNdLHRoaXMuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NFsxNF0sdGhpcy5fY3VyQ2FtZXJhLmNhbWVyYU1hdHJpeC5tYXQ0WzE1XSksdGhpcy5hbWJpZW50TGlnaHRDb2xvcnMubGVuZ3RoPTAsdGhpcy5kaXJlY3Rpb25hbExpZ2h0RGlyZWN0aW9ucy5sZW5ndGg9MCx0aGlzLmRpcmVjdGlvbmFsTGlnaHRDb2xvcnMubGVuZ3RoPTAsdGhpcy5wb2ludExpZ2h0UG9zaXRpb25zLmxlbmd0aD0wLHRoaXMucG9pbnRMaWdodENvbG9ycy5sZW5ndGg9MH0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5iYWNrZ3JvdW5kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcEluc3QuY29sb3IuYXBwbHkodGhpcy5fcEluc3QsYXJndW1lbnRzKSx0PWUubGV2ZWxzWzBdLzI1NSxyPWUubGV2ZWxzWzFdLzI1NSxpPWUubGV2ZWxzWzJdLzI1NSxuPWUubGV2ZWxzWzNdLzI1NTt0aGlzLkdMLmNsZWFyQ29sb3IodCxyLGksbiksdGhpcy5HTC5kZXB0aE1hc2soITApLHRoaXMuR0wuY2xlYXIodGhpcy5HTC5DT0xPUl9CVUZGRVJfQklUfHRoaXMuR0wuREVQVEhfQlVGRkVSX0JJVCl9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1mLnByb3RvdHlwZS5jb2xvci5hcHBseSh0aGlzLl9wSW5zdCxhcmd1bWVudHMpO3RoaXMuY3VyRmlsbENvbG9yPW4uX2FycmF5LHRoaXMuaXNJbW1lZGlhdGVEcmF3aW5nP3RoaXMuc2V0RmlsbFNoYWRlcih0aGlzLl9nZXRJbW1lZGlhdGVNb2RlU2hhZGVyKCkpOnRoaXMuc2V0RmlsbFNoYWRlcih0aGlzLl9nZXRDb2xvclNoYWRlcigpKSx0aGlzLmRyYXdNb2RlPW8uRklMTCx0aGlzLmN1ckZpbGxTaGFkZXIuc2V0VW5pZm9ybShcInVNYXRlcmlhbENvbG9yXCIsdGhpcy5jdXJGaWxsQ29sb3IpfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLnN0cm9rZT1mdW5jdGlvbihlLHQscixpKXtpPTI1NTt2YXIgbj1mLnByb3RvdHlwZS5jb2xvci5hcHBseSh0aGlzLl9wSW5zdCxhcmd1bWVudHMpO3RoaXMuY3VyU3Ryb2tlQ29sb3I9bi5fYXJyYXksdGhpcy5jdXJTdHJva2VTaGFkZXIuc2V0VW5pZm9ybShcInVNYXRlcmlhbENvbG9yXCIsdGhpcy5jdXJTdHJva2VDb2xvciksdGhpcy5jdXJQb2ludFNoYWRlci5zZXRVbmlmb3JtKFwidU1hdGVyaWFsQ29sb3JcIixuLl9hcnJheSl9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuc3Ryb2tlV2VpZ2h0PWZ1bmN0aW9uKGUpe3RoaXMuY3VyU3Ryb2tlV2VpZ2h0IT09ZSYmKHRoaXMucG9pbnRTaXplPWUsdGhpcy5jdXJTdHJva2VXZWlnaHQ9ZSx0aGlzLmN1clN0cm9rZVNoYWRlci5zZXRVbmlmb3JtKFwidVN0cm9rZVdlaWdodFwiLGUpLHRoaXMuY3VyUG9pbnRTaGFkZXIuc2V0VW5pZm9ybShcInVQb2ludFNpemVcIixlKSl9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXRoaXMuX3BJbnN0fHx0aGlzLG89bi5fcGl4ZWxEZW5zaXR5LGE9ZSpvLHM9dCpvO2lmKDE9PT1yJiYxPT09aSl7dmFyIGg9bmV3IFVpbnQ4QXJyYXkoNCk7cmV0dXJuIHRoaXMuZHJhd2luZ0NvbnRleHQucmVhZFBpeGVscyhhLHMsMSwxLHRoaXMuZHJhd2luZ0NvbnRleHQuUkdCQSx0aGlzLmRyYXdpbmdDb250ZXh0LlVOU0lHTkVEX0JZVEUsaCksW2hbMF0saFsxXSxoWzJdLGhbM11dfXZhciBsPU1hdGgubWluKHIsbi53aWR0aCksdT1NYXRoLm1pbihpLG4uaGVpZ2h0KSxjPWwqbyxwPXUqbyxkPW5ldyBmLkltYWdlKGwsdSk7cmV0dXJuIGQuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UodGhpcy5jYW52YXMsYSxzLGMscCwwLDAsbCx1KSxkfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLmxvYWRQaXhlbHM9ZnVuY3Rpb24oKXtpZighMD09PXRoaXMuYXR0cmlidXRlcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIpe3ZhciBlPXRoaXMuX3BJbnN0Ll9waXhlbERlbnNpdHksdD10aGlzLndpZHRoLHI9dGhpcy5oZWlnaHQ7dCo9ZSxyKj1lLHZvaWQgMD09PXRoaXMucGl4ZWxzJiYodGhpcy5waXhlbHM9bmV3IFVpbnQ4QXJyYXkodGhpcy5HTC5kcmF3aW5nQnVmZmVyV2lkdGgqdGhpcy5HTC5kcmF3aW5nQnVmZmVySGVpZ2h0KjQpKSx0aGlzLkdMLnJlYWRQaXhlbHMoMCwwLHQscix0aGlzLkdMLlJHQkEsdGhpcy5HTC5VTlNJR05FRF9CWVRFLHRoaXMucGl4ZWxzKSx0aGlzLl9wSW5zdC5fc2V0UHJvcGVydHkoXCJwaXhlbHNcIix0aGlzLnBpeGVscyl9ZWxzZSBjb25zb2xlLmxvZyhcImxvYWRQaXhlbHMgb25seSB3b3JrcyBpbiBXZWJHTCB3aGVuIHByZXNlcnZlRHJhd2luZ0J1ZmZlciBpcyB0cnVlLlwiKX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5nZW9tZXRyeUluSGFzaD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5nSGFzaFtlXX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXtmLlJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLGUsdCksdGhpcy5HTC52aWV3cG9ydCgwLDAsdGhpcy5HTC5kcmF3aW5nQnVmZmVyV2lkdGgsdGhpcy5HTC5kcmF3aW5nQnVmZmVySGVpZ2h0KSx0aGlzLl92aWV3cG9ydD10aGlzLkdMLmdldFBhcmFtZXRlcih0aGlzLkdMLlZJRVdQT1JUKSx0aGlzLl9jdXJDYW1lcmEuX3Jlc2l6ZSgpLHZvaWQgMCE9PXRoaXMucGl4ZWxzJiYodGhpcy5waXhlbHM9bmV3IFVpbnQ4QXJyYXkodGhpcy5HTC5kcmF3aW5nQnVmZmVyV2lkdGgqdGhpcy5HTC5kcmF3aW5nQnVmZmVySGVpZ2h0KjQpKX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50c1swXXx8MCx0PWFyZ3VtZW50c1sxXXx8MCxyPWFyZ3VtZW50c1syXXx8MCxpPWFyZ3VtZW50c1szXXx8MDt0aGlzLkdMLmNsZWFyQ29sb3IoZSx0LHIsaSksdGhpcy5HTC5jbGVhcih0aGlzLkdMLkNPTE9SX0JVRkZFUl9CSVR8dGhpcy5HTC5ERVBUSF9CVUZGRVJfQklUKX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlIGluc3RhbmNlb2YgZi5WZWN0b3ImJihyPWUueix0PWUueSxlPWUueCksdGhpcy51TVZNYXRyaXgudHJhbnNsYXRlKFtlLHQscl0pLHRoaXN9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnVNVk1hdHJpeC5zY2FsZShlLHQsciksdGhpc30sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLnJvdGF0ZVooZSk6KGU9dGhpcy5fcEluc3QuX2Zyb21SYWRpYW5zKGUpLGYuTWF0cml4LnByb3RvdHlwZS5yb3RhdGUuYXBwbHkodGhpcy51TVZNYXRyaXgsYXJndW1lbnRzKSx0aGlzKX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5yb3RhdGVYPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvdGF0ZShlLDEsMCwwKSx0aGlzfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLnJvdGF0ZVk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm90YXRlKGUsMCwxLDApLHRoaXN9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUucm90YXRlWj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yb3RhdGUoZSwwLDAsMSksdGhpc30sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7dmFyIGU9Zi5SZW5kZXJlci5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzKSx0PWUucHJvcGVydGllcztyZXR1cm4gdC51TVZNYXRyaXg9dGhpcy51TVZNYXRyaXguY29weSgpLHQudVBNYXRyaXg9dGhpcy51UE1hdHJpeC5jb3B5KCksdC5fY3VyQ2FtZXJhPXRoaXMuX2N1ckNhbWVyYSx0aGlzLl9jdXJDYW1lcmE9dGhpcy5fY3VyQ2FtZXJhLmNvcHkoKSxlfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLnJlc2V0TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudU1WTWF0cml4PWYuTWF0cml4LmlkZW50aXR5KHRoaXMuX3BJbnN0KSx0aGlzfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLnNldEZpbGxTaGFkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY3VyRmlsbFNoYWRlciE9PWUmJih0aGlzLmN1ckZpbGxTaGFkZXI9ZSx0aGlzLmN1ckZpbGxTaGFkZXIuaW5pdCgpKSx0aGlzLmN1ckZpbGxTaGFkZXJ9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuc2V0UG9pbnRTaGFkZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY3VyUG9pbnRTaGFkZXIhPT1lJiYodGhpcy5jdXJQb2ludFNoYWRlcj1lLHRoaXMuY3VyUG9pbnRTaGFkZXIuaW5pdCgpKSx0aGlzLmN1clBvaW50U2hhZGVyfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLnNldFN0cm9rZVNoYWRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jdXJTdHJva2VTaGFkZXIhPT1lJiYodGhpcy5jdXJTdHJva2VTaGFkZXI9ZSx0aGlzLmN1clN0cm9rZVNoYWRlci5pbml0KCkpLHRoaXMuY3VyU3Ryb2tlU2hhZGVyfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLl91c2VMaWdodFNoYWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1ckZpbGxTaGFkZXImJnRoaXMuY3VyRmlsbFNoYWRlci5pc0xpZ2h0U2hhZGVyKCl8fHRoaXMuc2V0RmlsbFNoYWRlcih0aGlzLl9nZXRMaWdodFNoYWRlcigpKSx0aGlzLmN1ckZpbGxTaGFkZXJ9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuX3VzZUNvbG9yU2hhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VyRmlsbFNoYWRlciYmdGhpcy5jdXJGaWxsU2hhZGVyIT09dGhpcy5fZGVmYXVsdEltbWVkaWF0ZU1vZGVTaGFkZXJ8fHRoaXMuc2V0RmlsbFNoYWRlcih0aGlzLl9nZXRDb2xvclNoYWRlcigpKSx0aGlzLmN1ckZpbGxTaGFkZXJ9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuX3VzZVBvaW50U2hhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VyUG9pbnRTaGFkZXJ8fHRoaXMuc2V0UG9pbnRTaGFkZXIodGhpcy5fZ2V0UG9pbnRTaGFkZXIoKSksdGhpcy5jdXJQb2ludFNoYWRlcn0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5fdXNlSW1tZWRpYXRlTW9kZVNoYWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN1ckZpbGxTaGFkZXImJnRoaXMuY3VyRmlsbFNoYWRlciE9PXRoaXMuX2RlZmF1bHRDb2xvclNoYWRlcnx8dGhpcy5zZXRGaWxsU2hhZGVyKHRoaXMuX2dldEltbWVkaWF0ZU1vZGVTaGFkZXIoKSksdGhpcy5jdXJGaWxsU2hhZGVyfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLl9nZXRMaWdodFNoYWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZhdWx0TGlnaHRTaGFkZXJ8fCh0aGlzLmF0dHJpYnV0ZXMucGVyUGl4ZWxMaWdodGluZz90aGlzLl9kZWZhdWx0TGlnaHRTaGFkZXI9bmV3IGYuU2hhZGVyKHRoaXMscCxkKTp0aGlzLl9kZWZhdWx0TGlnaHRTaGFkZXI9bmV3IGYuU2hhZGVyKHRoaXMsdSxjKSksdGhpcy5fZGVmYXVsdExpZ2h0U2hhZGVyfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLl9nZXRJbW1lZGlhdGVNb2RlU2hhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRJbW1lZGlhdGVNb2RlU2hhZGVyfHwodGhpcy5fZGVmYXVsdEltbWVkaWF0ZU1vZGVTaGFkZXI9bmV3IGYuU2hhZGVyKHRoaXMsbixhKSksdGhpcy5fZGVmYXVsdEltbWVkaWF0ZU1vZGVTaGFkZXJ9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuX2dldE5vcm1hbFNoYWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZhdWx0Tm9ybWFsU2hhZGVyfHwodGhpcy5fZGVmYXVsdE5vcm1hbFNoYWRlcj1uZXcgZi5TaGFkZXIodGhpcyxzLGgpKSx0aGlzLl9kZWZhdWx0Tm9ybWFsU2hhZGVyfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLl9nZXRDb2xvclNoYWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZhdWx0Q29sb3JTaGFkZXJ8fCh0aGlzLl9kZWZhdWx0Q29sb3JTaGFkZXI9bmV3IGYuU2hhZGVyKHRoaXMscyxsKSksdGhpcy5fZGVmYXVsdENvbG9yU2hhZGVyfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLl9nZXRQb2ludFNoYWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZhdWx0UG9pbnRTaGFkZXJ8fCh0aGlzLl9kZWZhdWx0UG9pbnRTaGFkZXI9bmV3IGYuU2hhZGVyKHRoaXMsYixfKSksdGhpcy5fZGVmYXVsdFBvaW50U2hhZGVyfSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLl9nZXRMaW5lU2hhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRMaW5lU2hhZGVyfHwodGhpcy5fZGVmYXVsdExpbmVTaGFkZXI9bmV3IGYuU2hhZGVyKHRoaXMsZyx5KSksdGhpcy5fZGVmYXVsdExpbmVTaGFkZXJ9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuX2dldEZvbnRTaGFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdEZvbnRTaGFkZXJ8fCh0aGlzLkdMLmdldEV4dGVuc2lvbihcIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1wiKSx0aGlzLl9kZWZhdWx0Rm9udFNoYWRlcj1uZXcgZi5TaGFkZXIodGhpcyxtLHYpKSx0aGlzLl9kZWZhdWx0Rm9udFNoYWRlcn0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5fZ2V0RW1wdHlUZXh0dXJlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2VtcHR5VGV4dHVyZSl7dmFyIGU9bmV3IGYuSW1hZ2UoMSwxKTtlLnNldCgwLDAsMjU1KSx0aGlzLl9lbXB0eVRleHR1cmU9bmV3IGYuVGV4dHVyZSh0aGlzLGUpfXJldHVybiB0aGlzLl9lbXB0eVRleHR1cmV9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuZ2V0VGV4dHVyZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50ZXh0dXJlcyxyPTA7cjx0Lmxlbmd0aDsrK3Ipe3ZhciBpPXRbcl07aWYoaS5zcmM9PT1lKXJldHVybiBpfXZhciBuPW5ldyBmLlRleHR1cmUodGhpcyxlKTtyZXR1cm4gdGhpcy50ZXh0dXJlcy5wdXNoKG4pLG59LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuX2JpbmRCdWZmZXI9ZnVuY3Rpb24oZSx0LHIsaSxuKXtpZih0aGlzLkdMLmJpbmRCdWZmZXIodCxlKSx2b2lkIDAhPT1yKXt2YXIgbz1uZXcgaShyKTt0aGlzLkdMLmJ1ZmZlckRhdGEodCxvLG4pfX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5zbW9vdGg9ZnVuY3Rpb24oKXshMT09PXRoaXMuYXR0cmlidXRlcy5hbnRpYWxpYXMmJnRoaXMuX3BJbnN0LnNldEF0dHJpYnV0ZXMoXCJhbnRpYWxpYXNcIiwhMCl9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUubm9TbW9vdGg9ZnVuY3Rpb24oKXshMD09PXRoaXMuYXR0cmlidXRlcy5hbnRpYWxpYXMmJnRoaXMuX3BJbnN0LnNldEF0dHJpYnV0ZXMoXCJhbnRpYWxpYXNcIiwhMSl9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuX2ZsYXR0ZW49ZnVuY3Rpb24oZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybltdO2lmKDJlNDxlLmxlbmd0aCl7dmFyIHQscj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGk9W10sbj1lLnNsaWNlKCk7Zm9yKHQ9bi5wb3AoKTtcIltvYmplY3QgQXJyYXldXCI9PT1yLmNhbGwodCk/bi5wdXNoLmFwcGx5KG4sdCk6aS5wdXNoKHQpLG4ubGVuZ3RoJiZ2b2lkIDAhPT0odD1uLnBvcCgpKTspO3JldHVybiBpLnJldmVyc2UoKSxpfXJldHVybltdLmNvbmNhdC5hcHBseShbXSxlKX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5fdlRvTkFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9mbGF0dGVuKGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlLngsZS55LGUuel19KSl9LGYucHJvdG90eXBlLl9hc3NlcnQzZD1mdW5jdGlvbihlKXtpZighdGhpcy5fcmVuZGVyZXIuaXNQM0QpdGhyb3cgbmV3IEVycm9yKGUrXCIoKSBpcyBvbmx5IHN1cHBvcnRlZCBpbiBXRUJHTCBtb2RlLiBJZiB5b3UnZCBsaWtlIHRvIHVzZSAzRCBncmFwaGljcyBhbmQgV2ViR0wsIHNlZSAgaHR0cHM6Ly9wNWpzLm9yZy9leGFtcGxlcy9mb3JtLTNkLXByaW1pdGl2ZXMuaHRtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIil9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuX2luaXRUZXNzeT1mdW5jdGlvbigpe3ZhciBlPW5ldyBpLkdsdVRlc3NlbGF0b3I7cmV0dXJuIGUuZ2x1VGVzc0NhbGxiYWNrKGkuZ2x1RW51bS5HTFVfVEVTU19WRVJURVhfREFUQSxmdW5jdGlvbihlLHQpe3RbdC5sZW5ndGhdPWVbMF0sdFt0Lmxlbmd0aF09ZVsxXSx0W3QubGVuZ3RoXT1lWzJdfSksZS5nbHVUZXNzQ2FsbGJhY2soaS5nbHVFbnVtLkdMVV9URVNTX0JFR0lOLGZ1bmN0aW9uKGUpe2UhPT1pLnByaW1pdGl2ZVR5cGUuR0xfVFJJQU5HTEVTJiZjb25zb2xlLmxvZyhcImV4cGVjdGVkIFRSSUFOR0xFUyBidXQgZ290IHR5cGU6IFwiK2UpfSksZS5nbHVUZXNzQ2FsbGJhY2soaS5nbHVFbnVtLkdMVV9URVNTX0VSUk9SLGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKFwiZXJyb3IgY2FsbGJhY2tcIiksY29uc29sZS5sb2coXCJlcnJvciBudW1iZXI6IFwiK2UpfSksZS5nbHVUZXNzQ2FsbGJhY2soaS5nbHVFbnVtLkdMVV9URVNTX0NPTUJJTkUsZnVuY3Rpb24oZSx0LHIpe3JldHVybltlWzBdLGVbMV0sZVsyXV19KSxlLmdsdVRlc3NDYWxsYmFjayhpLmdsdUVudW0uR0xVX1RFU1NfRURHRV9GTEFHLGZ1bmN0aW9uKGUpe30pLGV9LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuX3RyaWFuZ3VsYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX3Rlc3N5LmdsdVRlc3NOb3JtYWwoMCwwLDEpO3ZhciB0PVtdO3RoaXMuX3Rlc3N5LmdsdVRlc3NCZWdpblBvbHlnb24odCk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3RoaXMuX3Rlc3N5LmdsdVRlc3NCZWdpbkNvbnRvdXIoKTtmb3IodmFyIGk9ZVtyXSxuPTA7bjxpLmxlbmd0aDtuKz0zKXt2YXIgbz1baVtuXSxpW24rMV0saVtuKzJdXTt0aGlzLl90ZXNzeS5nbHVUZXNzVmVydGV4KG8sbyl9dGhpcy5fdGVzc3kuZ2x1VGVzc0VuZENvbnRvdXIoKX1yZXR1cm4gdGhpcy5fdGVzc3kuZ2x1VGVzc0VuZFBvbHlnb24oKSx0fSxmLlJlbmRlcmVyR0wucHJvdG90eXBlLl9iZXppZXJDb2VmZmljaWVudHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSplLHI9MS1lLGk9cipyO3JldHVybltpKnIsMyppKmUsMypyKnQsdCplXX0sZi5SZW5kZXJlckdMLnByb3RvdHlwZS5fcXVhZHJhdGljQ29lZmZpY2llbnRzPWZ1bmN0aW9uKGUpe3ZhciB0PTEtZTtyZXR1cm5bdCp0LDIqdCplLGUqZV19LGYuUmVuZGVyZXJHTC5wcm90b3R5cGUuX2JlemllclRvQ2F0bXVsbD1mdW5jdGlvbihlKXtyZXR1cm5bZVsxXSxlWzFdKyhlWzJdLWVbMF0pL3RoaXMuX2N1cnZlVGlnaHRuZXNzLGVbMl0tKGVbM10tZVsxXSkvdGhpcy5fY3VydmVUaWdodG5lc3MsZVsyXV19LHQuZXhwb3J0cz1mLlJlbmRlcmVyR0x9LHtcIi4uL2NvcmUvY29uc3RhbnRzXCI6MTcsXCIuLi9jb3JlL21haW5cIjoyMyxcIi4uL2NvcmUvcDUuUmVuZGVyZXJcIjoyNixcIi4vcDUuQ2FtZXJhXCI6NjgsXCIuL3A1Lk1hdHJpeFwiOjcwLFwiLi9wNS5TaGFkZXJcIjo3NCxsaWJ0ZXNzOjh9XSw3NDpbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuLi9jb3JlL21haW5cIik7aS5TaGFkZXI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3JlbmRlcmVyPWUsdGhpcy5fdmVydFNyYz10LHRoaXMuX2ZyYWdTcmM9cix0aGlzLl92ZXJ0U2hhZGVyPS0xLHRoaXMuX2ZyYWdTaGFkZXI9LTEsdGhpcy5fZ2xQcm9ncmFtPTAsdGhpcy5fbG9hZGVkQXR0cmlidXRlcz0hMSx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy5fbG9hZGVkVW5pZm9ybXM9ITEsdGhpcy51bmlmb3Jtcz17fSx0aGlzLl9ib3VuZD0hMSx0aGlzLnNhbXBsZXJzPVtdfSxpLlNoYWRlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKDA9PT10aGlzLl9nbFByb2dyYW0pe3ZhciBlPXRoaXMuX3JlbmRlcmVyLkdMO2lmKHRoaXMuX3ZlcnRTaGFkZXI9ZS5jcmVhdGVTaGFkZXIoZS5WRVJURVhfU0hBREVSKSxlLnNoYWRlclNvdXJjZSh0aGlzLl92ZXJ0U2hhZGVyLHRoaXMuX3ZlcnRTcmMpLGUuY29tcGlsZVNoYWRlcih0aGlzLl92ZXJ0U2hhZGVyKSwhZS5nZXRTaGFkZXJQYXJhbWV0ZXIodGhpcy5fdmVydFNoYWRlcixlLkNPTVBJTEVfU1RBVFVTKSlyZXR1cm4gY29uc29sZS5lcnJvcihcIllpa2VzISBBbiBlcnJvciBvY2N1cnJlZCBjb21waWxpbmcgdGhlIHZlcnRleCBzaGFkZXI6XCIrZS5nZXRTaGFkZXJJbmZvTG9nKHRoaXMuX3ZlcnRTaGFkZXIpKSxudWxsO2lmKHRoaXMuX2ZyYWdTaGFkZXI9ZS5jcmVhdGVTaGFkZXIoZS5GUkFHTUVOVF9TSEFERVIpLGUuc2hhZGVyU291cmNlKHRoaXMuX2ZyYWdTaGFkZXIsdGhpcy5fZnJhZ1NyYyksZS5jb21waWxlU2hhZGVyKHRoaXMuX2ZyYWdTaGFkZXIpLCFlLmdldFNoYWRlclBhcmFtZXRlcih0aGlzLl9mcmFnU2hhZGVyLGUuQ09NUElMRV9TVEFUVVMpKXJldHVybiBjb25zb2xlLmVycm9yKFwiRGFybiEgQW4gZXJyb3Igb2NjdXJyZWQgY29tcGlsaW5nIHRoZSBmcmFnbWVudCBzaGFkZXI6XCIrZS5nZXRTaGFkZXJJbmZvTG9nKHRoaXMuX2ZyYWdTaGFkZXIpKSxudWxsO3RoaXMuX2dsUHJvZ3JhbT1lLmNyZWF0ZVByb2dyYW0oKSxlLmF0dGFjaFNoYWRlcih0aGlzLl9nbFByb2dyYW0sdGhpcy5fdmVydFNoYWRlciksZS5hdHRhY2hTaGFkZXIodGhpcy5fZ2xQcm9ncmFtLHRoaXMuX2ZyYWdTaGFkZXIpLGUubGlua1Byb2dyYW0odGhpcy5fZ2xQcm9ncmFtKSxlLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fZ2xQcm9ncmFtLGUuTElOS19TVEFUVVMpfHxjb25zb2xlLmVycm9yKFwiU25hcCEgRXJyb3IgbGlua2luZyBzaGFkZXIgcHJvZ3JhbTogXCIrZS5nZXRQcm9ncmFtSW5mb0xvZyh0aGlzLl9nbFByb2dyYW0pKSx0aGlzLl9sb2FkQXR0cmlidXRlcygpLHRoaXMuX2xvYWRVbmlmb3JtcygpfXJldHVybiB0aGlzfSxpLlNoYWRlci5wcm90b3R5cGUuX2xvYWRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2xvYWRlZEF0dHJpYnV0ZXMpe3RoaXMuYXR0cmlidXRlcz17fTtmb3IodmFyIGU9dGhpcy5fcmVuZGVyZXIuR0wsdD1lLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fZ2xQcm9ncmFtLGUuQUNUSVZFX0FUVFJJQlVURVMpLHI9MDtyPHQ7KytyKXt2YXIgaT1lLmdldEFjdGl2ZUF0dHJpYih0aGlzLl9nbFByb2dyYW0sciksbj1pLm5hbWUsbz1lLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuX2dsUHJvZ3JhbSxuKSxhPXt9O2EubmFtZT1uLGEubG9jYXRpb249byxhLnR5cGU9aS50eXBlLGEuc2l6ZT1pLnNpemUsdGhpcy5hdHRyaWJ1dGVzW25dPWF9dGhpcy5fbG9hZGVkQXR0cmlidXRlcz0hMH19LGkuU2hhZGVyLnByb3RvdHlwZS5fbG9hZFVuaWZvcm1zPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2xvYWRlZFVuaWZvcm1zKXtmb3IodmFyIGU9dGhpcy5fcmVuZGVyZXIuR0wsdD1lLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fZ2xQcm9ncmFtLGUuQUNUSVZFX1VOSUZPUk1TKSxyPTAsaT0wO2k8dDsrK2kpe3ZhciBuPWUuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLl9nbFByb2dyYW0saSksbz17fTtvLmxvY2F0aW9uPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuX2dsUHJvZ3JhbSxuLm5hbWUpLG8uc2l6ZT1uLnNpemU7dmFyIGE9bi5uYW1lOzE8bi5zaXplJiYoYT1hLnN1YnN0cmluZygwLGEuaW5kZXhPZihcIlswXVwiKSkpLG8ubmFtZT1hLG8udHlwZT1uLnR5cGUsby50eXBlPT09ZS5TQU1QTEVSXzJEJiYoby5zYW1wbGVySW5kZXg9cixyKyssdGhpcy5zYW1wbGVycy5wdXNoKG8pKSx0aGlzLnVuaWZvcm1zW2FdPW99dGhpcy5fbG9hZGVkVW5pZm9ybXM9ITB9fSxpLlNoYWRlci5wcm90b3R5cGUuY29tcGlsZT1mdW5jdGlvbigpe30saS5TaGFkZXIucHJvdG90eXBlLmJpbmRTaGFkZXI9ZnVuY3Rpb24oKXt0aGlzLmluaXQoKSx0aGlzLl9ib3VuZHx8KHRoaXMudXNlUHJvZ3JhbSgpLHRoaXMuX2JvdW5kPSEwLHRoaXMuYmluZFRleHR1cmVzKCksdGhpcy5fc2V0TWF0cml4VW5pZm9ybXMoKSx0aGlzPT09dGhpcy5fcmVuZGVyZXIuY3VyU3Ryb2tlU2hhZGVyJiZ0aGlzLl9zZXRWaWV3cG9ydFVuaWZvcm0oKSl9LGkuU2hhZGVyLnByb3RvdHlwZS51bmJpbmRTaGFkZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmQmJih0aGlzLnVuYmluZFRleHR1cmVzKCksdGhpcy5fYm91bmQ9ITEpLHRoaXN9LGkuU2hhZGVyLnByb3RvdHlwZS5iaW5kVGV4dHVyZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fcmVuZGVyZXIuR0wsdD0wO3Q8dGhpcy5zYW1wbGVycy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLnNhbXBsZXJzW3RdLGk9ci50ZXh0dXJlO3ZvaWQgMD09PWkmJihpPXRoaXMuX3JlbmRlcmVyLl9nZXRFbXB0eVRleHR1cmUoKSksZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTArci5zYW1wbGVySW5kZXgpLGkuYmluZFRleHR1cmUoKSxpLnVwZGF0ZSgpLGUudW5pZm9ybTFpKHIubG9jYXRpb24sci5zYW1wbGVySW5kZXgpfX0saS5TaGFkZXIucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLnNhbXBsZXJzLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMuc2FtcGxlcnNbZV0udGV4dHVyZTt0JiZ0LnVwZGF0ZSgpfX0saS5TaGFkZXIucHJvdG90eXBlLnVuYmluZFRleHR1cmVzPWZ1bmN0aW9uKCl7fSxpLlNoYWRlci5wcm90b3R5cGUuX3NldE1hdHJpeFVuaWZvcm1zPWZ1bmN0aW9uKCl7dGhpcy5zZXRVbmlmb3JtKFwidVByb2plY3Rpb25NYXRyaXhcIix0aGlzLl9yZW5kZXJlci51UE1hdHJpeC5tYXQ0KSx0aGlzLnNldFVuaWZvcm0oXCJ1TW9kZWxWaWV3TWF0cml4XCIsdGhpcy5fcmVuZGVyZXIudU1WTWF0cml4Lm1hdDQpLHRoaXMuc2V0VW5pZm9ybShcInVWaWV3TWF0cml4XCIsdGhpcy5fcmVuZGVyZXIuX2N1ckNhbWVyYS5jYW1lcmFNYXRyaXgubWF0NCksdGhpcz09PXRoaXMuX3JlbmRlcmVyLmN1ckZpbGxTaGFkZXImJih0aGlzLl9yZW5kZXJlci51Tk1hdHJpeC5pbnZlcnNlVHJhbnNwb3NlKHRoaXMuX3JlbmRlcmVyLnVNVk1hdHJpeCksdGhpcy5zZXRVbmlmb3JtKFwidU5vcm1hbE1hdHJpeFwiLHRoaXMuX3JlbmRlcmVyLnVOTWF0cml4Lm1hdDMpKX0saS5TaGFkZXIucHJvdG90eXBlLl9zZXRWaWV3cG9ydFVuaWZvcm09ZnVuY3Rpb24oKXt0aGlzLnNldFVuaWZvcm0oXCJ1Vmlld3BvcnRcIix0aGlzLl9yZW5kZXJlci5fdmlld3BvcnQpfSxpLlNoYWRlci5wcm90b3R5cGUudXNlUHJvZ3JhbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJlci5HTC51c2VQcm9ncmFtKHRoaXMuX2dsUHJvZ3JhbSksdGhpc30saS5TaGFkZXIucHJvdG90eXBlLnNldFVuaWZvcm09ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnVuaWZvcm1zW2VdO2lmKHIpe3ZhciBpPXIubG9jYXRpb24sbj10aGlzLl9yZW5kZXJlci5HTDtzd2l0Y2godGhpcy51c2VQcm9ncmFtKCksci50eXBlKXtjYXNlIG4uQk9PTDohMD09PXQ/bi51bmlmb3JtMWkoaSwxKTpuLnVuaWZvcm0xaShpLDApO2JyZWFrO2Nhc2Ugbi5JTlQ6MTxyLnNpemU/dC5sZW5ndGgmJm4udW5pZm9ybTFpdihpLHQpOm4udW5pZm9ybTFpKGksdCk7YnJlYWs7Y2FzZSBuLkZMT0FUOjE8ci5zaXplP3QubGVuZ3RoJiZuLnVuaWZvcm0xZnYoaSx0KTpuLnVuaWZvcm0xZihpLHQpO2JyZWFrO2Nhc2Ugbi5GTE9BVF9NQVQzOm4udW5pZm9ybU1hdHJpeDNmdihpLCExLHQpO2JyZWFrO2Nhc2Ugbi5GTE9BVF9NQVQ0Om4udW5pZm9ybU1hdHJpeDRmdihpLCExLHQpO2JyZWFrO2Nhc2Ugbi5GTE9BVF9WRUMyOjE8ci5zaXplP3QubGVuZ3RoJiZuLnVuaWZvcm0yZnYoaSx0KTpuLnVuaWZvcm0yZihpLHRbMF0sdFsxXSk7YnJlYWs7Y2FzZSBuLkZMT0FUX1ZFQzM6MTxyLnNpemU/dC5sZW5ndGgmJm4udW5pZm9ybTNmdihpLHQpOm4udW5pZm9ybTNmKGksdFswXSx0WzFdLHRbMl0pO2JyZWFrO2Nhc2Ugbi5GTE9BVF9WRUM0OjE8ci5zaXplP3QubGVuZ3RoJiZuLnVuaWZvcm00ZnYoaSx0KTpuLnVuaWZvcm00ZihpLHRbMF0sdFsxXSx0WzJdLHRbM10pO2JyZWFrO2Nhc2Ugbi5JTlRfVkVDMjoxPHIuc2l6ZT90Lmxlbmd0aCYmbi51bmlmb3JtMml2KGksdCk6bi51bmlmb3JtMmkoaSx0WzBdLHRbMV0pO2JyZWFrO2Nhc2Ugbi5JTlRfVkVDMzoxPHIuc2l6ZT90Lmxlbmd0aCYmbi51bmlmb3JtM2l2KGksdCk6bi51bmlmb3JtM2koaSx0WzBdLHRbMV0sdFsyXSk7YnJlYWs7Y2FzZSBuLklOVF9WRUM0OjE8ci5zaXplP3QubGVuZ3RoJiZuLnVuaWZvcm00aXYoaSx0KTpuLnVuaWZvcm00aShpLHRbMF0sdFsxXSx0WzJdLHRbM10pO2JyZWFrO2Nhc2Ugbi5TQU1QTEVSXzJEOm4uYWN0aXZlVGV4dHVyZShuLlRFWFRVUkUwK3Iuc2FtcGxlckluZGV4KSxyLnRleHR1cmU9dGhpcy5fcmVuZGVyZXIuZ2V0VGV4dHVyZSh0KSxuLnVuaWZvcm0xaShyLmxvY2F0aW9uLHIuc2FtcGxlckluZGV4KX1yZXR1cm4gdGhpc319LGkuU2hhZGVyLnByb3RvdHlwZS5pc0xpZ2h0U2hhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMudW5pZm9ybXMudVVzZUxpZ2h0aW5nfHx2b2lkIDAhPT10aGlzLnVuaWZvcm1zLnVBbWJpZW50TGlnaHRDb3VudHx8dm9pZCAwIT09dGhpcy51bmlmb3Jtcy51RGlyZWN0aW9uYWxMaWdodENvdW50fHx2b2lkIDAhPT10aGlzLnVuaWZvcm1zLnVQb2ludExpZ2h0Q291bnR8fHZvaWQgMCE9PXRoaXMudW5pZm9ybXMudUFtYmllbnRDb2xvcnx8dm9pZCAwIT09dGhpcy51bmlmb3Jtcy51RGlyZWN0aW9uYWxDb2xvcnx8dm9pZCAwIT09dGhpcy51bmlmb3Jtcy51UG9pbnRMaWdodExvY2F0aW9ufHx2b2lkIDAhPT10aGlzLnVuaWZvcm1zLnVQb2ludExpZ2h0Q29sb3J8fHZvaWQgMCE9PXRoaXMudW5pZm9ybXMudUxpZ2h0aW5nRGlyZWN0aW9ufHx2b2lkIDAhPT10aGlzLnVuaWZvcm1zLnVTcGVjdWxhcn0saS5TaGFkZXIucHJvdG90eXBlLmlzVGV4dHVyZVNoYWRlcj1mdW5jdGlvbigpe3JldHVybiAwPHRoaXMuc2FtcGxlckluZGV4fSxpLlNoYWRlci5wcm90b3R5cGUuaXNDb2xvclNoYWRlcj1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLmF0dHJpYnV0ZXMuYVZlcnRleENvbG9yfHx2b2lkIDAhPT10aGlzLnVuaWZvcm1zLnVNYXRlcmlhbENvbG9yfSxpLlNoYWRlci5wcm90b3R5cGUuaXNUZXhMaWdodFNoYWRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTGlnaHRTaGFkZXIoKSYmdGhpcy5pc1RleHR1cmVTaGFkZXIoKX0saS5TaGFkZXIucHJvdG90eXBlLmlzU3Ryb2tlU2hhZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMudW5pZm9ybXMudVN0cm9rZVdlaWdodH0saS5TaGFkZXIucHJvdG90eXBlLmVuYWJsZUF0dHJpYj1mdW5jdGlvbihlLHQscixpLG4sbyl7dmFyIGE9dGhpcy5fcmVuZGVyZXIuR0w7cmV0dXJuLTEhPT1lJiYoYS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShlKSxhLnZlcnRleEF0dHJpYlBvaW50ZXIoZSx0LHIsaSxuLG8pKSx0aGlzfSx0LmV4cG9ydHM9aS5TaGFkZXJ9LHtcIi4uL2NvcmUvbWFpblwiOjIzfV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKFwiLi4vY29yZS9tYWluXCIpLGE9ZShcIi4uL2NvcmUvY29uc3RhbnRzXCIpO24uVGV4dHVyZT1mdW5jdGlvbihlLHQpe3RoaXMuX3JlbmRlcmVyPWU7dmFyIHI9dGhpcy5fcmVuZGVyZXIuR0w7dGhpcy5zcmM9dCx0aGlzLmdsVGV4PXZvaWQgMCx0aGlzLmdsVGFyZ2V0PXIuVEVYVFVSRV8yRCx0aGlzLmdsRm9ybWF0PXIuUkdCQSx0aGlzLm1pcG1hcHM9ITEsdGhpcy5nbE1pbkZpbHRlcj1yLkxJTkVBUix0aGlzLmdsTWFnRmlsdGVyPXIuTElORUFSLHRoaXMuZ2xXcmFwUz1yLkNMQU1QX1RPX0VER0UsdGhpcy5nbFdyYXBUPXIuQ0xBTVBfVE9fRURHRSx0aGlzLmlzU3JjTWVkaWFFbGVtZW50PXZvaWQgMCE9PW4uTWVkaWFFbGVtZW50JiZ0IGluc3RhbmNlb2Ygbi5NZWRpYUVsZW1lbnQsdGhpcy5fdmlkZW9QcmV2VXBkYXRlVGltZT0wLHRoaXMuaXNTcmNIVE1MRWxlbWVudD12b2lkIDAhPT1uLkVsZW1lbnQmJnQgaW5zdGFuY2VvZiBuLkVsZW1lbnQmJiEodCBpbnN0YW5jZW9mIG4uR3JhcGhpY3MpLHRoaXMuaXNTcmNQNUltYWdlPXQgaW5zdGFuY2VvZiBuLkltYWdlLHRoaXMuaXNTcmNQNUdyYXBoaWNzPXQgaW5zdGFuY2VvZiBuLkdyYXBoaWNzLHRoaXMuaXNJbWFnZURhdGE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEltYWdlRGF0YSYmdCBpbnN0YW5jZW9mIEltYWdlRGF0YTt2YXIgaT10aGlzLl9nZXRUZXh0dXJlRGF0YUZyb21Tb3VyY2UoKTtyZXR1cm4gdGhpcy53aWR0aD1pLndpZHRoLHRoaXMuaGVpZ2h0PWkuaGVpZ2h0LHRoaXMuaW5pdChpKSx0aGlzfSxuLlRleHR1cmUucHJvdG90eXBlLl9nZXRUZXh0dXJlRGF0YUZyb21Tb3VyY2U9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdGhpcy5pc1NyY1A1SW1hZ2U/ZT10aGlzLnNyYy5jYW52YXM6dGhpcy5pc1NyY01lZGlhRWxlbWVudHx8dGhpcy5pc1NyY1A1R3JhcGhpY3N8fHRoaXMuaXNTcmNIVE1MRWxlbWVudD9lPXRoaXMuc3JjLmVsdDp0aGlzLmlzSW1hZ2VEYXRhJiYoZT10aGlzLnNyYyksZX0sbi5UZXh0dXJlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlbmRlcmVyLkdMO2lmKHRoaXMuZ2xUZXg9dC5jcmVhdGVUZXh0dXJlKCksdGhpcy5iaW5kVGV4dHVyZSgpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5nbE1hZ0ZpbHRlciksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLmdsTWluRmlsdGVyKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdGhpcy5nbFdyYXBTKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdGhpcy5nbFdyYXBUKSwwPT09dGhpcy53aWR0aHx8MD09PXRoaXMuaGVpZ2h0fHx0aGlzLmlzU3JjTWVkaWFFbGVtZW50JiYhdGhpcy5zcmMubG9hZGVkbWV0YWRhdGEpe3ZhciByPW5ldyBVaW50OEFycmF5KFsxLDEsMSwxXSk7dC50ZXhJbWFnZTJEKHRoaXMuZ2xUYXJnZXQsMCx0LlJHQkEsMSwxLDAsdGhpcy5nbEZvcm1hdCx0LlVOU0lHTkVEX0JZVEUscil9ZWxzZSB0LnRleEltYWdlMkQodGhpcy5nbFRhcmdldCwwLHRoaXMuZ2xGb3JtYXQsdGhpcy5nbEZvcm1hdCx0LlVOU0lHTkVEX0JZVEUsZSl9LG4uVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zcmM7aWYoMD09PWUud2lkdGh8fDA9PT1lLmhlaWdodClyZXR1cm4hMTt2YXIgdD10aGlzLl9nZXRUZXh0dXJlRGF0YUZyb21Tb3VyY2UoKSxyPSExLGk9dGhpcy5fcmVuZGVyZXIuR0w7cmV0dXJuIHQud2lkdGghPT10aGlzLndpZHRofHx0LmhlaWdodCE9PXRoaXMuaGVpZ2h0PyhyPSEwLHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzLmlzU3JjUDVJbWFnZT9lLnNldE1vZGlmaWVkKCExKToodGhpcy5pc1NyY01lZGlhRWxlbWVudHx8dGhpcy5pc1NyY0hUTUxFbGVtZW50KSYmZS5zZXRNb2RpZmllZCghMCkpOnRoaXMuaXNTcmNQNUltYWdlP2UuaXNNb2RpZmllZCgpJiYocj0hMCxlLnNldE1vZGlmaWVkKCExKSk6dGhpcy5pc1NyY01lZGlhRWxlbWVudD9lLmlzTW9kaWZpZWQoKT8ocj0hMCxlLnNldE1vZGlmaWVkKCExKSk6ZS5sb2FkZWRtZXRhZGF0YSYmdGhpcy5fdmlkZW9QcmV2VXBkYXRlVGltZSE9PWUudGltZSgpJiYodGhpcy5fdmlkZW9QcmV2VXBkYXRlVGltZT1lLnRpbWUoKSxyPSEwKTp0aGlzLmlzSW1hZ2VEYXRhP2UuX2RpcnR5JiYocj0hKGUuX2RpcnR5PSExKSk6cj0hMCxyJiYodGhpcy5iaW5kVGV4dHVyZSgpLGkudGV4SW1hZ2UyRCh0aGlzLmdsVGFyZ2V0LDAsdGhpcy5nbEZvcm1hdCx0aGlzLmdsRm9ybWF0LGkuVU5TSUdORURfQllURSx0KSkscn0sbi5UZXh0dXJlLnByb3RvdHlwZS5iaW5kVGV4dHVyZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJlci5HTC5iaW5kVGV4dHVyZSh0aGlzLmdsVGFyZ2V0LHRoaXMuZ2xUZXgpLHRoaXN9LG4uVGV4dHVyZS5wcm90b3R5cGUudW5iaW5kVGV4dHVyZT1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmVyLkdMLmJpbmRUZXh0dXJlKHRoaXMuZ2xUYXJnZXQsbnVsbCl9LG4uVGV4dHVyZS5wcm90b3R5cGUuc2V0SW50ZXJwb2xhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3JlbmRlcmVyLkdMO2U9PT1hLk5FQVJFU1Q/dGhpcy5nbE1pbkZpbHRlcj1yLk5FQVJFU1Q6dGhpcy5nbE1pbkZpbHRlcj1yLkxJTkVBUix0PT09YS5ORUFSRVNUP3RoaXMuZ2xNYWdGaWx0ZXI9ci5ORUFSRVNUOnRoaXMuZ2xNYWdGaWx0ZXI9ci5MSU5FQVIsdGhpcy5iaW5kVGV4dHVyZSgpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5nbE1pbkZpbHRlciksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLmdsTWFnRmlsdGVyKSx0aGlzLnVuYmluZFRleHR1cmUoKX0sbi5UZXh0dXJlLnByb3RvdHlwZS5zZXRXcmFwTW9kZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3JlbmRlcmVyLkdMLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PShlJmUtMSl9LG49aSh0aGlzLndpZHRoKSxvPWkodGhpcy53aWR0aCk7ZT09PWEuUkVQRUFUP3RoaXMuZ2xXcmFwUz1uJiZvP3IuUkVQRUFUOihjb25zb2xlLndhcm4oXCJZb3UgdHJpZWQgdG8gc2V0IHRoZSB3cmFwIG1vZGUgdG8gUkVQRUFUIGJ1dCB0aGUgdGV4dHVyZSBzaXplIGlzIG5vdCBhIHBvd2VyIG9mIHR3by4gU2V0dGluZyB0byBDTEFNUCBpbnN0ZWFkXCIpLHIuQ0xBTVBfVE9fRURHRSk6ZT09PWEuTUlSUk9SP3RoaXMuZ2xXcmFwUz1uJiZvP3IuTUlSUk9SRURfUkVQRUFUOihjb25zb2xlLndhcm4oXCJZb3UgdHJpZWQgdG8gc2V0IHRoZSB3cmFwIG1vZGUgdG8gTUlSUk9SIGJ1dCB0aGUgdGV4dHVyZSBzaXplIGlzIG5vdCBhIHBvd2VyIG9mIHR3by4gU2V0dGluZyB0byBDTEFNUCBpbnN0ZWFkXCIpLHIuQ0xBTVBfVE9fRURHRSk6dGhpcy5nbFdyYXBTPXIuQ0xBTVBfVE9fRURHRSx0PT09YS5SRVBFQVQ/dGhpcy5nbFdyYXBUPW4mJm8/ci5SRVBFQVQ6KGNvbnNvbGUud2FybihcIllvdSB0cmllZCB0byBzZXQgdGhlIHdyYXAgbW9kZSB0byBSRVBFQVQgYnV0IHRoZSB0ZXh0dXJlIHNpemUgaXMgbm90IGEgcG93ZXIgb2YgdHdvLiBTZXR0aW5nIHRvIENMQU1QIGluc3RlYWRcIiksci5DTEFNUF9UT19FREdFKTp0PT09YS5NSVJST1I/dGhpcy5nbFdyYXBUPW4mJm8/ci5NSVJST1JFRF9SRVBFQVQ6KGNvbnNvbGUud2FybihcIllvdSB0cmllZCB0byBzZXQgdGhlIHdyYXAgbW9kZSB0byBNSVJST1IgYnV0IHRoZSB0ZXh0dXJlIHNpemUgaXMgbm90IGEgcG93ZXIgb2YgdHdvLiBTZXR0aW5nIHRvIENMQU1QIGluc3RlYWRcIiksci5DTEFNUF9UT19FREdFKTp0aGlzLmdsV3JhcFQ9ci5DTEFNUF9UT19FREdFLHRoaXMuYmluZFRleHR1cmUoKSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9XUkFQX1MsdGhpcy5nbFdyYXBTKSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9XUkFQX1QsdGhpcy5nbFdyYXBUKSx0aGlzLnVuYmluZFRleHR1cmUoKX0sdC5leHBvcnRzPW4uVGV4dHVyZX0se1wiLi4vY29yZS9jb25zdGFudHNcIjoxNyxcIi4uL2NvcmUvbWFpblwiOjIzfV0sNzY6W2Z1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgQj1lKFwiLi4vY29yZS9tYWluXCIpLEU9ZShcIi4uL2NvcmUvY29uc3RhbnRzXCIpO2UoXCIuL3A1LlNoYWRlclwiKSxlKFwiLi9wNS5SZW5kZXJlckdMXCIpLEIuUmVuZGVyZXJHTC5wcm90b3R5cGUuX2FwcGx5VGV4dFByb3BlcnRpZXM9ZnVuY3Rpb24oKXt9LEIuUmVuZGVyZXJHTC5wcm90b3R5cGUudGV4dFdpZHRoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pc09wZW5UeXBlKCk/dGhpcy5fdGV4dEZvbnQuX3RleHRXaWR0aChlLHRoaXMuX3RleHRTaXplKTowfTtmdW5jdGlvbiBpKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5pbmZvcz1bXSx0aGlzLmZpbmRJbWFnZT1mdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcy53aWR0aCp0aGlzLmhlaWdodDtpZihpPGUpdGhyb3cgbmV3IEVycm9yKFwiZm9udCBpcyB0b28gY29tcGxleCB0byByZW5kZXIgaW4gM0RcIik7Zm9yKHZhciBuPXRoaXMuaW5mb3MubGVuZ3RoLTE7MDw9bjstLW4pe3ZhciBvPXRoaXMuaW5mb3Nbbl07aWYoby5pbmRleCtlPGkpe3I9KHQ9bykuaW1hZ2VEYXRhO2JyZWFrfX1pZighdCl7dHJ5e3I9bmV3IEltYWdlRGF0YSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX1jYXRjaChlKXt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNhbnZhc1wiKVswXSxzPSFhO2F8fCgoYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSkpO3ZhciBoPWEuZ2V0Q29udGV4dChcIjJkXCIpO2gmJihyPWguY3JlYXRlSW1hZ2VEYXRhKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSxzJiZkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpfXQ9e2luZGV4OjAsaW1hZ2VEYXRhOnJ9LHRoaXMuaW5mb3MucHVzaCh0KX12YXIgbD10LmluZGV4O3JldHVybiB0LmluZGV4Kz1lLHIuX2RpcnR5PSEwLHtpbWFnZURhdGE6cixpbmRleDpsfX19ZnVuY3Rpb24gRihlLHQscixpLG4pe3ZhciBvPWUuaW1hZ2VEYXRhLmRhdGEsYT00KmUuaW5kZXgrKztvW2ErK109dCxvW2ErK109cixvW2ErK109aSxvW2ErK109bn12YXIgRz1NYXRoLnNxcnQoMyksQz1mdW5jdGlvbihlKXt0aGlzLmZvbnQ9ZSx0aGlzLnN0cm9rZUltYWdlSW5mb3M9bmV3IGkoNjQsNjQpLHRoaXMuY29sRGltSW1hZ2VJbmZvcz1uZXcgaSg2NCw2NCksdGhpcy5yb3dEaW1JbWFnZUluZm9zPW5ldyBpKDY0LDY0KSx0aGlzLmNvbENlbGxJbWFnZUluZm9zPW5ldyBpKDY0LDY0KSx0aGlzLnJvd0NlbGxJbWFnZUluZm9zPW5ldyBpKDY0LDY0KSx0aGlzLmdseXBoSW5mb3M9e30sdGhpcy5nZXRHbHlwaEluZm89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nbHlwaEluZm9zW2UuaW5kZXhdO2lmKHQpcmV0dXJuIHQ7dmFyIHIsaT1lLmdldEJvdW5kaW5nQm94KCksbj1pLngxLG89aS55MSxhPWkueDItbixzPWkueTItbyxoPWUucGF0aC5jb21tYW5kcztpZigwPT09YXx8MD09PXN8fCFoLmxlbmd0aClyZXR1cm4gdGhpcy5nbHlwaEluZm9zW2UuaW5kZXhdPXt9O3ZhciBsLHUsYyxwLGQ9W10sZj1bXSxtPVtdO2ZvcihyPTg7MDw9cjstLXIpbS5wdXNoKFtdKTtmb3Iocj04OzA8PXI7LS1yKWYucHVzaChbXSk7ZnVuY3Rpb24gdihlLHQscil7dmFyIGk9ZC5sZW5ndGg7ZnVuY3Rpb24gbihlLHQscil7Zm9yKHZhciBpPWUubGVuZ3RoOzA8aS0tOyl7dmFyIG49ZVtpXTtuPHQmJih0PW4pLHI8biYmKHI9bil9cmV0dXJue21pbjp0LG1heDpyfX1kLnB1c2gocik7Zm9yKHZhciBvPW4oZSwxLDApLGE9TWF0aC5tYXgoTWF0aC5mbG9vcig5Km8ubWluKSwwKSxzPU1hdGgubWluKE1hdGguY2VpbCg5Km8ubWF4KSw5KSxoPWE7aDxzOysraCltW2hdLnB1c2goaSk7Zm9yKHZhciBsPW4odCwxLDApLHU9TWF0aC5tYXgoTWF0aC5mbG9vcig5KmwubWluKSwwKSxjPU1hdGgubWluKE1hdGguY2VpbCg5KmwubWF4KSw5KSxwPXU7cDxjOysrcClmW3BdLnB1c2goaSl9ZnVuY3Rpb24gZyhlKXtyZXR1cm4odD0oaT0yNTUpKmUpPChyPTApP3I6aTx0P2k6dDt2YXIgdCxyLGl9ZnVuY3Rpb24geShlLHQscixpKXt0aGlzLnAwPWUsdGhpcy5jMD10LHRoaXMuYzE9cix0aGlzLnAxPWksdGhpcy50b1F1YWRyYXRpYz1mdW5jdGlvbigpe3JldHVybnt4OnRoaXMucDAueCx5OnRoaXMucDAueSx4MTp0aGlzLnAxLngseTE6dGhpcy5wMS55LGN4OigzKih0aGlzLmMwLngrdGhpcy5jMS54KS0odGhpcy5wMC54K3RoaXMucDEueCkpLzQsY3k6KDMqKHRoaXMuYzAueSt0aGlzLmMxLnkpLSh0aGlzLnAwLnkrdGhpcy5wMS55KSkvNH19LHRoaXMucXVhZEVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIEIuVmVjdG9yLnN1YihCLlZlY3Rvci5zdWIodGhpcy5wMSx0aGlzLnAwKSxCLlZlY3Rvci5tdWx0KEIuVmVjdG9yLnN1Yih0aGlzLmMxLHRoaXMuYzApLDMpKS5tYWcoKS8yfSx0aGlzLnNwbGl0PWZ1bmN0aW9uKGUpe3ZhciB0PUIuVmVjdG9yLmxlcnAodGhpcy5wMCx0aGlzLmMwLGUpLHI9Qi5WZWN0b3IubGVycCh0aGlzLmMwLHRoaXMuYzEsZSksaT1CLlZlY3Rvci5sZXJwKHQscixlKTt0aGlzLmMxPUIuVmVjdG9yLmxlcnAodGhpcy5jMSx0aGlzLnAxLGUpLHRoaXMuYzA9Qi5WZWN0b3IubGVycChyLHRoaXMuYzEsZSk7dmFyIG49Qi5WZWN0b3IubGVycChpLHRoaXMuYzAsZSksbz1uZXcgeSh0aGlzLnAwLHQsaSxuKTtyZXR1cm4gdGhpcy5wMD1uLG99LHRoaXMuc3BsaXRJbmZsZWN0aW9ucz1mdW5jdGlvbigpe3ZhciBlPUIuVmVjdG9yLnN1Yih0aGlzLmMwLHRoaXMucDApLHQ9Qi5WZWN0b3Iuc3ViKEIuVmVjdG9yLnN1Yih0aGlzLmMxLHRoaXMuYzApLGUpLHI9Qi5WZWN0b3Iuc3ViKEIuVmVjdG9yLnN1YihCLlZlY3Rvci5zdWIodGhpcy5wMSx0aGlzLmMxKSxlKSxCLlZlY3Rvci5tdWx0KHQsMikpLGk9W10sbj10Lngqci55LXQueSpyLng7aWYoMCE9PW4pe3ZhciBvPWUueCpyLnktZS55KnIueCxhPWUueCp0LnktZS55KnQueCxzPW8qby00Km4qYTtpZigwPD1zKXtuPDAmJihuPS1uLG89LW8sYT0tYSk7dmFyIGg9TWF0aC5zcXJ0KHMpLGw9KC1vLWgpLygyKm4pLHU9KC1vK2gpLygyKm4pOzA8bCYmbDwxJiYoaS5wdXNoKHRoaXMuc3BsaXQobCkpLHU9MS0oMS11KS8oMS1sKSksMDx1JiZ1PDEmJmkucHVzaCh0aGlzLnNwbGl0KHUpKX19cmV0dXJuIGkucHVzaCh0aGlzKSxpfX1mdW5jdGlvbiBiKGUsdCxyLGksbixvLGEscyl7Zm9yKHZhciBoPW5ldyB5KG5ldyBCLlZlY3RvcihlLHQpLG5ldyBCLlZlY3RvcihyLGkpLG5ldyBCLlZlY3RvcihuLG8pLG5ldyBCLlZlY3RvcihhLHMpKS5zcGxpdEluZmxlY3Rpb25zKCksbD1bXSx1PTMwL0csYz0wO2M8aC5sZW5ndGg7YysrKXtmb3IodmFyIHAsZD1oW2NdLGY9W107ISguMTI1PD0ocD11L2QucXVhZEVycm9yKCkpKTspe3ZhciBtPU1hdGgucG93KHAsMS8zKSx2PWQuc3BsaXQobSksZz1kLnNwbGl0KDEtbS8oMS1tKSk7bC5wdXNoKHYpLGYucHVzaChkKSxkPWd9cDwxJiZsLnB1c2goZC5zcGxpdCguNSkpLGwucHVzaChkKSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLGYucmV2ZXJzZSgpKX1yZXR1cm4gbH1mdW5jdGlvbiBfKGUsdCxyLGkpe3YoW2Uscl0sW3QsaV0se3g6ZSx5OnQsY3g6KGUrcikvMixjeToodCtpKS8yfSl9ZnVuY3Rpb24geChlLHQscixpKXtyZXR1cm4gTWF0aC5hYnMoci1lKTwxZS01JiZNYXRoLmFicyhpLXQpPDFlLTV9Zm9yKHZhciB3PTA7dzxoLmxlbmd0aDsrK3cpe3ZhciBTPWhbd10sVD0oUy54LW4pL2EsTT0oUy55LW8pL3M7aWYoIXgobCx1LFQsTSkpe3N3aXRjaChTLnR5cGUpe2Nhc2VcIk1cIjpjPVQscD1NO2JyZWFrO2Nhc2VcIkxcIjpfKGwsdSxULE0pO2JyZWFrO2Nhc2VcIlFcIjp2YXIgRT0oUy54MS1uKS9hLEM9KFMueTEtbykvczt2KFtsLFQsRV0sW3UsTSxDXSx7eDpsLHk6dSxjeDpFLGN5OkN9KTticmVhaztjYXNlXCJaXCI6eChsLHUsYyxwKT9kLnB1c2goe3g6bCx5OnV9KTooXyhsLHUsYyxwKSxkLnB1c2goe3g6Yyx5OnB9KSk7YnJlYWs7Y2FzZVwiQ1wiOmZvcih2YXIgUj1iKGwsdSwoUy54MS1uKS9hLChTLnkxLW8pL3MsKFMueDItbikvYSwoUy55Mi1vKS9zLFQsTSksTD0wO0w8Ui5sZW5ndGg7TCsrKXt2YXIgUD1SW0xdLnRvUXVhZHJhdGljKCk7dihbUC54LFAueDEsUC5jeF0sW1AueSxQLnkxLFAuY3ldLFApfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb21tYW5kIHR5cGU6IFwiK1MudHlwZSl9bD1ULHU9TX19Zm9yKHZhciBrPWQubGVuZ3RoLEk9dGhpcy5zdHJva2VJbWFnZUluZm9zLmZpbmRJbWFnZShrKSxEPUkuaW5kZXgsQT0wO0E8azsrK0Epe3ZhciBVPWRbQV07RihJLGcoVS54KSxnKFUueSksZyhVLmN4KSxnKFUuY3kpKX1mdW5jdGlvbiBPKGUsdCxyKXtmb3IodmFyIGk9ZS5sZW5ndGgsbj10LmZpbmRJbWFnZShpKSxvPW4uaW5kZXgsYT0wLHM9MDtzPGk7KytzKWErPWVbc10ubGVuZ3RoO2Zvcih2YXIgaD1yLmZpbmRJbWFnZShhKSxsPTA7bDxpOysrbCl7dmFyIHU9ZVtsXSxjPXUubGVuZ3RoLHA9aC5pbmRleDtGKG4scD4+NywxMjcmcCxjPj43LDEyNyZjKTtmb3IodmFyIGQ9MDtkPGM7KytkKXt2YXIgZj11W2RdK0Q7RihoLGY+PjcsMTI3JmYsMCwwKX19cmV0dXJue2NlbGxJbWFnZUluZm86aCxkaW1PZmZzZXQ6byxkaW1JbWFnZUluZm86bn19cmV0dXJuKHQ9dGhpcy5nbHlwaEluZm9zW2UuaW5kZXhdPXtnbHlwaDplLHVHbHlwaFJlY3Q6W2kueDEsLWkueTEsaS54MiwtaS55Ml0sc3Ryb2tlSW1hZ2VJbmZvOkksc3Ryb2tlczpkLGNvbEluZm86TyhtLHRoaXMuY29sRGltSW1hZ2VJbmZvcyx0aGlzLmNvbENlbGxJbWFnZUluZm9zKSxyb3dJbmZvOk8oZix0aGlzLnJvd0RpbUltYWdlSW5mb3MsdGhpcy5yb3dDZWxsSW1hZ2VJbmZvcyl9KS51R3JpZE9mZnNldD1bdC5jb2xJbmZvLmRpbU9mZnNldCx0LnJvd0luZm8uZGltT2Zmc2V0XSx0fX07Qi5SZW5kZXJlckdMLnByb3RvdHlwZS5fcmVuZGVyVGV4dD1mdW5jdGlvbihlLHQscixpLG4pe2lmKCEobjw9aSkmJnRoaXMuX2RvRmlsbCl7aWYoIXRoaXMuX2lzT3BlblR5cGUoKSlyZXR1cm4gY29uc29sZS5sb2coXCJXRUJHTDogb25seSBvcGVudHlwZSBmb250cyBhcmUgc3VwcG9ydGVkXCIpLGU7ZS5wdXNoKCk7dmFyIG89dGhpcy5jdXJGaWxsU2hhZGVyLGE9dGhpcy5fZG9TdHJva2Uscz10aGlzLmRyYXdNb2RlO3RoaXMuY3VyRmlsbFNoYWRlcj1udWxsLHRoaXMuX2RvU3Ryb2tlPSExLHRoaXMuZHJhd01vZGU9RS5URVhUVVJFO3ZhciBoPXRoaXMuX3RleHRGb250LmZvbnQsbD10aGlzLl90ZXh0Rm9udC5fZm9udEluZm87bHx8KGw9dGhpcy5fdGV4dEZvbnQuX2ZvbnRJbmZvPW5ldyBDKGgpKTt2YXIgdT10aGlzLl90ZXh0Rm9udC5faGFuZGxlQWxpZ25tZW50KHRoaXMsdCxyLGkpLGM9dGhpcy5fdGV4dFNpemUvaC51bml0c1BlckVtO3RoaXMudHJhbnNsYXRlKHUueCx1LnksMCksdGhpcy5zY2FsZShjLGMsMSk7dmFyIHA9dGhpcy5HTCxkPSF0aGlzLl9kZWZhdWx0Rm9udFNoYWRlcixmPXRoaXMuc2V0RmlsbFNoYWRlcih0aGlzLl9nZXRGb250U2hhZGVyKCkpO2QmJihmLnNldFVuaWZvcm0oXCJ1R3JpZEltYWdlU2l6ZVwiLFs2NCw2NF0pLGYuc2V0VW5pZm9ybShcInVDZWxsc0ltYWdlU2l6ZVwiLFs2NCw2NF0pLGYuc2V0VW5pZm9ybShcInVTdHJva2VJbWFnZVNpemVcIixbNjQsNjRdKSxmLnNldFVuaWZvcm0oXCJ1R3JpZFNpemVcIixbOSw5XSkpLHRoaXMuX2FwcGx5Q29sb3JCbGVuZCh0aGlzLmN1ckZpbGxDb2xvcik7dmFyIG09dGhpcy5nSGFzaC5nbHlwaDtpZighbSl7dmFyIHY9dGhpcy5fdGV4dEdlb209bmV3IEIuR2VvbWV0cnkoMSwxLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTw9MTtlKyspZm9yKHZhciB0PTA7dDw9MTt0KyspdGhpcy52ZXJ0aWNlcy5wdXNoKG5ldyBCLlZlY3Rvcih0LGUsMCkpLHRoaXMudXZzLnB1c2godCxlKX0pO3YuY29tcHV0ZUZhY2VzKCkuY29tcHV0ZU5vcm1hbHMoKSxtPXRoaXMuY3JlYXRlQnVmZmVycyhcImdseXBoXCIsdil9dGhpcy5fYmluZEJ1ZmZlcihtLnZlcnRleEJ1ZmZlcixwLkFSUkFZX0JVRkZFUiksZi5lbmFibGVBdHRyaWIoZi5hdHRyaWJ1dGVzLmFQb3NpdGlvbi5sb2NhdGlvbiwzLHAuRkxPQVQsITEsMCwwKSx0aGlzLl9iaW5kQnVmZmVyKG0uaW5kZXhCdWZmZXIscC5FTEVNRU5UX0FSUkFZX0JVRkZFUiksdGhpcy5fYmluZEJ1ZmZlcihtLnV2QnVmZmVyLHAuQVJSQVlfQlVGRkVSKSxmLmVuYWJsZUF0dHJpYihmLmF0dHJpYnV0ZXMuYVRleENvb3JkLmxvY2F0aW9uLDIscC5GTE9BVCwhMSwwLDApLGYuc2V0VW5pZm9ybShcInVNYXRlcmlhbENvbG9yXCIsdGhpcy5jdXJGaWxsQ29sb3IpO3RyeXtmb3IodmFyIGc9MCx5PW51bGwsYj0hMSxfPWguc3RyaW5nVG9HbHlwaHModCkseD0wO3g8Xy5sZW5ndGg7Kyt4KXt2YXIgdz1fW3hdO3kmJihnKz1oLmdldEtlcm5pbmdWYWx1ZSh5LHcpKTt2YXIgUz1sLmdldEdseXBoSW5mbyh3KTtpZihTLnVHbHlwaFJlY3Qpe3ZhciBUPVMucm93SW5mbyxNPVMuY29sSW5mbztmLnNldFVuaWZvcm0oXCJ1U2FtcGxlclN0cm9rZXNcIixTLnN0cm9rZUltYWdlSW5mby5pbWFnZURhdGEpLGYuc2V0VW5pZm9ybShcInVTYW1wbGVyUm93U3Ryb2tlc1wiLFQuY2VsbEltYWdlSW5mby5pbWFnZURhdGEpLGYuc2V0VW5pZm9ybShcInVTYW1wbGVyUm93c1wiLFQuZGltSW1hZ2VJbmZvLmltYWdlRGF0YSksZi5zZXRVbmlmb3JtKFwidVNhbXBsZXJDb2xTdHJva2VzXCIsTS5jZWxsSW1hZ2VJbmZvLmltYWdlRGF0YSksZi5zZXRVbmlmb3JtKFwidVNhbXBsZXJDb2xzXCIsTS5kaW1JbWFnZUluZm8uaW1hZ2VEYXRhKSxmLnNldFVuaWZvcm0oXCJ1R3JpZE9mZnNldFwiLFMudUdyaWRPZmZzZXQpLGYuc2V0VW5pZm9ybShcInVHbHlwaFJlY3RcIixTLnVHbHlwaFJlY3QpLGYuc2V0VW5pZm9ybShcInVHbHlwaE9mZnNldFwiLGcpLGI/Zi5iaW5kVGV4dHVyZXMoKTooYj0hMCxmLmJpbmRTaGFkZXIoKSkscC5kcmF3RWxlbWVudHMocC5UUklBTkdMRVMsNix0aGlzLkdMLlVOU0lHTkVEX1NIT1JULDApfWcrPXcuYWR2YW5jZVdpZHRoLHk9d319ZmluYWxseXtmLnVuYmluZFNoYWRlcigpLHRoaXMuY3VyRmlsbFNoYWRlcj1vLHRoaXMuX2RvU3Ryb2tlPWEsdGhpcy5kcmF3TW9kZT1zLGUucG9wKCl9cmV0dXJuIHRoaXMuX3BJbnN0Ll9waXhlbHNEaXJ0eT0hMCxlfX19LHtcIi4uL2NvcmUvY29uc3RhbnRzXCI6MTcsXCIuLi9jb3JlL21haW5cIjoyMyxcIi4vcDUuUmVuZGVyZXJHTFwiOjczLFwiLi9wNS5TaGFkZXJcIjo3NH1dfSx7fSxbMTJdKSgxMil9KTsiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xcbiAgICBtaW4td2lkdGg6IDM0M3B4O1xcbn1cXG5cXG4jYmVha2VyIHtcXG4gICAgZmxvYXQ6IGxlZnQ7XFxufVxcblxcbiNwYXJ0aWNsZS10YWJsZSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogMTAwcHg7XFxuICAgIHRvcDogNDIwcHg7XFxufVxcblxcbiNwYXJ0aWNsZS10YWJsZSA+IGRpdiB7XFxuICAgIGZsb2F0OiBsZWZ0O1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbiNwYXJ0aWNsZS10YWJsZSBkaXYucGFydGljbGUge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIGhlaWdodDogNDBweDtcXG59XFxuXFxuI3BhcnRpY2xlLXRhYmxlIGRpdi5wYXJ0aWNsZSBpbWcucHJvdG9uIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiAyNnB4O1xcbiAgICB0b3A6IDA7XFxufVxcblxcbiNwYXJ0aWNsZS10YWJsZSAubGFiZWwge1xcbiAgICBtYXJnaW46IDAgMC4yZW07XFxufVxcblxcbiNwSCB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogNDAwcHg7XFxuICAgIHRvcDogMjAwcHg7XFxuICAgIHdpZHRoOiAxMDBweDtcXG59XFxuXFxuI2Jhc2UtdHlwZSB7XFxuICAgIG1hcmdpbjogYXV0bztcXG4gICAgd2lkdGg6IDUwJTtcXG59XFxuXFxuI2Jhc2UtdHlwZSA+IGlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl0ge1xcbiAgICBtYXJnaW4tbGVmdDogMTNweDtcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjMpO1xcbn1cXG5cXG4jYmFzZS10eXBlLWltZy1jb250YWluZXIge1xcbiAgICBoZWlnaHQ6IDM1cHg7XFxufVxcblxcbiNzdHJvbmctYmFzZS1sYWJlbCB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgbGVmdDogNTBweDtcXG59XFxuXFxuI3dlYWstYmFzZS1sYWJlbCB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgbGVmdDogMTE1cHg7XFxufVxcblwiLCBcIlwiXSk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiAnQG1lZGlhICcgKyBpdGVtWzJdICsgJ3snICsgY29udGVudCArICd9JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBtb2R1bGVzW2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSAnKCcgKyBpdGVtWzJdICsgJykgYW5kICgnICsgbWVkaWFRdWVyeSArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJztcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcbiAgcmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn0iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgcGFyZW50KSB7XG4gIGlmIChwYXJlbnQpe1xuICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICB9XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCwgcGFyZW50KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUsIHRhcmdldCk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0aWYob3B0aW9ucy5hdHRycy5ub25jZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcblx0XHRpZiAobm9uY2UpIHtcblx0XHRcdG9wdGlvbnMuYXR0cnMubm9uY2UgPSBub25jZTtcblx0XHR9XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXROb25jZSgpIHtcblx0aWYgKHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBfX3dlYnBhY2tfbm9uY2VfXztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbidcblx0XHQgPyBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKSBcblx0XHQgOiBvcHRpb25zLnRyYW5zZm9ybS5kZWZhdWx0KG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgJy4vc3R5bGUuY3NzJztcblxuaW1wb3J0IHtkZWZhdWx0IGFzIFA1fSBmcm9tICdwNSdcbmltcG9ydCBTa2V0Y2ggZnJvbSAnLi9za2V0Y2guanMnXG5cbmV4cG9ydCBjb25zdCBwNV9za2V0Y2ggPSBuZXcgUDUoU2tldGNoLCdiZWFrZXInKTtcbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBTa2V0Y2ggY2xhc3MgZm9yIHVzZSB3aXRoIHRoZSBCaW9sYWIgYWN0aXZpdHkgc3VpdGUuXG4gKiBAY29weXJpZ2h0IENhcm5lZ2llIE1lbGxvbiBVbml2ZXJzaXR5IDIwMTlcbiAqIEBhdXRob3Igem1pbmVyb2ZmQGNtdS5lZHUgKFphY2ggTWluZXJvZmYpXG4gKi9cblxuaW1wb3J0ICdAY211LWViZXJseS1jZW50ZXIvcDUvbGliL2FkZG9ucy9wNS5kb20uanMnO1xuaW1wb3J0ICdwNS5wbGF5JztcbmltcG9ydCBCZWFrZXIgZnJvbSAncDUuYmVha2VyL2JlYWtlci5qcyc7XG5pbXBvcnQgQ29uanVnYXRlQmFzZSBmcm9tICdwNS5iZWFrZXIvY29uanVnYXRlX2Jhc2UuanMnO1xuaW1wb3J0IFByb3RvbiBmcm9tICdwNS5iZWFrZXIvcHJvdG9uLmpzJztcbmltcG9ydCBTdHJvbmdDb25qdWdhdGVCYXNlIGZyb20gJ3A1LmJlYWtlci9jb25qdWdhdGVfYmFzZS9zdHJvbmcuanMnO1xuaW1wb3J0IFdlYWtDb25qdWdhdGVCYXNlIGZyb20gJ3A1LmJlYWtlci9jb25qdWdhdGVfYmFzZS93ZWFrLmpzJztcblxuXG5leHBvcnQgY29uc3QgbnVtQ29uanVnYXRlQmFzZXMgPSAxMDtcbmV4cG9ydCBjb25zdCBudW1Qcm90b25zID0gMTA7XG5leHBvcnQgbGV0IG51bUFjaWRzID0gMDtcbmV4cG9ydCBsZXQgY29uanVnYXRlQmFzZVR5cGUgPSAnV2Vha0Nvbmp1Z2F0ZUJhc2UnO1xuXG5cbnZhciBwYXJ0aWNsZVRhYmxlVXBkYXRlID0gZnVuY3Rpb24ocE51bUFjaWRzLHBOdW1Db25qdWdhdGVCYXNlcykge1xuICBwTnVtQWNpZHMuaHRtbChudW1BY2lkcyk7XG4gIHBOdW1Db25qdWdhdGVCYXNlcy5odG1sKG51bUNvbmp1Z2F0ZUJhc2VzLW51bUFjaWRzKTtcbn1cblxudmFyIHBhcnRpY2xlVGFibGVDb2x1bW4gPSBmdW5jdGlvbihwLHRhYmxlLGNvbHVtbl9kYXRhKSB7XG4gIGNvbnN0IGltYWdlcyA9IGNvbHVtbl9kYXRhW1wiaW1hZ2VzXCJdO1xuICBjb25zdCBpbWFnZV9kaXYgPSBwLmNyZWF0ZURpdigpLmNsYXNzKFwicGFydGljbGVcIik7XG4gIGlmIChpbWFnZXMpIHtcbiAgICAgIGltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xuICAgICAgICAgIGltYWdlX2Rpdi5jaGlsZChpbWFnZSk7XG4gICAgICB9KTtcbiAgfVxuICBjb25zdCBsYWJlbCA9IGNvbHVtbl9kYXRhW1wibGFiZWxcIl07XG4gIGNvbnN0IGRhdGEgPSBjb2x1bW5fZGF0YVtcImRhdGFcIl07XG4gIGNvbnN0IGNvbHVtbiA9IHAuY3JlYXRlRGl2KCk7XG4gIGNvbHVtbi5cbiAgICAgIGNoaWxkKGltYWdlX2RpdikuXG4gICAgICBjaGlsZChwLmNyZWF0ZVAobGFiZWwpLmNsYXNzKFwibGFiZWxcIikpLlxuICAgICAgY2hpbGQoZGF0YSk7XG4gIHRhYmxlLmNoaWxkKGNvbHVtbik7XG59XG5cbnZhciBwYXJ0aWNsZVRhYmxlU2V0dXAgPSBmdW5jdGlvbihwLHBOdW1BY2lkcyxwTnVtQ29uanVnYXRlQmFzZXMpIHtcbiAgdmFyIHRhYmxlID0gcC5jcmVhdGVEaXYoKS5pZChcInBhcnRpY2xlLXRhYmxlXCIpXG5cbiAgLy8gQWNpZCBjb2x1bW5cbiAgY29uc3QgYWNpZF9jb2x1bW5fZGF0YSA9IHt9O1xuICBhY2lkX2NvbHVtbl9kYXRhW1wiaW1hZ2VzXCJdID0gW1xuICAgICAgcC5jcmVhdGVJbWcoQ29uanVnYXRlQmFzZS5wcm90b3R5cGUuXG4gICAgICAgICAgICAgICAgICBpbWFnZV9wYXRoLCdDb25qdWdhdGUgQmFzZScpLmNsYXNzKFwiYmFzZVwiKSxcbiAgICAgIHAuY3JlYXRlSW1nKFByb3Rvbi5wcm90b3R5cGUuXG4gICAgICAgICAgICAgICAgICBpbWFnZV9wYXRoLCdQcm90b24nKS5jbGFzcyhcInByb3RvblwiKVxuICBdO1xuICBhY2lkX2NvbHVtbl9kYXRhW1wibGFiZWxcIl0gPSBcImFjaWRcIjtcbiAgYWNpZF9jb2x1bW5fZGF0YVtcImRhdGFcIl0gPSBwTnVtQWNpZHM7XG4gIHBhcnRpY2xlVGFibGVDb2x1bW4ocCx0YWJsZSxhY2lkX2NvbHVtbl9kYXRhKTtcblxuICAvLyBDb21wYXJpc29uIGNvbHVtblxuICBjb25zdCBjb21wYXJpc29uX2NvbHVtbl9kYXRhID0ge307XG4gIGNvbXBhcmlzb25fY29sdW1uX2RhdGFbXCJsYWJlbFwiXSA9IFwiJmx0Oz0mZ3Q7XCJcbiAgcGFydGljbGVUYWJsZUNvbHVtbihwLHRhYmxlLGNvbXBhcmlzb25fY29sdW1uX2RhdGEpO1xuXG4gIC8vIENvbmp1Z2F0ZSBiYXNlIGNvbHVtblxuICBjb25zdCBjb25qdWdhdGVfYmFzZV9jb2x1bW5fZGF0YSA9IHt9O1xuICBjb25qdWdhdGVfYmFzZV9jb2x1bW5fZGF0YVtcImltYWdlc1wiXSA9IFtcbiAgICAgIHAuY3JlYXRlSW1nKENvbmp1Z2F0ZUJhc2UuXG4gICAgICAgICAgICAgICAgICBwcm90b3R5cGUuaW1hZ2VfcGF0aCxcbiAgICAgICAgICAgICAgICAgICdDb25qdWdhdGUgQmFzZScpXG4gIF07XG4gIGNvbmp1Z2F0ZV9iYXNlX2NvbHVtbl9kYXRhW1wibGFiZWxcIl0gPSBcImNvbmp1Z2F0ZSBiYXNlXCI7XG4gIGNvbmp1Z2F0ZV9iYXNlX2NvbHVtbl9kYXRhW1wiZGF0YVwiXSA9IHBOdW1Db25qdWdhdGVCYXNlcztcbiAgcGFydGljbGVUYWJsZUNvbHVtbihwLHRhYmxlLGNvbmp1Z2F0ZV9iYXNlX2NvbHVtbl9kYXRhKTtcblxufTtcblxudmFyIGRpc3BsYXlQSFNldHVwID0gZnVuY3Rpb24ocFBIKSB7XG4gIHZhciBwSCA9IC03LjAqKHBhcnNlRmxvYXQobnVtUHJvdG9ucyktNjQuMCkvMzIuMDtcbiAgcFBILmh0bWwoYHBIOiAke051bWJlcigocEgpLnRvRml4ZWQoMikpfWApO1xufVxuXG4vLyBTZWxlY3Qgc3Ryb25nIHZzIHdlYWsgYWNpZFxudmFyIGlucHV0QmFzZVR5cGVTZXR1cCA9IGZ1bmN0aW9uIChwLGlucHV0QmFzZVR5cGUsYmVha2VyKSB7XG4gIC8qKiBAdGhpcyBwNS5FbGVtZW50ICovXG4gIHZhciBpbnB1dEJhc2VUeXBlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5ld0Jhc2VUeXBlID0gdGhpcy52YWx1ZSgpO1xuXG4gICAgLy8gUmVtb3ZlIGFsbCBwYXJ0aWNsZXNcbiAgICBmb3IgKHZhciBpID0gbnVtQ29uanVnYXRlQmFzZXM7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHNwcml0ZSA9IGJlYWtlci5wYXJ0aWNsZXNbY29uanVnYXRlQmFzZVR5cGVdLnNwcml0ZXMuZ2V0KGktMSk7XG4gICAgICAgIHNwcml0ZS5wYXJ0aWNsZS5yZW1vdmUoKTtcbiAgICAgICAgZGVsZXRlIHNwcml0ZS5wYXJ0aWNsZTtcbiAgICB9XG5cbiAgICBudW1BY2lkcz0wO1xuXG4gICAgLy8gQWRkIG5ldyBwYXJ0aWNsZXNcbiAgICBpZiAobmV3QmFzZVR5cGU9PT1cIlN0cm9uZ0Nvbmp1Z2F0ZUJhc2VcIikge1xuICAgICAgICBiZWFrZXIuYWRkUGFydGljbGVzKFN0cm9uZ0Nvbmp1Z2F0ZUJhc2UsbnVtQ29uanVnYXRlQmFzZXMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChuZXdCYXNlVHlwZT09PVwiV2Vha0Nvbmp1Z2F0ZUJhc2VcIikge1xuICAgICAgICBiZWFrZXIuYWRkUGFydGljbGVzKFdlYWtDb25qdWdhdGVCYXNlLG51bUNvbmp1Z2F0ZUJhc2VzKTtcbiAgICB9XG5cbiAgICBjb25qdWdhdGVCYXNlVHlwZSA9IG5ld0Jhc2VUeXBlO1xuICB9O1xuXG4gIGlucHV0QmFzZVR5cGUuaW5wdXQoaW5wdXRCYXNlVHlwZUV2ZW50KTtcblxuICBpbnB1dEJhc2VUeXBlLmlkKCk7XG59XG5cbi8vIFJlZ2lzdGVyIGNhbGxiYWNrcyB0byB1cGRhdGUgVUlcbnZhciByZWdpc3RlclVJQ2FsbGJhY2tzID0gZnVuY3Rpb24gKHBOdW1BY2lkcyxwTnVtQ29uanVnYXRlQmFzZXMpIHtcbiAgU3Ryb25nQ29uanVnYXRlQmFzZS5wcm90b3R5cGUucmVnaXN0ZXJfY2FsbGJhY2soXCJyZWxlYXNlX3Byb3RvblwiLFwicHJlXCIsXG4gICAgKCkgPT4ge1xuICAgICAgbnVtQWNpZHMgLT0gMTtcbiAgICAgIHBhcnRpY2xlVGFibGVVcGRhdGUocE51bUFjaWRzLFxuICAgICAgICBwTnVtQ29uanVnYXRlQmFzZXMpO1xuICAgIH0pO1xuICBTdHJvbmdDb25qdWdhdGVCYXNlLnByb3RvdHlwZS5yZWdpc3Rlcl9jYWxsYmFjayhcInJlYWN0c193aXRoX3Byb3RvblwiLFwicG9zdFwiLFxuICAgICgpID0+IHtcbiAgICAgIG51bUFjaWRzICs9IDE7XG4gICAgICBwYXJ0aWNsZVRhYmxlVXBkYXRlKHBOdW1BY2lkcyxwTnVtQ29uanVnYXRlQmFzZXMpO1xuICAgIH0pO1xuICBXZWFrQ29uanVnYXRlQmFzZS5wcm90b3R5cGUucmVnaXN0ZXJfY2FsbGJhY2soXCJyZWxlYXNlX3Byb3RvblwiLFwicHJlXCIsXG4gICAgKCkgPT4ge1xuICAgICAgbnVtQWNpZHMgLT0gMTtcbiAgICAgIHBhcnRpY2xlVGFibGVVcGRhdGUocE51bUFjaWRzLFxuICAgICAgICBwTnVtQ29uanVnYXRlQmFzZXMpO1xuICAgIH0pO1xuICBXZWFrQ29uanVnYXRlQmFzZS5wcm90b3R5cGUucmVnaXN0ZXJfY2FsbGJhY2soXCJyZWFjdHNfd2l0aF9wcm90b25cIixcInBvc3RcIixcbiAgICAoKSA9PiB7XG4gICAgICBudW1BY2lkcyArPSAxO1xuICAgICAgcGFydGljbGVUYWJsZVVwZGF0ZShwTnVtQWNpZHMscE51bUNvbmp1Z2F0ZUJhc2VzKTtcbiAgICB9KTtcbn1cblxuXG52YXIgVUlTZXR1cCA9IGZ1bmN0aW9uKHAsYmVha2VyKSB7XG4gIHZhciBwTnVtQ29uanVnYXRlQmFzZXMgPSBwLmNyZWF0ZVAobnVtQ29uanVnYXRlQmFzZXMpLlxuICAgICAgaWQoXCJudW0tY29uanVnYXRlLWJhc2VzXCIpO1xuICB2YXIgcE51bUFjaWRzID0gcC5jcmVhdGVQKG51bUFjaWRzKS5pZChcIm51bS1hY2lkc1wiKTtcbiAgcGFydGljbGVUYWJsZVNldHVwKHAscE51bUFjaWRzLHBOdW1Db25qdWdhdGVCYXNlcyk7XG5cbiAgdmFyIHBQSCA9IHAuY3JlYXRlUCgnMCcpLmlkKCdwaCcpO1xuICBkaXNwbGF5UEhTZXR1cChwUEgpO1xuXG4gIHZhciBpbnB1dEJhc2VUeXBlID0gcC5jcmVhdGVSYWRpbygnMCcpLmlkKCdiYXNlLXR5cGUnKTtcbiAgdmFyIGJhc2VUeXBlSW1ncyA9IHAuY3JlYXRlRGl2KCkuaWQoJ2Jhc2UtdHlwZS1pbWctY29udGFpbmVyJyk7XG4gIGlucHV0QmFzZVR5cGUuY2hpbGQoYmFzZVR5cGVJbWdzKTtcblxuICBiYXNlVHlwZUltZ3MuY2hpbGQocC5jcmVhdGVJbWcoV2Vha0Nvbmp1Z2F0ZUJhc2UucHJvdG90eXBlLlxuICAgIGltYWdlX3BhdGgsJ1dlYWsgQ29uanVnYXRlIEJhc2UnKS5pZChcInN0cm9uZy1iYXNlLWxhYmVsXCIpKTtcbiAgYmFzZVR5cGVJbWdzLmNoaWxkKHAuY3JlYXRlSW1nKFN0cm9uZ0Nvbmp1Z2F0ZUJhc2UucHJvdG90eXBlLlxuICAgIGltYWdlX3BhdGgsJ1N0cm9uZyBDb25qdWdhdGUgQmFzZScpLmlkKFwid2Vhay1iYXNlLWxhYmVsXCIpKTtcblxuICBpbnB1dEJhc2VUeXBlLm9wdGlvbignc3Ryb25nIGFjaWQnLCdXZWFrQ29uanVnYXRlQmFzZScpO1xuICBpbnB1dEJhc2VUeXBlLm9wdGlvbignd2VhayBhY2lkJywnU3Ryb25nQ29uanVnYXRlQmFzZScpO1xuICBpbnB1dEJhc2VUeXBlLnZhbHVlKGNvbmp1Z2F0ZUJhc2VUeXBlKTtcbiAgaW5wdXRCYXNlVHlwZVNldHVwKHAsaW5wdXRCYXNlVHlwZSxiZWFrZXIpO1xuXG4gIGlucHV0QmFzZVR5cGUucG9zaXRpb24oODUsMjApO1xuXG4gIHJlZ2lzdGVyVUlDYWxsYmFja3MocE51bUFjaWRzLHBOdW1Db25qdWdhdGVCYXNlcyk7XG59XG5cblxuLyoqXG4gKiBBIEJpb2xhYiBza2V0Y2hcbiAqIEBjbGFzcyBTa2V0Y2hcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2tldGNoKHApIHtcbiAgbGV0IGJlYWtlciA9IG51bGw7XG5cbiAgcC5wcmVsb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICBCZWFrZXIucHJvdG90eXBlLnByZWxvYWQocCk7XG4gICAgICBDb25qdWdhdGVCYXNlLnByb3RvdHlwZS5wcmVsb2FkKHApO1xuICAgICAgV2Vha0Nvbmp1Z2F0ZUJhc2UucHJvdG90eXBlLnByZWxvYWQocCk7XG4gICAgICBTdHJvbmdDb25qdWdhdGVCYXNlLnByb3RvdHlwZS5wcmVsb2FkKHApO1xuICAgICAgUHJvdG9uLnByb3RvdHlwZS5wcmVsb2FkKHApO1xuICB9XG5cbiAgcC5zZXR1cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcC5jcmVhdGVDYW52YXMoNTAwLDUwMCk7XG4gICAgICBwLmJhY2tncm91bmQoMjU1LDI1NSwyNTUpO1xuXG4gICAgICBiZWFrZXIgPSBuZXcgQmVha2VyKHAsMjg2LDI3OCwwLDc1LDM4LDExMCk7XG5cbiAgICAgIFVJU2V0dXAocCxiZWFrZXIpO1xuXG4gICAgICBpZiAoY29uanVnYXRlQmFzZVR5cGU9PT1cIlN0cm9uZ0Nvbmp1Z2F0ZUJhc2VcIikge1xuICAgICAgICBiZWFrZXIuYWRkUGFydGljbGVzKFN0cm9uZ0Nvbmp1Z2F0ZUJhc2UsbnVtQ29uanVnYXRlQmFzZXMpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoY29uanVnYXRlQmFzZVR5cGU9PT1cIldlYWtDb25qdWdhdGVCYXNlXCIpIHtcbiAgICAgICAgICBiZWFrZXIuYWRkUGFydGljbGVzKFdlYWtDb25qdWdhdGVCYXNlLG51bUNvbmp1Z2F0ZUJhc2VzKTtcbiAgICAgIH1cbiAgICAgIGJlYWtlci5hZGRQYXJ0aWNsZXMoUHJvdG9uLG51bVByb3RvbnMpO1xuICB9O1xuXG4gIHAuZHJhdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgYmVha2VyLnN0ZXAoKTtcbiAgICAgIGJlYWtlci5kcmF3KCk7XG4gIH07XG59XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iXSwic291cmNlUm9vdCI6IiJ9